_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[82],{"/0+H":function(e,t,n){"use strict";t.__esModule=!0,t.isInAmpMode=a,t.useAmp=function(){return a(o.default.useContext(i.AmpStateContext))};var r,o=(r=n("q1tI"))&&r.__esModule?r:{default:r},i=n("lwAK");function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.ampFirst,n=void 0!==t&&t,r=e.hybrid,o=void 0!==r&&r,i=e.hasQuery,a=void 0!==i&&i;return n||o&&a}},"/Nde":function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return p})),n.d(t,"c",(function(){return h})),n.d(t,"d",(function(){return m})),n.d(t,"e",(function(){return b}));var r=n("lSNA"),o=n.n(r),i=(n("o0o1"),n("ls82"),n("yXPU"),n("+3IH")),a=n("dJ22");function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u={Code:"common_0001",Message:"\u9700\u8981\u8865\u5145\u6635\u79f0"},l={Code:"common_0002",Message:"\u9700\u8981\u8865\u5145\u9644\u52a0\u4fe1\u606f"},d={Code:"common_0003",Message:"\u9700\u8981\u8865\u5145\u6635\u79f0\u548c\u9644\u52a0\u4fe1\u606f"},f=-4009,p=2,h=-4007,b=function(e){var t=e.webConfig.setSite;return"1"===(t=void 0===t?{}:t).openExtFields},m=function(e){if(function(e){var t=Object(i.a)(e,"data.isMissNickname",!1),n=10===Object(i.a)(e,"data.userStatus"),r=Object(i.a)(e,"data.accessToken","");if(-8e3!==e.code){var o=Object(i.a)(e,"data.uid","");if(Object(a.a)({accessToken:r}),n&&t)throw s({uid:o},d);if(t)throw s({uid:o},u);if(n)throw s({uid:o},l)}}(e),0===e.code||e.code===f||e.code===h){var t=e.code,n=Object(i.a)(e,"data.userStatus",0),r=Object(i.a)(e,"data.uid","");if(0===t&&n===p){var o=Object(i.a)(e,"data.accessToken","");Object(a.a)({accessToken:o}),t=n}if(t)throw{Code:t,Message:Object(i.a)(e,"data.rejectReason","")||Object(i.a)(e,"data.banReason",""),uid:r}}}},"1ABj":function(e,t){e.exports=function(e,t){throw new Error("Decorating class property failed. Please ensure that proposal-class-properties is enabled and runs after the decorators transform.")}},"4xcg":function(e,t,n){"use strict";n("pNMO"),n("4Brf"),n("ma9I");var r,o=n("nKUr"),i=n("lwsE"),a=n.n(i),c=n("W8MJ"),s=n.n(c),u=n("7W2i"),l=n.n(u),d=n("a1gu"),f=n.n(d),p=n("Nsbk"),h=n.n(p),b=n("q1tI"),m=n.n(b),v=n("yuBF"),g=n("+3IH"),y=n("g4pe"),j=n.n(y),O=(n("yXV3"),n("rB9j"),function(e,t,n,r){var o=w(e+t),i=[],a=[];if(n||!C(o,i)){n&&document.getElementById(o)&&document.getElementById(o).parentNode.removeChild(document.getElementById(o)),i.push(o);var c=document.createElement("script");c.type="text/javascript",c.id=o;try{e?(c.src=e,c.onloadDone=!1,c.onload=function(){c.onloadDone=!0,a[e]=1},c.onreadystatechange=function(){"loaded"!==c.readyState&&"complete"!==c.readyState||c.onloadDone||(c.onloadDone=!0,a[e]=1)}):t&&(c.text=t),document.getElementsByTagName("head")[0].appendChild(c)}catch(s){console.log(s)}}}),w=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:32,n=0,r=0,o="",i="";for(i=t-e.length%t,r=0;r<i;r+=1)e+="0";for(;n<e.length;)o=x(o,e.substr(n,t)),n+=t;return o},x=function(e,t){for(var n="",r=Math.max(e.length,t.length),o=0;o<r;o++){var i=e.charCodeAt(o)^t.charCodeAt(o);n+="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(i%52)}return n},C=function(e,t){if("string"===typeof e||"number"===typeof e)for(var n in t)if(t[n]===e)return!0;return!1};function k(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var o=h()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f()(this,n)}}var P=Object(v.inject)("site")(r=Object(v.observer)(r=function(e){l()(n,e);var t=k(n);function n(e){return a()(this,n),t.call(this,e)}return s()(n,[{key:"componentDidMount",value:function(){var e,t,n;!function(e){if(-1===e.indexOf("<script"))return e;for(var t=/<script[^\>]*?>([^\x00]*?)<\/script>/gi,n=[];n=t.exec(e);){var r=/<script[^\>]*?src=\"([^\>]*?)\"[^\>]*?(reload=\"1\")?(?:charset=\"([\w\-]+?)\")?><\/script>/i,o=[];(o=r.exec(n[0]))?O(o[1],"",o[2],o[3]):(o=(r=/<script(.*?)>([^\x00]+?)<\/script>/i).exec(n[0]),O("",o[2],-1!==o[1].indexOf("reload=")))}}((null===(e=this.props.site)||void 0===e||null===(t=e.webConfig)||void 0===t||null===(n=t.setSite)||void 0===n?void 0:n.siteStat)||"")}},{key:"formatTitle",value:function(){var e=this.props,t=e.site,n=e.title,r=e.showSiteName,o=void 0===r||r?Object(g.a)(t,"webConfig.setSite.siteName","\u6b22\u8fce\u60a8"):"";return n&&""!==n&&(o=""===o?"".concat(n):"".concat(n," - ").concat(o)),o}},{key:"formatKeywords",value:function(){var e=this.props,t=e.site,n=e.keywords,r=Object(g.a)(t,"webConfig.setSite.siteKeywords","\u6b22\u8fce\u60a8");return n&&""!==n&&(r="".concat(n," - ").concat(r)),r}},{key:"formatDescription",value:function(){var e=this.props,t=e.site,n=e.description,r=Object(g.a)(t,"webConfig.setSite.siteIntroduction","\u6b22\u8fce\u60a8");return n&&""!==n&&(r=n),r}},{key:"render",value:function(){var e,t,n,r=(null===(e=this.props.site)||void 0===e||null===(t=e.webConfig)||void 0===t||null===(n=t.setSite)||void 0===n?void 0:n.siteFavicon)||"";return Object(o.jsxs)(j.a,{children:[Object(o.jsx)("meta",{name:"keywords",content:this.formatKeywords()}),Object(o.jsx)("meta",{name:"description",content:this.formatDescription()}),r&&Object(o.jsx)("link",{rel:"icon",href:r}),Object(o.jsx)("title",{children:this.formatTitle()})]})}}]),n}(m.a.Component))||r)||r;t.a=P},"5BGO":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n("qePV"),n("i6QF"),n("kSko"),n("toAj");var r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=Number(e);return Number.isNaN(e)&&(t=0),t<1e4?t:(Number.isInteger(e),"".concat((e/1e4).toFixed(1),"W"))}},"5f2u":function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n("lSNA")),i=r(n("lwsE")),a=r(n("W8MJ")),c=r(n("7W2i")),s=r(n("a1gu")),u=r(n("Nsbk")),l=r(n("q1tI")),d=n("GDuN"),f=n("Cehy"),p=n("ggaN"),h=r(n("KxVQ"));function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,u.default)(e);if(t){var o=(0,u.default)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,s.default)(this,n)}}var v=function(e){(0,c.default)(n,e);var t=m(n);function n(e){var r;return(0,i.default)(this,n),r=t.call(this,e),(0,h.default)({componentName:"button"}),r}return(0,a.default)(n,[{key:"render",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){(0,o.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.props),t=this.RenderComponent;return l.default.createElement(t,e,this.props.children)}}]),n}((0,d.baseComponentFactory)({viewAdapter:f.ButtonViewAdapter,logicalAdapter:p.ButtonLogicalAdapter}));t.default=v},"6x0u":function(e,t,n){"use strict";var r=n("xDBR"),o=n("2oRo"),i=n("0Dky");e.exports=r||!i((function(){var e=Math.random();__defineSetter__.call(null,e,(function(){})),delete o[e]}))},"8Kt/":function(e,t,n){"use strict";n("lSNA");t.__esModule=!0,t.defaultHead=l,t.default=void 0;var r,o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=u();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n("q1tI")),i=(r=n("Xuae"))&&r.__esModule?r:{default:r},a=n("lwAK"),c=n("FYa8"),s=n("/0+H");function u(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return u=function(){return e},e}function l(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=[o.default.createElement("meta",{charSet:"utf-8"})];return e||t.push(o.default.createElement("meta",{name:"viewport",content:"width=device-width"})),t}function d(e,t){return"string"===typeof t||"number"===typeof t?e:t.type===o.default.Fragment?e.concat(o.default.Children.toArray(t.props.children).reduce((function(e,t){return"string"===typeof t||"number"===typeof t?e:e.concat(t)}),[])):e.concat(t)}var f=["name","httpEquiv","charSet","itemProp"];function p(e,t){return e.reduce((function(e,t){var n=o.default.Children.toArray(t.props.children);return e.concat(n)}),[]).reduce(d,[]).reverse().concat(l(t.inAmpMode)).filter(function(){var e=new Set,t=new Set,n=new Set,r={};return function(o){var i=!0,a=!1;if(o.key&&"number"!==typeof o.key&&o.key.indexOf("$")>0){a=!0;var c=o.key.slice(o.key.indexOf("$")+1);e.has(c)?i=!1:e.add(c)}switch(o.type){case"title":case"base":t.has(o.type)?i=!1:t.add(o.type);break;case"meta":for(var s=0,u=f.length;s<u;s++){var l=f[s];if(o.props.hasOwnProperty(l))if("charSet"===l)n.has(l)?i=!1:n.add(l);else{var d=o.props[l],p=r[l]||new Set;"name"===l&&a||!p.has(d)?(p.add(d),r[l]=p):i=!1}}}return i}}()).reverse().map((function(e,t){var n=e.key||t;return o.default.cloneElement(e,{key:n})}))}function h(e){var t=e.children,n=(0,o.useContext)(a.AmpStateContext),r=(0,o.useContext)(c.HeadManagerContext);return o.default.createElement(i.default,{reduceComponentsToState:p,headManager:r,inAmpMode:(0,s.isInAmpMode)(n)},t)}h.rewind=function(){};var b=h;t.default=b},"8rPu":function(e,t,n){"use strict";n.d(t,"a",(function(){return D})),n.d(t,"b",(function(){return T}));n("qePV"),n("5DmW"),n("R5XZ");var r,o,i,a,c,s,u,l,d,f,p=n("o0o1"),h=n.n(p),b=n("lSNA"),m=n.n(b),v=(n("ls82"),n("yXPU")),g=n.n(v),y=n("yG8O"),j=n.n(y),O=n("lwsE"),w=n.n(O),x=n("W8MJ"),C=n.n(x),k=n("U+yc"),P=n.n(k),N=(n("1ABj"),n("/V48")),E=n("sho3"),S=n("+3IH"),I=n("dJ22"),_=n("/Nde");function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function M(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var D={MOBILE_VERIFY_ERROR:{Code:"mbl_0002",Message:"\u8bf7\u586b\u5199\u6b63\u786e\u7684\u624b\u673a\u53f7"},VERIFY_TIME_ERROR:{Code:"mbl_0001",Message:"\u8bf7\u7b49\u5f85\u5012\u8ba1\u65f6\u7ed3\u675f\u540e\u518d\u53d1\u9001\u77ed\u4fe1"},NO_MOBILE_ERROR:{Code:"mbl_0000",Message:"\u8bf7\u586b\u5199\u624b\u673a\u53f7"},NETWORK_ERROR:{Code:"mbl_9999",Message:"\u7f51\u7edc\u9519\u8bef"},NO_VERIFY_CODE:{Code:"mbl_0003",Message:"\u9a8c\u8bc1\u7801\u7f3a\u5931"},NEED_BIND_USERNAME:{Code:"common_0001",Message:"\u9700\u8981\u8865\u5145\u6635\u79f0"},NEED_COMPLETE_REQUIRED_INFO:{Code:"common_0002",Message:"\u9700\u8981\u8865\u5145\u9644\u52a0\u4fe1\u606f"},NEED_ALL_INFO:{Code:"common_0003",Message:"\u9700\u8981\u8865\u5145\u6635\u79f0\u548c\u9644\u52a0\u4fe1\u606f"},NEED_BIND_WECHAT:{Code:-8e3,Message:"\u9700\u8981\u7ed1\u5b9a\u5fae\u4fe1"}},T=(r=function(){function e(){var t=this;w()(this,e),this.codeTimmer=null,j()(this,"mobile",o,this),j()(this,"code",i,this),j()(this,"codeTimeout",a,this),j()(this,"inviteCode",c,this),j()(this,"needToSetNickname",s,this),j()(this,"needToCompleteExtraInfo",u,this),this.verifyMobile=function(){return/^(?:(?:\+|00)86)?1[3-9]\d{9}$/.test(t.mobile)},this.beforeSendVerify=function(){if(t.codeTimeout)throw D.VERIFY_TIME_ERROR;if(!t.mobile)throw D.NO_MOBILE_ERROR;if(!t.verifyMobile())throw D.MOBILE_VERIFY_ERROR},this.setCounter=function(e){t.codeTimeout=e,t.codeTimmer=setTimeout((function(){t.codeTimeout=null,t.codeTimmer=null}),1e3*Number(t.codeTimeout));var n=function e(){t.codeTimeout&&(t.codeTimeout=t.codeTimeout-1,setTimeout((function(){e()}),1e3))};setTimeout((function(){return n()}),1e3)},j()(this,"reset",l,this),j()(this,"sendCode",d,this),this.beforeLoginVerify=function(){if(!t.mobile)throw D.NO_MOBILE_ERROR;if(!t.code)throw D.NO_VERIFY_CODE},j()(this,"login",f,this)}return C()(e,[{key:"isInvalidCode",get:function(){return 6===this.code.length}},{key:"isInfoComplete",get:function(){return this.code&&this.mobile}}]),e}(),o=P()(r.prototype,"mobile",[N.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),i=P()(r.prototype,"code",[N.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),a=P()(r.prototype,"codeTimeout",[N.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),c=P()(r.prototype,"inviteCode",[N.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),s=P()(r.prototype,"needToSetNickname",[N.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),u=P()(r.prototype,"needToCompleteExtraInfo",[N.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),P()(r.prototype,"isInvalidCode",[N.computed],Object.getOwnPropertyDescriptor(r.prototype,"isInvalidCode"),r.prototype),P()(r.prototype,"isInfoComplete",[N.computed],Object.getOwnPropertyDescriptor(r.prototype,"isInfoComplete"),r.prototype),l=P()(r.prototype,"reset",[N.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.mobile="",e.code="",e.codeTimeout=null}}}),d=P()(r.prototype,"sendCode",[N.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=g()(h.a.mark((function t(n){var r,o,i;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.captchaRandStr,o=n.captchaTicket,t.prev=1,t.next=4,Object(E.smsSend)({data:{mobile:e.mobile,type:"login",captchaRandStr:r,captchaTicket:o}});case 4:if(0!==(i=t.sent).code){t.next=8;break}return e.setCounter(i.data.interval),t.abrupt("return",i.data);case 8:throw{Code:i.code,Message:i.msg};case 11:if(t.prev=11,t.t0=t.catch(1),!t.t0.Code){t.next=15;break}throw t.t0;case 15:throw M(M({},D.NETWORK_ERROR),{},{error:t.t0});case 16:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(e){return t.apply(this,arguments)}}()}}),f=P()(r.prototype,"login",[N.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return g()(h.a.mark((function t(){var n,r,o,i;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.beforeLoginVerify(),t.prev=1,t.next=4,Object(E.smsLogin)({data:{mobile:e.mobile,code:e.code,inviteCode:e.inviteCode,type:"mobilebrowser_sms_login"}});case 4:if(n=t.sent,Object(_.d)(n),0!==n.code){t.next=10;break}return r=Object(S.a)(n,"data.accessToken",""),Object(I.a)({accessToken:r}),t.abrupt("return",n.data);case 10:if(-8e3!==n.code){t.next=14;break}throw o=Object(S.a)(n,"data.uid",""),i=Object(S.a)(n,"data.accessToken",""),M(M({},D.NEED_BIND_WECHAT),{},{sessionToken:Object(S.a)(n,"data.sessionToken"),nickname:Object(S.a)(n,"data.nickname"),accessToken:i,uid:o});case 14:throw{Code:n.code,Message:n.msg};case 17:if(t.prev=17,t.t0=t.catch(1),!t.t0.Code){t.next=21;break}throw t.t0;case 21:throw M(M({},D.NETWORK_ERROR),{},{error:t.t0});case 22:case"end":return t.stop()}}),t,null,[[1,17]])})))}}),r)},"9rcn":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PopupViewAdapter=void 0;var r=(0,n("1d9p").baseLayoutFactory)({layoutImplement:function(){return n("kEK2").PopupWebLayout}});t.PopupViewAdapter=r},ALHM:function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));n("ma9I"),n("4mDm"),n("07d7"),n("5s+n"),n("PKPk"),n("3bBZ");var r=n("o0o1"),o=n.n(r),i=n("RIqP"),a=n.n(i),c=n("lSNA"),s=n.n(c),u=(n("ls82"),n("yXPU")),l=n.n(u),d=n("rGXy"),f=n("lY1M");function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var b=["closeWindow","chooseImage","uploadImage","getLocalImgData","updateAppMessageShareData","updateTimelineShareData","getNetworkType"],m=!1;function v(){return g.apply(this,arguments)}function g(){return(g=l()(o.a.mark((function e(){var t,n,r,i,c,s,u=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=u.length>0&&void 0!==u[0]&&u[0],n=u.length>1&&void 0!==u[1]?u[1]:[],f.b.env("weixin")){e.next=4;break}return e.abrupt("return");case 4:return r=[],window.wx&&wx.config||(i=new Promise((function(e){var t=document.createElement("script");t.src="https://res.wx.qq.com/open/js/jweixin-1.6.0.js",t.onload=function(){return e()},document.body.appendChild(t)})),r.push(i)),e.next=8,Promise.all(r);case 8:if(t&&!m){e.next=10;break}return e.abrupt("return");case 10:return e.next=12,Object(d.getWXConfig)({params:{url:encodeURIComponent(window.location.href)}});case 12:if(0!==(c=e.sent).code||!c.data||!c.data.appId){e.next=21;break}return o=c.data,s={appId:o.appId,timestamp:o.timestamp,nonceStr:o.nonceStr,signature:o.signature},wx&&wx.config(h(h({debug:!1},s),{},{jsApiList:[].concat(b,a()(n))})),wx&&(wx.hasDoneConfig=!0),m=!0,e.abrupt("return",!0);case 21:console.error("\u521d\u59cb\u5316\u5fae\u4fe1jssdk\u5931\u8d25\uff01",c);case 22:return e.abrupt("return",!1);case 23:case"end":return e.stop()}var o}),e)})))).apply(this,arguments)}},C6Q5:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PopupWebAdapter=void 0;t.PopupWebAdapter={}},Cehy:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ButtonViewAdapter=void 0;var r=(0,n("1d9p").baseLayoutFactory)({layoutImplement:function(){return n("zLVW").ButtonWebLayout}});t.ButtonViewAdapter=r},E2vk:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));n("ma9I");var r=n("lN2P"),o=n("KBHl"),i="/thread/post",a="/indexPages/thread/post/index";function c(e,t,n){var c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";if(!e.isLogin())return r.a.saveAndLogin(),!1;if(!t.publishNeedBindPhone&&!t.publishNeedBindWechat)return!0;var s="bind".concat(t.publishNeedBindPhone&&!e.mobile?"Mobile":"").concat(t.publishNeedBindWechat&&!e.isBindWechat?"Wechat":""),u="".concat(t.isSmsOpen?"mobile":"").concat("none"!==t.wechatEnv?"wechat":""),l="",d="",f={limitPublishType:n};if("h5"===t.platform){switch(n){case"comment":if("miniProgram"===t.wechatEnv){d="".concat(window.location.origin).concat(a);break}d="".concat(window.location.origin).concat(i);break;case"reply":if("miniProgram"===t.wechatEnv){d="/indexPages/thread/index?id=".concat(c);break}r.a.saveCurrentUrl(),d=r.a.getUrl()}(d=encodeURIComponent(d))&&(f.toPage=d)}switch(u){case"mobile":l=e.mobile?"":Object(o.a)("/user/bind-phone",f);break;case"wechat":l=e.isBindWechat?"":Object(o.a)("/user/wx-bind-qrcode",f);break;case"mobilewechat":switch(s){case"bindMobile":l=e.mobile?"":Object(o.a)("/user/bind-phone",f);break;case"bindWechat":l=e.isBindWechat?"":Object(o.a)("/user/wx-bind-qrcode",f);break;case"bindMobileWechat":f.bindPhone=1,l=e.isBindWechat||e.mobile?"":Object(o.a)("/user/wx-bind-qrcode",f)}}return l&&r.a.saveAndPush(l),"comment"===n&&r.a.setUrl("".concat(window.location.origin).concat(i)),!l}},EUja:function(e,t,n){"use strict";var r=n("ppGB"),o=n("HYAF");e.exports="".repeat||function(e){var t=String(o(this)),n="",i=r(e);if(i<0||i==1/0)throw RangeError("Wrong number of repetitions");for(;i>0;(i>>>=1)&&(t+=t))1&i&&(n+=t);return n}},Ep9I:function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e===1/t:e!=e&&t!=t}},Eqjn:function(e,t,n){"use strict";var r=n("I+eb"),o=n("g6v/"),i=n("6x0u"),a=n("ewvW"),c=n("HAuM"),s=n("m/L8");o&&r({target:"Object",proto:!0,forced:i},{__defineGetter__:function(e,t){s.f(a(this),e,{get:c(t),enumerable:!0,configurable:!0})}})},FYa8:function(e,t,n){"use strict";var r;t.__esModule=!0,t.HeadManagerContext=void 0;var o=((r=n("q1tI"))&&r.__esModule?r:{default:r}).default.createContext({});t.HeadManagerContext=o},FeKq:function(e,t,n){"use strict";n("ma9I");var r=n("nKUr"),o=n("q1tI"),i=n.n(o),a="_3YBtZIosMIaNUIH7hgCvrT",c="LbRnmFhs4VGT-iZI8HW0U",s="kJvn2RCOLIxlcPmRoH87c",u="_3y6QrH_gLVfpP_aZ7QC5fx",l="_1ywliL_ORaxE1O4BZd2tIJ",d="_1Or4pww5i7vvwqB7dh7wco",f="_2lR6CrDbTG1wN0CQv1Yct0",p="_3g2g6Prdme4Gz3vZATyxht",h="_3O4lKKTcX71GUjUmcFZjw-",b="NRBAkMOs0xY_ANFBX_AIH",m=n("MCNy"),v=n.n(m),g=n("TSYQ"),y=n.n(g),j=n("k8W2"),O=n.n(j),w=n("RiVy"),x=function(e){var t=e.onClose,n=e.handleWxShare,o=e.handleH5Share,i=e.site,m=e.user,g=e.handleExperience,j=e.show,x=e.createCard,C=e.fromThread;return Object(r.jsx)(O.a,{position:"bottom",visible:j,onClose:t,children:Object(r.jsxs)("div",{className:b,children:[Object(r.jsx)("div",{className:a,children:Object(r.jsxs)("div",{className:y()(u,c),children:[Object(r.jsxs)("div",{className:s,onClick:x,children:[Object(r.jsx)("div",{className:l,children:Object(r.jsx)(v.a,{name:"PictureOutlinedBig",size:20})}),Object(r.jsx)("span",{className:f,children:"\u751f\u6210\u6d77\u62a5"})]}),Object(r.jsxs)("div",{className:s,onClick:o,children:[Object(r.jsx)("div",{className:l,children:Object(r.jsx)(v.a,{name:"PaperClipOutlined",size:20})}),Object(r.jsx)("span",{className:f,children:"\u590d\u5236\u94fe\u63a5"})]}),Object(w.a)()&&!C&&Object(r.jsxs)("div",{className:s,onClick:n,children:[Object(r.jsx)("div",{className:l,children:Object(r.jsx)(v.a,{name:"WeChatOutlined",size:20})}),Object(r.jsx)("span",{className:f,children:"\u5fae\u4fe1\u5206\u4eab"})]}),"none"!==(null===i||void 0===i?void 0:i.wechatEnv)&&(null===m||void 0===m?void 0:m.isAdmini)&&Object(r.jsxs)("div",{className:s,onClick:g,children:[Object(r.jsx)("div",{className:"".concat(l," ").concat(d),children:Object(r.jsx)(v.a,{name:"ExperienceOutlined",size:20})}),Object(r.jsx)("span",{className:f,children:"\u9650\u65f6\u4f53\u9a8c\u5361"})]})]})}),Object(r.jsx)("div",{className:p,children:Object(r.jsx)("span",{className:h,onClick:t,children:"\u53d6\u6d88"})})]})})};t.a=i.a.memo(x)},FtgW:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={SUPPLEMENTARY:10}},HZIX:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PopupLogicalAdapter=void 0;var r=(0,n("mlqK").baseAdapterFactory)({defaultAdapter:{},adapterImplement:function(){return n("C6Q5").PopupWebAdapter}});t.PopupLogicalAdapter=r},IvHc:function(e,t,n){"use strict";var r=n("lN2P");t.a=r.a.saveAndLogin},J0pL:function(e,t,n){"use strict";n("pNMO"),n("4Brf");var r,o=n("nKUr"),i=n("lwsE"),a=n.n(i),c=n("W8MJ"),s=n.n(c),u=n("7W2i"),l=n.n(u),d=n("a1gu"),f=n.n(d),p=n("Nsbk"),h=n.n(p),b=n("q1tI"),m=n.n(b),v=n("yuBF"),g=n("4xcg");function y(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var o=h()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f()(this,n)}}var j=Object(v.inject)("site")(r=Object(v.inject)("search")(r=Object(v.observer)(r=function(e){l()(n,e);var t=y(n);function n(){return a()(this,n),t.apply(this,arguments)}return s()(n,[{key:"renderView",value:function(){var e=this.props,t=e.pc,n=e.h5,r=e.title,i=void 0===r?"":r,a=e.keywords,c=void 0===a?"":a,s=e.description,u=void 0===s?"":s,l=e.showSiteName,d=void 0===l||l,f="pc"===this.props.site.platform?t||null:n||null;return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(g.a,{title:i,keywords:c,description:u,showSiteName:d}),f]})}},{key:"render",value:function(){return this.renderView()}}]),n}(m.a.Component))||r)||r)||r;t.a=j},"JT/D":function(e,t,n){"use strict";n.r(t);var r,o=n("nKUr"),i=n("lwsE"),a=n.n(i),c=n("W8MJ"),s=n.n(c),u=n("7W2i"),l=n.n(u),d=n("a1gu"),f=n.n(d),p=n("Nsbk"),h=n.n(p),b=n("q1tI"),m=n.n(b),v=(n("ma9I"),n("wLYn"),n("rB9j"),n("UxlC"),n("o0o1")),g=n.n(v),y=(n("ls82"),n("yXPU")),j=n.n(y),O=n("yuBF"),w=n("20a2"),x=n("w4k1"),C=n("M2Pz"),k=n("5f2u"),P=n.n(k),N=n("wdT/"),E=n.n(N),S=n("sho3"),I=n("/Nde"),_=n("dJ22"),R=n("+3IH"),M=n("8rPu"),D=n("lN2P");function T(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var o=h()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f()(this,n)}}var A,B=!1,L=Object(O.inject)("site")(r=Object(O.inject)("user")(r=Object(O.inject)("h5QrCode")(r=Object(O.inject)("commonLogin")(r=Object(O.observer)(r=function(e){l()(n,e);var t=T(n);function n(e){var r;return a()(this,n),(r=t.call(this,e)).bind=function(){var e=j()(g.a.mark((function e(t){var n,o,i,a,c,s,u,l,d,f,p,h,b,m,v,y;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!B){e.next=3;break}return e.abrupt("return");case 3:return n=r.props.router,B=!0,e.next=7,Object(S.h5WechatCodeBind)(t);case 7:if(o=e.sent,B=!1,-7016!==o.code){e.next=13;break}return i=o.data,a=i.sessionToken,c=i.nickname,n.push({pathname:"wx-select",query:{sessionToken:a,nickname:c}}),e.abrupt("return");case 13:if(s=r.props.router.query,u=s.loginType,l=s.bindPhone,d=void 0===l?"":l,f=s.toPage,0===o.code&&(r.props.h5QrCode.bindTitle="\u5df2\u6210\u529f\u7ed1\u5b9a",r.props.h5QrCode.isBtn=!1,r.setState({status:"success"})),f&&D.a.setUrl(decodeURIComponent(f)),0!==o.code||"h5"!==u){e.next=30;break}return p=Object(R.a)(o,"data.accessToken"),h=Object(R.a)(o,"data.uid"),Object(_.a)({accessToken:p}),e.next=22,r.props.user.updateUserInfo(h);case 22:if(b=e.sent,m=Object(R.a)(b,"mobile",""),!d||m){e.next=27;break}return n.replace("/user/bind-phone"),e.abrupt("return");case 27:return r.props.h5QrCode.bindTitle="\u5df2\u6210\u529f\u7ed1\u5b9a\uff0c\u6b63\u5728\u8df3\u8f6c\u5230\u9996\u9875",D.a.restore(),e.abrupt("return");case 30:if(0!==o.code){e.next=32;break}return e.abrupt("return");case 32:throw Object(I.d)(o),{Code:o.code,Message:o.msg};case 36:if(e.prev=36,e.t0=e.catch(0),B=!1,r.props.h5QrCode.bindTitle="\u7ed1\u5b9a\u5931\u8d25\uff0c\u8bf7\u5237\u65b0\u4e8c\u7ef4\u7801\u91cd\u65b0\u626b\u7801",r.props.h5QrCode.isBtn=!1,r.setState({status:"error"}),v=r.props.site,e.t0.Code!==M.a.NEED_COMPLETE_REQUIRED_INFO.Code){e.next=49;break}if(!Object(I.e)(v)){e.next=48;break}return r.props.commonLogin.needToCompleteExtraInfo=!0,r.props.router.push("/user/supplementary"),e.abrupt("return");case 48:D.a.restore();case 49:if(e.t0.Code!==I.a&&e.t0.Code!==I.b&&e.t0.Code!==I.c){e.next=55;break}return(y=Object(R.a)(e.t0,"uid",""))&&r.props.user.updateUserInfo(y),r.props.commonLogin.setStatusMessage(e.t0.Code,e.t0.Message),r.props.router.push("/user/status?statusCode=".concat(e.t0.Code,"&statusMsg=").concat(e.t0.Message)),e.abrupt("return");case 55:if(!e.t0.Code){e.next=58;break}return E.a.error({content:e.t0.Message}),e.abrupt("return");case 58:throw{Code:"ulg_9999",Message:"\u7f51\u7edc\u9519\u8bef",error:e.t0};case 59:case"end":return e.stop()}}),e,null,[[0,36]])})));return function(t){return e.apply(this,arguments)}}(),r.state={status:""},r}return s()(n,[{key:"render",value:function(){var e=this,t=this.props.router.query,n=t.sessionToken,r=t.loginType,i=t.code,a=t.sessionId,c=t.state,s=t.nickname,u=void 0===s?"":s;this.props.site.platform;return Object(o.jsxs)("div",{className:x.a.container,children:[Object(o.jsx)(C.a,{hideInfo:!0,mode:"login"}),Object(o.jsxs)("div",{className:x.a.content,children:[Object(o.jsx)("div",{className:x.a.title,children:"\u7ed1\u5b9a\u5fae\u4fe1\u53f7"}),Object(o.jsxs)("div",{className:x.a.tips,children:[u?"".concat(u,"\uff0c"):"",this.props.h5QrCode.bindTitle]}),this.props.h5QrCode.isBtn?Object(o.jsx)(o.Fragment,{children:Object(o.jsx)(P.a,{className:x.a.button,type:"primary",onClick:function(){return e.bind({params:{sessionToken:n,code:i,sessionId:a,type:r,state:c}})},children:"\u7ed1\u5b9a\u5fae\u4fe1\uff0c\u5e76\u7ee7\u7eed\u8bbf\u95ee"})}):Object(o.jsx)(o.Fragment,{}),Object(o.jsx)(P.a,{className:x.a.exit,onClick:function(){e.props.h5QrCode.bindTitle="\u5df2\u53d6\u6d88\u7ed1\u5b9a",e.props.h5QrCode.isBtn=!1,window.wx&&window.wx.ready((function(){wx.closeWindow()}))},children:"\u9000\u51fa"})]})]})}}]),n}(m.a.Component))||r)||r)||r)||r)||r,W=Object(w.withRouter)(L),U=n("J0pL"),F=n("zVgw"),q=n("xfbP"),Q=n("QcND");function H(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var o=h()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f()(this,n)}}var z=Object(O.inject)("site")(A=function(e){l()(n,e);var t=H(n);function n(){return a()(this,n),t.apply(this,arguments)}return s()(n,[{key:"render",value:function(){return Object(o.jsx)(U.a,{h5:Object(o.jsx)(W,{}),pc:Object(o.jsx)(F.a,{jumpUrl:"/user/login"}),title:"\u5fae\u4fe1\u7ed1\u5b9a"})}}]),n}(m.a.Component))||A;t.default=Object(Q.a)(Object(q.a)("weixin")(z))},JTJg:function(e,t,n){"use strict";var r=n("I+eb"),o=n("WjRb"),i=n("HYAF");r({target:"String",proto:!0,forced:!n("qxPZ")("includes")},{includes:function(e){return!!~String(i(this)).indexOf(o(e),arguments.length>1?arguments[1]:void 0)}})},KBHl:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n("ma9I"),n("QWBl"),n("yq1k"),n("tkto"),n("JTJg"),n("FZtP");function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.includes("?"),r=e;try{return Object.keys(t).forEach((function(e,o){t[e]&&(r+="".concat(n||0!==o?"&":"?").concat(e,"=").concat(t[e]))})),r}catch(o){return""}}},KvOD:function(e,t,n){},M2Pz:function(e,t,n){"use strict";n("ma9I"),n("DQNa"),n("4l63"),n("rB9j"),n("hByQ"),n("EnZy");var r,o=n("nKUr"),i=n("lSNA"),a=n.n(i),c=n("J4zp"),s=n.n(c),u=n("lwsE"),l=n.n(u),d=n("W8MJ"),f=n.n(d),p=n("7W2i"),h=n.n(p),b=n("a1gu"),m=n.n(b),v=n("Nsbk"),g=n.n(v),y=n("q1tI"),j=n.n(y),O={container:"_1ohk8ldS_UzaLMLaIVCL0O",topBar:"_3qmFnvPGdSsMo5fT0Y19xT",left:"_1MWHgGRSBGClXyYuoDH--I",goback:"BPZFLe_kKyGJAwqTbgf-o",logoBox:"_2npRRUtqf6JuYA2if0cbyI",logo:"_2Q9LwFxoV00Id_YQWQjzox",joinLog:"KEOJL4DMrTPqYSgkXVazk",digest:"_3_ZuzeQY5qb-CJN2L_9U7b",right:"_39ja4W-hxPLMTQVmWcxj7v",siteInfo:"_2-jcAe0iG7geQQOE3Qf40W",item:"_3NC_VfNh0mpUnDxOyxAK99",text:"_7XrVOOKd2pVi9D9lvbYqt",shareText:"_3EzQkI_ACmQCVBqFtT49BM",content:"db3rZDfQVhwMSy_68t1L8",shareIcon:"_4G0Gpro2vqIAFsU2xn10n",joinInfo:"_1yd7LQ1sGgZUM5rFXGpJ0l",container_mode_login:"_3ieHJg4Z1J1SoY7_ZD3YCn",container_mode_invite:"_2PY9XIQ6wGHVDLv1En4lCi"},w=n("MCNy"),x=n.n(w),C=n("wdT/"),k=n.n(C),P=n("yuBF"),N=n("B5JU"),E=n.n(N),S=n("kjBj"),I=n("RiVy"),_=n("KBHl"),R=n("+3IH"),M=n("rOX+"),D=n.n(M),T=n("IvHc"),A=n("5BGO"),B=n("lN2P"),L=n("FeKq");function W(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function U(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?W(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function F(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g()(e);if(t){var o=g()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return m()(this,n)}}var q=Object(P.inject)("site")(r=Object(P.inject)("user")(r=Object(P.inject)("index")(r=Object(P.observer)(r=function(e){h()(n,e);var t=F(n);function n(){var e;l()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={visible:!1,height:180,loadWeiXin:!1,show:!1},e.domRef=j.a.createRef(null),e.logoImg="/dzq-img/admin-logo-x2.png",e.onClose=function(){e.setState({visible:!1})},e.onCancel=function(){e.setState({show:!1})},e.handleH5Share=function(){var t,n,r=e.props.user,o=(null===(t=document)||void 0===t?void 0:t.title)||"";D()({title:o,path:Object(_.a)("/".concat(location.search),{inviteCode:(null===r||void 0===r||null===(n=r.userInfo)||void 0===n?void 0:n.id)||""})}),k.a.info({content:"\u590d\u5236\u94fe\u63a5\u6210\u529f"}),e.onCancel()},e.handleWxShare=function(){e.setState({visible:!0}),e.onCancel()},e.handleClick=function(){e.props.user.isLogin()?e.setState({show:!0}):Object(T.a)({url:"/user/login"})},e.createCard=function(){E.a.push({url:"/card"})},e.handleExperience=function(){E.a.push({url:"/card?experience=1"})},e}return f()(n,[{key:"getBgHeaderStyle",value:function(e){var t,n=this.props.site.webConfig||{};return null!==(t=n.setSite)&&void 0!==t&&t.siteBackgroundImage?{backgroundImage:"url(".concat(n.setSite.siteBackgroundImage,")")}:e?{background:e}:{background:"#2469f6"}}},{key:"getLogo",value:function(){var e,t=this.props.site.webConfig||{};return null!==(e=t.setSite)&&void 0!==e&&e.siteHeaderLogo?t.setSite.siteHeaderLogo:this.logoImg}},{key:"getSiteInfo",value:function(){var e=this.props.site.webConfig,t={countUsers:0,countThreads:0,siteAuthor:"",createDays:0};e&&e.other&&(t.countUsers=e.other.countUsers,t.countThreads=e.other.countThreads);var n=Object(R.a)(e,"setSite.siteAuthor.username",""),r=Object(R.a)(e,"setSite.siteInstall","").split(" "),o=s()(r,1)[0],i=Date.parse(o),a=Date.parse(new Date),c=Object(A.a)(parseInt(Math.abs(i-a)/1e3/60/60/24,10));return t.siteAuthor=n,t.createDays=c,t}},{key:"componentDidMount",value:function(){this.setState({loadWeiXin:Object(I.a)()}),this.domRef.current&&this.setState({height:this.domRef.current.clientHeight})}},{key:"returnPage",value:function(){var e,t,n;(null===(e=window)||void 0===e||null===(t=e.history)||void 0===t||null===(n=t.state)||void 0===n?void 0:n.idx)<1?B.a.gotoIndex():E.a.back()}},{key:"render",value:function(){var e=this.props,t=e.bgColor,n=e.hideInfo,r=void 0!==n&&n,i=e.style,a=void 0===i?{}:i,c=e.digest,s=void 0===c?null:c,u=e.mode,l=void 0===u?"":u,d=e.site,f=this.state,p=f.visible,h=f.loadWeiXin,b=this.getSiteInfo(),m=b.countUsers,v=b.countThreads,g=b.siteAuthor,y=b.createDays,j=Object(R.a)(d,"webConfig.setSite.siteHeaderLogo","");return Object(o.jsxs)("div",{ref:this.domRef,className:"".concat(O.container," ").concat(l?O["container_mode_".concat(l)]:""),style:U(U({},a),this.getBgHeaderStyle(t)),children:[r&&"join"!==l&&Object(o.jsxs)("div",{className:O.topBar,children:["login"===l?Object(o.jsxs)("div",{onClick:this.returnPage,className:O.left,children:[Object(o.jsx)(x.a,{name:"LeftOutlined"}),"\u8fd4\u56de"]}):Object(o.jsx)(o.Fragment,{}),Object(o.jsx)("div",{children:Object(o.jsx)(x.a,{onClick:function(){return B.a.gotoIndex()},name:"HomeOutlined",color:"#fff",size:20})})]}),"join"!==l||j?Object(o.jsx)("div",{className:O.logoBox,children:Object(o.jsx)("img",{className:O.logo,mode:"aspectFit",src:this.getLogo(),alt:"\u56fe\u7247"})}):Object(o.jsx)("div",{className:O.joinLog,children:Object(o.jsx)("img",{className:O.logo,mode:"aspectFit",src:"/dzq-img/join-banner-bg.png",alt:"\u56fe\u7247"})}),s&&Object(o.jsxs)("div",{className:O.digest,children:[Object(o.jsxs)("div",{className:O.left,children:["\u7ad9\u957f ",s.admin]}),Object(o.jsxs)("div",{className:O.right,children:["\u5df2\u521b\u5efa ",s.day,"\u5929"]})]}),!r&&Object(o.jsxs)("ul",{className:O.siteInfo,children:[Object(o.jsxs)("li",{className:O.item,children:[Object(o.jsx)("span",{className:O.text,children:"\u6210\u5458"}),Object(o.jsx)("span",{className:O.content,children:Object(A.a)(m)})]}),Object(o.jsxs)("li",{className:O.item,children:[Object(o.jsx)("span",{className:O.text,children:"\u5185\u5bb9"}),Object(o.jsx)("span",{className:O.content,children:Object(A.a)(v)})]}),Object(o.jsxs)("li",{className:O.item,onClick:this.handleClick,children:[Object(o.jsx)(x.a,{className:O.shareIcon,color:"#fff",name:"ShareAltOutlined"}),Object(o.jsx)("span",{className:O.shareText,children:"\u5206\u4eab"})]})]}),Object(o.jsx)(L.a,{show:this.state.show,site:this.props.site,user:this.props.user,onClose:this.onCancel,handleH5Share:this.handleH5Share,handleWxShare:this.handleWxShare,createCard:this.createCard,handleExperience:this.handleExperience}),"join"===l&&Object(o.jsxs)("ul",{className:"".concat(O.siteInfo," ").concat(O.joinInfo),children:[Object(o.jsxs)("li",{className:O.item,children:[Object(o.jsx)("span",{className:O.text,children:"\u7ad9\u957f"}),Object(o.jsx)("span",{className:O.content,children:g})]}),Object(o.jsxs)("li",{className:O.item,children:[Object(o.jsx)("span",{className:O.text,children:"\u5df2\u521b\u5efa"}),Object(o.jsxs)("span",{className:O.content,children:[y,"\u5929"]})]})]}),h&&Object(o.jsx)(S.a,{visible:p,onClose:this.onClose})]})}}]),n}(j.a.Component))||r)||r)||r)||r;t.a=q},QIpd:function(e,t,n){var r=n("xrYK");e.exports=function(e){if("number"!=typeof e&&"Number"!=r(e))throw TypeError("Incorrect invocation");return+e}},QcND:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return K}));n("ma9I"),n("yq1k"),n("4mDm"),n("Rfxz"),n("wLYn"),n("07d7"),n("TWNs"),n("rB9j"),n("JfAA"),n("JTJg"),n("PKPk"),n("Rm1S"),n("UxlC"),n("3bBZ"),n("Kz25");var r=n("nKUr"),o=n("o0o1"),i=n.n(o),a=n("lSNA"),c=n.n(a),s=(n("ls82"),n("yXPU")),u=n.n(s),l=n("lwsE"),d=n.n(l),f=n("PJYZ"),p=n.n(f),h=n("W8MJ"),b=n.n(h),m=n("7W2i"),v=n.n(m),g=n("a1gu"),y=n.n(g),j=n("Nsbk"),O=n.n(j),w=n("q1tI"),x=n.n(w),C=n("yuBF"),k=n("n4oF"),P=n("zDaA"),N=n("sho3"),E=n("B5JU"),S=n.n(E),I=n("20a2"),_=n("bK+J"),R=n("/Nde"),M=n("MCNy"),D=n.n(M),T=n("pGE/"),A=n("Tk/S"),B=n("Xrmz"),L=n("ALHM"),W=n("E2vk"),U=n("yO9+"),F=n("lN2P"),q=n("FtgW"),Q=n("kjc1"),H=n.n(Q);function z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function J(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?z(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function V(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=O()(e);if(t){var o=O()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y()(this,n)}}function K(t,n){var o,a=Object(C.inject)("site")(o=Object(C.inject)("forum")(o=Object(C.inject)("user")(o=Object(C.inject)("thread")(o=Object(C.inject)("emotion")(o=Object(C.inject)("commonLogin")(o=Object(C.inject)("plugin")(o=Object(C.inject)("invite")(o=Object(C.observer)(o=function(o){v()(c,o);var a=V(c);function c(e){var t,n;d()(this,c),(t=a.call(this,e)).handleWxShare=t.handleWxShare.bind(p()(t)),t.canPublish=t.canPublish.bind(p()(t));var r=e.serverUser,o=e.serverSite,i=e.serverEmotion,s=e.user,u=e.site,l=e.emotion,f=e.forum;return o&&o.platform&&u.setPlatform(o.platform),o&&o.closeSite&&u.setCloseSiteConfig(o.closeSite),o&&o.webConfig&&u.setSiteConfig(o.webConfig),o&&o.webConfig&&f.setOtherPermissions(o.webConfig),o&&o.pluginConfig&&u.setPluginConfig(o.pluginConfig),r&&r.userInfo&&s.setUserInfo(r.userInfo),r&&r.userPermissions&&s.setUserPermissions(r.userPermissions),i&&i.emojis&&l.setEmoji(i.emojis),n=Object(k.a)()?!o:!(u&&u.webConfig),t.state={isNoSiteData:n,isPass:!!Object(k.a)()},t}return b()(c,null,[{key:"getInitialProps",value:function(){var n=u()(i.a.mark((function n(r){var o,a,c,s,u,l,d,f,p,h,b,m;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,e.ssr_host=e.dzq_host||r.req&&r.req.headers&&r.req.headers.host,e.ctx=r,o="static",a={},u={},!Object(k.a)()){n.next=31;break}return b=r.req.headers,o=b&&!T.a.isEmptyObject(b)?Object(P.a)(b["user-agent"]):"static",Object(N.readEmoji)({},r),n.next=12,Object(N.readForum)({},r);case 12:if(a=n.sent,s={platform:o,closeSite:-3005===a.code?a.data:null,webConfig:a&&a.data||null},!a||0!==a.code||null===(f=a)||void 0===f||null===(p=f.data)||void 0===p||null===(h=p.user)||void 0===h||!h.userId){n.next=23;break}return n.next=17,Object(N.readUser)({params:{userId:a.data.user.userId}},r);case 17:return c=n.sent,n.next=20,Object(N.readPermissions)({},r);case 20:d=n.sent,l=c&&0===c.code?c.data:null,d=d&&0===d.code?d.data:null;case 23:return n.next=25,Object(N.readPluginList)({},r);case 25:if(0===(m=n.sent).code&&(s.pluginConfig=m.data),!a||0!==a.code||!t.getInitialProps){n.next=31;break}return n.next=30,t.getInitialProps(r,{user:l,site:s});case 30:u=n.sent;case 31:return n.abrupt("return",J(J({},u),{},{serverSite:s,serverUser:{userInfo:l,userPermissions:d}}));case 34:return n.prev=34,n.t0=n.catch(0),console.log("err",n.t0),n.abrupt("return",{serverSite:{},serverUser:{}});case 38:case"end":return n.stop()}}),n,null,[[0,34]])})));return function(e){return n.apply(this,arguments)}}()}]),b()(c,[{key:"componentDidMount",value:function(){var e=u()(i.a.mark((function e(){var t,r,o,a,c,s,u,l,d,f,p,h,b,m,v,g,y,j,O;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this.state.isNoSiteData,o=this.props,a=o.serverUser,c=o.serverSite,s=o.user,u=o.site,l=o.emotion,d=o.forum,p=!1,h=decodeURIComponent(this.props.router.asPath),b=new RegExp("(^|[&|?])inviteCode=([^&]*)(&|$)"),(m=h.match(b))&&this.props.invite.setInviteCode(m[2]),null!==(t=l.emojis)&&void 0!==t&&t.length||l.fetchEmoji(),u.setPlatform(Object(P.a)(window.navigator.userAgent)),!r){e.next=21;break}if(f=(null===c||void 0===c?void 0:c.webConfig)||null){e.next=19;break}return e.next=14,Object(N.readForum)({});case 14:(v=e.sent).data&&u.setSiteConfig(v.data),v.data&&d.setOtherPermissions(v.data),this.setAppCommonStatus(v),f=v.data||null;case 19:e.next=22;break;case 21:f=u?u.webConfig:null;case 22:if(!u||!u.pluginConfig){e.next=26;break}H()(u.pluginConfig,this.props.plugin.setPluginComponent.bind(this.props.plugin)),e.next=30;break;case 26:return e.next=28,Object(N.readPluginList)();case 28:0===(g=e.sent).code&&(u.setPluginConfig(g.data),H()(g.data,this.props.plugin.setPluginComponent.bind(this.props.plugin)));case 30:if(u.initUserLoginEntryStatus(),!f||!f.user){e.next=47;break}if(s&&s.userInfo||a&&a.userInfo){e.next=44;break}return e.next=35,Object(N.readUser)({params:{userId:f.user.userId}});case 35:return y=e.sent,e.next=38,Object(N.readPermissions)({});case 38:0===(j=e.sent).code&&j.data&&s.setUserPermissions(j.data),y.data&&s.setUserInfo(y.data),p=!!y.data,e.next=45;break;case 44:p=!0;case 45:e.next=48;break;case 47:p=!1;case 48:return s.updateLoginStatus(p),O=this.isPass(r),n&&O&&(O=n(O)),this.setState({isPass:O}),e.next=54,Object(L.a)(f&&f.passport&&f.passport.offiaccountOpen);case 54:e.sent&&(this.handleWxShare(this.props.router.asPath),this.props.router.events.on("routeChangeComplete",this.handleWxShare));case 56:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleWxShare",value:function(e){if(window.wx&&window.wx.hasDoneConfig){var t=this.props,n=t.user,r=t.site,o=n.userInfo,i=r.webConfig.setSite,a=i.siteName,c=i.siteIntroduction,s=i.siteHeaderLogo,u=i.siteFavicon,l=o||{},d=l.nickname,f=l.avatarUrl,p=l.signature,h=l.id,b=document.title,m=c?c.length>35?"".concat(c.substr(0,35),"..."):c:"\u5728\u8fd9\u91cc\uff0c\u53d1\u73b0\u66f4\u591a\u7cbe\u5f69\u5185\u5bb9",v=window.location.href,g=s||u;e.match(/\/thread\/\d+/)||e.match(/\/user\/\d+/)||("/my"===e&&d&&(b="".concat(d,"\u7684\u4e3b\u9875"),g=f,m=p?p.length>35?"".concat(p.substr(0,35),"..."):p:"\u5728\u8fd9\u91cc\uff0c\u53d1\u73b0\u66f4\u591a\u7cbe\u5f69\u5185\u5bb9",v="".concat(window.location.origin,"/user/").concat(h)),(e.includes("/forum/partner-invite")||e.match(/\/user\/(username|wx|phone)-login/)||e.includes("/user/register"))&&(b="\u9080\u8bf7\u60a8\u52a0\u5165".concat(a)),(e.includes("/invite")||"/"===e)&&(b="".concat(d||"","\u9080\u8bf7\u60a8\u52a0\u5165").concat(a)),e.includes("/message?page=chat")&&(b="\u6211\u7684\u79c1\u4fe1 - ".concat(a),v="".concat(window.location.origin,"/message")),Object(A.a)(b,m,v,g,h))}}},{key:"setAppCommonStatus",value:function(e){var t=this.props.site;switch([U.k,U.n,U.h,U.m,U.i,U.o,U.l].includes(e.code)&&F.a.saveCurrentUrl(),e.code){case 0:break;case U.v:t.setCloseSiteConfig(e.data),S.a.redirect({url:"/close"});break;case U.f:break;case U.x:Object(_.a)(),window.location.reload();break;case U.g:S.a.redirect({url:"/404"});break;case U.k:Object(_.a)(),F.a.gotoLogin();break;case U.n:Object(_.a)(),F.a.saveAndRedirect("/user/register");break;case U.h:S.a.push({url:"/user/status?statusCode=2"});break;case U.m:S.a.push({url:"/user/status?statusCode=-4007"});break;case U.i:S.a.push({url:"/user/status?statusCode=-4009"});break;case U.o:F.a.saveAndRedirect("/user/supplementary");break;case U.j:S.a.redirect({url:"/"});break;case U.l:F.a.saveAndRedirect("/forum/partner-invite");break;default:t.setErrPageType("site"),S.a.redirect({url:"/500"})}}},{key:"checkJump",value:function(){var e=this.props.router,t=F.a.getUrl();if(t){var n=new URL(t);if(n.pathname===e.asPath||n.pathname.includes("/cate/"))F.a.clear();else if("/"===e.asPath)return F.a.restore(),!1}return!0}},{key:"isPass",value:function(e){var t=this.props,n=t.site,r=t.router,o=t.user,i=t.commonLogin;if(n&&n.webConfig){var a,c;if(e&&this.setState({isNoSiteData:!1}),"/close"!==r.asPath&&n.closeSiteConfig)return S.a.redirect({url:"/close"}),!1;if(o.isLogin()){if(!n.isOffiaccountOpen&&!n.isMiniProgramOpen&&"/user/bind-phone"!==r.asPath&&n.isSmsOpen&&!o.mobile)return F.a.saveAndRedirect("/user/bind-phone"),!1;if("/user/bind-nickname"!==r.asPath&&!o.nickname)return i.needToCompleteExtraInfo=o.userStatus===q.a.SUPPLEMENTARY,F.a.saveAndRedirect("/user/bind-nickname"),!1;if(o.userStatus===R.b&&!U.u.includes(r.pathname))return S.a.replace({url:"/user/status?statusCode=".concat(o.userStatus)}),!1}if("pay"===(null===n||void 0===n||null===(a=n.webConfig)||void 0===a||null===(c=a.setSite)||void 0===c?void 0:c.siteMode)){var s;if(U.y.some((function(e){return r.asPath.match(e)})))return this.checkJump(),!0;var u=r.query.inviteCode,l=u?"?inviteCode=".concat(u):"";if((null===o||void 0===o||!o.paid)&&0===(null===o||void 0===o||null===(s=o.group)||void 0===s?void 0:s.level)||!o.isLogin())return F.a.saveAndRedirect("/forum/partner-invite".concat(l)),!1}}return this.checkJump()}},{key:"filterProps",value:function(e){var t=J({},e);return delete t.serverUser,delete t.serverSite,delete t.user,delete t.site,t}},{key:"canPublish",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=this.props,r=n.user,o=n.site,i=n.thread;return Object(W.a)(r,o,t,null===i||void 0===i||null===(e=i.threadData)||void 0===e?void 0:e.threadId)}},{key:"render",value:function(){var e=this.state,n=e.isNoSiteData,o=e.isPass;return"static"===this.props.site.platform?null:n||!o?Object(r.jsx)("div",{className:B.a.loadingBox,children:Object(r.jsx)(D.a,{className:B.a.loading,name:"LoadingOutlined",size:"large"})}):Object(r.jsx)(t,J({canPublish:this.canPublish},this.filterProps(this.props)))}}]),c}(x.a.Component))||o)||o)||o)||o)||o)||o)||o)||o)||o;return Object(I.withRouter)(a)}}).call(this,n("ntbh"))},R5XZ:function(e,t,n){var r=n("I+eb"),o=n("2oRo"),i=n("NC/Y"),a=[].slice,c=function(e){return function(t,n){var r=arguments.length>2,o=r?a.call(arguments,2):void 0;return e(r?function(){("function"==typeof t?t:Function(t)).apply(this,o)}:t,n)}};r({global:!0,bind:!0,forced:/MSIE .\./.test(i)},{setTimeout:c(o.setTimeout),setInterval:c(o.setInterval)})},RST9:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/user/wx-bind",function(){return n("JT/D")}])},RiVy:function(e,t,n){"use strict";function r(){if("undefined"===typeof window)return!1;var e=window.navigator.userAgent.toLowerCase();return/micromessenger/.test(e)}n.d(t,"a",(function(){return r}))},"Tk/S":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("lY1M"),o=n("KBHl");function i(e,t,n,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";r.b.env("weixin")&&window.wx&&window.wx.ready((function(){var r={title:e||"Discuz! Q",desc:t&&""!=t?t:e||"Discuz! Q",link:Object(o.a)(n||window.location.href,{inviteCode:a}),imgUrl:i};wx.updateAppMessageShareData(r),wx.updateTimelineShareData(r),wx.onMenuShareWeibo(r)}))}},"U+yc":function(e,t){e.exports=function(e,t,n,r,o){var i={};return Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}},Xol8:function(e,t,n){var r=n("hh1v"),o=Math.floor;e.exports=function(e){return!r(e)&&isFinite(e)&&o(e)===e}},Xrmz:function(e,t,n){"use strict";t.a={loadingBox:"IaolWSnqMjqk8NJnV76AR",loading:"SeS7jrWNwr45DU-hTARv9"}},Xuae:function(e,t,n){"use strict";var r=n("RIqP"),o=n("lwsE"),i=n("W8MJ"),a=(n("PJYZ"),n("7W2i")),c=n("a1gu"),s=n("Nsbk");function u(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=s(e);if(t){var o=s(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return c(this,n)}}t.__esModule=!0,t.default=void 0;var l=n("q1tI"),d=function(e){a(n,e);var t=u(n);function n(e){var i;return o(this,n),(i=t.call(this,e))._hasHeadManager=void 0,i.emitChange=function(){i._hasHeadManager&&i.props.headManager.updateHead(i.props.reduceComponentsToState(r(i.props.headManager.mountedInstances),i.props))},i._hasHeadManager=i.props.headManager&&i.props.headManager.mountedInstances,i}return i(n,[{key:"componentDidMount",value:function(){this._hasHeadManager&&this.props.headManager.mountedInstances.add(this),this.emitChange()}},{key:"componentDidUpdate",value:function(){this.emitChange()}},{key:"componentWillUnmount",value:function(){this._hasHeadManager&&this.props.headManager.mountedInstances.delete(this),this.emitChange()}},{key:"render",value:function(){return null}}]),n}(l.Component);t.default=d},"bC0/":function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n("pNMO"),n("ma9I"),n("TeQF"),n("QWBl"),n("HRxU"),n("eoL8"),n("5DmW"),n("27RR"),n("tkto"),n("FZtP"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var n=t.pluginName,r=t.author,i=t.type,a=t.app_id,c=t.pluginVersion,s=t.pluginComponentName,u=t.pluginData,l=t.callback,d=t.preCallback,f=u.disables,p=u.pluginFiles,h=p.js,b=p.css;if(!f){if(this.task={},this.pluginComponentName=s,this.callback=l,this.preCallback=d,h&&0!==h.length)for(var m=0;m<h.length;m++)this.task[h[m]]={type:"js",done:!1};if(b&&0!==b.length)for(var v=0;v<h.length;v++)this.task[b[v]]={type:"css",done:!1};this.isEmptyObject(this.task)||(this.preRegister(o(o({},u),{},{pluginName:n,version:c,author:r,type:i,app_id:a,component:"padding"})),this.start())}}var t,n,r;return t=e,(n=[{key:"preRegister",value:function(e){e.pluginName,e.disables,e.version,e.target,e.hookName,e.component,e.author,e.type,e.app_id,e.platform,e.path,e.options,this.preCallback(e)}},{key:"isEmptyObject",value:function(e){for(var t in e)return!1;return!0}},{key:"start",value:function(){for(var e in this.task){var t=this.task[e].type;"js"===t?this.createJS(e):"css"===t&&this.createCSS(e)}}},{key:"createJS",value:function(e){var t=this,n=document.createElement("script");n.src=e,n.onload=function(){t.task[e]&&(t.task[e].done=!0),t.check()&&t.callback(t.pluginComponentName)},n.onerror=function(){console.error("".concat(t.pluginComponentName,", \u8d44\u6e90\u52a0\u8f7d\u5931\u8d25\uff1a").concat(e))},document.body.appendChild(n)}},{key:"createCSS",value:function(e){var t=this,n=document.createElement("link");n.href=e,n.rel="stylesheet",n.type="text/css",n.onload=function(){t.task[e]&&(t.task[e].done=!0),t.check()&&t.callback(t.pluginComponentName)},n.onerror=function(){console.error("".concat(t.pluginComponentName,", \u8d44\u6e90\u52a0\u8f7d\u5931\u8d25\uff1a").concat(e))},document.head.appendChild(n)}},{key:"check",value:function(){for(var e in this.task)if(!this.task[e].done)return!1;return!0}}])&&a(t.prototype,n),r&&a(t,r),e}();t.default=c},g4pe:function(e,t,n){e.exports=n("8Kt/")},ggaN:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ButtonLogicalAdapter=void 0;var r=(0,n("mlqK").baseAdapterFactory)({defaultAdapter:{},adapterImplement:function(){return n("KvOD").ButtonWebAdapter}});t.ButtonLogicalAdapter=r},hByQ:function(e,t,n){"use strict";var r=n("14Sl"),o=n("glrk"),i=n("HYAF"),a=n("Ep9I"),c=n("FMNM");r("search",1,(function(e,t,n){return[function(t){var n=i(this),r=void 0==t?void 0:t[e];return void 0!==r?r.call(t,n):new RegExp(t)[e](String(n))},function(e){var r=n(t,e,this);if(r.done)return r.value;var i=o(e),s=String(this),u=i.lastIndex;a(u,0)||(i.lastIndex=0);var l=c(i,s);return a(i.lastIndex,u)||(i.lastIndex=u),null===l?-1:l.index}]}))},i6QF:function(e,t,n){n("I+eb")({target:"Number",stat:!0},{isInteger:n("Xol8")})},k8W2:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n("lwsE")),i=r(n("W8MJ")),a=r(n("7W2i")),c=r(n("a1gu")),s=r(n("Nsbk")),u=r(n("lSNA")),l=r(n("q1tI")),d=n("GDuN"),f=n("9rcn"),p=n("HZIX"),h=n("AItd"),b=r(n("KxVQ"));function m(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,s.default)(e);if(t){var o=(0,s.default)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,c.default)(this,n)}}var v=function(e){(0,a.default)(n,e);var t=m(n);function n(e){var r;return(0,o.default)(this,n),r=t.call(this,e),(0,b.default)({componentName:"popup"}),r}return(0,i.default)(n,[{key:"render",value:function(){var e=this.RenderComponent;return l.default.createElement(e,this.props,this.props.children)}}]),n}((0,d.baseComponentFactory)({viewAdapter:f.PopupViewAdapter,logicalAdapter:p.PopupLogicalAdapter}));t.default=v,(0,u.default)(v,"defaultProps",{position:"bottom",maskClosable:!0,onClose:h.noop,containerClassName:""})},kEK2:function(e,t,n){"use strict";var r=n("TqRt");n("Eqjn"),Object.defineProperty(t,"__esModule",{value:!0}),t.PopupWebLayout=function(e){var t=e.position,n=e.visible,r=e.onClose,b=e.onCancel,m=void 0===b?f.noop:b,v=e.onSubmit,g=void 0===v?f.noop:v,y=e.maskClosable,j=e.children,O=e.className,w=e.containerClassName,x=e.withCloseIcon,C=e.popupContainer,k=e.withFooter,P=(0,i.default)(e,p),N=(0,d.useConfig)().clsPrefix;a.default.useEffect((function(){n?h.afterOpen():h.beforeClose()}),[n]);var E=a.default.createElement("div",(0,o.default)({className:(0,l.default)("".concat(N,"-popup"),O)},P),a.default.createElement("div",{className:(0,l.default)("".concat(N,"-popup__overlay"),{"is-shown":n}),onClick:function(){y&&r()}}),a.default.createElement("div",{className:(0,l.default)("".concat(N,"-popup__container"),w,t,{"is-shown":n,"is-expanded":n})},x&&a.default.createElement("div",{className:(0,l.default)("".concat(N,"-popup__close-icon")),onClick:function(){r()}},a.default.createElement(s.default,{name:"CloseOutlined"})),j,k&&a.default.createElement("div",{className:(0,l.default)("".concat(N,"-popup__footer"))},a.default.createElement(u.default,{className:(0,l.default)("".concat(N,"-popup__btn")),type:"info",onClick:function(){r(),m()}},"\u53d6\u6d88"),a.default.createElement(u.default,{className:(0,l.default)("".concat(N,"-popup__btn")),type:"primary",onClick:function(){g()}},"\u786e\u8ba4"))));if("undefined"===typeof window)return E;return c.default.createPortal(E,C||document.getElementsByTagName("body")[0])};var o=r(n("pVnL")),i=r(n("QILm")),a=r(n("q1tI")),c=r(n("i8i4")),s=r(n("MCNy")),u=r(n("5f2u")),l=r(n("TSYQ")),d=n("VTYn"),f=n("AItd"),p=["position","visible","onClose","onCancel","onSubmit","maskClosable","children","className","containerClassName","withCloseIcon","popupContainer","withFooter"];"undefined"!==typeof document&&("scrollingElement"in document||function(){function e(e){return window.getComputedStyle?getComputedStyle(e,null):e.currentStyle}var t;function n(e){return"none"!=e.display&&!("collapse"==e.visibility&&/^table-(.+-group|row|column)$/.test(e.display))}var r=function(){if(function(){if(!/^CSS1/.test(document.compatMode))return!1;if(void 0===t){var e=document.createElement("iframe");e.style.height="1px",(document.body||document.documentElement||document).appendChild(e);var n=e.contentWindow.document;n.write('<!DOCTYPE html><div style="height:9999em">x</div>'),n.close(),t=n.documentElement.scrollHeight>n.body.scrollHeight,e.parentNode.removeChild(e)}return t}())return document.documentElement;var r=document.body;return(r=r&&!/body/i.test(r.tagName)?function(e){for(var t,n=e;n=n.nextSibling;)if(1==n.nodeType&&(t=n,window.HTMLBodyElement?t instanceof HTMLBodyElement:/body/i.test(t.tagName)))return n;return null}(r):r)&&function(t){var r=e(t),o=e(document.documentElement);return"visible"!=r.overflow&&"visible"!=o.overflow&&n(r)&&n(o)}(r)?null:r};Object.defineProperty?Object.defineProperty(document,"scrollingElement",{get:r}):document.__defineGetter__?document.__defineGetter__("scrollingElement",r):(document.scrollingElement=r(),document.attachEvent&&document.attachEvent("onpropertychange",(function(){"activeElement"==window.event.propertyName&&(document.scrollingElement=r())})))}());var h=function(e){var t;return{afterOpen:function(){t=document.scrollingElement.scrollTop,document.body.classList.add(e),document.body.style.top="".concat(-t,"px")},beforeClose:function(){document.body.classList.remove(e),t&&(document.scrollingElement.scrollTop=t)}}}("modal-open")},kSko:function(e,t,n){n("I+eb")({target:"Number",stat:!0},{isNaN:function(e){return e!=e}})},kjBj:function(e,t,n){"use strict";var r=n("nKUr"),o=n("q1tI"),i=n.n(o),a="yO5m4iE3XykJ_LV6vCp6B",c="_387TLuQBVV5DmIjitoZeOq",s="_1p2dahnsuzb5Oj3gug1CSo",u="_3tIqD3TdOoL_UKfw9D3hrK",l=n("k8W2"),d=n.n(l),f=n("z6Ap"),p=function(e){var t=e.visible,n=void 0!==t&&t,o=e.onClose,i=void 0===o?f.e:o,l=e.type,p=void 0===l?"":l;return Object(r.jsx)(d.a,{position:"top",visible:n,onClose:i,children:Object(r.jsxs)("div",{className:"".concat("thread"===p?u:a),children:[Object(r.jsx)("img",{alt:"\u56fe\u7247",src:"/dzq-img/sharePoint.png",className:c}),Object(r.jsx)("img",{alt:"\u56fe\u7247",src:"/dzq-img/shareKnow.png",className:s,onClick:i})]})})};t.a=i.a.memo(p)},kjc1:function(e,t,n){"use strict";n("ma9I"),n("2B1R"),n("eoL8"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(!e||0===e.length)return;for(var n=0;n<e.length;n++)s(e[n],t)};var r=i(n("bC0/")),o=i(n("4x5+"));function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){window.DZQPlugin[e].default||console.error("".concat(e,"\u6ca1\u6709\u627e\u5230default\u5c5e\u6027").concat(window.DZQPlugin[e]));var n=o.default.register(window.DZQPlugin[e].default);n&&n.map&&n.pluginName&&t(n.pluginName,n.map)}function c(e,t){var n=o.default.register(e);n&&n.map&&n.pluginName&&t(n.pluginName,n.map)}function s(e,t){var n=e.name_en,o=e.version,i=e.view,s=e.author;if(i)for(var u in i)i[u].pluginFiles&&new r.default({pluginName:n,pluginVersion:o,pluginComponentName:u,pluginData:i[u],author:s,callback:function(e){a(e,t)},preCallback:function(e){c(e,t)}})}},lwAK:function(e,t,n){"use strict";var r;t.__esModule=!0,t.AmpStateContext=void 0;var o=((r=n("q1tI"))&&r.__esModule?r:{default:r}).default.createContext({});t.AmpStateContext=o},rGXy:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.getWXConfig=function(){return h.apply(this,arguments)};var o=r(n("o0o1")),i=r(n("lSNA")),a=r(n("QILm"));n("ls82");var c=r(n("yXPU")),s=n("0QFe"),u=r(n("m4Ii")),l=["params","data"];function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){(0,i.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var p={messageText:{type:"string",required:!0},recipientUsername:{type:"string",required:!0},imageUrl:{type:"string"},attachmentId:{type:"number"}};function h(){return(h=(0,c.default)(o.default.mark((function e(){var t,n,r,i,c,d,h,b,m=arguments;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=m.length>0&&void 0!==m[0]?m[0]:{},e.prev=1,n=t.params,r=void 0===n?{}:n,i=t.data,c=void 0===i?{}:i,d=(0,a.default)(t,l),h=f(f({url:"/api/v3/offiaccount/jssdk",method:"GET",params:r,data:c},d),{},{validateRules:p}),e.next=6,u.default.dispatcher(h);case 6:return b=e.sent,e.abrupt("return",b);case 10:return e.prev=10,e.t0=e.catch(1),e.abrupt("return",(0,s.handleError)(e.t0));case 13:case"end":return e.stop()}}),e,null,[[1,10]])})))).apply(this,arguments)}},toAj:function(e,t,n){"use strict";var r=n("I+eb"),o=n("ppGB"),i=n("QIpd"),a=n("EUja"),c=n("0Dky"),s=1..toFixed,u=Math.floor,l=function(e,t,n){return 0===t?n:t%2===1?l(e,t-1,n*e):l(e*e,t/2,n)};r({target:"Number",proto:!0,forced:s&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!c((function(){s.call({})}))},{toFixed:function(e){var t,n,r,c,s=i(this),d=o(e),f=[0,0,0,0,0,0],p="",h="0",b=function(e,t){for(var n=-1,r=t;++n<6;)r+=e*f[n],f[n]=r%1e7,r=u(r/1e7)},m=function(e){for(var t=6,n=0;--t>=0;)n+=f[t],f[t]=u(n/e),n=n%e*1e7},v=function(){for(var e=6,t="";--e>=0;)if(""!==t||0===e||0!==f[e]){var n=String(f[e]);t=""===t?n:t+a.call("0",7-n.length)+n}return t};if(d<0||d>20)throw RangeError("Incorrect fraction digits");if(s!=s)return"NaN";if(s<=-1e21||s>=1e21)return String(s);if(s<0&&(p="-",s=-s),s>1e-21)if(n=(t=function(e){for(var t=0,n=e;n>=4096;)t+=12,n/=4096;for(;n>=2;)t+=1,n/=2;return t}(s*l(2,69,1))-69)<0?s*l(2,-t,1):s/l(2,t,1),n*=4503599627370496,(t=52-t)>0){for(b(0,n),r=d;r>=7;)b(1e7,0),r-=7;for(b(l(10,r,1),0),r=t-1;r>=23;)m(1<<23),r-=23;m(1<<r),b(1,1),m(2),h=v()}else b(0,n),b(1<<-t,0),h=v()+a.call("0",d);return h=d>0?p+((c=h.length)<=d?"0."+a.call("0",d-c)+h:h.slice(0,c-d)+"."+h.slice(c-d)):p+h}})},xfbP:function(e,t,n){"use strict";var r=n("lSNA"),o=n.n(r),i=n("nKUr"),a=n("lwsE"),c=n.n(a),s=n("W8MJ"),u=n.n(s),l=n("7W2i"),d=n.n(l),f=n("a1gu"),p=n.n(f),h=n("Nsbk"),b=n.n(h),m=n("q1tI"),v=n.n(m),g=n("yuBF"),y=n("n4oF"),j=n("lN2P");function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=b()(e);if(t){var o=b()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p()(this,n)}}t.a=function(e){return function(t){var n;return Object(g.inject)("site")(n=function(n){d()(a,n);var r=w(a);function a(t){var n;if(c()(this,a),(n=r.call(this,t)).getCurrentMode=function(){return"none"!==n.props.site.wechatEnv?"weixin":n.props.site.isSmsOpen?"mobile":"user"},Object(y.a)())return p()(n);var o=n.getCurrentMode();return"weixin"===e&&"weixin"!==o&&j.a.saveAndLogin(),"phone"===e&&("user"!==o||n.props.site.isSmsOpen||j.a.saveAndLogin()),"user"===e&&"user"!==o&&j.a.saveAndLogin(),"register"===e&&"user"!==o&&j.a.saveAndLogin(),n}return u()(a,[{key:"render",value:function(){return Object(i.jsx)(t,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.props))}}]),a}(v.a.Component))||n}}},yG8O:function(e,t){e.exports=function(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}},yq1k:function(e,t,n){"use strict";var r=n("I+eb"),o=n("TWQb").includes,i=n("RNIs");r({target:"Array",proto:!0,forced:!n("rkAj")("indexOf",{ACCESSORS:!0,1:0})},{includes:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),i("includes")},z6Ap:function(e,t,n){"use strict";n.d(t,"e",(function(){return c})),n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return u})),n.d(t,"b",(function(){return l})),n.d(t,"d",(function(){return d}));n("TeQF"),n("QWBl"),n("yXV3"),n("sMBO"),n("B6y2"),n("FZtP"),n("R5XZ");var r=n("RIqP"),o=n.n(r),i=(n("q1tI"),arguments),a=void 0,c=function(){},s=function(e,t){var n;return function(){var r=a,c=o()(i);n&&clearTimeout(n);var s=!n;n=setTimeout((function(){n=null}),t),s&&e.apply(r,c)}},u=function(e){var t={text:(null===e||void 0===e?void 0:e.text)||"",plugin:{}};return Object.values((null===e||void 0===e?void 0:e.indexes)||{}).forEach((function(e){var n=e.tomId,r=e.threadId,o=(n="".concat(n))?""+n:"NULL";if("101"===o)t.imageData=e.body;else if("102"===o)t.audioData=e.body;else if("103"===o)t.videoData=e.body;else if("104"===o)t.goodsData=e.body;else if("105"===o)t.qaData=e.body;else if("106"===o)t.redPacketData=e.body;else if("107"===o)t.rewardData=e.body;else if("108"===o)t.fileData=e.body;else if("109"===o)t.voteData=e.body;else if("10002"===o)t.iframeData=e.body;else{var i=e.tomId,a=e.body,c=e._plugin,s=void 0===c?{}:c;s&&(t.plugin[null===s||void 0===s?void 0:s.name]={tomId:i,body:a,_plugin:s})}t.threadId=r})),t},l=["7Z","AI","APK","CAD","CDR","DOC","DOCX","EPS","EXE","IPA","MP3","MP4","PDF","PPT","PSD","RAR","TXT","XLS","XLSX","ZIP","JPG","WAV"],d=function(e){return!!e&&("object"===typeof e||"function"===typeof e)&&"function"===typeof e.then}},zDaA:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("n4oF");function o(e){var t=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(e)?"h5":"pc";if(!Object(r.a)()){var n=90===Math.abs(window.orientation),o=window.innerWidth;"pc"===t&&o<800&&(t="h5"),"h5"===t&&!n&&o>=800&&(t="pc")}return t}},zLVW:function(e,t,n){"use strict";var r=n("TqRt"),o=n("cDf5");n("ma9I"),Object.defineProperty(t,"__esModule",{value:!0}),t.ButtonWebLayout=void 0;var i=r(n("lwsE")),a=r(n("W8MJ")),c=r(n("7W2i")),s=r(n("a1gu")),u=r(n("Nsbk")),l=r(n("lSNA")),d=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==o(e)&&"function"!==typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var c=i?Object.getOwnPropertyDescriptor(e,a):null;c&&(c.get||c.set)?Object.defineProperty(r,a,c):r[a]=e[a]}r.default=e,n&&n.set(e,r);return r}(n("q1tI")),f=n("VTYn"),p=r(n("TSYQ")),h=r(n("jqTq"));function b(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}function m(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,u.default)(e);if(t){var o=(0,u.default)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,s.default)(this,n)}}var v=function(e){(0,c.default)(n,e);var t=m(n);function n(e){var r;return(0,i.default)(this,n),(r=t.call(this,e)).state={isMouseDown:!1,isMouseEnter:!1},r}return(0,a.default)(n,[{key:"onClick",value:function(e){this.props.loading||this.props.disabled||this.props.onClick&&this.props.onClick(e)}},{key:"onMouseLeave",value:function(e){this.setState({isMouseEnter:!1})}},{key:"onMouseEnter",value:function(e){this.props.disabled||this.setState({isMouseEnter:!0})}},{key:"onMouseDown",value:function(e){this.props.disabled||this.setState({isMouseDown:!0})}},{key:"onMouseUp",value:function(e){var t=this;setTimeout((function(){t.setState({isMouseDown:!1})}),50)}},{key:"render",value:function(){var e=this,t=this.props,n=t.size,r=void 0===n?"medium":n,o=t.type,i=t.htmlType,a=t.disabled,c=t.loading,s=t.style,u=t.className,l=t.circle,f=t.full,b=this.context.clsPrefix,m="".concat(b,"-button"),v=(0,p.default)(m,u,r&&"".concat(m,"--").concat(r),o&&"".concat(m,"--").concat(o),{"is-full":f,"is-loading":c,"is-disabled":a,"is-circle":l,"is-mousedown":this.state.isMouseDown,"is-mouseenter":this.state.isMouseEnter});return d.default.createElement("button",{style:s,className:v,type:i,onClick:this.onClick.bind(this),onMouseEnter:function(t){return e.onMouseEnter(t)},onMouseLeave:function(t){return e.onMouseLeave(t)},onMouseDown:function(t){return e.onMouseDown(t)},onMouseUp:function(t){return e.onMouseUp(t)}},c&&d.default.createElement(h.default,{type:"spinner",size:16}),this.props.children)}}]),n}(d.Component);t.ButtonWebLayout=v,(0,l.default)(v,"contextType",f.ConfigContext)},zVgw:function(e,t,n){"use strict";var r=n("o0o1"),o=n.n(r),i=(n("ls82"),n("yXPU")),a=n.n(i),c=n("q1tI"),s=n.n(c),u=n("B5JU"),l=n.n(u),d=function(){};t.a=function(e){var t=e.jumpUrl,n=void 0===t?"":t,r=e.beforeJump,i=void 0===r?d:r,c=e.afterJump,u=void 0===c?d:c;return s.a.useEffect(a()(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i();case 2:return l.a.redirect({url:n}),e.abrupt("return",a()(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u();case 2:case"end":return e.stop()}}),e)}))));case 4:case"end":return e.stop()}}),e)}))),[]),null}}},[["RST9",0,1,4,3,2]]]);