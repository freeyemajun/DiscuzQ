(window["webpackJsonp_N_E"] = window["webpackJsonp_N_E"] || []).push([[1],{

/***/ "./components/virtual-list/BottomView.jsx":
/*!************************************************!*\
  !*** ./components/virtual-list/BottomView.jsx ***!
  \************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* WEBPACK VAR INJECTION */(function(module) {/* harmony import */ var _components_list_BottomView__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @components/list/BottomView */ "./components/list/BottomView.jsx");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "default", function() { return _components_list_BottomView__WEBPACK_IMPORTED_MODULE_0__["default"]; });



;
    var _a, _b;
    // Legacy CSS implementations will `eval` browser code in a Node.js context
    // to extract CSS. For backwards compatibility, we need to check we're in a
    // browser context before continuing.
    if (typeof self !== 'undefined' &&
        // AMP / No-JS mode does not inject these helpers:
        '$RefreshHelpers$' in self) {
        var currentExports = module.__proto__.exports;
        var prevExports = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevExports) !== null && _b !== void 0 ? _b : null;
        // This cannot happen in MainTemplate because the exports mismatch between
        // templating and execution.
        self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.i);
        // A module can be accepted automatically based on its exports, e.g. when
        // it is a Refresh Boundary.
        if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {
            // Save the previous exports on update so we can compare the boundary
            // signatures.
            module.hot.dispose(function (data) {
                data.prevExports = currentExports;
            });
            // Unconditionally accept an update to this module, we'll check if it's
            // still a Refresh Boundary later.
            module.hot.accept();
            // This field is set when the previous version of this module was a
            // Refresh Boundary, letting us know we need to check for invalidation or
            // enqueue an update.
            if (prevExports !== null) {
                // A boundary can become ineligible if its exports are incompatible
                // with the previous exports.
                //
                // For example, if you add/remove/change exports, we'll want to
                // re-execute the importing modules, and force those components to
                // re-render. Similarly, if you convert a class component to a
                // function, we want to invalidate the boundary.
                if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevExports, currentExports)) {
                    module.hot.invalidate();
                }
                else {
                    self.$RefreshHelpers$.scheduleUpdate();
                }
            }
        }
        else {
            // Since we just executed the code for the module, it's possible that the
            // new exports made it ineligible for being a boundary.
            // We only care about the case when we were _previously_ a boundary,
            // because we already accepted this update (accidental side effect).
            var isNoLongerABoundary = prevExports !== null;
            if (isNoLongerABoundary) {
                module.hot.invalidate();
            }
        }
    }

/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../node_modules/next/dist/compiled/webpack/harmony-module.js */ "./node_modules/next/dist/compiled/webpack/harmony-module.js")(module)))

/***/ }),

/***/ "./components/virtual-list/h5/item.jsx":
/*!*********************************************!*\
  !*** ./components/virtual-list/h5/item.jsx ***!
  \*********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* WEBPACK VAR INJECTION */(function(module) {/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ "./node_modules/react/jsx-dev-runtime.js");
/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _components_thread__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @components/thread */ "./components/thread/index.jsx");
/* harmony import */ var mobx_react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! mobx-react */ "./node_modules/mobx-react/dist/mobx-react.module.js");


var _jsxFileName = "F:\\DiscuzQ4.0\\discuz-fe\\web\\components\\virtual-list\\h5\\item.jsx",
    _this = undefined,
    _s = $RefreshSig$();




/* harmony default export */ __webpack_exports__["default"] = (_c2 = Object(mobx_react__WEBPACK_IMPORTED_MODULE_3__["observer"])(_c = _s(function (props) {
  var _ref$current;

  _s();

  var data = props.data,
      isLast = props.isLast,
      _props$canPublish = props.canPublish,
      canPublish = _props$canPublish === void 0 ? function () {} : _props$canPublish;
  var ref = Object(react__WEBPACK_IMPORTED_MODULE_1__["useRef"])(null);
  Object(react__WEBPACK_IMPORTED_MODULE_1__["useEffect"])(function () {
    measure();
  }, [ref === null || ref === void 0 ? void 0 : (_ref$current = ref.current) === null || _ref$current === void 0 ? void 0 : _ref$current.clientHeight]);

  var measure = function measure() {
    try {
      typeof props.measure === 'function' && props.measure();
    } catch (error) {// console.log(error);
    }
  };

  var _recomputeRowHeights = function recomputeRowHeights(data) {
    props.recomputeRowHeights(data);
    measure();
  };

  var callback = function callback() {
    measure && measure();
  };

  Object(react__WEBPACK_IMPORTED_MODULE_1__["useEffect"])(function () {
    if (ref.current) {
      var config = {
        attributes: true,
        childList: true,
        subtree: true
      };

      try {
        var _observer = new MutationObserver(callback);

        _observer.observe(ref.current, config);

        return function () {
          _observer.disconnect();
        };
      } catch (error) {// console.log(error);
      }
    }
  }, [ref]);
  return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__["jsxDEV"])("div", {
    ref: ref,
    children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__["jsxDEV"])(_components_thread__WEBPACK_IMPORTED_MODULE_2__["default"], {
      onContentHeightChange: measure,
      onImageReady: measure,
      onVideoReady: measure,
      showBottomStyle: !isLast,
      data: data // className={styles.listItem}
      ,
      recomputeRowHeights: function recomputeRowHeights(data) {
        return _recomputeRowHeights(data);
      },
      enableCommentList: props.enableCommentList,
      canPublish: canPublish
    }, data.threadId, false, {
      fileName: _jsxFileName,
      lineNumber: 49,
      columnNumber: 7
    }, _this)
  }, void 0, false, {
    fileName: _jsxFileName,
    lineNumber: 48,
    columnNumber: 5
  }, _this);
}, "lq1tzM4DdcBd9rchfALtCTAkzkA=")));

var _c, _c2;

$RefreshReg$(_c, "%default%$observer");
$RefreshReg$(_c2, "%default%");

;
    var _a, _b;
    // Legacy CSS implementations will `eval` browser code in a Node.js context
    // to extract CSS. For backwards compatibility, we need to check we're in a
    // browser context before continuing.
    if (typeof self !== 'undefined' &&
        // AMP / No-JS mode does not inject these helpers:
        '$RefreshHelpers$' in self) {
        var currentExports = module.__proto__.exports;
        var prevExports = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevExports) !== null && _b !== void 0 ? _b : null;
        // This cannot happen in MainTemplate because the exports mismatch between
        // templating and execution.
        self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.i);
        // A module can be accepted automatically based on its exports, e.g. when
        // it is a Refresh Boundary.
        if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {
            // Save the previous exports on update so we can compare the boundary
            // signatures.
            module.hot.dispose(function (data) {
                data.prevExports = currentExports;
            });
            // Unconditionally accept an update to this module, we'll check if it's
            // still a Refresh Boundary later.
            module.hot.accept();
            // This field is set when the previous version of this module was a
            // Refresh Boundary, letting us know we need to check for invalidation or
            // enqueue an update.
            if (prevExports !== null) {
                // A boundary can become ineligible if its exports are incompatible
                // with the previous exports.
                //
                // For example, if you add/remove/change exports, we'll want to
                // re-execute the importing modules, and force those components to
                // re-render. Similarly, if you convert a class component to a
                // function, we want to invalidate the boundary.
                if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevExports, currentExports)) {
                    module.hot.invalidate();
                }
                else {
                    self.$RefreshHelpers$.scheduleUpdate();
                }
            }
        }
        else {
            // Since we just executed the code for the module, it's possible that the
            // new exports made it ineligible for being a boundary.
            // We only care about the case when we were _previously_ a boundary,
            // because we already accepted this update (accidental side effect).
            var isNoLongerABoundary = prevExports !== null;
            if (isNoLongerABoundary) {
                module.hot.invalidate();
            }
        }
    }

/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../../node_modules/next/dist/compiled/webpack/harmony-module.js */ "./node_modules/next/dist/compiled/webpack/harmony-module.js")(module)))

/***/ }),

/***/ "./components/virtual-list/h5/observe-item.jsx":
/*!*****************************************************!*\
  !*** ./components/virtual-list/h5/observe-item.jsx ***!
  \*****************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* WEBPACK VAR INJECTION */(function(module) {/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ "./node_modules/react/jsx-dev-runtime.js");
/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var mobx_react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! mobx-react */ "./node_modules/mobx-react/dist/mobx-react.module.js");


var _jsxFileName = "F:\\DiscuzQ4.0\\discuz-fe\\web\\components\\virtual-list\\h5\\observe-item.jsx",
    _this = undefined,
    _s = $RefreshSig$();



/* harmony default export */ __webpack_exports__["default"] = (_c2 = Object(mobx_react__WEBPACK_IMPORTED_MODULE_2__["observer"])(_c = _s(function (props) {
  var _ref$current;

  _s();

  var ref = Object(react__WEBPACK_IMPORTED_MODULE_1__["useRef"])(null);
  Object(react__WEBPACK_IMPORTED_MODULE_1__["useEffect"])(function () {
    measure();
  }, [ref === null || ref === void 0 ? void 0 : (_ref$current = ref.current) === null || _ref$current === void 0 ? void 0 : _ref$current.clientHeight]);

  var measure = function measure() {
    try {
      typeof props.measure === 'function' && props.measure();
    } catch (error) {// console.log(error);
    }
  };

  var callback = function callback() {
    measure && measure();
  };

  Object(react__WEBPACK_IMPORTED_MODULE_1__["useEffect"])(function () {
    if (ref.current) {
      var config = {
        attributes: true,
        childList: true,
        subtree: true
      };

      try {
        var _observer = new MutationObserver(callback);

        _observer.observe(ref.current, config);

        return function () {
          _observer.disconnect();
        };
      } catch (error) {// console.log(error);
      }
    }
  }, [ref]);
  return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__["jsxDEV"])("div", {
    ref: ref,
    children: props.children
  }, void 0, false, {
    fileName: _jsxFileName,
    lineNumber: 40,
    columnNumber: 5
  }, _this);
}, "lq1tzM4DdcBd9rchfALtCTAkzkA=")));

var _c, _c2;

$RefreshReg$(_c, "%default%$observer");
$RefreshReg$(_c2, "%default%");

;
    var _a, _b;
    // Legacy CSS implementations will `eval` browser code in a Node.js context
    // to extract CSS. For backwards compatibility, we need to check we're in a
    // browser context before continuing.
    if (typeof self !== 'undefined' &&
        // AMP / No-JS mode does not inject these helpers:
        '$RefreshHelpers$' in self) {
        var currentExports = module.__proto__.exports;
        var prevExports = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevExports) !== null && _b !== void 0 ? _b : null;
        // This cannot happen in MainTemplate because the exports mismatch between
        // templating and execution.
        self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.i);
        // A module can be accepted automatically based on its exports, e.g. when
        // it is a Refresh Boundary.
        if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {
            // Save the previous exports on update so we can compare the boundary
            // signatures.
            module.hot.dispose(function (data) {
                data.prevExports = currentExports;
            });
            // Unconditionally accept an update to this module, we'll check if it's
            // still a Refresh Boundary later.
            module.hot.accept();
            // This field is set when the previous version of this module was a
            // Refresh Boundary, letting us know we need to check for invalidation or
            // enqueue an update.
            if (prevExports !== null) {
                // A boundary can become ineligible if its exports are incompatible
                // with the previous exports.
                //
                // For example, if you add/remove/change exports, we'll want to
                // re-execute the importing modules, and force those components to
                // re-render. Similarly, if you convert a class component to a
                // function, we want to invalidate the boundary.
                if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevExports, currentExports)) {
                    module.hot.invalidate();
                }
                else {
                    self.$RefreshHelpers$.scheduleUpdate();
                }
            }
        }
        else {
            // Since we just executed the code for the module, it's possible that the
            // new exports made it ineligible for being a boundary.
            // We only care about the case when we were _previously_ a boundary,
            // because we already accepted this update (accidental side effect).
            var isNoLongerABoundary = prevExports !== null;
            if (isNoLongerABoundary) {
                module.hot.invalidate();
            }
        }
    }

/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../../node_modules/next/dist/compiled/webpack/harmony-module.js */ "./node_modules/next/dist/compiled/webpack/harmony-module.js")(module)))

/***/ }),

/***/ "./components/virtual-list/pc/index.jsx":
/*!**********************************************!*\
  !*** ./components/virtual-list/pc/index.jsx ***!
  \**********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* WEBPACK VAR INJECTION */(function(module) {/* harmony import */ var core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! core-js/modules/es.array.concat.js */ "./node_modules/core-js/modules/es.array.concat.js");
/* harmony import */ var core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var core_js_modules_es_array_map_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! core-js/modules/es.array.map.js */ "./node_modules/core-js/modules/es.array.map.js");
/* harmony import */ var core_js_modules_es_array_map_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_map_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! core-js/modules/es.object.to-string.js */ "./node_modules/core-js/modules/es.object.to-string.js");
/* harmony import */ var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var core_js_modules_es_promise_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! core-js/modules/es.promise.js */ "./node_modules/core-js/modules/es.promise.js");
/* harmony import */ var core_js_modules_es_promise_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_promise_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var core_js_modules_es_promise_finally_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! core-js/modules/es.promise.finally.js */ "./node_modules/core-js/modules/es.promise.finally.js");
/* harmony import */ var core_js_modules_es_promise_finally_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_promise_finally_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var core_js_modules_es_string_fixed_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! core-js/modules/es.string.fixed.js */ "./node_modules/core-js/modules/es.string.fixed.js");
/* harmony import */ var core_js_modules_es_string_fixed_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_string_fixed_js__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var core_js_modules_web_timers_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! core-js/modules/web.timers.js */ "./node_modules/core-js/modules/web.timers.js");
/* harmony import */ var core_js_modules_web_timers_js__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_web_timers_js__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var F_DiscuzQ4_0_discuz_fe_web_node_modules_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/defineProperty.js");
/* harmony import */ var F_DiscuzQ4_0_discuz_fe_web_node_modules_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(F_DiscuzQ4_0_discuz_fe_web_node_modules_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! react/jsx-dev-runtime */ "./node_modules/react/jsx-dev-runtime.js");
/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var F_DiscuzQ4_0_discuz_fe_web_node_modules_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/toConsumableArray */ "./node_modules/@babel/runtime/helpers/toConsumableArray.js");
/* harmony import */ var F_DiscuzQ4_0_discuz_fe_web_node_modules_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(F_DiscuzQ4_0_discuz_fe_web_node_modules_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_10__);
/* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./index.scss */ "./components/virtual-list/pc/index.scss");
/* harmony import */ var _h5_item__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../h5/item */ "./components/virtual-list/h5/item.jsx");
/* harmony import */ var _h5_observe_item__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../h5/observe-item */ "./components/virtual-list/h5/observe-item.jsx");
/* harmony import */ var _BottomView__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../BottomView */ "./components/virtual-list/BottomView.jsx");
/* harmony import */ var _components_list_backto_top__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @components/list/backto-top */ "./components/list/backto-top.jsx");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../utils */ "./components/virtual-list/utils.js");
/* harmony import */ var react_virtualized__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! react-virtualized */ "./node_modules/react-virtualized/dist/es/index.js");
/* harmony import */ var mobx_react__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! mobx-react */ "./node_modules/mobx-react/dist/mobx-react.module.js");
/* harmony import */ var _layout_module_scss__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./layout.module.scss */ "./components/virtual-list/pc/layout.module.scss");











var _jsxFileName = "F:\\DiscuzQ4.0\\discuz-fe\\web\\components\\virtual-list\\pc\\index.jsx",
    _s = $RefreshSig$();

function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { F_DiscuzQ4_0_discuz_fe_web_node_modules_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default()(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }











var immutableHeightMap = {}; // 不可变的高度

var preScrollTop = 0;
var scrollTimer;
var loadData = false;
var startNum;
var stopNum; // 增强cache实例

function extendCache(instance) {
  instance.getDefaultHeight = function (_ref) {
    var index = _ref.index,
        data = _ref.data;

    if (!data) {
      return 0;
    } // 获取不可变的元素高度


    var immutableHeight = Object(_utils__WEBPACK_IMPORTED_MODULE_16__["getImmutableTypeHeight"])(data);
    immutableHeightMap[index] = immutableHeight;
    var variableHeight = 0;
    var rowHeight = immutableHeight + variableHeight + 10;
    return rowHeight;
  };

  instance.rowHeight = function (_ref2) {
    var index = _ref2.index,
        data = _ref2.data;

    var key = instance._keyMapper(index, 0);

    var height = instance._rowHeightCache[key] !== undefined ? instance._rowHeightCache[key] : instance.getDefaultHeight({
      index: index,
      data: data
    });
    return height;
  };
}

function Home(props, ref) {
  _s();

  var _listRef,
      _listRef$Grid,
      _props$list,
      _this = this;

  var cache = props.vlist.cache;
  var _props$platform = props.platform,
      platform = _props$platform === void 0 ? 'h5' : _props$platform,
      left = props.left,
      right = props.right,
      top = props.top,
      pageName = props.pageName;

  if (!cache) {
    cache = new react_virtualized__WEBPACK_IMPORTED_MODULE_17__["CellMeasurerCache"]({
      fixedWidth: true,
      show: false
    });
    extendCache(cache);
    props.vlist.setCache(cache);
  }

  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_10__["useState"])([{
    type: 'header'
  }].concat(F_DiscuzQ4_0_discuz_fe_web_node_modules_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_9___default()(props.list || []), [{
    type: 'footer'
  }])),
      list = _useState[0],
      setList = _useState[1];

  var listRef = Object(react__WEBPACK_IMPORTED_MODULE_10__["useRef"])(null);
  var rowCount = list.length;

  var _useState2 = Object(react__WEBPACK_IMPORTED_MODULE_10__["useState"])(0),
      scrollTop = _useState2[0],
      setScrollTop = _useState2[1];

  var _useState3 = Object(react__WEBPACK_IMPORTED_MODULE_10__["useState"])(true),
      flag = _useState3[0],
      setFlag = _useState3[1];

  Object(react__WEBPACK_IMPORTED_MODULE_10__["useEffect"])(function () {
    if (listRef) {
      listRef.scrollToPosition(props.vlist.home || 0);
    }
  }, [(_listRef = listRef) === null || _listRef === void 0 ? void 0 : (_listRef$Grid = _listRef.Grid) === null || _listRef$Grid === void 0 ? void 0 : _listRef$Grid.getTotalRowsHeight()]); // 监听list列表

  Object(react__WEBPACK_IMPORTED_MODULE_10__["useEffect"])(function () {
    setList([{
      type: 'header'
    }].concat(F_DiscuzQ4_0_discuz_fe_web_node_modules_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_9___default()(props.list || []), [{
      type: 'footer'
    }]));
  }, [props === null || props === void 0 ? void 0 : (_props$list = props.list) === null || _props$list === void 0 ? void 0 : _props$list.length]); // 监听置顶列表

  Object(react__WEBPACK_IMPORTED_MODULE_10__["useEffect"])(function () {
    _recomputeRowHeights(0);
  }, [props.sticks]); // 监听更新条数

  Object(react__WEBPACK_IMPORTED_MODULE_10__["useEffect"])(function () {
    // 有新内容更新虚拟列表数据
    if (!props.visible && _recomputeRowHeights) {
      (props.list || []).map(function (data, index) {
        return _recomputeRowHeights(index + 1, data);
      });
    } else _recomputeRowHeights(0);
  }, [props.visible]); // 重新计算指定的行高

  var _recomputeRowHeights = function recomputeRowHeights(index, updatedData) {
    var _listRef2, _listRef3;

    // TODO:先临时处理付费后，列表页面内容不更新的的问题
    if (updatedData) {
      list[index] = updatedData;
    }

    ((_listRef2 = listRef) === null || _listRef2 === void 0 ? void 0 : _listRef2.recomputeRowHeights) && ((_listRef3 = listRef) === null || _listRef3 === void 0 ? void 0 : _listRef3.recomputeRowHeights(index));
  }; // 获取每一行元素的高度


  var getRowHeight = function getRowHeight(_ref3) {
    var index = _ref3.index;
    var data = list[index];

    if (!data) {
      return 0;
    } // 头部
    // if (data.type === 'header') {
    //   return (
    //     getLogHeight(platform) +
    //     getTabsHeight(platform) +
    //     getSticksHeight(props.sticks, platform) +
    //     (props.visible ? 50 : 0)
    //   );
    // }
    // 底部


    if (data.type === 'footer') {
      return 60;
    }

    return cache.rowHeight({
      index: index,
      data: data
    });
  };

  var renderListItem = function renderListItem(type, data, _measure, _ref4) {
    var index = _ref4.index,
        key = _ref4.key,
        parent = _ref4.parent,
        style = _ref4.style;

    switch (type) {
      case 'header':
        return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_8__["jsxDEV"])(_h5_observe_item__WEBPACK_IMPORTED_MODULE_13__["default"], {
          measure: function measure() {
            _measure();
          },
          children: props.children
        }, key, false, {
          fileName: _jsxFileName,
          lineNumber: 135,
          columnNumber: 11
        }, _this);

      case 'footer':
        return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_8__["jsxDEV"])(_BottomView__WEBPACK_IMPORTED_MODULE_14__["default"], {
          noMore: props.noMore,
          isError: props.requestError,
          errorText: props.errorText,
          platform: props.platform
        }, void 0, false, {
          fileName: _jsxFileName,
          lineNumber: 146,
          columnNumber: 11
        }, _this);

      default:
        return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_8__["jsxDEV"])(_h5_item__WEBPACK_IMPORTED_MODULE_12__["default"], {
          data: data,
          isLast: index === (list === null || list === void 0 ? void 0 : list.length) - 2,
          measure: _measure,
          recomputeRowHeights: function recomputeRowHeights(data) {
            return _recomputeRowHeights(index, data);
          },
          enableCommentList: true,
          canPublish: props.canPublish
        }, key, false, {
          fileName: _jsxFileName,
          lineNumber: 155,
          columnNumber: 11
        }, _this);
    }
  };

  var rowRenderer = function rowRenderer(_ref5) {
    var index = _ref5.index,
        key = _ref5.key,
        parent = _ref5.parent,
        style = _ref5.style;
    var data = list[index];

    if (!data) {
      return '';
    }

    return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_8__["jsxDEV"])(react_virtualized__WEBPACK_IMPORTED_MODULE_17__["CellMeasurer"], {
      cache: cache,
      columnIndex: 0,
      rowIndex: index,
      parent: parent,
      children: function children(_ref6) {
        var measure = _ref6.measure,
            registerChild = _ref6.registerChild;
        return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_8__["jsxDEV"])("div", {
          ref: registerChild,
          style: style,
          className: _layout_module_scss__WEBPACK_IMPORTED_MODULE_19__["default"].center,
          "data-index": index,
          "data-id": data.threadId,
          "data-height": immutableHeightMap[index],
          children: renderListItem(data.type, data, measure, {
            index: index,
            key: "".concat(key, "-").concat(data._time || ''),
            parent: parent,
            style: style
          })
        }, "".concat(key, "-").concat(data.threadId, "-").concat(data._time || ''), false, {
          fileName: _jsxFileName,
          lineNumber: 178,
          columnNumber: 11
        }, _this);
      }
    }, "".concat(key, "-").concat(data._time || ''), false, {
      fileName: _jsxFileName,
      lineNumber: 176,
      columnNumber: 7
    }, _this);
  }; // 滚动事件


  var onScroll = function onScroll(_ref7) {
    var scrollTop = _ref7.scrollTop,
        clientHeight = _ref7.clientHeight,
        scrollHeight = _ref7.scrollHeight;
    setFlag(!(scrollTop < preScrollTop));
    preScrollTop = scrollTop;
    setScrollTop(scrollTop);
    clearTimeout(scrollTimer);
    scrollTimer = setTimeout(function () {
      setFlag(true);
    }, 100);
    props.onScroll && props.onScroll({
      scrollTop: scrollTop,
      clientHeight: clientHeight,
      scrollHeight: scrollHeight,
      startNum: startNum,
      stopNum: stopNum
    });

    if (scrollTop !== 0) {
      props.vlist.setPosition(scrollTop);
    }

    if (scrollTop + clientHeight + 3000 >= scrollHeight && !loadData && !props.noMore) {
      loadData = true;

      if (props.loadNextPage) {
        var promise = props.loadNextPage();

        if (promise) {
          promise["finally"](function () {
            loadData = false;
          });
        } else {
          loadData = false;
        }
      }
    }
  }; // 自定义扫描数据范围


  var overscanIndicesGetter = function overscanIndicesGetter(_ref8) {
    var cellCount = _ref8.cellCount,
        scrollDirection = _ref8.scrollDirection,
        overscanCellsCount = _ref8.overscanCellsCount,
        startIndex = _ref8.startIndex,
        stopIndex = _ref8.stopIndex;
    // startNum = startIndex;
    // stopNum = stopIndex;
    // // 往回滚动
    // if (scrollDirection === -1) {
    //   return {
    //     overscanStartIndex: Math.max(0, startIndex),
    //     overscanStopIndex: Math.min(cellCount - 1, stopIndex + 3),
    //   };
    // }
    // return {
    //   overscanStartIndex: Math.max(0, startIndex - overscanCellsCount),
    //   overscanStopIndex: Math.min(cellCount - 1, stopIndex),
    // };
    startNum = startIndex;
    stopNum = stopIndex;
    return {
      overscanStartIndex: Math.max(0, startIndex - overscanCellsCount),
      overscanStopIndex: Math.min(cellCount - 1, stopIndex + overscanCellsCount)
    };
  }; // 滚动到顶部


  var handleBacktoTop = function handleBacktoTop() {
    listRef && listRef.scrollToPosition(0);
    props.vlist.setPosition(0);
  };

  var isRowLoaded = function isRowLoaded(_ref9) {
    var index = _ref9.index;
    return !!list[index];
  };

  var loadMoreRows = function loadMoreRows() {
    return Promise.resolve();
  };

  return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_8__["jsxDEV"])("div", {
    className: "page",
    children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_8__["jsxDEV"])(react_virtualized__WEBPACK_IMPORTED_MODULE_17__["InfiniteLoader"], {
      isRowLoaded: isRowLoaded,
      loadMoreRows: loadMoreRows,
      rowCount: rowCount,
      children: function children(_ref10) {
        var _onRowsRendered = _ref10.onRowsRendered,
            registerChild = _ref10.registerChild;
        return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_8__["jsxDEV"])(react_virtualized__WEBPACK_IMPORTED_MODULE_17__["AutoSizer"], {
          className: "list",
          children: function children(_ref11) {
            var height = _ref11.height,
                width = _ref11.width;
            return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_8__["jsxDEV"])("div", {
              className: "".concat(_layout_module_scss__WEBPACK_IMPORTED_MODULE_19__["default"].list, " ").concat(_layout_module_scss__WEBPACK_IMPORTED_MODULE_19__["default"].fixed),
              children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_8__["jsxDEV"])("div", {
                className: "baselayout-left ".concat(_layout_module_scss__WEBPACK_IMPORTED_MODULE_19__["default"].left),
                children: typeof left === 'function' ? left(_objectSpread({}, props)) : left
              }, void 0, false, {
                fileName: _jsxFileName,
                lineNumber: 275,
                columnNumber: 19
              }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_8__["jsxDEV"])("div", {
                className: "".concat(_layout_module_scss__WEBPACK_IMPORTED_MODULE_19__["default"].top, " ").concat(_layout_module_scss__WEBPACK_IMPORTED_MODULE_19__["default"].center, " top"),
                children: top
              }, void 0, false, {
                fileName: _jsxFileName,
                lineNumber: 279,
                columnNumber: 19
              }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_8__["jsxDEV"])(react_virtualized__WEBPACK_IMPORTED_MODULE_17__["List"], {
                ref: function ref(_ref12) {
                  listRef = _ref12;
                  registerChild(_ref12);
                },
                onScroll: onScroll,
                deferredMeasurementCache: cache,
                height: height,
                overscanRowCount: 20,
                onRowsRendered: function onRowsRendered() {
                  _onRowsRendered.apply(void 0, arguments);
                },
                className: _layout_module_scss__WEBPACK_IMPORTED_MODULE_19__["default"].scrollArea // scrollTop={scrollTop}
                ,
                rowCount: rowCount,
                rowHeight: getRowHeight,
                rowRenderer: rowRenderer,
                width: width,
                overscanIndicesGetter: overscanIndicesGetter
              }, void 0, false, {
                fileName: _jsxFileName,
                lineNumber: 281,
                columnNumber: 19
              }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_8__["jsxDEV"])("div", {
                className: "baselayout-right ".concat(_layout_module_scss__WEBPACK_IMPORTED_MODULE_19__["default"].right),
                children: typeof right === 'function' ? right(_objectSpread({}, props)) : right
              }, void 0, false, {
                fileName: _jsxFileName,
                lineNumber: 302,
                columnNumber: 19
              }, _this), scrollTop > 100 && /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_8__["jsxDEV"])(_components_list_backto_top__WEBPACK_IMPORTED_MODULE_15__["default"], {
                onClick: handleBacktoTop
              }, void 0, false, {
                fileName: _jsxFileName,
                lineNumber: 306,
                columnNumber: 39
              }, _this)]
            }, void 0, true, {
              fileName: _jsxFileName,
              lineNumber: 274,
              columnNumber: 17
            }, _this);
          }
        }, void 0, false, {
          fileName: _jsxFileName,
          lineNumber: 271,
          columnNumber: 11
        }, _this);
      }
    }, void 0, false, {
      fileName: _jsxFileName,
      lineNumber: 269,
      columnNumber: 7
    }, this)
  }, void 0, false, {
    fileName: _jsxFileName,
    lineNumber: 268,
    columnNumber: 5
  }, this);
}

_s(Home, "xf6vlS8iDbpBx9HyeJ2zm77tnMQ=");

_c = Home;
/* harmony default export */ __webpack_exports__["default"] = (Object(mobx_react__WEBPACK_IMPORTED_MODULE_18__["inject"])('vlist')(Object(mobx_react__WEBPACK_IMPORTED_MODULE_18__["observer"])( /*#__PURE__*/Object(react__WEBPACK_IMPORTED_MODULE_10__["forwardRef"])(Home))));

var _c;

$RefreshReg$(_c, "Home");

;
    var _a, _b;
    // Legacy CSS implementations will `eval` browser code in a Node.js context
    // to extract CSS. For backwards compatibility, we need to check we're in a
    // browser context before continuing.
    if (typeof self !== 'undefined' &&
        // AMP / No-JS mode does not inject these helpers:
        '$RefreshHelpers$' in self) {
        var currentExports = module.__proto__.exports;
        var prevExports = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevExports) !== null && _b !== void 0 ? _b : null;
        // This cannot happen in MainTemplate because the exports mismatch between
        // templating and execution.
        self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.i);
        // A module can be accepted automatically based on its exports, e.g. when
        // it is a Refresh Boundary.
        if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {
            // Save the previous exports on update so we can compare the boundary
            // signatures.
            module.hot.dispose(function (data) {
                data.prevExports = currentExports;
            });
            // Unconditionally accept an update to this module, we'll check if it's
            // still a Refresh Boundary later.
            module.hot.accept();
            // This field is set when the previous version of this module was a
            // Refresh Boundary, letting us know we need to check for invalidation or
            // enqueue an update.
            if (prevExports !== null) {
                // A boundary can become ineligible if its exports are incompatible
                // with the previous exports.
                //
                // For example, if you add/remove/change exports, we'll want to
                // re-execute the importing modules, and force those components to
                // re-render. Similarly, if you convert a class component to a
                // function, we want to invalidate the boundary.
                if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevExports, currentExports)) {
                    module.hot.invalidate();
                }
                else {
                    self.$RefreshHelpers$.scheduleUpdate();
                }
            }
        }
        else {
            // Since we just executed the code for the module, it's possible that the
            // new exports made it ineligible for being a boundary.
            // We only care about the case when we were _previously_ a boundary,
            // because we already accepted this update (accidental side effect).
            var isNoLongerABoundary = prevExports !== null;
            if (isNoLongerABoundary) {
                module.hot.invalidate();
            }
        }
    }

/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../../node_modules/next/dist/compiled/webpack/harmony-module.js */ "./node_modules/next/dist/compiled/webpack/harmony-module.js")(module)))

/***/ }),

/***/ "./components/virtual-list/utils.js":
/*!******************************************!*\
  !*** ./components/virtual-list/utils.js ***!
  \******************************************/
/*! exports provided: getImmutableTypeHeight, getSticksHeight, getTabsHeight, getLogHeight */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* WEBPACK VAR INJECTION */(function(module) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getImmutableTypeHeight", function() { return getImmutableTypeHeight; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getSticksHeight", function() { return getSticksHeight; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getTabsHeight", function() { return getTabsHeight; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getLogHeight", function() { return getLogHeight; });
/* harmony import */ var core_js_modules_es_array_for_each_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! core-js/modules/es.array.for-each.js */ "./node_modules/core-js/modules/es.array.for-each.js");
/* harmony import */ var core_js_modules_es_array_for_each_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_for_each_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var core_js_modules_es_object_values_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! core-js/modules/es.object.values.js */ "./node_modules/core-js/modules/es.object.values.js");
/* harmony import */ var core_js_modules_es_object_values_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_values_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ "./node_modules/core-js/modules/web.dom-collections.for-each.js");
/* harmony import */ var core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_2__);



var typeHeight = {
  header: 70,
  // 头部
  title: 22 + 16,
  // 标题
  images: {
    // 图片
    1: 16 + 260,
    2: 16 + 260,
    3: 16 + 256,
    4: 16 + 260,
    5: 16 + 241
  },
  goods: 16 + 114,
  // 商品
  redPacket: 16 + 193,
  // 红包
  reward: 16 + 193,
  // 悬赏
  video: 16 + 193,
  // 视频
  audio: 16 + 56,
  // 音频
  file: 52 + 8,
  // 附件
  fileMarginTop: 16,
  shareLike: 16 + 24 + 8,
  // 分享点赞
  footer: 16 + 52,
  // 底部
  footerMarginTop: 16,
  payButton: 16 + 36
}; // 获取不可变的类型高度

var getImmutableTypeHeight = function getImmutableTypeHeight(data) {
  var _data$likeReward, _data$likeReward2, _data$likeReward3;

  var height = 0;
  if (!data) return height;
  var needPay = data.payType !== 0 && !data.paid;
  height = height + typeHeight.header;
  height = height + typeHeight.footer; // 标题

  if (data.title) {
    height = height + typeHeight.title;
  } // 分享点赞


  if ((_data$likeReward = data.likeReward) !== null && _data$likeReward !== void 0 && _data$likeReward.postCount || (_data$likeReward2 = data.likeReward) !== null && _data$likeReward2 !== void 0 && _data$likeReward2.shareCount || (_data$likeReward3 = data.likeReward) !== null && _data$likeReward3 !== void 0 && _data$likeReward3.likePayCount) {
    height = height + typeHeight.shareLike - typeHeight.footerMarginTop;
  }

  if (needPay) {
    height = height + typeHeight.payButton;
  }

  var content = data.content;
  var values = Object.values((content === null || content === void 0 ? void 0 : content.indexes) || {});
  values.forEach(function (item) {
    var _item$body, _item$body3, _item$body4;

    var tomId = item.tomId; // 统一做一次字符串转换

    var conversionTomID = "".concat(tomId);

    if (conversionTomID === '101' && (_item$body = item.body) !== null && _item$body !== void 0 && _item$body.length) {
      var _item$body2;

      // 图片
      var imgNum = (_item$body2 = item.body) === null || _item$body2 === void 0 ? void 0 : _item$body2.length;
      height = height + typeHeight.images[imgNum > 5 ? 5 : imgNum];
    } else if (conversionTomID === '102' && item.body) {
      // 音频
      height = height + typeHeight.audio;
    } else if (conversionTomID === '103' && item.body) {
      // 视频
      height = height + typeHeight.video;
    } else if (conversionTomID === '104' && item.body) {
      // 商品
      height = height + typeHeight.goods;
    } else if (conversionTomID === '105' && (_item$body3 = item.body) !== null && _item$body3 !== void 0 && _item$body3.length) {// 问答
      // height = height + typeHeight.reward;
    } else if (conversionTomID === '106' && item.body) {
      // 红包
      height = height + typeHeight.redPacket;
    } else if (conversionTomID === '107' && item.body) {
      // 悬赏
      height = height + typeHeight.reward;
    } else if (conversionTomID === '108' && (_item$body4 = item.body) !== null && _item$body4 !== void 0 && _item$body4.length) {
      // 附件
      height = height + typeHeight.fileMarginTop + typeHeight.file * item.body.length;
    }
  });
  return height;
};
var getSticksHeight = function getSticksHeight(list) {
  var platform = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'h5';
  var height = ((list === null || list === void 0 ? void 0 : list.length) || 0) * 37;
  height = height ? height + 10 : 0;

  if (platform === 'pc') {
    height = ((list === null || list === void 0 ? void 0 : list.length) || 0) * 38;
    height = height ? 8 + height + 8 : 0;
  }

  return height;
};
var getTabsHeight = function getTabsHeight() {
  var platform = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'h5';
  return platform === 'h5' ? 54 + 10 : 68;
};
var getLogHeight = function getLogHeight() {
  var platform = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'h5';
  return platform === 'h5' ? 165 : 10;
};

;
    var _a, _b;
    // Legacy CSS implementations will `eval` browser code in a Node.js context
    // to extract CSS. For backwards compatibility, we need to check we're in a
    // browser context before continuing.
    if (typeof self !== 'undefined' &&
        // AMP / No-JS mode does not inject these helpers:
        '$RefreshHelpers$' in self) {
        var currentExports = module.__proto__.exports;
        var prevExports = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevExports) !== null && _b !== void 0 ? _b : null;
        // This cannot happen in MainTemplate because the exports mismatch between
        // templating and execution.
        self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.i);
        // A module can be accepted automatically based on its exports, e.g. when
        // it is a Refresh Boundary.
        if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {
            // Save the previous exports on update so we can compare the boundary
            // signatures.
            module.hot.dispose(function (data) {
                data.prevExports = currentExports;
            });
            // Unconditionally accept an update to this module, we'll check if it's
            // still a Refresh Boundary later.
            module.hot.accept();
            // This field is set when the previous version of this module was a
            // Refresh Boundary, letting us know we need to check for invalidation or
            // enqueue an update.
            if (prevExports !== null) {
                // A boundary can become ineligible if its exports are incompatible
                // with the previous exports.
                //
                // For example, if you add/remove/change exports, we'll want to
                // re-execute the importing modules, and force those components to
                // re-render. Similarly, if you convert a class component to a
                // function, we want to invalidate the boundary.
                if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevExports, currentExports)) {
                    module.hot.invalidate();
                }
                else {
                    self.$RefreshHelpers$.scheduleUpdate();
                }
            }
        }
        else {
            // Since we just executed the code for the module, it's possible that the
            // new exports made it ineligible for being a boundary.
            // We only care about the case when we were _previously_ a boundary,
            // because we already accepted this update (accidental side effect).
            var isNoLongerABoundary = prevExports !== null;
            if (isNoLongerABoundary) {
                module.hot.invalidate();
            }
        }
    }

/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../node_modules/next/dist/compiled/webpack/harmony-module.js */ "./node_modules/next/dist/compiled/webpack/harmony-module.js")(module)))

/***/ }),

/***/ "./layout/index/pc/components/dynamic-vlist/index.jsx":
/*!************************************************************!*\
  !*** ./layout/index/pc/components/dynamic-vlist/index.jsx ***!
  \************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* WEBPACK VAR INJECTION */(function(module) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return DynamicVList; });
/* harmony import */ var core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! core-js/modules/es.array.concat.js */ "./node_modules/core-js/modules/es.array.concat.js");
/* harmony import */ var core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var core_js_modules_es_array_map_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! core-js/modules/es.array.map.js */ "./node_modules/core-js/modules/es.array.map.js");
/* harmony import */ var core_js_modules_es_array_map_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_map_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var core_js_modules_es_array_sort_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! core-js/modules/es.array.sort.js */ "./node_modules/core-js/modules/es.array.sort.js");
/* harmony import */ var core_js_modules_es_array_sort_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_sort_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var F_DiscuzQ4_0_discuz_fe_web_node_modules_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/classCallCheck.js");
/* harmony import */ var F_DiscuzQ4_0_discuz_fe_web_node_modules_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(F_DiscuzQ4_0_discuz_fe_web_node_modules_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var F_DiscuzQ4_0_discuz_fe_web_node_modules_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/createClass.js");
/* harmony import */ var F_DiscuzQ4_0_discuz_fe_web_node_modules_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(F_DiscuzQ4_0_discuz_fe_web_node_modules_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var F_DiscuzQ4_0_discuz_fe_web_node_modules_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/assertThisInitialized.js");
/* harmony import */ var F_DiscuzQ4_0_discuz_fe_web_node_modules_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(F_DiscuzQ4_0_discuz_fe_web_node_modules_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var F_DiscuzQ4_0_discuz_fe_web_node_modules_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/inherits.js");
/* harmony import */ var F_DiscuzQ4_0_discuz_fe_web_node_modules_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(F_DiscuzQ4_0_discuz_fe_web_node_modules_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var F_DiscuzQ4_0_discuz_fe_web_node_modules_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js");
/* harmony import */ var F_DiscuzQ4_0_discuz_fe_web_node_modules_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(F_DiscuzQ4_0_discuz_fe_web_node_modules_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var F_DiscuzQ4_0_discuz_fe_web_node_modules_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/getPrototypeOf.js");
/* harmony import */ var F_DiscuzQ4_0_discuz_fe_web_node_modules_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(F_DiscuzQ4_0_discuz_fe_web_node_modules_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! react/jsx-dev-runtime */ "./node_modules/react/jsx-dev-runtime.js");
/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_10__);
/* harmony import */ var _new_content__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../new-content */ "./layout/index/pc/components/new-content/index.jsx");
/* harmony import */ var _h5_components_top_news__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../h5/components/top-news */ "./layout/index/h5/components/top-news/index.jsx");
/* harmony import */ var _top_menu__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../top-menu */ "./layout/index/pc/components/top-menu/index.jsx");
/* harmony import */ var _discuzq_design_dist_components_button__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @discuzq/design/dist/components/button */ "./node_modules/@discuzq/design/dist/components/button/index.js");
/* harmony import */ var _discuzq_design_dist_components_button__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(_discuzq_design_dist_components_button__WEBPACK_IMPORTED_MODULE_14__);
/* harmony import */ var _components_thread__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @components/thread */ "./components/thread/index.jsx");
/* harmony import */ var _components_virtual_list_pc__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @components/virtual-list/pc */ "./components/virtual-list/pc/index.jsx");
/* harmony import */ var _index_module_scss__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./index.module.scss */ "./layout/index/pc/components/dynamic-vlist/index.module.scss");
/* harmony import */ var _common_plugin_hooks_plugin_index_topping__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! @common/plugin-hooks/plugin_index@topping */ "../common/plugin-hooks/plugin_index@topping/index.jsx");
/* harmony import */ var _common_plugin_hooks_plugin_index_tabs__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! @common/plugin-hooks/plugin_index@tabs */ "../common/plugin-hooks/plugin_index@tabs/index.jsx");
/* harmony import */ var _components_q_poster_s__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! @components/q-poster-s */ "./components/q-poster-s/index.jsx");











var _jsxFileName = "F:\\DiscuzQ4.0\\discuz-fe\\web\\layout\\index\\pc\\components\\dynamic-vlist\\index.jsx",
    _this = undefined;

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = F_DiscuzQ4_0_discuz_fe_web_node_modules_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_8___default()(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = F_DiscuzQ4_0_discuz_fe_web_node_modules_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_8___default()(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return F_DiscuzQ4_0_discuz_fe_web_node_modules_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_7___default()(this, result); }; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }










 // 引入海报



var TopFilterView = function TopFilterView(_ref) {
  var onFilterClick = _ref.onFilterClick,
      isShowDefault = _ref.isShowDefault,
      onPostThread = _ref.onPostThread,
      ishide = _ref.ishide,
      site = _ref.site;

  var component = /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_9__["jsxDEV"])("div", {
    className: _index_module_scss__WEBPACK_IMPORTED_MODULE_17__["default"].topBox,
    children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_9__["jsxDEV"])(_top_menu__WEBPACK_IMPORTED_MODULE_13__["default"], {
      onSubmit: onFilterClick,
      isShowDefault: isShowDefault
    }, void 0, false, {
      fileName: _jsxFileName,
      lineNumber: 18,
      columnNumber: 7
    }, _this)
  }, void 0, false, {
    fileName: _jsxFileName,
    lineNumber: 17,
    columnNumber: 5
  }, _this);

  var _changeFilter = function changeFilter(params) {
    var types = params.types,
        sort = params.sort,
        essence = params.essence,
        attention = params.attention,
        sequence = params.sequence;
    var result = {
      sequence: sequence,
      filter: {
        types: types,
        sort: sort,
        essence: essence,
        attention: attention
      }
    };
    onFilterClick(result);
  };

  return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_9__["jsxDEV"])("div", {
    className: _index_module_scss__WEBPACK_IMPORTED_MODULE_17__["default"].topWrapper,
    style: {
      visibility: ishide ? 'hidden' : 'visible'
    },
    children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_9__["jsxDEV"])(_common_plugin_hooks_plugin_index_tabs__WEBPACK_IMPORTED_MODULE_19__["default"], {
      changeFilter: function changeFilter(params) {
        return _changeFilter(params);
      },
      component: component
    }, void 0, false, {
      fileName: _jsxFileName,
      lineNumber: 38,
      columnNumber: 7
    }, _this)
  }, void 0, false, {
    fileName: _jsxFileName,
    lineNumber: 37,
    columnNumber: 5
  }, _this);
};

_c = TopFilterView;

var DynamicVList = /*#__PURE__*/function (_React$Component) {
  F_DiscuzQ4_0_discuz_fe_web_node_modules_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_6___default()(DynamicVList, _React$Component);

  var _super = _createSuper(DynamicVList);

  function DynamicVList(props) {
    var _this2;

    F_DiscuzQ4_0_discuz_fe_web_node_modules_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_3___default()(this, DynamicVList);

    _this2 = _super.call(this, props);

    _this2.renderContent = function (data) {
      var _this2$props = _this2.props,
          visible = _this2$props.visible,
          conNum = _this2$props.conNum,
          isShowDefault = _this2$props.isShowDefault,
          onFilterClick = _this2$props.onFilterClick,
          onPostThread = _this2$props.onPostThread,
          goRefresh = _this2$props.goRefresh,
          _this2$props$canPubli = _this2$props.canPublish,
          canPublish = _this2$props$canPubli === void 0 ? function () {} : _this2$props$canPubli;
      var sticks = data.sticks,
          threads = data.threads;

      var _ref2 = threads || {},
          pageData = _ref2.pageData;

      return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_9__["jsxDEV"])("div", {
        className: _index_module_scss__WEBPACK_IMPORTED_MODULE_17__["default"].indexContent,
        children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_9__["jsxDEV"])(TopFilterView, {
          onFilterClick: onFilterClick,
          onPostThread: onPostThread,
          isShowDefault: isShowDefault
        }, void 0, false, {
          fileName: _jsxFileName,
          lineNumber: 64,
          columnNumber: 9
        }, F_DiscuzQ4_0_discuz_fe_web_node_modules_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default()(_this2)), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_9__["jsxDEV"])("div", {
          className: _index_module_scss__WEBPACK_IMPORTED_MODULE_17__["default"].contnetTop,
          children: [(sticks === null || sticks === void 0 ? void 0 : sticks.length) > 0 && /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_9__["jsxDEV"])("div", {
            className: "".concat(_index_module_scss__WEBPACK_IMPORTED_MODULE_17__["default"].TopNewsBox, " ").concat(!visible && _index_module_scss__WEBPACK_IMPORTED_MODULE_17__["default"].noBorder),
            children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_9__["jsxDEV"])(_h5_components_top_news__WEBPACK_IMPORTED_MODULE_12__["default"], {
              data: sticks,
              platform: "pc",
              isShowBorder: false
            }, void 0, false, {
              fileName: _jsxFileName,
              lineNumber: 69,
              columnNumber: 15
            }, F_DiscuzQ4_0_discuz_fe_web_node_modules_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default()(_this2))
          }, void 0, false, {
            fileName: _jsxFileName,
            lineNumber: 68,
            columnNumber: 13
          }, F_DiscuzQ4_0_discuz_fe_web_node_modules_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default()(_this2)), visible && /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_9__["jsxDEV"])("div", {
            className: _index_module_scss__WEBPACK_IMPORTED_MODULE_17__["default"].topNewContent,
            children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_9__["jsxDEV"])(_new_content__WEBPACK_IMPORTED_MODULE_11__["default"], {
              visible: visible,
              conNum: conNum,
              goRefresh: goRefresh
            }, void 0, false, {
              fileName: _jsxFileName,
              lineNumber: 74,
              columnNumber: 15
            }, F_DiscuzQ4_0_discuz_fe_web_node_modules_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default()(_this2))
          }, void 0, false, {
            fileName: _jsxFileName,
            lineNumber: 73,
            columnNumber: 13
          }, F_DiscuzQ4_0_discuz_fe_web_node_modules_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default()(_this2))]
        }, void 0, true, {
          fileName: _jsxFileName,
          lineNumber: 66,
          columnNumber: 9
        }, F_DiscuzQ4_0_discuz_fe_web_node_modules_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default()(_this2)), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_9__["jsxDEV"])("div", {
          className: _index_module_scss__WEBPACK_IMPORTED_MODULE_17__["default"].themeBox,
          children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_9__["jsxDEV"])("div", {
            className: _index_module_scss__WEBPACK_IMPORTED_MODULE_17__["default"].themeItem,
            children: pageData === null || pageData === void 0 ? void 0 : pageData.map(function (item, index) {
              return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_9__["jsxDEV"])(_components_thread__WEBPACK_IMPORTED_MODULE_15__["default"], {
                className: _index_module_scss__WEBPACK_IMPORTED_MODULE_17__["default"].threadContent,
                data: item,
                enableCommentList: true,
                canPublish: canPublish
              }, "".concat(item.threadId, "-").concat(item.createdAt || '', "-").concat(item.updatedAt || ''), false, {
                fileName: _jsxFileName,
                lineNumber: 81,
                columnNumber: 15
              }, F_DiscuzQ4_0_discuz_fe_web_node_modules_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default()(_this2));
            })
          }, void 0, false, {
            fileName: _jsxFileName,
            lineNumber: 79,
            columnNumber: 11
          }, F_DiscuzQ4_0_discuz_fe_web_node_modules_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default()(_this2))
        }, void 0, false, {
          fileName: _jsxFileName,
          lineNumber: 78,
          columnNumber: 9
        }, F_DiscuzQ4_0_discuz_fe_web_node_modules_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default()(_this2))]
      }, void 0, true, {
        fileName: _jsxFileName,
        lineNumber: 63,
        columnNumber: 7
      }, F_DiscuzQ4_0_discuz_fe_web_node_modules_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default()(_this2));
    };

    _this2.renderTop = function () {
      var _this2$props2 = _this2.props,
          onFilterClick = _this2$props2.onFilterClick,
          isShowDefault = _this2$props2.isShowDefault,
          onPostThread = _this2$props2.onPostThread;
      return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_9__["jsxDEV"])(TopFilterView, {
        onFilterClick: onFilterClick,
        onPostThread: onPostThread,
        isShowDefault: isShowDefault,
        ishide: false,
        site: _this2.props.siteStore
      }, void 0, false, {
        fileName: _jsxFileName,
        lineNumber: 99,
        columnNumber: 7
      }, F_DiscuzQ4_0_discuz_fe_web_node_modules_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default()(_this2));
    };

    _this2.renderVlist = function (data) {
      var _siteStore$webConfig;

      var _this2$props3 = _this2.props,
          visible = _this2$props3.visible,
          conNum = _this2$props3.conNum,
          isShowDefault = _this2$props3.isShowDefault,
          onFilterClick = _this2$props3.onFilterClick,
          onPostThread = _this2$props3.onPostThread,
          goRefresh = _this2$props3.goRefresh,
          loadNextPage = _this2$props3.loadNextPage,
          renderRight = _this2$props3.renderRight,
          renderLeft = _this2$props3.renderLeft,
          requestError = _this2$props3.requestError,
          noMore = _this2$props3.noMore,
          errorText = _this2$props3.errorText,
          _this2$props3$onScrol = _this2$props3.onScroll,
          onScroll = _this2$props3$onScrol === void 0 ? function () {} : _this2$props3$onScrol,
          _this2$props3$canPubl = _this2$props3.canPublish,
          canPublish = _this2$props3$canPubl === void 0 ? function () {} : _this2$props3$canPubl;
      var sticks = data.sticks,
          threads = data.threads;

      var _ref3 = threads || {},
          pageData = _ref3.pageData;

      var siteStore = _this2.props.siteStore;

      var _ref4 = (siteStore === null || siteStore === void 0 ? void 0 : (_siteStore$webConfig = siteStore.webConfig) === null || _siteStore$webConfig === void 0 ? void 0 : _siteStore$webConfig.other) || {},
          _ref4$countThreads = _ref4.countThreads,
          countThreads = _ref4$countThreads === void 0 ? 0 : _ref4$countThreads;

      var toppingComponent = /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_9__["jsxDEV"])("div", {
        className: _index_module_scss__WEBPACK_IMPORTED_MODULE_17__["default"].contnetTop,
        children: [(sticks === null || sticks === void 0 ? void 0 : sticks.length) > 0 && /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_9__["jsxDEV"])("div", {
          className: "".concat(_index_module_scss__WEBPACK_IMPORTED_MODULE_17__["default"].TopNewsBox, " ").concat(!visible && _index_module_scss__WEBPACK_IMPORTED_MODULE_17__["default"].noBorder),
          children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_9__["jsxDEV"])(_h5_components_top_news__WEBPACK_IMPORTED_MODULE_12__["default"], {
            data: sticks,
            platform: "pc",
            isShowBorder: false
          }, void 0, false, {
            fileName: _jsxFileName,
            lineNumber: 135,
            columnNumber: 13
          }, F_DiscuzQ4_0_discuz_fe_web_node_modules_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default()(_this2))
        }, void 0, false, {
          fileName: _jsxFileName,
          lineNumber: 134,
          columnNumber: 11
        }, F_DiscuzQ4_0_discuz_fe_web_node_modules_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default()(_this2)), visible && /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_9__["jsxDEV"])("div", {
          className: _index_module_scss__WEBPACK_IMPORTED_MODULE_17__["default"].topNewContent,
          children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_9__["jsxDEV"])(_new_content__WEBPACK_IMPORTED_MODULE_11__["default"], {
            visible: visible,
            conNum: conNum,
            goRefresh: goRefresh
          }, void 0, false, {
            fileName: _jsxFileName,
            lineNumber: 140,
            columnNumber: 13
          }, F_DiscuzQ4_0_discuz_fe_web_node_modules_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default()(_this2))
        }, void 0, false, {
          fileName: _jsxFileName,
          lineNumber: 139,
          columnNumber: 11
        }, F_DiscuzQ4_0_discuz_fe_web_node_modules_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default()(_this2))]
      }, void 0, true, {
        fileName: _jsxFileName,
        lineNumber: 132,
        columnNumber: 7
      }, F_DiscuzQ4_0_discuz_fe_web_node_modules_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default()(_this2));

      return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_9__["jsxDEV"])(_components_virtual_list_pc__WEBPACK_IMPORTED_MODULE_16__["default"], {
        list: pageData,
        sticks: sticks,
        platform: "pc",
        pageName: "home",
        onScroll: onScroll,
        loadNextPage: loadNextPage,
        noMore: noMore,
        requestError: requestError,
        errorText: errorText,
        left: renderLeft(countThreads),
        right: renderRight() //top={this.renderTop()}
        ,
        visible: visible,
        canPublish: canPublish,
        renderItem: function renderItem(item, index, recomputeRowHeights, onContentHeightChange, measure) {
          return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_9__["jsxDEV"])(_components_thread__WEBPACK_IMPORTED_MODULE_15__["default"], {
            onContentHeightChange: measure,
            onImageReady: measure,
            onVideoReady: measure,
            data: item,
            className: _index_module_scss__WEBPACK_IMPORTED_MODULE_17__["default"].listItem,
            recomputeRowHeights: measure
          }, "".concat(item.threadId, "-").concat(item.updatedAt), false, {
            fileName: _jsxFileName,
            lineNumber: 164,
            columnNumber: 13
          }, F_DiscuzQ4_0_discuz_fe_web_node_modules_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default()(_this2));
        },
        children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_9__["jsxDEV"])(_components_q_poster_s__WEBPACK_IMPORTED_MODULE_20__["default"], {
          platform: "pc",
          isShowBorder: false
        }, void 0, false, {
          fileName: _jsxFileName,
          lineNumber: 177,
          columnNumber: 6
        }, F_DiscuzQ4_0_discuz_fe_web_node_modules_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default()(_this2)), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_9__["jsxDEV"])("div", {
          className: _index_module_scss__WEBPACK_IMPORTED_MODULE_17__["default"].indexContent,
          children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_9__["jsxDEV"])(TopFilterView, {
            onFilterClick: onFilterClick,
            onPostThread: onPostThread,
            isShowDefault: isShowDefault //ishide={true}
            ,
            site: _this2.props.siteStore
          }, void 0, false, {
            fileName: _jsxFileName,
            lineNumber: 179,
            columnNumber: 11
          }, F_DiscuzQ4_0_discuz_fe_web_node_modules_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default()(_this2)), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_9__["jsxDEV"])(_common_plugin_hooks_plugin_index_topping__WEBPACK_IMPORTED_MODULE_18__["default"], {
            component: toppingComponent,
            renderData: {
              sticks: sticks
            }
          }, void 0, false, {
            fileName: _jsxFileName,
            lineNumber: 187,
            columnNumber: 11
          }, F_DiscuzQ4_0_discuz_fe_web_node_modules_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default()(_this2))]
        }, void 0, true, {
          fileName: _jsxFileName,
          lineNumber: 178,
          columnNumber: 9
        }, F_DiscuzQ4_0_discuz_fe_web_node_modules_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default()(_this2))]
      }, void 0, true, {
        fileName: _jsxFileName,
        lineNumber: 147,
        columnNumber: 7
      }, F_DiscuzQ4_0_discuz_fe_web_node_modules_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default()(_this2));
    };

    return _this2;
  } // 中间 -- 筛选 置顶信息 是否新内容发布 主题内容


  F_DiscuzQ4_0_discuz_fe_web_node_modules_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_4___default()(DynamicVList, [{
    key: "render",
    value: function render() {
      var indexStore = this.props.indexStore;
      return this.props.enabledVList ? this.renderVlist(indexStore) : this.renderContent(indexStore);
    }
  }]);

  return DynamicVList;
}(react__WEBPACK_IMPORTED_MODULE_10___default.a.Component);



var _c;

$RefreshReg$(_c, "TopFilterView");

;
    var _a, _b;
    // Legacy CSS implementations will `eval` browser code in a Node.js context
    // to extract CSS. For backwards compatibility, we need to check we're in a
    // browser context before continuing.
    if (typeof self !== 'undefined' &&
        // AMP / No-JS mode does not inject these helpers:
        '$RefreshHelpers$' in self) {
        var currentExports = module.__proto__.exports;
        var prevExports = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevExports) !== null && _b !== void 0 ? _b : null;
        // This cannot happen in MainTemplate because the exports mismatch between
        // templating and execution.
        self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.i);
        // A module can be accepted automatically based on its exports, e.g. when
        // it is a Refresh Boundary.
        if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {
            // Save the previous exports on update so we can compare the boundary
            // signatures.
            module.hot.dispose(function (data) {
                data.prevExports = currentExports;
            });
            // Unconditionally accept an update to this module, we'll check if it's
            // still a Refresh Boundary later.
            module.hot.accept();
            // This field is set when the previous version of this module was a
            // Refresh Boundary, letting us know we need to check for invalidation or
            // enqueue an update.
            if (prevExports !== null) {
                // A boundary can become ineligible if its exports are incompatible
                // with the previous exports.
                //
                // For example, if you add/remove/change exports, we'll want to
                // re-execute the importing modules, and force those components to
                // re-render. Similarly, if you convert a class component to a
                // function, we want to invalidate the boundary.
                if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevExports, currentExports)) {
                    module.hot.invalidate();
                }
                else {
                    self.$RefreshHelpers$.scheduleUpdate();
                }
            }
        }
        else {
            // Since we just executed the code for the module, it's possible that the
            // new exports made it ineligible for being a boundary.
            // We only care about the case when we were _previously_ a boundary,
            // because we already accepted this update (accidental side effect).
            var isNoLongerABoundary = prevExports !== null;
            if (isNoLongerABoundary) {
                module.hot.invalidate();
            }
        }
    }

/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../../../../node_modules/next/dist/compiled/webpack/harmony-module.js */ "./node_modules/next/dist/compiled/webpack/harmony-module.js")(module)))

/***/ }),

/***/ "./layout/index/pc/components/new-content/index.jsx":
/*!**********************************************************!*\
  !*** ./layout/index/pc/components/new-content/index.jsx ***!
  \**********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* WEBPACK VAR INJECTION */(function(module) {/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ "./node_modules/react/jsx-dev-runtime.js");
/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _index_module_scss__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./index.module.scss */ "./layout/index/pc/components/new-content/index.module.scss");
/* harmony import */ var _discuzq_design_dist_components_spin__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @discuzq/design/dist/components/spin */ "./node_modules/@discuzq/design/dist/components/spin/index.js");
/* harmony import */ var _discuzq_design_dist_components_spin__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_discuzq_design_dist_components_spin__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _components_thread_utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @components/thread/utils */ "./components/thread/utils.js");


var _jsxFileName = "F:\\DiscuzQ4.0\\discuz-fe\\web\\layout\\index\\pc\\components\\new-content\\index.jsx",
    _this = undefined,
    _s = $RefreshSig$();





/**
 * 新发布内容
 * @prop {boolean} visible 是否显示新发布内容
 * @prop {number} conNum 有几条新发布内容
 * @prop {function} goRefresh 刷新点击事件
 */

var NewContent = function NewContent(props) {
  _s();

  var _props$visible = props.visible,
      visible = _props$visible === void 0 ? false : _props$visible,
      _props$conNum = props.conNum,
      conNum = _props$conNum === void 0 ? 0 : _props$conNum,
      _props$goRefresh = props.goRefresh,
      goRefresh = _props$goRefresh === void 0 ? _components_thread_utils__WEBPACK_IMPORTED_MODULE_4__["noop"] : _props$goRefresh;

  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_1__["useState"])(false),
      refresh = _useState[0],
      setRefresh = _useState[1];

  var handleRefresh = function handleRefresh() {
    setRefresh(true);
    goRefresh();
  };

  return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__["jsxDEV"])("div", {
    children: visible && /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__["jsxDEV"])("div", {
      className: _index_module_scss__WEBPACK_IMPORTED_MODULE_2__["default"].container,
      onClick: handleRefresh,
      children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__["jsxDEV"])("span", {
        className: _index_module_scss__WEBPACK_IMPORTED_MODULE_2__["default"].text,
        children: ["\u6709", conNum, "\u6761\u65B0\u53D1\u5E03\u7684\u5185\u5BB9"]
      }, void 0, true, {
        fileName: _jsxFileName,
        lineNumber: 31,
        columnNumber: 13
      }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__["jsxDEV"])("div", {
        className: _index_module_scss__WEBPACK_IMPORTED_MODULE_2__["default"].refreshBtn,
        children: "\u70B9\u51FB\u5237\u65B0"
      }, void 0, false, {
        fileName: _jsxFileName,
        lineNumber: 32,
        columnNumber: 13
      }, _this), refresh && /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__["jsxDEV"])(_discuzq_design_dist_components_spin__WEBPACK_IMPORTED_MODULE_3___default.a, {
        size: 14,
        className: _index_module_scss__WEBPACK_IMPORTED_MODULE_2__["default"].spin,
        type: "spinner"
      }, void 0, false, {
        fileName: _jsxFileName,
        lineNumber: 35,
        columnNumber: 25
      }, _this)]
    }, void 0, true, {
      fileName: _jsxFileName,
      lineNumber: 30,
      columnNumber: 11
    }, _this)
  }, void 0, false, {
    fileName: _jsxFileName,
    lineNumber: 27,
    columnNumber: 5
  }, _this);
};

_s(NewContent, "6+/yT37Nx+gEjvkQsqOCPSG4734=");

_c = NewContent;
/* harmony default export */ __webpack_exports__["default"] = (_c2 = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.memo(NewContent));

var _c, _c2;

$RefreshReg$(_c, "NewContent");
$RefreshReg$(_c2, "%default%");

;
    var _a, _b;
    // Legacy CSS implementations will `eval` browser code in a Node.js context
    // to extract CSS. For backwards compatibility, we need to check we're in a
    // browser context before continuing.
    if (typeof self !== 'undefined' &&
        // AMP / No-JS mode does not inject these helpers:
        '$RefreshHelpers$' in self) {
        var currentExports = module.__proto__.exports;
        var prevExports = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevExports) !== null && _b !== void 0 ? _b : null;
        // This cannot happen in MainTemplate because the exports mismatch between
        // templating and execution.
        self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.i);
        // A module can be accepted automatically based on its exports, e.g. when
        // it is a Refresh Boundary.
        if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {
            // Save the previous exports on update so we can compare the boundary
            // signatures.
            module.hot.dispose(function (data) {
                data.prevExports = currentExports;
            });
            // Unconditionally accept an update to this module, we'll check if it's
            // still a Refresh Boundary later.
            module.hot.accept();
            // This field is set when the previous version of this module was a
            // Refresh Boundary, letting us know we need to check for invalidation or
            // enqueue an update.
            if (prevExports !== null) {
                // A boundary can become ineligible if its exports are incompatible
                // with the previous exports.
                //
                // For example, if you add/remove/change exports, we'll want to
                // re-execute the importing modules, and force those components to
                // re-render. Similarly, if you convert a class component to a
                // function, we want to invalidate the boundary.
                if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevExports, currentExports)) {
                    module.hot.invalidate();
                }
                else {
                    self.$RefreshHelpers$.scheduleUpdate();
                }
            }
        }
        else {
            // Since we just executed the code for the module, it's possible that the
            // new exports made it ineligible for being a boundary.
            // We only care about the case when we were _previously_ a boundary,
            // because we already accepted this update (accidental side effect).
            var isNoLongerABoundary = prevExports !== null;
            if (isNoLongerABoundary) {
                module.hot.invalidate();
            }
        }
    }

/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../../../../node_modules/next/dist/compiled/webpack/harmony-module.js */ "./node_modules/next/dist/compiled/webpack/harmony-module.js")(module)))

/***/ }),

/***/ "./layout/index/pc/components/top-menu/data.js":
/*!*****************************************************!*\
  !*** ./layout/index/pc/components/top-menu/data.js ***!
  \*****************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* WEBPACK VAR INJECTION */(function(module) {/* harmony default export */ __webpack_exports__["default"] = ([{
  label: '所有',
  // 所有
  type: 'all',
  isActive: true
}, {
  label: '精华',
  // 精华
  type: 'essence',
  isActive: false
}, {
  label: '已关注',
  // 已关注
  type: 'attention',
  isActive: false
}, {
  label: '类型',
  type: 'types',
  children: [{
    label: '不限',
    value: '',
    isActive: true
  }]
}, {
  label: '排序',
  // 类型
  type: 'sort',
  isActive: false,
  children: [{
    label: '不限',
    // 不限
    value: '1',
    isActive: true
  }, {
    label: '发布时间',
    // 发布时间
    value: '1',
    isActive: false
  }, {
    label: '评论时间',
    // 更新时间
    value: '2',
    isActive: false
  }, {
    label: '热门内容',
    // 更新时间
    value: '3',
    isActive: false
  }]
}]);

;
    var _a, _b;
    // Legacy CSS implementations will `eval` browser code in a Node.js context
    // to extract CSS. For backwards compatibility, we need to check we're in a
    // browser context before continuing.
    if (typeof self !== 'undefined' &&
        // AMP / No-JS mode does not inject these helpers:
        '$RefreshHelpers$' in self) {
        var currentExports = module.__proto__.exports;
        var prevExports = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevExports) !== null && _b !== void 0 ? _b : null;
        // This cannot happen in MainTemplate because the exports mismatch between
        // templating and execution.
        self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.i);
        // A module can be accepted automatically based on its exports, e.g. when
        // it is a Refresh Boundary.
        if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {
            // Save the previous exports on update so we can compare the boundary
            // signatures.
            module.hot.dispose(function (data) {
                data.prevExports = currentExports;
            });
            // Unconditionally accept an update to this module, we'll check if it's
            // still a Refresh Boundary later.
            module.hot.accept();
            // This field is set when the previous version of this module was a
            // Refresh Boundary, letting us know we need to check for invalidation or
            // enqueue an update.
            if (prevExports !== null) {
                // A boundary can become ineligible if its exports are incompatible
                // with the previous exports.
                //
                // For example, if you add/remove/change exports, we'll want to
                // re-execute the importing modules, and force those components to
                // re-render. Similarly, if you convert a class component to a
                // function, we want to invalidate the boundary.
                if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevExports, currentExports)) {
                    module.hot.invalidate();
                }
                else {
                    self.$RefreshHelpers$.scheduleUpdate();
                }
            }
        }
        else {
            // Since we just executed the code for the module, it's possible that the
            // new exports made it ineligible for being a boundary.
            // We only care about the case when we were _previously_ a boundary,
            // because we already accepted this update (accidental side effect).
            var isNoLongerABoundary = prevExports !== null;
            if (isNoLongerABoundary) {
                module.hot.invalidate();
            }
        }
    }

/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../../../../node_modules/next/dist/compiled/webpack/harmony-module.js */ "./node_modules/next/dist/compiled/webpack/harmony-module.js")(module)))

/***/ }),

/***/ "./layout/index/pc/components/top-menu/index.jsx":
/*!*******************************************************!*\
  !*** ./layout/index/pc/components/top-menu/index.jsx ***!
  \*******************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* WEBPACK VAR INJECTION */(function(module) {/* harmony import */ var core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! core-js/modules/es.array.concat.js */ "./node_modules/core-js/modules/es.array.concat.js");
/* harmony import */ var core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var core_js_modules_es_array_for_each_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! core-js/modules/es.array.for-each.js */ "./node_modules/core-js/modules/es.array.for-each.js");
/* harmony import */ var core_js_modules_es_array_for_each_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_for_each_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var core_js_modules_es_array_index_of_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! core-js/modules/es.array.index-of.js */ "./node_modules/core-js/modules/es.array.index-of.js");
/* harmony import */ var core_js_modules_es_array_index_of_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_index_of_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var core_js_modules_es_array_map_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! core-js/modules/es.array.map.js */ "./node_modules/core-js/modules/es.array.map.js");
/* harmony import */ var core_js_modules_es_array_map_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_map_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var core_js_modules_es_array_slice_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! core-js/modules/es.array.slice.js */ "./node_modules/core-js/modules/es.array.slice.js");
/* harmony import */ var core_js_modules_es_array_slice_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_slice_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var core_js_modules_es_array_splice_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! core-js/modules/es.array.splice.js */ "./node_modules/core-js/modules/es.array.splice.js");
/* harmony import */ var core_js_modules_es_array_splice_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_splice_js__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var core_js_modules_es_parse_int_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! core-js/modules/es.parse-int.js */ "./node_modules/core-js/modules/es.parse-int.js");
/* harmony import */ var core_js_modules_es_parse_int_js__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_parse_int_js__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! core-js/modules/es.regexp.exec.js */ "./node_modules/core-js/modules/es.regexp.exec.js");
/* harmony import */ var core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var core_js_modules_es_string_split_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! core-js/modules/es.string.split.js */ "./node_modules/core-js/modules/es.string.split.js");
/* harmony import */ var core_js_modules_es_string_split_js__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_string_split_js__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ "./node_modules/core-js/modules/web.dom-collections.for-each.js");
/* harmony import */ var core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var F_DiscuzQ4_0_discuz_fe_web_node_modules_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/toConsumableArray */ "./node_modules/@babel/runtime/helpers/toConsumableArray.js");
/* harmony import */ var F_DiscuzQ4_0_discuz_fe_web_node_modules_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(F_DiscuzQ4_0_discuz_fe_web_node_modules_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_10__);
/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! react/jsx-dev-runtime */ "./node_modules/react/jsx-dev-runtime.js");
/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_11__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_12__);
/* harmony import */ var _index_module_scss__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./index.module.scss */ "./layout/index/pc/components/top-menu/index.module.scss");
/* harmony import */ var _discuzq_design_dist_components_menu__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @discuzq/design/dist/components/menu */ "./node_modules/@discuzq/design/dist/components/menu/index.js");
/* harmony import */ var _discuzq_design_dist_components_menu__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(_discuzq_design_dist_components_menu__WEBPACK_IMPORTED_MODULE_14__);
/* harmony import */ var _components_thread_utils__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @components/thread/utils */ "./components/thread/utils.js");
/* harmony import */ var _data__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./data */ "./layout/index/pc/components/top-menu/data.js");
/* harmony import */ var _common_utils_deep_clone__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @common/utils/deep-clone */ "../common/utils/deep-clone.js");
/* harmony import */ var mobx_react__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! mobx-react */ "./node_modules/mobx-react/dist/mobx-react.module.js");













var _jsxFileName = "F:\\DiscuzQ4.0\\discuz-fe\\web\\layout\\index\\pc\\components\\top-menu\\index.jsx",
    _this = undefined,
    _s = $RefreshSig$();








/**
 * 顶部选择菜单
 * @prop {object} data 筛选数据
 * @prop {number} filterIndex 筛选选中项index
 */

var Index = function Index(_ref) {
  _s();

  var _indexStore$threadTyp2;

  var indexStore = _ref.index,
      _ref$onSubmit = _ref.onSubmit,
      onSubmit = _ref$onSubmit === void 0 ? _components_thread_utils__WEBPACK_IMPORTED_MODULE_15__["noop"] : _ref$onSubmit,
      _ref$isShowDefault = _ref.isShowDefault,
      isShowDefault = _ref$isShowDefault === void 0 ? false : _ref$isShowDefault;

  var title = function title() {
    var name = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '导航';
    return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_11__["jsxDEV"])("span", {
      children: name
    }, void 0, false, {
      fileName: _jsxFileName,
      lineNumber: 17,
      columnNumber: 34
    }, _this);
  }; // 选中项index


  var newFilterData = _data__WEBPACK_IMPORTED_MODULE_16__["default"].slice();

  if (isShowDefault) {
    newFilterData.splice(1, 0, {
      label: '推荐',
      // 默认智能排序
      type: 'sequence',
      isActive: false
    });
  }

  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_12__["useState"])(Object(_common_utils_deep_clone__WEBPACK_IMPORTED_MODULE_17__["default"])(newFilterData)),
      dataSource = _useState[0],
      setDataSource = _useState[1];

  Object(react__WEBPACK_IMPORTED_MODULE_12__["useEffect"])(function () {
    var _indexStore$threadTyp;

    // fix: 选中子菜单时，subIndex形如a/b，下标无法直接使用
    var activeIndex = indexStore.topMenuIndex[0] || 0;
    newFilterData[0].isActive = false;
    newFilterData[activeIndex].isActive = true;
    newFilterData[newFilterData.length - 2].children = [{
      label: '不限',
      value: '',
      isActive: true
    }].concat(F_DiscuzQ4_0_discuz_fe_web_node_modules_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_10___default()(indexStore === null || indexStore === void 0 ? void 0 : (_indexStore$threadTyp = indexStore.threadTypelist) === null || _indexStore$threadTyp === void 0 ? void 0 : _indexStore$threadTyp.slice()));
    setDataSource(Object(_common_utils_deep_clone__WEBPACK_IMPORTED_MODULE_17__["default"])(newFilterData));
  }, [indexStore === null || indexStore === void 0 ? void 0 : (_indexStore$threadTyp2 = indexStore.threadTypelist) === null || _indexStore$threadTyp2 === void 0 ? void 0 : _indexStore$threadTyp2.length]); // 点击筛选项，获取目标值

  var onClick = function onClick(subIndex, index) {
    indexStore.topMenuIndex = subIndex;
    var newDataSource = Object(_common_utils_deep_clone__WEBPACK_IMPORTED_MODULE_17__["default"])(newFilterData); // 清除「所有」选项选中状态

    newDataSource[0].isActive = false;

    if ("".concat(index) !== '-1' && "".concat(subIndex).indexOf('/') !== -1) {
      var _newDataSource$index;

      // 点击二级菜单
      // 获取二级菜单的下标
      var i = parseInt(subIndex.split('/')[1]); // 若当前二级菜单不是选中状态，先清空之前操作，再赋值

      var subIndexItems = (_newDataSource$index = newDataSource[index]) === null || _newDataSource$index === void 0 ? void 0 : _newDataSource$index.children.map(function (item) {
        item.isActive = false;
        return item;
      });
      subIndexItems[i].isActive = true;
      var indexItem = newDataSource[index];
      indexItem.isActive = true;
    } else if ("".concat(index) === '-1') {
      // 点击一级菜单
      // 若当前一级菜单不是选中状态，先清空之前操作，再赋值
      var indexItems = newDataSource.map(function (item) {
        var _item$children;

        if (!((_item$children = item.children) !== null && _item$children !== void 0 && _item$children.length)) {
          item.isActive = false;
        }

        return item;
      });
      indexItems[subIndex].isActive = true;
    } else if (isNaN(index)) {
      newDataSource.map(function (item) {
        var _item$children2;

        if (!((_item$children2 = item.children) !== null && _item$children2 !== void 0 && _item$children2.length)) {
          item.isActive = false;
        }
      });
    }

    var result = handleResult(newDataSource);
    onSubmit(result);
    setDataSource(newDataSource);
  }; // 根据isActive为true的选项，组装参数


  var handleResult = function handleResult(data) {
    var result = {
      sequence: 0,
      filter: {
        sort: 1,
        attention: 0,
        types: [],
        essence: 0
      }
    };
    data.forEach(function (item) {
      var _item$children3;

      if (item.type === 'sequence') {
        result['sequence'] = item.isActive ? '1' : '0';
      } else if ((_item$children3 = item.children) !== null && _item$children3 !== void 0 && _item$children3.length) {
        item.children.forEach(function (sub) {
          if (sub.isActive && sub.value) {
            if (item.type === 'types' && sub.value) {
              result.filter[item.type] = [sub.value];
            } else {
              result.filter[item.type] = sub.value;
            }
          }
        });
      } else if (item.type !== 'all') {
        result.filter[item.type] = item.isActive ? '1' : '0';
      }
    });
    return result;
  };

  var resetLine = function resetLine(subIndex) {
    dataSource.map(function (item, index) {
      if ("".concat(index) === "".concat(subIndex)) {
        item.isActive = true;
      } else {
        item.isActive = false;
      }

      return item;
    });
  };

  var subActiveIndex = Object(react__WEBPACK_IMPORTED_MODULE_12__["useMemo"])(function () {
    if (indexStore.topMenuIndex.indexOf('/') !== -1) {
      var arr = indexStore.topMenuIndex.split('/');
      var subIndex = arr[0];
      resetLine(subIndex);
      return subIndex;
    } else {
      resetLine(indexStore.topMenuIndex);
    }
  }, [indexStore.topMenuIndex]);
  return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_11__["jsxDEV"])("div", {
    className: _index_module_scss__WEBPACK_IMPORTED_MODULE_13__["default"].container,
    children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_11__["jsxDEV"])(_discuzq_design_dist_components_menu__WEBPACK_IMPORTED_MODULE_14___default.a, {
      mode: "horizontal",
      menuTrigger: "hover",
      defaultActives: ["".concat(indexStore.topMenuIndex)],
      defaultSubmenuActives: ["".concat(subActiveIndex)],
      children: dataSource === null || dataSource === void 0 ? void 0 : dataSource.map(function (item, index) {
        return item.children ? /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_11__["jsxDEV"])(_discuzq_design_dist_components_menu__WEBPACK_IMPORTED_MODULE_14___default.a.SubMenu, {
          index: "".concat(index),
          title: title(item.label),
          style: {
            padding: '3px 10px',
            height: '55px'
          },
          onClick: onClick,
          children: item.children.map(function (secondItem, secondIndex) {
            return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_11__["jsxDEV"])(_discuzq_design_dist_components_menu__WEBPACK_IMPORTED_MODULE_14___default.a.Item, {
              divided: true,
              index: "".concat(index, "/").concat(secondIndex),
              style: {
                padding: '10px 20px'
              },
              onClick: onClick,
              children: secondItem.label
            }, "".concat(index, "/").concat(secondIndex), false, {
              fileName: _jsxFileName,
              lineNumber: 160,
              columnNumber: 25
            }, _this);
          })
        }, index, false, {
          fileName: _jsxFileName,
          lineNumber: 150,
          columnNumber: 17
        }, _this) : /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_11__["jsxDEV"])(_discuzq_design_dist_components_menu__WEBPACK_IMPORTED_MODULE_14___default.a.Item, {
          onClick: onClick,
          index: "".concat(index),
          style: index === 0 ? {
            padding: '0 10px 0 0'
          } : {
            padding: '0 10px'
          },
          children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_11__["jsxDEV"])("div", {
            className: _index_module_scss__WEBPACK_IMPORTED_MODULE_13__["default"].label,
            children: [item.label, item.isActive && /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_11__["jsxDEV"])("div", {
              className: _index_module_scss__WEBPACK_IMPORTED_MODULE_13__["default"].line
            }, void 0, false, {
              fileName: _jsxFileName,
              lineNumber: 176,
              columnNumber: 40
            }, _this)]
          }, void 0, true, {
            fileName: _jsxFileName,
            lineNumber: 174,
            columnNumber: 19
          }, _this)
        }, index, false, {
          fileName: _jsxFileName,
          lineNumber: 173,
          columnNumber: 17
        }, _this);
      })
    }, void 0, false, {
      fileName: _jsxFileName,
      lineNumber: 146,
      columnNumber: 7
    }, _this)
  }, void 0, false, {
    fileName: _jsxFileName,
    lineNumber: 144,
    columnNumber: 5
  }, _this);
};

_s(Index, "+FgLDJGoBFqKzdIYxnjNLWX+3vU=");

_c = Index;
/* harmony default export */ __webpack_exports__["default"] = (Object(mobx_react__WEBPACK_IMPORTED_MODULE_18__["inject"])('index')(Object(mobx_react__WEBPACK_IMPORTED_MODULE_18__["observer"])(Index)));

var _c;

$RefreshReg$(_c, "Index");

;
    var _a, _b;
    // Legacy CSS implementations will `eval` browser code in a Node.js context
    // to extract CSS. For backwards compatibility, we need to check we're in a
    // browser context before continuing.
    if (typeof self !== 'undefined' &&
        // AMP / No-JS mode does not inject these helpers:
        '$RefreshHelpers$' in self) {
        var currentExports = module.__proto__.exports;
        var prevExports = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevExports) !== null && _b !== void 0 ? _b : null;
        // This cannot happen in MainTemplate because the exports mismatch between
        // templating and execution.
        self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.i);
        // A module can be accepted automatically based on its exports, e.g. when
        // it is a Refresh Boundary.
        if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {
            // Save the previous exports on update so we can compare the boundary
            // signatures.
            module.hot.dispose(function (data) {
                data.prevExports = currentExports;
            });
            // Unconditionally accept an update to this module, we'll check if it's
            // still a Refresh Boundary later.
            module.hot.accept();
            // This field is set when the previous version of this module was a
            // Refresh Boundary, letting us know we need to check for invalidation or
            // enqueue an update.
            if (prevExports !== null) {
                // A boundary can become ineligible if its exports are incompatible
                // with the previous exports.
                //
                // For example, if you add/remove/change exports, we'll want to
                // re-execute the importing modules, and force those components to
                // re-render. Similarly, if you convert a class component to a
                // function, we want to invalidate the boundary.
                if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevExports, currentExports)) {
                    module.hot.invalidate();
                }
                else {
                    self.$RefreshHelpers$.scheduleUpdate();
                }
            }
        }
        else {
            // Since we just executed the code for the module, it's possible that the
            // new exports made it ineligible for being a boundary.
            // We only care about the case when we were _previously_ a boundary,
            // because we already accepted this update (accidental side effect).
            var isNoLongerABoundary = prevExports !== null;
            if (isNoLongerABoundary) {
                module.hot.invalidate();
            }
        }
    }

/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../../../../node_modules/next/dist/compiled/webpack/harmony-module.js */ "./node_modules/next/dist/compiled/webpack/harmony-module.js")(module)))

/***/ }),

/***/ "./node_modules/clsx/dist/clsx.m.js":
/*!******************************************!*\
  !*** ./node_modules/clsx/dist/clsx.m.js ***!
  \******************************************/
/*! exports provided: clsx, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "clsx", function() { return clsx; });
function r(e){var t,f,n="";if("string"==typeof e||"number"==typeof e)n+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(f=r(e[t]))&&(n&&(n+=" "),n+=f);else for(t in e)e[t]&&(n&&(n+=" "),n+=t);return n}function clsx(){for(var e,t,f=0,n="";f<arguments.length;)(e=arguments[f++])&&(t=r(e))&&(n&&(n+=" "),n+=t);return n}/* harmony default export */ __webpack_exports__["default"] = (clsx);

/***/ }),

/***/ "./node_modules/dom-helpers/esm/canUseDOM.js":
/*!***************************************************!*\
  !*** ./node_modules/dom-helpers/esm/canUseDOM.js ***!
  \***************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = (!!(typeof window !== 'undefined' && window.document && window.document.createElement));

/***/ }),

/***/ "./node_modules/dom-helpers/esm/scrollbarSize.js":
/*!*******************************************************!*\
  !*** ./node_modules/dom-helpers/esm/scrollbarSize.js ***!
  \*******************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return scrollbarSize; });
/* harmony import */ var _canUseDOM__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./canUseDOM */ "./node_modules/dom-helpers/esm/canUseDOM.js");

var size;
function scrollbarSize(recalc) {
  if (!size && size !== 0 || recalc) {
    if (_canUseDOM__WEBPACK_IMPORTED_MODULE_0__["default"]) {
      var scrollDiv = document.createElement('div');
      scrollDiv.style.position = 'absolute';
      scrollDiv.style.top = '-9999px';
      scrollDiv.style.width = '50px';
      scrollDiv.style.height = '50px';
      scrollDiv.style.overflow = 'scroll';
      document.body.appendChild(scrollDiv);
      size = scrollDiv.offsetWidth - scrollDiv.clientWidth;
      document.body.removeChild(scrollDiv);
    }
  }

  return size;
}

/***/ }),

/***/ "./node_modules/react-lifecycles-compat/react-lifecycles-compat.es.js":
/*!****************************************************************************!*\
  !*** ./node_modules/react-lifecycles-compat/react-lifecycles-compat.es.js ***!
  \****************************************************************************/
/*! exports provided: polyfill */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "polyfill", function() { return polyfill; });
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */

function componentWillMount() {
  // Call this.constructor.gDSFP to support sub-classes.
  var state = this.constructor.getDerivedStateFromProps(this.props, this.state);
  if (state !== null && state !== undefined) {
    this.setState(state);
  }
}

function componentWillReceiveProps(nextProps) {
  // Call this.constructor.gDSFP to support sub-classes.
  // Use the setState() updater to ensure state isn't stale in certain edge cases.
  function updater(prevState) {
    var state = this.constructor.getDerivedStateFromProps(nextProps, prevState);
    return state !== null && state !== undefined ? state : null;
  }
  // Binding "this" is important for shallow renderer support.
  this.setState(updater.bind(this));
}

function componentWillUpdate(nextProps, nextState) {
  try {
    var prevProps = this.props;
    var prevState = this.state;
    this.props = nextProps;
    this.state = nextState;
    this.__reactInternalSnapshotFlag = true;
    this.__reactInternalSnapshot = this.getSnapshotBeforeUpdate(
      prevProps,
      prevState
    );
  } finally {
    this.props = prevProps;
    this.state = prevState;
  }
}

// React may warn about cWM/cWRP/cWU methods being deprecated.
// Add a flag to suppress these warnings for this special case.
componentWillMount.__suppressDeprecationWarning = true;
componentWillReceiveProps.__suppressDeprecationWarning = true;
componentWillUpdate.__suppressDeprecationWarning = true;

function polyfill(Component) {
  var prototype = Component.prototype;

  if (!prototype || !prototype.isReactComponent) {
    throw new Error('Can only polyfill class components');
  }

  if (
    typeof Component.getDerivedStateFromProps !== 'function' &&
    typeof prototype.getSnapshotBeforeUpdate !== 'function'
  ) {
    return Component;
  }

  // If new component APIs are defined, "unsafe" lifecycles won't be called.
  // Error if any of these lifecycles are present,
  // Because they would work differently between older and newer (16.3+) versions of React.
  var foundWillMountName = null;
  var foundWillReceivePropsName = null;
  var foundWillUpdateName = null;
  if (typeof prototype.componentWillMount === 'function') {
    foundWillMountName = 'componentWillMount';
  } else if (typeof prototype.UNSAFE_componentWillMount === 'function') {
    foundWillMountName = 'UNSAFE_componentWillMount';
  }
  if (typeof prototype.componentWillReceiveProps === 'function') {
    foundWillReceivePropsName = 'componentWillReceiveProps';
  } else if (typeof prototype.UNSAFE_componentWillReceiveProps === 'function') {
    foundWillReceivePropsName = 'UNSAFE_componentWillReceiveProps';
  }
  if (typeof prototype.componentWillUpdate === 'function') {
    foundWillUpdateName = 'componentWillUpdate';
  } else if (typeof prototype.UNSAFE_componentWillUpdate === 'function') {
    foundWillUpdateName = 'UNSAFE_componentWillUpdate';
  }
  if (
    foundWillMountName !== null ||
    foundWillReceivePropsName !== null ||
    foundWillUpdateName !== null
  ) {
    var componentName = Component.displayName || Component.name;
    var newApiName =
      typeof Component.getDerivedStateFromProps === 'function'
        ? 'getDerivedStateFromProps()'
        : 'getSnapshotBeforeUpdate()';

    throw Error(
      'Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n' +
        componentName +
        ' uses ' +
        newApiName +
        ' but also contains the following legacy lifecycles:' +
        (foundWillMountName !== null ? '\n  ' + foundWillMountName : '') +
        (foundWillReceivePropsName !== null
          ? '\n  ' + foundWillReceivePropsName
          : '') +
        (foundWillUpdateName !== null ? '\n  ' + foundWillUpdateName : '') +
        '\n\nThe above lifecycles should be removed. Learn more about this warning here:\n' +
        'https://fb.me/react-async-component-lifecycle-hooks'
    );
  }

  // React <= 16.2 does not support static getDerivedStateFromProps.
  // As a workaround, use cWM and cWRP to invoke the new static lifecycle.
  // Newer versions of React will ignore these lifecycles if gDSFP exists.
  if (typeof Component.getDerivedStateFromProps === 'function') {
    prototype.componentWillMount = componentWillMount;
    prototype.componentWillReceiveProps = componentWillReceiveProps;
  }

  // React <= 16.2 does not support getSnapshotBeforeUpdate.
  // As a workaround, use cWU to invoke the new lifecycle.
  // Newer versions of React will ignore that lifecycle if gSBU exists.
  if (typeof prototype.getSnapshotBeforeUpdate === 'function') {
    if (typeof prototype.componentDidUpdate !== 'function') {
      throw new Error(
        'Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype'
      );
    }

    prototype.componentWillUpdate = componentWillUpdate;

    var componentDidUpdate = prototype.componentDidUpdate;

    prototype.componentDidUpdate = function componentDidUpdatePolyfill(
      prevProps,
      prevState,
      maybeSnapshot
    ) {
      // 16.3+ will not execute our will-update method;
      // It will pass a snapshot value to did-update though.
      // Older versions will require our polyfilled will-update value.
      // We need to handle both cases, but can't just check for the presence of "maybeSnapshot",
      // Because for <= 15.x versions this might be a "prevContext" object.
      // We also can't just check "__reactInternalSnapshot",
      // Because get-snapshot might return a falsy value.
      // So check for the explicit __reactInternalSnapshotFlag flag to determine behavior.
      var snapshot = this.__reactInternalSnapshotFlag
        ? this.__reactInternalSnapshot
        : maybeSnapshot;

      componentDidUpdate.call(this, prevProps, prevState, snapshot);
    };
  }

  return Component;
}




/***/ }),

/***/ "./node_modules/react-virtualized/dist/es/ArrowKeyStepper/ArrowKeyStepper.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/react-virtualized/dist/es/ArrowKeyStepper/ArrowKeyStepper.js ***!
  \***********************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/createClass.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/inherits.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/defineProperty.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var react_lifecycles_compat__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! react-lifecycles-compat */ "./node_modules/react-lifecycles-compat/react-lifecycles-compat.es.js");
/* harmony import */ var _Grid__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../Grid */ "./node_modules/react-virtualized/dist/es/Grid/index.js");
/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./types */ "./node_modules/react-virtualized/dist/es/ArrowKeyStepper/types.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_11__);








var _class, _temp;

function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }



/**
 * This HOC decorates a virtualized component and responds to arrow-key events by scrolling one row or column at a time.
 */

var ArrowKeyStepper = (_temp = _class =
/*#__PURE__*/
function (_React$PureComponent) {
  _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5___default()(ArrowKeyStepper, _React$PureComponent);

  function ArrowKeyStepper() {
    var _getPrototypeOf2;

    var _this;

    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this, ArrowKeyStepper);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2___default()(this, (_getPrototypeOf2 = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3___default()(ArrowKeyStepper)).call.apply(_getPrototypeOf2, [this].concat(args)));

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4___default()(_this), "state", {
      scrollToColumn: 0,
      scrollToRow: 0,
      instanceProps: {
        prevScrollToColumn: 0,
        prevScrollToRow: 0
      }
    });

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4___default()(_this), "_columnStartIndex", 0);

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4___default()(_this), "_columnStopIndex", 0);

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4___default()(_this), "_rowStartIndex", 0);

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4___default()(_this), "_rowStopIndex", 0);

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4___default()(_this), "_onKeyDown", function (event) {
      var _this$props = _this.props,
          columnCount = _this$props.columnCount,
          disabled = _this$props.disabled,
          mode = _this$props.mode,
          rowCount = _this$props.rowCount;

      if (disabled) {
        return;
      }

      var _this$_getScrollState = _this._getScrollState(),
          scrollToColumnPrevious = _this$_getScrollState.scrollToColumn,
          scrollToRowPrevious = _this$_getScrollState.scrollToRow;

      var _this$_getScrollState2 = _this._getScrollState(),
          scrollToColumn = _this$_getScrollState2.scrollToColumn,
          scrollToRow = _this$_getScrollState2.scrollToRow; // The above cases all prevent default event event behavior.
      // This is to keep the grid from scrolling after the snap-to update.


      switch (event.key) {
        case 'ArrowDown':
          scrollToRow = mode === 'cells' ? Math.min(scrollToRow + 1, rowCount - 1) : Math.min(_this._rowStopIndex + 1, rowCount - 1);
          break;

        case 'ArrowLeft':
          scrollToColumn = mode === 'cells' ? Math.max(scrollToColumn - 1, 0) : Math.max(_this._columnStartIndex - 1, 0);
          break;

        case 'ArrowRight':
          scrollToColumn = mode === 'cells' ? Math.min(scrollToColumn + 1, columnCount - 1) : Math.min(_this._columnStopIndex + 1, columnCount - 1);
          break;

        case 'ArrowUp':
          scrollToRow = mode === 'cells' ? Math.max(scrollToRow - 1, 0) : Math.max(_this._rowStartIndex - 1, 0);
          break;
      }

      if (scrollToColumn !== scrollToColumnPrevious || scrollToRow !== scrollToRowPrevious) {
        event.preventDefault();

        _this._updateScrollState({
          scrollToColumn: scrollToColumn,
          scrollToRow: scrollToRow
        });
      }
    });

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4___default()(_this), "_onSectionRendered", function (_ref) {
      var columnStartIndex = _ref.columnStartIndex,
          columnStopIndex = _ref.columnStopIndex,
          rowStartIndex = _ref.rowStartIndex,
          rowStopIndex = _ref.rowStopIndex;
      _this._columnStartIndex = columnStartIndex;
      _this._columnStopIndex = columnStopIndex;
      _this._rowStartIndex = rowStartIndex;
      _this._rowStopIndex = rowStopIndex;
    });

    return _this;
  }

  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(ArrowKeyStepper, [{
    key: "setScrollIndexes",
    value: function setScrollIndexes(_ref2) {
      var scrollToColumn = _ref2.scrollToColumn,
          scrollToRow = _ref2.scrollToRow;
      this.setState({
        scrollToRow: scrollToRow,
        scrollToColumn: scrollToColumn
      });
    }
  }, {
    key: "render",
    value: function render() {
      var _this$props2 = this.props,
          className = _this$props2.className,
          children = _this$props2.children;

      var _this$_getScrollState3 = this._getScrollState(),
          scrollToColumn = _this$_getScrollState3.scrollToColumn,
          scrollToRow = _this$_getScrollState3.scrollToRow;

      return react__WEBPACK_IMPORTED_MODULE_7__["createElement"]("div", {
        className: className,
        onKeyDown: this._onKeyDown
      }, children({
        onSectionRendered: this._onSectionRendered,
        scrollToColumn: scrollToColumn,
        scrollToRow: scrollToRow
      }));
    }
  }, {
    key: "_getScrollState",
    value: function _getScrollState() {
      return this.props.isControlled ? this.props : this.state;
    }
  }, {
    key: "_updateScrollState",
    value: function _updateScrollState(_ref3) {
      var scrollToColumn = _ref3.scrollToColumn,
          scrollToRow = _ref3.scrollToRow;
      var _this$props3 = this.props,
          isControlled = _this$props3.isControlled,
          onScrollToChange = _this$props3.onScrollToChange;

      if (typeof onScrollToChange === 'function') {
        onScrollToChange({
          scrollToColumn: scrollToColumn,
          scrollToRow: scrollToRow
        });
      }

      if (!isControlled) {
        this.setState({
          scrollToColumn: scrollToColumn,
          scrollToRow: scrollToRow
        });
      }
    }
  }], [{
    key: "getDerivedStateFromProps",
    value: function getDerivedStateFromProps(nextProps, prevState) {
      if (nextProps.isControlled) {
        return {};
      }

      if (nextProps.scrollToColumn !== prevState.instanceProps.prevScrollToColumn || nextProps.scrollToRow !== prevState.instanceProps.prevScrollToRow) {
        return _objectSpread({}, prevState, {
          scrollToColumn: nextProps.scrollToColumn,
          scrollToRow: nextProps.scrollToRow,
          instanceProps: {
            prevScrollToColumn: nextProps.scrollToColumn,
            prevScrollToRow: nextProps.scrollToRow
          }
        });
      }

      return {};
    }
  }]);

  return ArrowKeyStepper;
}(react__WEBPACK_IMPORTED_MODULE_7__["PureComponent"]), _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(_class, "propTypes",  false ? undefined : {
  "children": prop_types__WEBPACK_IMPORTED_MODULE_11___default.a.func.isRequired,
  "className": prop_types__WEBPACK_IMPORTED_MODULE_11___default.a.string,
  "columnCount": prop_types__WEBPACK_IMPORTED_MODULE_11___default.a.number.isRequired,
  "disabled": prop_types__WEBPACK_IMPORTED_MODULE_11___default.a.bool.isRequired,
  "isControlled": prop_types__WEBPACK_IMPORTED_MODULE_11___default.a.bool.isRequired,
  "mode": prop_types__WEBPACK_IMPORTED_MODULE_11___default.a.oneOf(["cells", "edges"]).isRequired,
  "onScrollToChange": prop_types__WEBPACK_IMPORTED_MODULE_11___default.a.func,
  "rowCount": prop_types__WEBPACK_IMPORTED_MODULE_11___default.a.number.isRequired,
  "scrollToColumn": prop_types__WEBPACK_IMPORTED_MODULE_11___default.a.number.isRequired,
  "scrollToRow": prop_types__WEBPACK_IMPORTED_MODULE_11___default.a.number.isRequired
}), _temp);

_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(ArrowKeyStepper, "defaultProps", {
  disabled: false,
  isControlled: false,
  mode: 'edges',
  scrollToColumn: 0,
  scrollToRow: 0
});

Object(react_lifecycles_compat__WEBPACK_IMPORTED_MODULE_8__["polyfill"])(ArrowKeyStepper);
/* harmony default export */ __webpack_exports__["default"] = (ArrowKeyStepper);




/***/ }),

/***/ "./node_modules/react-virtualized/dist/es/ArrowKeyStepper/index.js":
/*!*************************************************************************!*\
  !*** ./node_modules/react-virtualized/dist/es/ArrowKeyStepper/index.js ***!
  \*************************************************************************/
/*! exports provided: default, ArrowKeyStepper, bpfrpt_proptype_ScrollIndices */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _ArrowKeyStepper__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ArrowKeyStepper */ "./node_modules/react-virtualized/dist/es/ArrowKeyStepper/ArrowKeyStepper.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "default", function() { return _ArrowKeyStepper__WEBPACK_IMPORTED_MODULE_0__["default"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ArrowKeyStepper", function() { return _ArrowKeyStepper__WEBPACK_IMPORTED_MODULE_0__["default"]; });

/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./types */ "./node_modules/react-virtualized/dist/es/ArrowKeyStepper/types.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "bpfrpt_proptype_ScrollIndices", function() { return _types__WEBPACK_IMPORTED_MODULE_1__["bpfrpt_proptype_ScrollIndices"]; });






/***/ }),

/***/ "./node_modules/react-virtualized/dist/es/ArrowKeyStepper/types.js":
/*!*************************************************************************!*\
  !*** ./node_modules/react-virtualized/dist/es/ArrowKeyStepper/types.js ***!
  \*************************************************************************/
/*! exports provided: bpfrpt_proptype_ScrollIndices */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "bpfrpt_proptype_ScrollIndices", function() { return bpfrpt_proptype_ScrollIndices; });
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_0__);
var bpfrpt_proptype_ScrollIndices =  false ? undefined : {
  "scrollToColumn": prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.number.isRequired,
  "scrollToRow": prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.number.isRequired
};



/***/ }),

/***/ "./node_modules/react-virtualized/dist/es/AutoSizer/AutoSizer.js":
/*!***********************************************************************!*\
  !*** ./node_modules/react-virtualized/dist/es/AutoSizer/AutoSizer.js ***!
  \***********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return AutoSizer; });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/createClass.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/inherits.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/defineProperty.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var _vendor_detectElementResize__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../vendor/detectElementResize */ "./node_modules/react-virtualized/dist/es/vendor/detectElementResize.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_9__);








var _class, _temp;

function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }



var AutoSizer = (_temp = _class =
/*#__PURE__*/
function (_React$Component) {
  _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5___default()(AutoSizer, _React$Component);

  function AutoSizer() {
    var _getPrototypeOf2;

    var _this;

    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this, AutoSizer);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2___default()(this, (_getPrototypeOf2 = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3___default()(AutoSizer)).call.apply(_getPrototypeOf2, [this].concat(args)));

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4___default()(_this), "state", {
      height: _this.props.defaultHeight || 0,
      width: _this.props.defaultWidth || 0
    });

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4___default()(_this), "_parentNode", void 0);

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4___default()(_this), "_autoSizer", void 0);

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4___default()(_this), "_window", void 0);

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4___default()(_this), "_detectElementResize", void 0);

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4___default()(_this), "_onResize", function () {
      var _this$props = _this.props,
          disableHeight = _this$props.disableHeight,
          disableWidth = _this$props.disableWidth,
          onResize = _this$props.onResize;

      if (_this._parentNode) {
        // Guard against AutoSizer component being removed from the DOM immediately after being added.
        // This can result in invalid style values which can result in NaN values if we don't handle them.
        // See issue #150 for more context.
        var height = _this._parentNode.offsetHeight || 0;
        var width = _this._parentNode.offsetWidth || 0;
        var win = _this._window || window;
        var style = win.getComputedStyle(_this._parentNode) || {};
        var paddingLeft = parseInt(style.paddingLeft, 10) || 0;
        var paddingRight = parseInt(style.paddingRight, 10) || 0;
        var paddingTop = parseInt(style.paddingTop, 10) || 0;
        var paddingBottom = parseInt(style.paddingBottom, 10) || 0;
        var newHeight = height - paddingTop - paddingBottom;
        var newWidth = width - paddingLeft - paddingRight;

        if (!disableHeight && _this.state.height !== newHeight || !disableWidth && _this.state.width !== newWidth) {
          _this.setState({
            height: height - paddingTop - paddingBottom,
            width: width - paddingLeft - paddingRight
          });

          onResize({
            height: height,
            width: width
          });
        }
      }
    });

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4___default()(_this), "_setRef", function (autoSizer) {
      _this._autoSizer = autoSizer;
    });

    return _this;
  }

  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(AutoSizer, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      var nonce = this.props.nonce;

      if (this._autoSizer && this._autoSizer.parentNode && this._autoSizer.parentNode.ownerDocument && this._autoSizer.parentNode.ownerDocument.defaultView && this._autoSizer.parentNode instanceof this._autoSizer.parentNode.ownerDocument.defaultView.HTMLElement) {
        // Delay access of parentNode until mount.
        // This handles edge-cases where the component has already been unmounted before its ref has been set,
        // As well as libraries like react-lite which have a slightly different lifecycle.
        this._parentNode = this._autoSizer.parentNode;
        this._window = this._autoSizer.parentNode.ownerDocument.defaultView; // Defer requiring resize handler in order to support server-side rendering.
        // See issue #41

        this._detectElementResize = Object(_vendor_detectElementResize__WEBPACK_IMPORTED_MODULE_8__["default"])(nonce, this._window);

        this._detectElementResize.addResizeListener(this._parentNode, this._onResize);

        this._onResize();
      }
    }
  }, {
    key: "componentWillUnmount",
    value: function componentWillUnmount() {
      if (this._detectElementResize && this._parentNode) {
        this._detectElementResize.removeResizeListener(this._parentNode, this._onResize);
      }
    }
  }, {
    key: "render",
    value: function render() {
      var _this$props2 = this.props,
          children = _this$props2.children,
          className = _this$props2.className,
          disableHeight = _this$props2.disableHeight,
          disableWidth = _this$props2.disableWidth,
          style = _this$props2.style;
      var _this$state = this.state,
          height = _this$state.height,
          width = _this$state.width; // Outer div should not force width/height since that may prevent containers from shrinking.
      // Inner component should overflow and use calculated width/height.
      // See issue #68 for more information.

      var outerStyle = {
        overflow: 'visible'
      };
      var childParams = {};

      if (!disableHeight) {
        outerStyle.height = 0;
        childParams.height = height;
      }

      if (!disableWidth) {
        outerStyle.width = 0;
        childParams.width = width;
      }
      /**
       * TODO: Avoid rendering children before the initial measurements have been collected.
       * At best this would just be wasting cycles.
       * Add this check into version 10 though as it could break too many ref callbacks in version 9.
       * Note that if default width/height props were provided this would still work with SSR.
      if (
        height !== 0 &&
        width !== 0
      ) {
        child = children({ height, width })
      }
      */


      return react__WEBPACK_IMPORTED_MODULE_7__["createElement"]("div", {
        className: className,
        ref: this._setRef,
        style: _objectSpread({}, outerStyle, {}, style)
      }, children(childParams));
    }
  }]);

  return AutoSizer;
}(react__WEBPACK_IMPORTED_MODULE_7__["Component"]), _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(_class, "propTypes",  false ? undefined : {
  /** Function responsible for rendering children.*/
  "children": prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.func.isRequired,

  /** Optional custom CSS class name to attach to root AutoSizer element.  */
  "className": prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.string,

  /** Default height to use for initial render; useful for SSR */
  "defaultHeight": prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.number,

  /** Default width to use for initial render; useful for SSR */
  "defaultWidth": prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.number,

  /** Disable dynamic :height property */
  "disableHeight": prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.bool.isRequired,

  /** Disable dynamic :width property */
  "disableWidth": prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.bool.isRequired,

  /** Nonce of the inlined stylesheet for Content Security Policy */
  "nonce": prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.string,

  /** Callback to be invoked on-resize */
  "onResize": prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.func.isRequired,

  /** Optional inline style */
  "style": prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.object
}), _temp);

_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(AutoSizer, "defaultProps", {
  onResize: function onResize() {},
  disableHeight: false,
  disableWidth: false,
  style: {}
});




/***/ }),

/***/ "./node_modules/react-virtualized/dist/es/AutoSizer/index.js":
/*!*******************************************************************!*\
  !*** ./node_modules/react-virtualized/dist/es/AutoSizer/index.js ***!
  \*******************************************************************/
/*! exports provided: default, AutoSizer */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _AutoSizer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./AutoSizer */ "./node_modules/react-virtualized/dist/es/AutoSizer/AutoSizer.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "default", function() { return _AutoSizer__WEBPACK_IMPORTED_MODULE_0__["default"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "AutoSizer", function() { return _AutoSizer__WEBPACK_IMPORTED_MODULE_0__["default"]; });




/***/ }),

/***/ "./node_modules/react-virtualized/dist/es/CellMeasurer/CellMeasurer.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/react-virtualized/dist/es/CellMeasurer/CellMeasurer.js ***!
  \*****************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return CellMeasurer; });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/createClass.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/inherits.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/defineProperty.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! react-dom */ "./node_modules/react-dom/index.js");
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./types */ "./node_modules/react-virtualized/dist/es/CellMeasurer/types.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_10__);








var _class, _temp;




/**
 * Wraps a cell and measures its rendered content.
 * Measurements are stored in a per-cell cache.
 * Cached-content is not be re-measured.
 */
var CellMeasurer = (_temp = _class =
/*#__PURE__*/
function (_React$PureComponent) {
  _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5___default()(CellMeasurer, _React$PureComponent);

  function CellMeasurer() {
    var _getPrototypeOf2;

    var _this;

    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this, CellMeasurer);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2___default()(this, (_getPrototypeOf2 = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3___default()(CellMeasurer)).call.apply(_getPrototypeOf2, [this].concat(args)));

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4___default()(_this), "_child", void 0);

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4___default()(_this), "_measure", function () {
      var _this$props = _this.props,
          cache = _this$props.cache,
          _this$props$columnInd = _this$props.columnIndex,
          columnIndex = _this$props$columnInd === void 0 ? 0 : _this$props$columnInd,
          parent = _this$props.parent,
          _this$props$rowIndex = _this$props.rowIndex,
          rowIndex = _this$props$rowIndex === void 0 ? _this.props.index || 0 : _this$props$rowIndex;

      var _this$_getCellMeasure = _this._getCellMeasurements(),
          height = _this$_getCellMeasure.height,
          width = _this$_getCellMeasure.width;

      if (height !== cache.getHeight(rowIndex, columnIndex) || width !== cache.getWidth(rowIndex, columnIndex)) {
        cache.set(rowIndex, columnIndex, width, height);

        if (parent && typeof parent.recomputeGridSize === 'function') {
          parent.recomputeGridSize({
            columnIndex: columnIndex,
            rowIndex: rowIndex
          });
        }
      }
    });

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4___default()(_this), "_registerChild", function (element) {
      if (element && !(element instanceof Element)) {
        console.warn('CellMeasurer registerChild expects to be passed Element or null');
      }

      _this._child = element;

      if (element) {
        _this._maybeMeasureCell();
      }
    });

    return _this;
  }

  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(CellMeasurer, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      this._maybeMeasureCell();
    }
  }, {
    key: "componentDidUpdate",
    value: function componentDidUpdate() {
      this._maybeMeasureCell();
    }
  }, {
    key: "render",
    value: function render() {
      var children = this.props.children;
      return typeof children === 'function' ? children({
        measure: this._measure,
        registerChild: this._registerChild
      }) : children;
    }
  }, {
    key: "_getCellMeasurements",
    value: function _getCellMeasurements() {
      var cache = this.props.cache;
      var node = this._child || Object(react_dom__WEBPACK_IMPORTED_MODULE_8__["findDOMNode"])(this); // TODO Check for a bad combination of fixedWidth and missing numeric width or vice versa with height

      if (node && node.ownerDocument && node.ownerDocument.defaultView && node instanceof node.ownerDocument.defaultView.HTMLElement) {
        var styleWidth = node.style.width;
        var styleHeight = node.style.height; // If we are re-measuring a cell that has already been measured,
        // It will have a hard-coded width/height from the previous measurement.
        // The fact that we are measuring indicates this measurement is probably stale,
        // So explicitly clear it out (eg set to "auto") so we can recalculate.
        // See issue #593 for more info.
        // Even if we are measuring initially- if we're inside of a MultiGrid component,
        // Explicitly clear width/height before measuring to avoid being tainted by another Grid.
        // eg top/left Grid renders before bottom/right Grid
        // Since the CellMeasurerCache is shared between them this taints derived cell size values.

        if (!cache.hasFixedWidth()) {
          node.style.width = 'auto';
        }

        if (!cache.hasFixedHeight()) {
          node.style.height = 'auto';
        }

        var height = Math.ceil(node.offsetHeight);
        var width = Math.ceil(node.offsetWidth); // Reset after measuring to avoid breaking styles; see #660

        if (styleWidth) {
          node.style.width = styleWidth;
        }

        if (styleHeight) {
          node.style.height = styleHeight;
        }

        return {
          height: height,
          width: width
        };
      } else {
        return {
          height: 0,
          width: 0
        };
      }
    }
  }, {
    key: "_maybeMeasureCell",
    value: function _maybeMeasureCell() {
      var _this$props2 = this.props,
          cache = _this$props2.cache,
          _this$props2$columnIn = _this$props2.columnIndex,
          columnIndex = _this$props2$columnIn === void 0 ? 0 : _this$props2$columnIn,
          parent = _this$props2.parent,
          _this$props2$rowIndex = _this$props2.rowIndex,
          rowIndex = _this$props2$rowIndex === void 0 ? this.props.index || 0 : _this$props2$rowIndex;

      if (!cache.has(rowIndex, columnIndex)) {
        var _this$_getCellMeasure2 = this._getCellMeasurements(),
            height = _this$_getCellMeasure2.height,
            width = _this$_getCellMeasure2.width;

        cache.set(rowIndex, columnIndex, width, height); // If size has changed, let Grid know to re-render.

        if (parent && typeof parent.invalidateCellSizeAfterRender === 'function') {
          parent.invalidateCellSizeAfterRender({
            columnIndex: columnIndex,
            rowIndex: rowIndex
          });
        }
      }
    }
  }]);

  return CellMeasurer;
}(react__WEBPACK_IMPORTED_MODULE_7__["PureComponent"]), _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(_class, "propTypes",  false ? undefined : {
  "cache": function cache() {
    return (typeof _types__WEBPACK_IMPORTED_MODULE_9__["bpfrpt_proptype_CellMeasureCache"] === "function" ? _types__WEBPACK_IMPORTED_MODULE_9__["bpfrpt_proptype_CellMeasureCache"].isRequired ? _types__WEBPACK_IMPORTED_MODULE_9__["bpfrpt_proptype_CellMeasureCache"].isRequired : _types__WEBPACK_IMPORTED_MODULE_9__["bpfrpt_proptype_CellMeasureCache"] : prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.shape(_types__WEBPACK_IMPORTED_MODULE_9__["bpfrpt_proptype_CellMeasureCache"]).isRequired).apply(this, arguments);
  },
  "children": prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.func, prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.node]).isRequired,
  "columnIndex": prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.number,
  "index": prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.number,
  "parent": prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.shape({
    invalidateCellSizeAfterRender: prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.func,
    recomputeGridSize: prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.func
  }).isRequired,
  "rowIndex": prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.number
}), _temp); // Used for DEV mode warning check

_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(CellMeasurer, "__internalCellMeasurerFlag", false);



if (true) {
  CellMeasurer.__internalCellMeasurerFlag = true;
}




/***/ }),

/***/ "./node_modules/react-virtualized/dist/es/CellMeasurer/CellMeasurerCache.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/react-virtualized/dist/es/CellMeasurer/CellMeasurerCache.js ***!
  \**********************************************************************************/
/*! exports provided: DEFAULT_HEIGHT, DEFAULT_WIDTH, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DEFAULT_HEIGHT", function() { return DEFAULT_HEIGHT; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DEFAULT_WIDTH", function() { return DEFAULT_WIDTH; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return CellMeasurerCache; });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/createClass.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/defineProperty.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./types */ "./node_modules/react-virtualized/dist/es/CellMeasurer/types.js");



var DEFAULT_HEIGHT = 30;
var DEFAULT_WIDTH = 100; // Enables more intelligent mapping of a given column and row index to an item ID.
// This prevents a cell cache from being invalidated when its parent collection is modified.

/**
 * Caches measurements for a given cell.
 */
var CellMeasurerCache =
/*#__PURE__*/
function () {
  function CellMeasurerCache() {
    var _this = this;

    var params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};

    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this, CellMeasurerCache);

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2___default()(this, "_cellHeightCache", {});

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2___default()(this, "_cellWidthCache", {});

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2___default()(this, "_columnWidthCache", {});

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2___default()(this, "_rowHeightCache", {});

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2___default()(this, "_defaultHeight", void 0);

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2___default()(this, "_defaultWidth", void 0);

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2___default()(this, "_minHeight", void 0);

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2___default()(this, "_minWidth", void 0);

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2___default()(this, "_keyMapper", void 0);

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2___default()(this, "_hasFixedHeight", void 0);

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2___default()(this, "_hasFixedWidth", void 0);

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2___default()(this, "_columnCount", 0);

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2___default()(this, "_rowCount", 0);

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2___default()(this, "columnWidth", function (_ref) {
      var index = _ref.index;

      var key = _this._keyMapper(0, index);

      return _this._columnWidthCache[key] !== undefined ? _this._columnWidthCache[key] : _this._defaultWidth;
    });

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2___default()(this, "rowHeight", function (_ref2) {
      var index = _ref2.index;

      var key = _this._keyMapper(index, 0);

      return _this._rowHeightCache[key] !== undefined ? _this._rowHeightCache[key] : _this._defaultHeight;
    });

    var defaultHeight = params.defaultHeight,
        defaultWidth = params.defaultWidth,
        fixedHeight = params.fixedHeight,
        fixedWidth = params.fixedWidth,
        keyMapper = params.keyMapper,
        minHeight = params.minHeight,
        minWidth = params.minWidth;
    this._hasFixedHeight = fixedHeight === true;
    this._hasFixedWidth = fixedWidth === true;
    this._minHeight = minHeight || 0;
    this._minWidth = minWidth || 0;
    this._keyMapper = keyMapper || defaultKeyMapper;
    this._defaultHeight = Math.max(this._minHeight, typeof defaultHeight === 'number' ? defaultHeight : DEFAULT_HEIGHT);
    this._defaultWidth = Math.max(this._minWidth, typeof defaultWidth === 'number' ? defaultWidth : DEFAULT_WIDTH);

    if (true) {
      if (this._hasFixedHeight === false && this._hasFixedWidth === false) {
        console.warn("CellMeasurerCache should only measure a cell's width or height. " + 'You have configured CellMeasurerCache to measure both. ' + 'This will result in poor performance.');
      }

      if (this._hasFixedHeight === false && this._defaultHeight === 0) {
        console.warn('Fixed height CellMeasurerCache should specify a :defaultHeight greater than 0. ' + 'Failing to do so will lead to unnecessary layout and poor performance.');
      }

      if (this._hasFixedWidth === false && this._defaultWidth === 0) {
        console.warn('Fixed width CellMeasurerCache should specify a :defaultWidth greater than 0. ' + 'Failing to do so will lead to unnecessary layout and poor performance.');
      }
    }
  }

  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(CellMeasurerCache, [{
    key: "clear",
    value: function clear(rowIndex) {
      var columnIndex = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;

      var key = this._keyMapper(rowIndex, columnIndex);

      delete this._cellHeightCache[key];
      delete this._cellWidthCache[key];

      this._updateCachedColumnAndRowSizes(rowIndex, columnIndex);
    }
  }, {
    key: "clearAll",
    value: function clearAll() {
      this._cellHeightCache = {};
      this._cellWidthCache = {};
      this._columnWidthCache = {};
      this._rowHeightCache = {};
      this._rowCount = 0;
      this._columnCount = 0;
    }
  }, {
    key: "hasFixedHeight",
    value: function hasFixedHeight() {
      return this._hasFixedHeight;
    }
  }, {
    key: "hasFixedWidth",
    value: function hasFixedWidth() {
      return this._hasFixedWidth;
    }
  }, {
    key: "getHeight",
    value: function getHeight(rowIndex) {
      var columnIndex = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;

      if (this._hasFixedHeight) {
        return this._defaultHeight;
      } else {
        var _key = this._keyMapper(rowIndex, columnIndex);

        return this._cellHeightCache[_key] !== undefined ? Math.max(this._minHeight, this._cellHeightCache[_key]) : this._defaultHeight;
      }
    }
  }, {
    key: "getWidth",
    value: function getWidth(rowIndex) {
      var columnIndex = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;

      if (this._hasFixedWidth) {
        return this._defaultWidth;
      } else {
        var _key2 = this._keyMapper(rowIndex, columnIndex);

        return this._cellWidthCache[_key2] !== undefined ? Math.max(this._minWidth, this._cellWidthCache[_key2]) : this._defaultWidth;
      }
    }
  }, {
    key: "has",
    value: function has(rowIndex) {
      var columnIndex = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;

      var key = this._keyMapper(rowIndex, columnIndex);

      return this._cellHeightCache[key] !== undefined;
    }
  }, {
    key: "set",
    value: function set(rowIndex, columnIndex, width, height) {
      var key = this._keyMapper(rowIndex, columnIndex);

      if (columnIndex >= this._columnCount) {
        this._columnCount = columnIndex + 1;
      }

      if (rowIndex >= this._rowCount) {
        this._rowCount = rowIndex + 1;
      } // Size is cached per cell so we don't have to re-measure if cells are re-ordered.


      this._cellHeightCache[key] = height;
      this._cellWidthCache[key] = width;

      this._updateCachedColumnAndRowSizes(rowIndex, columnIndex);
    }
  }, {
    key: "_updateCachedColumnAndRowSizes",
    value: function _updateCachedColumnAndRowSizes(rowIndex, columnIndex) {
      // :columnWidth and :rowHeight are derived based on all cells in a column/row.
      // Pre-cache these derived values for faster lookup later.
      // Reads are expected to occur more frequently than writes in this case.
      // Only update non-fixed dimensions though to avoid doing unnecessary work.
      if (!this._hasFixedWidth) {
        var columnWidth = 0;

        for (var i = 0; i < this._rowCount; i++) {
          columnWidth = Math.max(columnWidth, this.getWidth(i, columnIndex));
        }

        var columnKey = this._keyMapper(0, columnIndex);

        this._columnWidthCache[columnKey] = columnWidth;
      }

      if (!this._hasFixedHeight) {
        var rowHeight = 0;

        for (var _i = 0; _i < this._columnCount; _i++) {
          rowHeight = Math.max(rowHeight, this.getHeight(rowIndex, _i));
        }

        var rowKey = this._keyMapper(rowIndex, 0);

        this._rowHeightCache[rowKey] = rowHeight;
      }
    }
  }, {
    key: "defaultHeight",
    get: function get() {
      return this._defaultHeight;
    }
  }, {
    key: "defaultWidth",
    get: function get() {
      return this._defaultWidth;
    }
  }]);

  return CellMeasurerCache;
}();



function defaultKeyMapper(rowIndex, columnIndex) {
  return "".concat(rowIndex, "-").concat(columnIndex);
}



/***/ }),

/***/ "./node_modules/react-virtualized/dist/es/CellMeasurer/index.js":
/*!**********************************************************************!*\
  !*** ./node_modules/react-virtualized/dist/es/CellMeasurer/index.js ***!
  \**********************************************************************/
/*! exports provided: default, CellMeasurer, CellMeasurerCache */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _CellMeasurer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./CellMeasurer */ "./node_modules/react-virtualized/dist/es/CellMeasurer/CellMeasurer.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "CellMeasurer", function() { return _CellMeasurer__WEBPACK_IMPORTED_MODULE_0__["default"]; });

/* harmony import */ var _CellMeasurerCache__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./CellMeasurerCache */ "./node_modules/react-virtualized/dist/es/CellMeasurer/CellMeasurerCache.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "CellMeasurerCache", function() { return _CellMeasurerCache__WEBPACK_IMPORTED_MODULE_1__["default"]; });



/* harmony default export */ __webpack_exports__["default"] = (_CellMeasurer__WEBPACK_IMPORTED_MODULE_0__["default"]);


/***/ }),

/***/ "./node_modules/react-virtualized/dist/es/CellMeasurer/types.js":
/*!**********************************************************************!*\
  !*** ./node_modules/react-virtualized/dist/es/CellMeasurer/types.js ***!
  \**********************************************************************/
/*! exports provided: bpfrpt_proptype_CellMeasureCache */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "bpfrpt_proptype_CellMeasureCache", function() { return bpfrpt_proptype_CellMeasureCache; });
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_0__);
var bpfrpt_proptype_CellMeasureCache =  false ? undefined : {
  "hasFixedWidth": prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.func.isRequired,
  "hasFixedHeight": prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.func.isRequired,
  "has": prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.func.isRequired,
  "set": prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.func.isRequired,
  "getHeight": prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.func.isRequired,
  "getWidth": prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.func.isRequired
};



/***/ }),

/***/ "./node_modules/react-virtualized/dist/es/Collection/Collection.js":
/*!*************************************************************************!*\
  !*** ./node_modules/react-virtualized/dist/es/Collection/Collection.js ***!
  \*************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Collection; });
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/extends */ "./node_modules/@babel/runtime/helpers/extends.js");
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/createClass.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/inherits.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/defineProperty.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var _CollectionView__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./CollectionView */ "./node_modules/react-virtualized/dist/es/Collection/CollectionView.js");
/* harmony import */ var _utils_calculateSizeAndPositionData__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./utils/calculateSizeAndPositionData */ "./node_modules/react-virtualized/dist/es/Collection/utils/calculateSizeAndPositionData.js");
/* harmony import */ var _utils_getUpdatedOffsetForIndex__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../utils/getUpdatedOffsetForIndex */ "./node_modules/react-virtualized/dist/es/utils/getUpdatedOffsetForIndex.js");
/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./types */ "./node_modules/react-virtualized/dist/es/Collection/types.js");














/**
 * Renders scattered or non-linear data.
 * Unlike Grid, which renders checkerboard data, Collection can render arbitrarily positioned- even overlapping- data.
 */
var Collection =
/*#__PURE__*/
function (_React$PureComponent) {
  _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_6___default()(Collection, _React$PureComponent);

  function Collection(props, context) {
    var _this;

    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default()(this, Collection);

    _this = _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3___default()(this, _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default()(Collection).call(this, props, context));
    _this._cellMetadata = [];
    _this._lastRenderedCellIndices = []; // Cell cache during scroll (for performance)

    _this._cellCache = [];
    _this._isScrollingChange = _this._isScrollingChange.bind(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default()(_this));
    _this._setCollectionViewRef = _this._setCollectionViewRef.bind(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default()(_this));
    return _this;
  }

  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default()(Collection, [{
    key: "forceUpdate",
    value: function forceUpdate() {
      if (this._collectionView !== undefined) {
        this._collectionView.forceUpdate();
      }
    }
    /** See Collection#recomputeCellSizesAndPositions */

  }, {
    key: "recomputeCellSizesAndPositions",
    value: function recomputeCellSizesAndPositions() {
      this._cellCache = [];

      this._collectionView.recomputeCellSizesAndPositions();
    }
    /** React lifecycle methods */

  }, {
    key: "render",
    value: function render() {
      var props = _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({}, this.props);

      return react__WEBPACK_IMPORTED_MODULE_9__["createElement"](_CollectionView__WEBPACK_IMPORTED_MODULE_10__["default"], _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({
        cellLayoutManager: this,
        isScrollingChange: this._isScrollingChange,
        ref: this._setCollectionViewRef
      }, props));
    }
    /** CellLayoutManager interface */

  }, {
    key: "calculateSizeAndPositionData",
    value: function calculateSizeAndPositionData() {
      var _this$props = this.props,
          cellCount = _this$props.cellCount,
          cellSizeAndPositionGetter = _this$props.cellSizeAndPositionGetter,
          sectionSize = _this$props.sectionSize;

      var data = Object(_utils_calculateSizeAndPositionData__WEBPACK_IMPORTED_MODULE_11__["default"])({
        cellCount: cellCount,
        cellSizeAndPositionGetter: cellSizeAndPositionGetter,
        sectionSize: sectionSize
      });

      this._cellMetadata = data.cellMetadata;
      this._sectionManager = data.sectionManager;
      this._height = data.height;
      this._width = data.width;
    }
    /**
     * Returns the most recently rendered set of cell indices.
     */

  }, {
    key: "getLastRenderedIndices",
    value: function getLastRenderedIndices() {
      return this._lastRenderedCellIndices;
    }
    /**
     * Calculates the minimum amount of change from the current scroll position to ensure the specified cell is (fully) visible.
     */

  }, {
    key: "getScrollPositionForCell",
    value: function getScrollPositionForCell(_ref) {
      var align = _ref.align,
          cellIndex = _ref.cellIndex,
          height = _ref.height,
          scrollLeft = _ref.scrollLeft,
          scrollTop = _ref.scrollTop,
          width = _ref.width;
      var cellCount = this.props.cellCount;

      if (cellIndex >= 0 && cellIndex < cellCount) {
        var cellMetadata = this._cellMetadata[cellIndex];
        scrollLeft = Object(_utils_getUpdatedOffsetForIndex__WEBPACK_IMPORTED_MODULE_12__["default"])({
          align: align,
          cellOffset: cellMetadata.x,
          cellSize: cellMetadata.width,
          containerSize: width,
          currentOffset: scrollLeft,
          targetIndex: cellIndex
        });
        scrollTop = Object(_utils_getUpdatedOffsetForIndex__WEBPACK_IMPORTED_MODULE_12__["default"])({
          align: align,
          cellOffset: cellMetadata.y,
          cellSize: cellMetadata.height,
          containerSize: height,
          currentOffset: scrollTop,
          targetIndex: cellIndex
        });
      }

      return {
        scrollLeft: scrollLeft,
        scrollTop: scrollTop
      };
    }
  }, {
    key: "getTotalSize",
    value: function getTotalSize() {
      return {
        height: this._height,
        width: this._width
      };
    }
  }, {
    key: "cellRenderers",
    value: function cellRenderers(_ref2) {
      var _this2 = this;

      var height = _ref2.height,
          isScrolling = _ref2.isScrolling,
          width = _ref2.width,
          x = _ref2.x,
          y = _ref2.y;
      var _this$props2 = this.props,
          cellGroupRenderer = _this$props2.cellGroupRenderer,
          cellRenderer = _this$props2.cellRenderer; // Store for later calls to getLastRenderedIndices()

      this._lastRenderedCellIndices = this._sectionManager.getCellIndices({
        height: height,
        width: width,
        x: x,
        y: y
      });
      return cellGroupRenderer({
        cellCache: this._cellCache,
        cellRenderer: cellRenderer,
        cellSizeAndPositionGetter: function cellSizeAndPositionGetter(_ref3) {
          var index = _ref3.index;
          return _this2._sectionManager.getCellMetadata({
            index: index
          });
        },
        indices: this._lastRenderedCellIndices,
        isScrolling: isScrolling
      });
    }
  }, {
    key: "_isScrollingChange",
    value: function _isScrollingChange(isScrolling) {
      if (!isScrolling) {
        this._cellCache = [];
      }
    }
  }, {
    key: "_setCollectionViewRef",
    value: function _setCollectionViewRef(ref) {
      this._collectionView = ref;
    }
  }]);

  return Collection;
}(react__WEBPACK_IMPORTED_MODULE_9__["PureComponent"]);

_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default()(Collection, "defaultProps", {
  'aria-label': 'grid',
  cellGroupRenderer: defaultCellGroupRenderer
});


Collection.propTypes =  true ? {
  'aria-label': prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.string,

  /**
   * Number of cells in Collection.
   */
  cellCount: prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.number.isRequired,

  /**
   * Responsible for rendering a group of cells given their indices.
   * Should implement the following interface: ({
   *   cellSizeAndPositionGetter:Function,
   *   indices: Array<number>,
   *   cellRenderer: Function
   * }): Array<PropTypes.node>
   */
  cellGroupRenderer: prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.func.isRequired,

  /**
   * Responsible for rendering a cell given an row and column index.
   * Should implement the following interface: ({ index: number, key: string, style: object }): PropTypes.element
   */
  cellRenderer: prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.func.isRequired,

  /**
   * Callback responsible for returning size and offset/position information for a given cell (index).
   * ({ index: number }): { height: number, width: number, x: number, y: number }
   */
  cellSizeAndPositionGetter: prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.func.isRequired,

  /**
   * Optionally override the size of the sections a Collection's cells are split into.
   */
  sectionSize: prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.number
} : undefined;

function defaultCellGroupRenderer(_ref4) {
  var cellCache = _ref4.cellCache,
      cellRenderer = _ref4.cellRenderer,
      cellSizeAndPositionGetter = _ref4.cellSizeAndPositionGetter,
      indices = _ref4.indices,
      isScrolling = _ref4.isScrolling;
  return indices.map(function (index) {
    var cellMetadata = cellSizeAndPositionGetter({
      index: index
    });
    var cellRendererProps = {
      index: index,
      isScrolling: isScrolling,
      key: index,
      style: {
        height: cellMetadata.height,
        left: cellMetadata.x,
        position: 'absolute',
        top: cellMetadata.y,
        width: cellMetadata.width
      }
    }; // Avoid re-creating cells while scrolling.
    // This can lead to the same cell being created many times and can cause performance issues for "heavy" cells.
    // If a scroll is in progress- cache and reuse cells.
    // This cache will be thrown away once scrolling complets.

    if (isScrolling) {
      if (!(index in cellCache)) {
        cellCache[index] = cellRenderer(cellRendererProps);
      }

      return cellCache[index];
    } else {
      return cellRenderer(cellRendererProps);
    }
  }).filter(function (renderedCell) {
    return !!renderedCell;
  });
}




/***/ }),

/***/ "./node_modules/react-virtualized/dist/es/Collection/CollectionView.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/react-virtualized/dist/es/Collection/CollectionView.js ***!
  \*****************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/createClass.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/inherits.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/defineProperty.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var clsx__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! clsx */ "./node_modules/clsx/dist/clsx.m.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var react_lifecycles_compat__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! react-lifecycles-compat */ "./node_modules/react-lifecycles-compat/react-lifecycles-compat.es.js");
/* harmony import */ var _utils_createCallbackMemoizer__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../utils/createCallbackMemoizer */ "./node_modules/react-virtualized/dist/es/utils/createCallbackMemoizer.js");
/* harmony import */ var dom_helpers_scrollbarSize__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! dom-helpers/scrollbarSize */ "./node_modules/dom-helpers/esm/scrollbarSize.js");








function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }






 // @TODO Merge Collection and CollectionView

/**
 * Specifies the number of milliseconds during which to disable pointer events while a scroll is in progress.
 * This improves performance and makes scrolling smoother.
 */

var IS_SCROLLING_TIMEOUT = 150;
/**
 * Controls whether the Grid updates the DOM element's scrollLeft/scrollTop based on the current state or just observes it.
 * This prevents Grid from interrupting mouse-wheel animations (see issue #2).
 */

var SCROLL_POSITION_CHANGE_REASONS = {
  OBSERVED: 'observed',
  REQUESTED: 'requested'
};
/**
 * Monitors changes in properties (eg. cellCount) and state (eg. scroll offsets) to determine when rendering needs to occur.
 * This component does not render any visible content itself; it defers to the specified :cellLayoutManager.
 */

var CollectionView =
/*#__PURE__*/
function (_React$PureComponent) {
  _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5___default()(CollectionView, _React$PureComponent);

  // Invokes callbacks only when their values have changed.
  function CollectionView() {
    var _getPrototypeOf2;

    var _this;

    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this, CollectionView);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2___default()(this, (_getPrototypeOf2 = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3___default()(CollectionView)).call.apply(_getPrototypeOf2, [this].concat(args))); // If this component is being rendered server-side, getScrollbarSize() will return undefined.
    // We handle this case in componentDidMount()

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4___default()(_this), "state", {
      isScrolling: false,
      scrollLeft: 0,
      scrollTop: 0
    });

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4___default()(_this), "_calculateSizeAndPositionDataOnNextUpdate", false);

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4___default()(_this), "_onSectionRenderedMemoizer", Object(_utils_createCallbackMemoizer__WEBPACK_IMPORTED_MODULE_11__["default"])());

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4___default()(_this), "_onScrollMemoizer", Object(_utils_createCallbackMemoizer__WEBPACK_IMPORTED_MODULE_11__["default"])(false));

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4___default()(_this), "_invokeOnSectionRenderedHelper", function () {
      var _this$props = _this.props,
          cellLayoutManager = _this$props.cellLayoutManager,
          onSectionRendered = _this$props.onSectionRendered;

      _this._onSectionRenderedMemoizer({
        callback: onSectionRendered,
        indices: {
          indices: cellLayoutManager.getLastRenderedIndices()
        }
      });
    });

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4___default()(_this), "_setScrollingContainerRef", function (ref) {
      _this._scrollingContainer = ref;
    });

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4___default()(_this), "_updateScrollPositionForScrollToCell", function () {
      var _this$props2 = _this.props,
          cellLayoutManager = _this$props2.cellLayoutManager,
          height = _this$props2.height,
          scrollToAlignment = _this$props2.scrollToAlignment,
          scrollToCell = _this$props2.scrollToCell,
          width = _this$props2.width;
      var _this$state = _this.state,
          scrollLeft = _this$state.scrollLeft,
          scrollTop = _this$state.scrollTop;

      if (scrollToCell >= 0) {
        var scrollPosition = cellLayoutManager.getScrollPositionForCell({
          align: scrollToAlignment,
          cellIndex: scrollToCell,
          height: height,
          scrollLeft: scrollLeft,
          scrollTop: scrollTop,
          width: width
        });

        if (scrollPosition.scrollLeft !== scrollLeft || scrollPosition.scrollTop !== scrollTop) {
          _this._setScrollPosition(scrollPosition);
        }
      }
    });

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4___default()(_this), "_onScroll", function (event) {
      // In certain edge-cases React dispatches an onScroll event with an invalid target.scrollLeft / target.scrollTop.
      // This invalid event can be detected by comparing event.target to this component's scrollable DOM element.
      // See issue #404 for more information.
      if (event.target !== _this._scrollingContainer) {
        return;
      } // Prevent pointer events from interrupting a smooth scroll


      _this._enablePointerEventsAfterDelay(); // When this component is shrunk drastically, React dispatches a series of back-to-back scroll events,
      // Gradually converging on a scrollTop that is within the bounds of the new, smaller height.
      // This causes a series of rapid renders that is slow for long lists.
      // We can avoid that by doing some simple bounds checking to ensure that scrollTop never exceeds the total height.


      var _this$props3 = _this.props,
          cellLayoutManager = _this$props3.cellLayoutManager,
          height = _this$props3.height,
          isScrollingChange = _this$props3.isScrollingChange,
          width = _this$props3.width;
      var scrollbarSize = _this._scrollbarSize;

      var _cellLayoutManager$ge = cellLayoutManager.getTotalSize(),
          totalHeight = _cellLayoutManager$ge.height,
          totalWidth = _cellLayoutManager$ge.width;

      var scrollLeft = Math.max(0, Math.min(totalWidth - width + scrollbarSize, event.target.scrollLeft));
      var scrollTop = Math.max(0, Math.min(totalHeight - height + scrollbarSize, event.target.scrollTop)); // Certain devices (like Apple touchpad) rapid-fire duplicate events.
      // Don't force a re-render if this is the case.
      // The mouse may move faster then the animation frame does.
      // Use requestAnimationFrame to avoid over-updating.

      if (_this.state.scrollLeft !== scrollLeft || _this.state.scrollTop !== scrollTop) {
        // Browsers with cancelable scroll events (eg. Firefox) interrupt scrolling animations if scrollTop/scrollLeft is set.
        // Other browsers (eg. Safari) don't scroll as well without the help under certain conditions (DOM or style changes during scrolling).
        // All things considered, this seems to be the best current work around that I'm aware of.
        // For more information see https://github.com/bvaughn/react-virtualized/pull/124
        var scrollPositionChangeReason = event.cancelable ? SCROLL_POSITION_CHANGE_REASONS.OBSERVED : SCROLL_POSITION_CHANGE_REASONS.REQUESTED; // Synchronously set :isScrolling the first time (since _setNextState will reschedule its animation frame each time it's called)

        if (!_this.state.isScrolling) {
          isScrollingChange(true);
        }

        _this.setState({
          isScrolling: true,
          scrollLeft: scrollLeft,
          scrollPositionChangeReason: scrollPositionChangeReason,
          scrollTop: scrollTop
        });
      }

      _this._invokeOnScrollMemoizer({
        scrollLeft: scrollLeft,
        scrollTop: scrollTop,
        totalWidth: totalWidth,
        totalHeight: totalHeight
      });
    });

    _this._scrollbarSize = Object(dom_helpers_scrollbarSize__WEBPACK_IMPORTED_MODULE_12__["default"])();

    if (_this._scrollbarSize === undefined) {
      _this._scrollbarSizeMeasured = false;
      _this._scrollbarSize = 0;
    } else {
      _this._scrollbarSizeMeasured = true;
    }

    return _this;
  }
  /**
   * Forced recompute of cell sizes and positions.
   * This function should be called if cell sizes have changed but nothing else has.
   * Since cell positions are calculated by callbacks, the collection view has no way of detecting when the underlying data has changed.
   */


  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(CollectionView, [{
    key: "recomputeCellSizesAndPositions",
    value: function recomputeCellSizesAndPositions() {
      this._calculateSizeAndPositionDataOnNextUpdate = true;
      this.forceUpdate();
    }
    /* ---------------------------- Component lifecycle methods ---------------------------- */

    /**
     * @private
     * This method updates scrollLeft/scrollTop in state for the following conditions:
     * 1) Empty content (0 rows or columns)
     * 2) New scroll props overriding the current state
     * 3) Cells-count or cells-size has changed, making previous scroll offsets invalid
     */

  }, {
    key: "componentDidMount",
    value: function componentDidMount() {
      var _this$props4 = this.props,
          cellLayoutManager = _this$props4.cellLayoutManager,
          scrollLeft = _this$props4.scrollLeft,
          scrollToCell = _this$props4.scrollToCell,
          scrollTop = _this$props4.scrollTop; // If this component was first rendered server-side, scrollbar size will be undefined.
      // In that event we need to remeasure.

      if (!this._scrollbarSizeMeasured) {
        this._scrollbarSize = Object(dom_helpers_scrollbarSize__WEBPACK_IMPORTED_MODULE_12__["default"])();
        this._scrollbarSizeMeasured = true;
        this.setState({});
      }

      if (scrollToCell >= 0) {
        this._updateScrollPositionForScrollToCell();
      } else if (scrollLeft >= 0 || scrollTop >= 0) {
        this._setScrollPosition({
          scrollLeft: scrollLeft,
          scrollTop: scrollTop
        });
      } // Update onSectionRendered callback.


      this._invokeOnSectionRenderedHelper();

      var _cellLayoutManager$ge2 = cellLayoutManager.getTotalSize(),
          totalHeight = _cellLayoutManager$ge2.height,
          totalWidth = _cellLayoutManager$ge2.width; // Initialize onScroll callback.


      this._invokeOnScrollMemoizer({
        scrollLeft: scrollLeft || 0,
        scrollTop: scrollTop || 0,
        totalHeight: totalHeight,
        totalWidth: totalWidth
      });
    }
  }, {
    key: "componentDidUpdate",
    value: function componentDidUpdate(prevProps, prevState) {
      var _this$props5 = this.props,
          height = _this$props5.height,
          scrollToAlignment = _this$props5.scrollToAlignment,
          scrollToCell = _this$props5.scrollToCell,
          width = _this$props5.width;
      var _this$state2 = this.state,
          scrollLeft = _this$state2.scrollLeft,
          scrollPositionChangeReason = _this$state2.scrollPositionChangeReason,
          scrollTop = _this$state2.scrollTop; // Make sure requested changes to :scrollLeft or :scrollTop get applied.
      // Assigning to scrollLeft/scrollTop tells the browser to interrupt any running scroll animations,
      // And to discard any pending async changes to the scroll position that may have happened in the meantime (e.g. on a separate scrolling thread).
      // So we only set these when we require an adjustment of the scroll position.
      // See issue #2 for more information.

      if (scrollPositionChangeReason === SCROLL_POSITION_CHANGE_REASONS.REQUESTED) {
        if (scrollLeft >= 0 && scrollLeft !== prevState.scrollLeft && scrollLeft !== this._scrollingContainer.scrollLeft) {
          this._scrollingContainer.scrollLeft = scrollLeft;
        }

        if (scrollTop >= 0 && scrollTop !== prevState.scrollTop && scrollTop !== this._scrollingContainer.scrollTop) {
          this._scrollingContainer.scrollTop = scrollTop;
        }
      } // Update scroll offsets if the current :scrollToCell values requires it


      if (height !== prevProps.height || scrollToAlignment !== prevProps.scrollToAlignment || scrollToCell !== prevProps.scrollToCell || width !== prevProps.width) {
        this._updateScrollPositionForScrollToCell();
      } // Update onRowsRendered callback if start/stop indices have changed


      this._invokeOnSectionRenderedHelper();
    }
  }, {
    key: "componentWillUnmount",
    value: function componentWillUnmount() {
      if (this._disablePointerEventsTimeoutId) {
        clearTimeout(this._disablePointerEventsTimeoutId);
      }
    }
  }, {
    key: "render",
    value: function render() {
      var _this$props6 = this.props,
          autoHeight = _this$props6.autoHeight,
          cellCount = _this$props6.cellCount,
          cellLayoutManager = _this$props6.cellLayoutManager,
          className = _this$props6.className,
          height = _this$props6.height,
          horizontalOverscanSize = _this$props6.horizontalOverscanSize,
          id = _this$props6.id,
          noContentRenderer = _this$props6.noContentRenderer,
          style = _this$props6.style,
          verticalOverscanSize = _this$props6.verticalOverscanSize,
          width = _this$props6.width;
      var _this$state3 = this.state,
          isScrolling = _this$state3.isScrolling,
          scrollLeft = _this$state3.scrollLeft,
          scrollTop = _this$state3.scrollTop; // Memoization reset

      if (this._lastRenderedCellCount !== cellCount || this._lastRenderedCellLayoutManager !== cellLayoutManager || this._calculateSizeAndPositionDataOnNextUpdate) {
        this._lastRenderedCellCount = cellCount;
        this._lastRenderedCellLayoutManager = cellLayoutManager;
        this._calculateSizeAndPositionDataOnNextUpdate = false;
        cellLayoutManager.calculateSizeAndPositionData();
      }

      var _cellLayoutManager$ge3 = cellLayoutManager.getTotalSize(),
          totalHeight = _cellLayoutManager$ge3.height,
          totalWidth = _cellLayoutManager$ge3.width; // Safely expand the rendered area by the specified overscan amount


      var left = Math.max(0, scrollLeft - horizontalOverscanSize);
      var top = Math.max(0, scrollTop - verticalOverscanSize);
      var right = Math.min(totalWidth, scrollLeft + width + horizontalOverscanSize);
      var bottom = Math.min(totalHeight, scrollTop + height + verticalOverscanSize);
      var childrenToDisplay = height > 0 && width > 0 ? cellLayoutManager.cellRenderers({
        height: bottom - top,
        isScrolling: isScrolling,
        width: right - left,
        x: left,
        y: top
      }) : [];
      var collectionStyle = {
        boxSizing: 'border-box',
        direction: 'ltr',
        height: autoHeight ? 'auto' : height,
        position: 'relative',
        WebkitOverflowScrolling: 'touch',
        width: width,
        willChange: 'transform'
      }; // Force browser to hide scrollbars when we know they aren't necessary.
      // Otherwise once scrollbars appear they may not disappear again.
      // For more info see issue #116

      var verticalScrollBarSize = totalHeight > height ? this._scrollbarSize : 0;
      var horizontalScrollBarSize = totalWidth > width ? this._scrollbarSize : 0; // Also explicitly init styles to 'auto' if scrollbars are required.
      // This works around an obscure edge case where external CSS styles have not yet been loaded,
      // But an initial scroll index of offset is set as an external prop.
      // Without this style, Grid would render the correct range of cells but would NOT update its internal offset.
      // This was originally reported via clauderic/react-infinite-calendar/issues/23

      collectionStyle.overflowX = totalWidth + verticalScrollBarSize <= width ? 'hidden' : 'auto';
      collectionStyle.overflowY = totalHeight + horizontalScrollBarSize <= height ? 'hidden' : 'auto';
      return react__WEBPACK_IMPORTED_MODULE_9__["createElement"]("div", {
        ref: this._setScrollingContainerRef,
        "aria-label": this.props['aria-label'],
        className: Object(clsx__WEBPACK_IMPORTED_MODULE_7__["default"])('ReactVirtualized__Collection', className),
        id: id,
        onScroll: this._onScroll,
        role: "grid",
        style: _objectSpread({}, collectionStyle, {}, style),
        tabIndex: 0
      }, cellCount > 0 && react__WEBPACK_IMPORTED_MODULE_9__["createElement"]("div", {
        className: "ReactVirtualized__Collection__innerScrollContainer",
        style: {
          height: totalHeight,
          maxHeight: totalHeight,
          maxWidth: totalWidth,
          overflow: 'hidden',
          pointerEvents: isScrolling ? 'none' : '',
          width: totalWidth
        }
      }, childrenToDisplay), cellCount === 0 && noContentRenderer());
    }
    /* ---------------------------- Helper methods ---------------------------- */

    /**
     * Sets an :isScrolling flag for a small window of time.
     * This flag is used to disable pointer events on the scrollable portion of the Collection.
     * This prevents jerky/stuttery mouse-wheel scrolling.
     */

  }, {
    key: "_enablePointerEventsAfterDelay",
    value: function _enablePointerEventsAfterDelay() {
      var _this2 = this;

      if (this._disablePointerEventsTimeoutId) {
        clearTimeout(this._disablePointerEventsTimeoutId);
      }

      this._disablePointerEventsTimeoutId = setTimeout(function () {
        var isScrollingChange = _this2.props.isScrollingChange;
        isScrollingChange(false);
        _this2._disablePointerEventsTimeoutId = null;

        _this2.setState({
          isScrolling: false
        });
      }, IS_SCROLLING_TIMEOUT);
    }
  }, {
    key: "_invokeOnScrollMemoizer",
    value: function _invokeOnScrollMemoizer(_ref) {
      var _this3 = this;

      var scrollLeft = _ref.scrollLeft,
          scrollTop = _ref.scrollTop,
          totalHeight = _ref.totalHeight,
          totalWidth = _ref.totalWidth;

      this._onScrollMemoizer({
        callback: function callback(_ref2) {
          var scrollLeft = _ref2.scrollLeft,
              scrollTop = _ref2.scrollTop;
          var _this3$props = _this3.props,
              height = _this3$props.height,
              onScroll = _this3$props.onScroll,
              width = _this3$props.width;
          onScroll({
            clientHeight: height,
            clientWidth: width,
            scrollHeight: totalHeight,
            scrollLeft: scrollLeft,
            scrollTop: scrollTop,
            scrollWidth: totalWidth
          });
        },
        indices: {
          scrollLeft: scrollLeft,
          scrollTop: scrollTop
        }
      });
    }
  }, {
    key: "_setScrollPosition",
    value: function _setScrollPosition(_ref3) {
      var scrollLeft = _ref3.scrollLeft,
          scrollTop = _ref3.scrollTop;
      var newState = {
        scrollPositionChangeReason: SCROLL_POSITION_CHANGE_REASONS.REQUESTED
      };

      if (scrollLeft >= 0) {
        newState.scrollLeft = scrollLeft;
      }

      if (scrollTop >= 0) {
        newState.scrollTop = scrollTop;
      }

      if (scrollLeft >= 0 && scrollLeft !== this.state.scrollLeft || scrollTop >= 0 && scrollTop !== this.state.scrollTop) {
        this.setState(newState);
      }
    }
  }], [{
    key: "getDerivedStateFromProps",
    value: function getDerivedStateFromProps(nextProps, prevState) {
      if (nextProps.cellCount === 0 && (prevState.scrollLeft !== 0 || prevState.scrollTop !== 0)) {
        return {
          scrollLeft: 0,
          scrollTop: 0,
          scrollPositionChangeReason: SCROLL_POSITION_CHANGE_REASONS.REQUESTED
        };
      } else if (nextProps.scrollLeft !== prevState.scrollLeft || nextProps.scrollTop !== prevState.scrollTop) {
        return {
          scrollLeft: nextProps.scrollLeft != null ? nextProps.scrollLeft : prevState.scrollLeft,
          scrollTop: nextProps.scrollTop != null ? nextProps.scrollTop : prevState.scrollTop,
          scrollPositionChangeReason: SCROLL_POSITION_CHANGE_REASONS.REQUESTED
        };
      }

      return null;
    }
  }]);

  return CollectionView;
}(react__WEBPACK_IMPORTED_MODULE_9__["PureComponent"]);

_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(CollectionView, "defaultProps", {
  'aria-label': 'grid',
  horizontalOverscanSize: 0,
  noContentRenderer: function noContentRenderer() {
    return null;
  },
  onScroll: function onScroll() {
    return null;
  },
  onSectionRendered: function onSectionRendered() {
    return null;
  },
  scrollToAlignment: 'auto',
  scrollToCell: -1,
  style: {},
  verticalOverscanSize: 0
});

CollectionView.propTypes =  true ? {
  'aria-label': prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.string,

  /**
   * Removes fixed height from the scrollingContainer so that the total height
   * of rows can stretch the window. Intended for use with WindowScroller
   */
  autoHeight: prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.bool,

  /**
   * Number of cells in collection.
   */
  cellCount: prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.number.isRequired,

  /**
   * Calculates cell sizes and positions and manages rendering the appropriate cells given a specified window.
   */
  cellLayoutManager: prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.object.isRequired,

  /**
   * Optional custom CSS class name to attach to root Collection element.
   */
  className: prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.string,

  /**
   * Height of Collection; this property determines the number of visible (vs virtualized) rows.
   */
  height: prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.number.isRequired,

  /**
   * Optional custom id to attach to root Collection element.
   */
  id: prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.string,

  /**
   * Enables the `Collection` to horiontally "overscan" its content similar to how `Grid` does.
   * This can reduce flicker around the edges when a user scrolls quickly.
   */
  horizontalOverscanSize: prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.number.isRequired,
  isScrollingChange: prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.func,

  /**
   * Optional renderer to be used in place of rows when either :rowCount or :cellCount is 0.
   */
  noContentRenderer: prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.func.isRequired,

  /**
   * Callback invoked whenever the scroll offset changes within the inner scrollable region.
   * This callback can be used to sync scrolling between lists, tables, or grids.
   * ({ clientHeight, clientWidth, scrollHeight, scrollLeft, scrollTop, scrollWidth }): void
   */
  onScroll: prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.func.isRequired,

  /**
   * Callback invoked with information about the section of the Collection that was just rendered.
   * This callback is passed a named :indices parameter which is an Array of the most recently rendered section indices.
   */
  onSectionRendered: prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.func.isRequired,

  /**
   * Horizontal offset.
   */
  scrollLeft: prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.number,

  /**
   * Controls scroll-to-cell behavior of the Grid.
   * The default ("auto") scrolls the least amount possible to ensure that the specified cell is fully visible.
   * Use "start" to align cells to the top/left of the Grid and "end" to align bottom/right.
   */
  scrollToAlignment: prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.oneOf(['auto', 'end', 'start', 'center']).isRequired,

  /**
   * Cell index to ensure visible (by forcefully scrolling if necessary).
   */
  scrollToCell: prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.number.isRequired,

  /**
   * Vertical offset.
   */
  scrollTop: prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.number,

  /**
   * Optional custom inline style to attach to root Collection element.
   */
  style: prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.object,

  /**
   * Enables the `Collection` to vertically "overscan" its content similar to how `Grid` does.
   * This can reduce flicker around the edges when a user scrolls quickly.
   */
  verticalOverscanSize: prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.number.isRequired,

  /**
   * Width of Collection; this property determines the number of visible (vs virtualized) columns.
   */
  width: prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.number.isRequired
} : undefined;
Object(react_lifecycles_compat__WEBPACK_IMPORTED_MODULE_10__["polyfill"])(CollectionView);
/* harmony default export */ __webpack_exports__["default"] = (CollectionView);

/***/ }),

/***/ "./node_modules/react-virtualized/dist/es/Collection/Section.js":
/*!**********************************************************************!*\
  !*** ./node_modules/react-virtualized/dist/es/Collection/Section.js ***!
  \**********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Section; });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/createClass.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./types */ "./node_modules/react-virtualized/dist/es/Collection/types.js");



/**
 * A section of the Window.
 * Window Sections are used to group nearby cells.
 * This enables us to more quickly determine which cells to display in a given region of the Window.
 * Sections have a fixed size and contain 0 to many cells (tracked by their indices).
 */
var Section =
/*#__PURE__*/
function () {
  function Section(_ref) {
    var height = _ref.height,
        width = _ref.width,
        x = _ref.x,
        y = _ref.y;

    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this, Section);

    this.height = height;
    this.width = width;
    this.x = x;
    this.y = y;
    this._indexMap = {};
    this._indices = [];
  }
  /** Add a cell to this section. */


  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(Section, [{
    key: "addCellIndex",
    value: function addCellIndex(_ref2) {
      var index = _ref2.index;

      if (!this._indexMap[index]) {
        this._indexMap[index] = true;

        this._indices.push(index);
      }
    }
    /** Get all cell indices that have been added to this section. */

  }, {
    key: "getCellIndices",
    value: function getCellIndices() {
      return this._indices;
    }
    /** Intended for debugger/test purposes only */

  }, {
    key: "toString",
    value: function toString() {
      return "".concat(this.x, ",").concat(this.y, " ").concat(this.width, "x").concat(this.height);
    }
  }]);

  return Section;
}();





/***/ }),

/***/ "./node_modules/react-virtualized/dist/es/Collection/SectionManager.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/react-virtualized/dist/es/Collection/SectionManager.js ***!
  \*****************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return SectionManager; });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/createClass.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _Section__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Section */ "./node_modules/react-virtualized/dist/es/Collection/Section.js");
/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./types */ "./node_modules/react-virtualized/dist/es/Collection/types.js");



/**
 * Window Sections are used to group nearby cells.
 * This enables us to more quickly determine which cells to display in a given region of the Window.
 * 
 */

var SECTION_SIZE = 100;

/**
 * Contains 0 to many Sections.
 * Grows (and adds Sections) dynamically as cells are registered.
 * Automatically adds cells to the appropriate Section(s).
 */
var SectionManager =
/*#__PURE__*/
function () {
  function SectionManager() {
    var sectionSize = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : SECTION_SIZE;

    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this, SectionManager);

    this._sectionSize = sectionSize;
    this._cellMetadata = [];
    this._sections = {};
  }
  /**
   * Gets all cell indices contained in the specified region.
   * A region may encompass 1 or more Sections.
   */


  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(SectionManager, [{
    key: "getCellIndices",
    value: function getCellIndices(_ref) {
      var height = _ref.height,
          width = _ref.width,
          x = _ref.x,
          y = _ref.y;
      var indices = {};
      this.getSections({
        height: height,
        width: width,
        x: x,
        y: y
      }).forEach(function (section) {
        return section.getCellIndices().forEach(function (index) {
          indices[index] = index;
        });
      }); // Object keys are strings; this function returns numbers

      return Object.keys(indices).map(function (index) {
        return indices[index];
      });
    }
    /** Get size and position information for the cell specified. */

  }, {
    key: "getCellMetadata",
    value: function getCellMetadata(_ref2) {
      var index = _ref2.index;
      return this._cellMetadata[index];
    }
    /** Get all Sections overlapping the specified region. */

  }, {
    key: "getSections",
    value: function getSections(_ref3) {
      var height = _ref3.height,
          width = _ref3.width,
          x = _ref3.x,
          y = _ref3.y;
      var sectionXStart = Math.floor(x / this._sectionSize);
      var sectionXStop = Math.floor((x + width - 1) / this._sectionSize);
      var sectionYStart = Math.floor(y / this._sectionSize);
      var sectionYStop = Math.floor((y + height - 1) / this._sectionSize);
      var sections = [];

      for (var sectionX = sectionXStart; sectionX <= sectionXStop; sectionX++) {
        for (var sectionY = sectionYStart; sectionY <= sectionYStop; sectionY++) {
          var key = "".concat(sectionX, ".").concat(sectionY);

          if (!this._sections[key]) {
            this._sections[key] = new _Section__WEBPACK_IMPORTED_MODULE_2__["default"]({
              height: this._sectionSize,
              width: this._sectionSize,
              x: sectionX * this._sectionSize,
              y: sectionY * this._sectionSize
            });
          }

          sections.push(this._sections[key]);
        }
      }

      return sections;
    }
    /** Total number of Sections based on the currently registered cells. */

  }, {
    key: "getTotalSectionCount",
    value: function getTotalSectionCount() {
      return Object.keys(this._sections).length;
    }
    /** Intended for debugger/test purposes only */

  }, {
    key: "toString",
    value: function toString() {
      var _this = this;

      return Object.keys(this._sections).map(function (index) {
        return _this._sections[index].toString();
      });
    }
    /** Adds a cell to the appropriate Sections and registers it metadata for later retrievable. */

  }, {
    key: "registerCell",
    value: function registerCell(_ref4) {
      var cellMetadatum = _ref4.cellMetadatum,
          index = _ref4.index;
      this._cellMetadata[index] = cellMetadatum;
      this.getSections(cellMetadatum).forEach(function (section) {
        return section.addCellIndex({
          index: index
        });
      });
    }
  }]);

  return SectionManager;
}();





/***/ }),

/***/ "./node_modules/react-virtualized/dist/es/Collection/index.js":
/*!********************************************************************!*\
  !*** ./node_modules/react-virtualized/dist/es/Collection/index.js ***!
  \********************************************************************/
/*! exports provided: default, Collection */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _Collection__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Collection */ "./node_modules/react-virtualized/dist/es/Collection/Collection.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Collection", function() { return _Collection__WEBPACK_IMPORTED_MODULE_0__["default"]; });


/* harmony default export */ __webpack_exports__["default"] = (_Collection__WEBPACK_IMPORTED_MODULE_0__["default"]);


/***/ }),

/***/ "./node_modules/react-virtualized/dist/es/Collection/types.js":
/*!********************************************************************!*\
  !*** ./node_modules/react-virtualized/dist/es/Collection/types.js ***!
  \********************************************************************/
/*! exports provided: bpfrpt_proptype_Index, bpfrpt_proptype_PositionInfo, bpfrpt_proptype_ScrollPosition, bpfrpt_proptype_SizeAndPositionInfo, bpfrpt_proptype_SizeInfo */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "bpfrpt_proptype_Index", function() { return bpfrpt_proptype_Index; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "bpfrpt_proptype_PositionInfo", function() { return bpfrpt_proptype_PositionInfo; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "bpfrpt_proptype_ScrollPosition", function() { return bpfrpt_proptype_ScrollPosition; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "bpfrpt_proptype_SizeAndPositionInfo", function() { return bpfrpt_proptype_SizeAndPositionInfo; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "bpfrpt_proptype_SizeInfo", function() { return bpfrpt_proptype_SizeInfo; });
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_0__);
var bpfrpt_proptype_Index =  false ? undefined : {
  "index": prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.number.isRequired
};
var bpfrpt_proptype_PositionInfo =  false ? undefined : {
  "x": prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.number.isRequired,
  "y": prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.number.isRequired
};
var bpfrpt_proptype_ScrollPosition =  false ? undefined : {
  "scrollLeft": prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.number.isRequired,
  "scrollTop": prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.number.isRequired
};
var bpfrpt_proptype_SizeAndPositionInfo =  false ? undefined : {
  "height": prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.number.isRequired,
  "width": prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.number.isRequired,
  "x": prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.number.isRequired,
  "y": prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.number.isRequired
};
var bpfrpt_proptype_SizeInfo =  false ? undefined : {
  "height": prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.number.isRequired,
  "width": prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.number.isRequired
};







/***/ }),

/***/ "./node_modules/react-virtualized/dist/es/Collection/utils/calculateSizeAndPositionData.js":
/*!*************************************************************************************************!*\
  !*** ./node_modules/react-virtualized/dist/es/Collection/utils/calculateSizeAndPositionData.js ***!
  \*************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return calculateSizeAndPositionData; });
/* harmony import */ var _SectionManager__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../SectionManager */ "./node_modules/react-virtualized/dist/es/Collection/SectionManager.js");

function calculateSizeAndPositionData(_ref) {
  var cellCount = _ref.cellCount,
      cellSizeAndPositionGetter = _ref.cellSizeAndPositionGetter,
      sectionSize = _ref.sectionSize;
  var cellMetadata = [];
  var sectionManager = new _SectionManager__WEBPACK_IMPORTED_MODULE_0__["default"](sectionSize);
  var height = 0;
  var width = 0;

  for (var index = 0; index < cellCount; index++) {
    var cellMetadatum = cellSizeAndPositionGetter({
      index: index
    });

    if (cellMetadatum.height == null || isNaN(cellMetadatum.height) || cellMetadatum.width == null || isNaN(cellMetadatum.width) || cellMetadatum.x == null || isNaN(cellMetadatum.x) || cellMetadatum.y == null || isNaN(cellMetadatum.y)) {
      throw Error("Invalid metadata returned for cell ".concat(index, ":\n        x:").concat(cellMetadatum.x, ", y:").concat(cellMetadatum.y, ", width:").concat(cellMetadatum.width, ", height:").concat(cellMetadatum.height));
    }

    height = Math.max(height, cellMetadatum.y + cellMetadatum.height);
    width = Math.max(width, cellMetadatum.x + cellMetadatum.width);
    cellMetadata[index] = cellMetadatum;
    sectionManager.registerCell({
      cellMetadatum: cellMetadatum,
      index: index
    });
  }

  return {
    cellMetadata: cellMetadata,
    height: height,
    sectionManager: sectionManager,
    width: width
  };
}

/***/ }),

/***/ "./node_modules/react-virtualized/dist/es/ColumnSizer/ColumnSizer.js":
/*!***************************************************************************!*\
  !*** ./node_modules/react-virtualized/dist/es/ColumnSizer/ColumnSizer.js ***!
  \***************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return ColumnSizer; });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/createClass.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/inherits.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);








/**
 * High-order component that auto-calculates column-widths for `Grid` cells.
 */

var ColumnSizer =
/*#__PURE__*/
function (_React$PureComponent) {
  _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5___default()(ColumnSizer, _React$PureComponent);

  function ColumnSizer(props, context) {
    var _this;

    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this, ColumnSizer);

    _this = _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2___default()(this, _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3___default()(ColumnSizer).call(this, props, context));
    _this._registerChild = _this._registerChild.bind(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4___default()(_this));
    return _this;
  }

  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(ColumnSizer, [{
    key: "componentDidUpdate",
    value: function componentDidUpdate(prevProps) {
      var _this$props = this.props,
          columnMaxWidth = _this$props.columnMaxWidth,
          columnMinWidth = _this$props.columnMinWidth,
          columnCount = _this$props.columnCount,
          width = _this$props.width;

      if (columnMaxWidth !== prevProps.columnMaxWidth || columnMinWidth !== prevProps.columnMinWidth || columnCount !== prevProps.columnCount || width !== prevProps.width) {
        if (this._registeredChild) {
          this._registeredChild.recomputeGridSize();
        }
      }
    }
  }, {
    key: "render",
    value: function render() {
      var _this$props2 = this.props,
          children = _this$props2.children,
          columnMaxWidth = _this$props2.columnMaxWidth,
          columnMinWidth = _this$props2.columnMinWidth,
          columnCount = _this$props2.columnCount,
          width = _this$props2.width;
      var safeColumnMinWidth = columnMinWidth || 1;
      var safeColumnMaxWidth = columnMaxWidth ? Math.min(columnMaxWidth, width) : width;
      var columnWidth = width / columnCount;
      columnWidth = Math.max(safeColumnMinWidth, columnWidth);
      columnWidth = Math.min(safeColumnMaxWidth, columnWidth);
      columnWidth = Math.floor(columnWidth);
      var adjustedWidth = Math.min(width, columnWidth * columnCount);
      return children({
        adjustedWidth: adjustedWidth,
        columnWidth: columnWidth,
        getColumnWidth: function getColumnWidth() {
          return columnWidth;
        },
        registerChild: this._registerChild
      });
    }
  }, {
    key: "_registerChild",
    value: function _registerChild(child) {
      if (child && typeof child.recomputeGridSize !== 'function') {
        throw Error('Unexpected child type registered; only Grid/MultiGrid children are supported.');
      }

      this._registeredChild = child;

      if (this._registeredChild) {
        this._registeredChild.recomputeGridSize();
      }
    }
  }]);

  return ColumnSizer;
}(react__WEBPACK_IMPORTED_MODULE_7__["PureComponent"]);


ColumnSizer.propTypes =  true ? {
  /**
   * Function responsible for rendering a virtualized Grid.
   * This function should implement the following signature:
   * ({ adjustedWidth, getColumnWidth, registerChild }) => PropTypes.element
   *
   * The specified :getColumnWidth function should be passed to the Grid's :columnWidth property.
   * The :registerChild should be passed to the Grid's :ref property.
   * The :adjustedWidth property is optional; it reflects the lesser of the overall width or the width of all columns.
   */
  children: prop_types__WEBPACK_IMPORTED_MODULE_6___default.a.func.isRequired,

  /** Optional maximum allowed column width */
  columnMaxWidth: prop_types__WEBPACK_IMPORTED_MODULE_6___default.a.number,

  /** Optional minimum allowed column width */
  columnMinWidth: prop_types__WEBPACK_IMPORTED_MODULE_6___default.a.number,

  /** Number of columns in Grid or Table child */
  columnCount: prop_types__WEBPACK_IMPORTED_MODULE_6___default.a.number.isRequired,

  /** Width of Grid or Table child */
  width: prop_types__WEBPACK_IMPORTED_MODULE_6___default.a.number.isRequired
} : undefined;

/***/ }),

/***/ "./node_modules/react-virtualized/dist/es/ColumnSizer/index.js":
/*!*********************************************************************!*\
  !*** ./node_modules/react-virtualized/dist/es/ColumnSizer/index.js ***!
  \*********************************************************************/
/*! exports provided: default, ColumnSizer */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _ColumnSizer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ColumnSizer */ "./node_modules/react-virtualized/dist/es/ColumnSizer/ColumnSizer.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ColumnSizer", function() { return _ColumnSizer__WEBPACK_IMPORTED_MODULE_0__["default"]; });


/* harmony default export */ __webpack_exports__["default"] = (_ColumnSizer__WEBPACK_IMPORTED_MODULE_0__["default"]);


/***/ }),

/***/ "./node_modules/react-virtualized/dist/es/Grid/Grid.js":
/*!*************************************************************!*\
  !*** ./node_modules/react-virtualized/dist/es/Grid/Grid.js ***!
  \*************************************************************/
/*! exports provided: DEFAULT_SCROLLING_RESET_TIME_INTERVAL, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DEFAULT_SCROLLING_RESET_TIME_INTERVAL", function() { return DEFAULT_SCROLLING_RESET_TIME_INTERVAL; });
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/extends */ "./node_modules/@babel/runtime/helpers/extends.js");
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/createClass.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/inherits.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/defineProperty.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var clsx__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! clsx */ "./node_modules/clsx/dist/clsx.m.js");
/* harmony import */ var _utils_calculateSizeAndPositionDataAndUpdateScrollOffset__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./utils/calculateSizeAndPositionDataAndUpdateScrollOffset */ "./node_modules/react-virtualized/dist/es/Grid/utils/calculateSizeAndPositionDataAndUpdateScrollOffset.js");
/* harmony import */ var _utils_ScalingCellSizeAndPositionManager__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./utils/ScalingCellSizeAndPositionManager */ "./node_modules/react-virtualized/dist/es/Grid/utils/ScalingCellSizeAndPositionManager.js");
/* harmony import */ var _utils_createCallbackMemoizer__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../utils/createCallbackMemoizer */ "./node_modules/react-virtualized/dist/es/utils/createCallbackMemoizer.js");
/* harmony import */ var _defaultOverscanIndicesGetter__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./defaultOverscanIndicesGetter */ "./node_modules/react-virtualized/dist/es/Grid/defaultOverscanIndicesGetter.js");
/* harmony import */ var _utils_updateScrollIndexHelper__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./utils/updateScrollIndexHelper */ "./node_modules/react-virtualized/dist/es/Grid/utils/updateScrollIndexHelper.js");
/* harmony import */ var _defaultCellRangeRenderer__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./defaultCellRangeRenderer */ "./node_modules/react-virtualized/dist/es/Grid/defaultCellRangeRenderer.js");
/* harmony import */ var dom_helpers_scrollbarSize__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! dom-helpers/scrollbarSize */ "./node_modules/dom-helpers/esm/scrollbarSize.js");
/* harmony import */ var react_lifecycles_compat__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! react-lifecycles-compat */ "./node_modules/react-lifecycles-compat/react-lifecycles-compat.es.js");
/* harmony import */ var _utils_requestAnimationTimeout__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../utils/requestAnimationTimeout */ "./node_modules/react-virtualized/dist/es/utils/requestAnimationTimeout.js");
/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./types */ "./node_modules/react-virtualized/dist/es/Grid/types.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_20___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_20__);









var _class, _temp;

function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default()(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }












/**
 * Specifies the number of milliseconds during which to disable pointer events while a scroll is in progress.
 * This improves performance and makes scrolling smoother.
 */

var DEFAULT_SCROLLING_RESET_TIME_INTERVAL = 150;
/**
 * Controls whether the Grid updates the DOM element's scrollLeft/scrollTop based on the current state or just observes it.
 * This prevents Grid from interrupting mouse-wheel animations (see issue #2).
 */

var SCROLL_POSITION_CHANGE_REASONS = {
  OBSERVED: 'observed',
  REQUESTED: 'requested'
};

var renderNull = function renderNull() {
  return null;
};

/**
 * Renders tabular data with virtualization along the vertical and horizontal axes.
 * Row heights and column widths must be known ahead of time and specified as properties.
 */
var Grid = (_temp = _class =
/*#__PURE__*/
function (_React$PureComponent) {
  _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_6___default()(Grid, _React$PureComponent);

  // Invokes onSectionRendered callback only when start/stop row or column indices change
  function Grid(props) {
    var _this;

    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default()(this, Grid);

    _this = _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3___default()(this, _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default()(Grid).call(this, props));

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default()(_this), "_onGridRenderedMemoizer", Object(_utils_createCallbackMemoizer__WEBPACK_IMPORTED_MODULE_12__["default"])());

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default()(_this), "_onScrollMemoizer", Object(_utils_createCallbackMemoizer__WEBPACK_IMPORTED_MODULE_12__["default"])(false));

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default()(_this), "_deferredInvalidateColumnIndex", null);

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default()(_this), "_deferredInvalidateRowIndex", null);

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default()(_this), "_recomputeScrollLeftFlag", false);

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default()(_this), "_recomputeScrollTopFlag", false);

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default()(_this), "_horizontalScrollBarSize", 0);

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default()(_this), "_verticalScrollBarSize", 0);

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default()(_this), "_scrollbarPresenceChanged", false);

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default()(_this), "_scrollingContainer", void 0);

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default()(_this), "_childrenToDisplay", void 0);

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default()(_this), "_columnStartIndex", void 0);

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default()(_this), "_columnStopIndex", void 0);

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default()(_this), "_rowStartIndex", void 0);

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default()(_this), "_rowStopIndex", void 0);

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default()(_this), "_renderedColumnStartIndex", 0);

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default()(_this), "_renderedColumnStopIndex", 0);

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default()(_this), "_renderedRowStartIndex", 0);

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default()(_this), "_renderedRowStopIndex", 0);

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default()(_this), "_initialScrollTop", void 0);

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default()(_this), "_initialScrollLeft", void 0);

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default()(_this), "_disablePointerEventsTimeoutId", void 0);

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default()(_this), "_styleCache", {});

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default()(_this), "_cellCache", {});

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default()(_this), "_debounceScrollEndedCallback", function () {
      _this._disablePointerEventsTimeoutId = null; // isScrolling is used to determine if we reset styleCache

      _this.setState({
        isScrolling: false,
        needToResetStyleCache: false
      });
    });

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default()(_this), "_invokeOnGridRenderedHelper", function () {
      var onSectionRendered = _this.props.onSectionRendered;

      _this._onGridRenderedMemoizer({
        callback: onSectionRendered,
        indices: {
          columnOverscanStartIndex: _this._columnStartIndex,
          columnOverscanStopIndex: _this._columnStopIndex,
          columnStartIndex: _this._renderedColumnStartIndex,
          columnStopIndex: _this._renderedColumnStopIndex,
          rowOverscanStartIndex: _this._rowStartIndex,
          rowOverscanStopIndex: _this._rowStopIndex,
          rowStartIndex: _this._renderedRowStartIndex,
          rowStopIndex: _this._renderedRowStopIndex
        }
      });
    });

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default()(_this), "_setScrollingContainerRef", function (ref) {
      _this._scrollingContainer = ref;
    });

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default()(_this), "_onScroll", function (event) {
      // In certain edge-cases React dispatches an onScroll event with an invalid target.scrollLeft / target.scrollTop.
      // This invalid event can be detected by comparing event.target to this component's scrollable DOM element.
      // See issue #404 for more information.
      if (event.target === _this._scrollingContainer) {
        _this.handleScrollEvent(event.target);
      }
    });

    var columnSizeAndPositionManager = new _utils_ScalingCellSizeAndPositionManager__WEBPACK_IMPORTED_MODULE_11__["default"]({
      cellCount: props.columnCount,
      cellSizeGetter: function cellSizeGetter(params) {
        return Grid._wrapSizeGetter(props.columnWidth)(params);
      },
      estimatedCellSize: Grid._getEstimatedColumnSize(props)
    });
    var rowSizeAndPositionManager = new _utils_ScalingCellSizeAndPositionManager__WEBPACK_IMPORTED_MODULE_11__["default"]({
      cellCount: props.rowCount,
      cellSizeGetter: function cellSizeGetter(params) {
        return Grid._wrapSizeGetter(props.rowHeight)(params);
      },
      estimatedCellSize: Grid._getEstimatedRowSize(props)
    });
    _this.state = {
      instanceProps: {
        columnSizeAndPositionManager: columnSizeAndPositionManager,
        rowSizeAndPositionManager: rowSizeAndPositionManager,
        prevColumnWidth: props.columnWidth,
        prevRowHeight: props.rowHeight,
        prevColumnCount: props.columnCount,
        prevRowCount: props.rowCount,
        prevIsScrolling: props.isScrolling === true,
        prevScrollToColumn: props.scrollToColumn,
        prevScrollToRow: props.scrollToRow,
        scrollbarSize: 0,
        scrollbarSizeMeasured: false
      },
      isScrolling: false,
      scrollDirectionHorizontal: _defaultOverscanIndicesGetter__WEBPACK_IMPORTED_MODULE_13__["SCROLL_DIRECTION_FORWARD"],
      scrollDirectionVertical: _defaultOverscanIndicesGetter__WEBPACK_IMPORTED_MODULE_13__["SCROLL_DIRECTION_FORWARD"],
      scrollLeft: 0,
      scrollTop: 0,
      scrollPositionChangeReason: null,
      needToResetStyleCache: false
    };

    if (props.scrollToRow > 0) {
      _this._initialScrollTop = _this._getCalculatedScrollTop(props, _this.state);
    }

    if (props.scrollToColumn > 0) {
      _this._initialScrollLeft = _this._getCalculatedScrollLeft(props, _this.state);
    }

    return _this;
  }
  /**
   * Gets offsets for a given cell and alignment.
   */


  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default()(Grid, [{
    key: "getOffsetForCell",
    value: function getOffsetForCell() {
      var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},
          _ref$alignment = _ref.alignment,
          alignment = _ref$alignment === void 0 ? this.props.scrollToAlignment : _ref$alignment,
          _ref$columnIndex = _ref.columnIndex,
          columnIndex = _ref$columnIndex === void 0 ? this.props.scrollToColumn : _ref$columnIndex,
          _ref$rowIndex = _ref.rowIndex,
          rowIndex = _ref$rowIndex === void 0 ? this.props.scrollToRow : _ref$rowIndex;

      var offsetProps = _objectSpread({}, this.props, {
        scrollToAlignment: alignment,
        scrollToColumn: columnIndex,
        scrollToRow: rowIndex
      });

      return {
        scrollLeft: this._getCalculatedScrollLeft(offsetProps),
        scrollTop: this._getCalculatedScrollTop(offsetProps)
      };
    }
    /**
     * Gets estimated total rows' height.
     */

  }, {
    key: "getTotalRowsHeight",
    value: function getTotalRowsHeight() {
      return this.state.instanceProps.rowSizeAndPositionManager.getTotalSize();
    }
    /**
     * Gets estimated total columns' width.
     */

  }, {
    key: "getTotalColumnsWidth",
    value: function getTotalColumnsWidth() {
      return this.state.instanceProps.columnSizeAndPositionManager.getTotalSize();
    }
    /**
     * This method handles a scroll event originating from an external scroll control.
     * It's an advanced method and should probably not be used unless you're implementing a custom scroll-bar solution.
     */

  }, {
    key: "handleScrollEvent",
    value: function handleScrollEvent(_ref2) {
      var _ref2$scrollLeft = _ref2.scrollLeft,
          scrollLeftParam = _ref2$scrollLeft === void 0 ? 0 : _ref2$scrollLeft,
          _ref2$scrollTop = _ref2.scrollTop,
          scrollTopParam = _ref2$scrollTop === void 0 ? 0 : _ref2$scrollTop;

      // On iOS, we can arrive at negative offsets by swiping past the start.
      // To prevent flicker here, we make playing in the negative offset zone cause nothing to happen.
      if (scrollTopParam < 0) {
        return;
      } // Prevent pointer events from interrupting a smooth scroll


      this._debounceScrollEnded();

      var _this$props = this.props,
          autoHeight = _this$props.autoHeight,
          autoWidth = _this$props.autoWidth,
          height = _this$props.height,
          width = _this$props.width;
      var instanceProps = this.state.instanceProps; // When this component is shrunk drastically, React dispatches a series of back-to-back scroll events,
      // Gradually converging on a scrollTop that is within the bounds of the new, smaller height.
      // This causes a series of rapid renders that is slow for long lists.
      // We can avoid that by doing some simple bounds checking to ensure that scroll offsets never exceed their bounds.

      var scrollbarSize = instanceProps.scrollbarSize;
      var totalRowsHeight = instanceProps.rowSizeAndPositionManager.getTotalSize();
      var totalColumnsWidth = instanceProps.columnSizeAndPositionManager.getTotalSize();
      var scrollLeft = Math.min(Math.max(0, totalColumnsWidth - width + scrollbarSize), scrollLeftParam);
      var scrollTop = Math.min(Math.max(0, totalRowsHeight - height + scrollbarSize), scrollTopParam); // Certain devices (like Apple touchpad) rapid-fire duplicate events.
      // Don't force a re-render if this is the case.
      // The mouse may move faster then the animation frame does.
      // Use requestAnimationFrame to avoid over-updating.

      if (this.state.scrollLeft !== scrollLeft || this.state.scrollTop !== scrollTop) {
        // Track scrolling direction so we can more efficiently overscan rows to reduce empty space around the edges while scrolling.
        // Don't change direction for an axis unless scroll offset has changed.
        var scrollDirectionHorizontal = scrollLeft !== this.state.scrollLeft ? scrollLeft > this.state.scrollLeft ? _defaultOverscanIndicesGetter__WEBPACK_IMPORTED_MODULE_13__["SCROLL_DIRECTION_FORWARD"] : _defaultOverscanIndicesGetter__WEBPACK_IMPORTED_MODULE_13__["SCROLL_DIRECTION_BACKWARD"] : this.state.scrollDirectionHorizontal;
        var scrollDirectionVertical = scrollTop !== this.state.scrollTop ? scrollTop > this.state.scrollTop ? _defaultOverscanIndicesGetter__WEBPACK_IMPORTED_MODULE_13__["SCROLL_DIRECTION_FORWARD"] : _defaultOverscanIndicesGetter__WEBPACK_IMPORTED_MODULE_13__["SCROLL_DIRECTION_BACKWARD"] : this.state.scrollDirectionVertical;
        var newState = {
          isScrolling: true,
          scrollDirectionHorizontal: scrollDirectionHorizontal,
          scrollDirectionVertical: scrollDirectionVertical,
          scrollPositionChangeReason: SCROLL_POSITION_CHANGE_REASONS.OBSERVED
        };

        if (!autoHeight) {
          newState.scrollTop = scrollTop;
        }

        if (!autoWidth) {
          newState.scrollLeft = scrollLeft;
        }

        newState.needToResetStyleCache = false;
        this.setState(newState);
      }

      this._invokeOnScrollMemoizer({
        scrollLeft: scrollLeft,
        scrollTop: scrollTop,
        totalColumnsWidth: totalColumnsWidth,
        totalRowsHeight: totalRowsHeight
      });
    }
    /**
     * Invalidate Grid size and recompute visible cells.
     * This is a deferred wrapper for recomputeGridSize().
     * It sets a flag to be evaluated on cDM/cDU to avoid unnecessary renders.
     * This method is intended for advanced use-cases like CellMeasurer.
     */
    // @TODO (bvaughn) Add automated test coverage for this.

  }, {
    key: "invalidateCellSizeAfterRender",
    value: function invalidateCellSizeAfterRender(_ref3) {
      var columnIndex = _ref3.columnIndex,
          rowIndex = _ref3.rowIndex;
      this._deferredInvalidateColumnIndex = typeof this._deferredInvalidateColumnIndex === 'number' ? Math.min(this._deferredInvalidateColumnIndex, columnIndex) : columnIndex;
      this._deferredInvalidateRowIndex = typeof this._deferredInvalidateRowIndex === 'number' ? Math.min(this._deferredInvalidateRowIndex, rowIndex) : rowIndex;
    }
    /**
     * Pre-measure all columns and rows in a Grid.
     * Typically cells are only measured as needed and estimated sizes are used for cells that have not yet been measured.
     * This method ensures that the next call to getTotalSize() returns an exact size (as opposed to just an estimated one).
     */

  }, {
    key: "measureAllCells",
    value: function measureAllCells() {
      var _this$props2 = this.props,
          columnCount = _this$props2.columnCount,
          rowCount = _this$props2.rowCount;
      var instanceProps = this.state.instanceProps;
      instanceProps.columnSizeAndPositionManager.getSizeAndPositionOfCell(columnCount - 1);
      instanceProps.rowSizeAndPositionManager.getSizeAndPositionOfCell(rowCount - 1);
    }
    /**
     * Forced recompute of row heights and column widths.
     * This function should be called if dynamic column or row sizes have changed but nothing else has.
     * Since Grid only receives :columnCount and :rowCount it has no way of detecting when the underlying data changes.
     */

  }, {
    key: "recomputeGridSize",
    value: function recomputeGridSize() {
      var _ref4 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},
          _ref4$columnIndex = _ref4.columnIndex,
          columnIndex = _ref4$columnIndex === void 0 ? 0 : _ref4$columnIndex,
          _ref4$rowIndex = _ref4.rowIndex,
          rowIndex = _ref4$rowIndex === void 0 ? 0 : _ref4$rowIndex;

      var _this$props3 = this.props,
          scrollToColumn = _this$props3.scrollToColumn,
          scrollToRow = _this$props3.scrollToRow;
      var instanceProps = this.state.instanceProps;
      instanceProps.columnSizeAndPositionManager.resetCell(columnIndex);
      instanceProps.rowSizeAndPositionManager.resetCell(rowIndex); // Cell sizes may be determined by a function property.
      // In this case the cDU handler can't know if they changed.
      // Store this flag to let the next cDU pass know it needs to recompute the scroll offset.

      this._recomputeScrollLeftFlag = scrollToColumn >= 0 && (this.state.scrollDirectionHorizontal === _defaultOverscanIndicesGetter__WEBPACK_IMPORTED_MODULE_13__["SCROLL_DIRECTION_FORWARD"] ? columnIndex <= scrollToColumn : columnIndex >= scrollToColumn);
      this._recomputeScrollTopFlag = scrollToRow >= 0 && (this.state.scrollDirectionVertical === _defaultOverscanIndicesGetter__WEBPACK_IMPORTED_MODULE_13__["SCROLL_DIRECTION_FORWARD"] ? rowIndex <= scrollToRow : rowIndex >= scrollToRow); // Clear cell cache in case we are scrolling;
      // Invalid row heights likely mean invalid cached content as well.

      this._styleCache = {};
      this._cellCache = {};
      this.forceUpdate();
    }
    /**
     * Ensure column and row are visible.
     */

  }, {
    key: "scrollToCell",
    value: function scrollToCell(_ref5) {
      var columnIndex = _ref5.columnIndex,
          rowIndex = _ref5.rowIndex;
      var columnCount = this.props.columnCount;
      var props = this.props; // Don't adjust scroll offset for single-column grids (eg List, Table).
      // This can cause a funky scroll offset because of the vertical scrollbar width.

      if (columnCount > 1 && columnIndex !== undefined) {
        this._updateScrollLeftForScrollToColumn(_objectSpread({}, props, {
          scrollToColumn: columnIndex
        }));
      }

      if (rowIndex !== undefined) {
        this._updateScrollTopForScrollToRow(_objectSpread({}, props, {
          scrollToRow: rowIndex
        }));
      }
    }
  }, {
    key: "componentDidMount",
    value: function componentDidMount() {
      var _this$props4 = this.props,
          getScrollbarSize = _this$props4.getScrollbarSize,
          height = _this$props4.height,
          scrollLeft = _this$props4.scrollLeft,
          scrollToColumn = _this$props4.scrollToColumn,
          scrollTop = _this$props4.scrollTop,
          scrollToRow = _this$props4.scrollToRow,
          width = _this$props4.width;
      var instanceProps = this.state.instanceProps; // Reset initial offsets to be ignored in browser

      this._initialScrollTop = 0;
      this._initialScrollLeft = 0; // If cell sizes have been invalidated (eg we are using CellMeasurer) then reset cached positions.
      // We must do this at the start of the method as we may calculate and update scroll position below.

      this._handleInvalidatedGridSize(); // If this component was first rendered server-side, scrollbar size will be undefined.
      // In that event we need to remeasure.


      if (!instanceProps.scrollbarSizeMeasured) {
        this.setState(function (prevState) {
          var stateUpdate = _objectSpread({}, prevState, {
            needToResetStyleCache: false
          });

          stateUpdate.instanceProps.scrollbarSize = getScrollbarSize();
          stateUpdate.instanceProps.scrollbarSizeMeasured = true;
          return stateUpdate;
        });
      }

      if (typeof scrollLeft === 'number' && scrollLeft >= 0 || typeof scrollTop === 'number' && scrollTop >= 0) {
        var stateUpdate = Grid._getScrollToPositionStateUpdate({
          prevState: this.state,
          scrollLeft: scrollLeft,
          scrollTop: scrollTop
        });

        if (stateUpdate) {
          stateUpdate.needToResetStyleCache = false;
          this.setState(stateUpdate);
        }
      } // refs don't work in `react-test-renderer`


      if (this._scrollingContainer) {
        // setting the ref's scrollLeft and scrollTop.
        // Somehow in MultiGrid the main grid doesn't trigger a update on mount.
        if (this._scrollingContainer.scrollLeft !== this.state.scrollLeft) {
          this._scrollingContainer.scrollLeft = this.state.scrollLeft;
        }

        if (this._scrollingContainer.scrollTop !== this.state.scrollTop) {
          this._scrollingContainer.scrollTop = this.state.scrollTop;
        }
      } // Don't update scroll offset if the size is 0; we don't render any cells in this case.
      // Setting a state may cause us to later thing we've updated the offce when we haven't.


      var sizeIsBiggerThanZero = height > 0 && width > 0;

      if (scrollToColumn >= 0 && sizeIsBiggerThanZero) {
        this._updateScrollLeftForScrollToColumn();
      }

      if (scrollToRow >= 0 && sizeIsBiggerThanZero) {
        this._updateScrollTopForScrollToRow();
      } // Update onRowsRendered callback


      this._invokeOnGridRenderedHelper(); // Initialize onScroll callback


      this._invokeOnScrollMemoizer({
        scrollLeft: scrollLeft || 0,
        scrollTop: scrollTop || 0,
        totalColumnsWidth: instanceProps.columnSizeAndPositionManager.getTotalSize(),
        totalRowsHeight: instanceProps.rowSizeAndPositionManager.getTotalSize()
      });

      this._maybeCallOnScrollbarPresenceChange();
    }
    /**
     * @private
     * This method updates scrollLeft/scrollTop in state for the following conditions:
     * 1) New scroll-to-cell props have been set
     */

  }, {
    key: "componentDidUpdate",
    value: function componentDidUpdate(prevProps, prevState) {
      var _this2 = this;

      var _this$props5 = this.props,
          autoHeight = _this$props5.autoHeight,
          autoWidth = _this$props5.autoWidth,
          columnCount = _this$props5.columnCount,
          height = _this$props5.height,
          rowCount = _this$props5.rowCount,
          scrollToAlignment = _this$props5.scrollToAlignment,
          scrollToColumn = _this$props5.scrollToColumn,
          scrollToRow = _this$props5.scrollToRow,
          width = _this$props5.width;
      var _this$state = this.state,
          scrollLeft = _this$state.scrollLeft,
          scrollPositionChangeReason = _this$state.scrollPositionChangeReason,
          scrollTop = _this$state.scrollTop,
          instanceProps = _this$state.instanceProps; // If cell sizes have been invalidated (eg we are using CellMeasurer) then reset cached positions.
      // We must do this at the start of the method as we may calculate and update scroll position below.

      this._handleInvalidatedGridSize(); // Handle edge case where column or row count has only just increased over 0.
      // In this case we may have to restore a previously-specified scroll offset.
      // For more info see bvaughn/react-virtualized/issues/218


      var columnOrRowCountJustIncreasedFromZero = columnCount > 0 && prevProps.columnCount === 0 || rowCount > 0 && prevProps.rowCount === 0; // Make sure requested changes to :scrollLeft or :scrollTop get applied.
      // Assigning to scrollLeft/scrollTop tells the browser to interrupt any running scroll animations,
      // And to discard any pending async changes to the scroll position that may have happened in the meantime (e.g. on a separate scrolling thread).
      // So we only set these when we require an adjustment of the scroll position.
      // See issue #2 for more information.

      if (scrollPositionChangeReason === SCROLL_POSITION_CHANGE_REASONS.REQUESTED) {
        // @TRICKY :autoHeight and :autoWidth properties instructs Grid to leave :scrollTop and :scrollLeft management to an external HOC (eg WindowScroller).
        // In this case we should avoid checking scrollingContainer.scrollTop and scrollingContainer.scrollLeft since it forces layout/flow.
        if (!autoWidth && scrollLeft >= 0 && (scrollLeft !== this._scrollingContainer.scrollLeft || columnOrRowCountJustIncreasedFromZero)) {
          this._scrollingContainer.scrollLeft = scrollLeft;
        }

        if (!autoHeight && scrollTop >= 0 && (scrollTop !== this._scrollingContainer.scrollTop || columnOrRowCountJustIncreasedFromZero)) {
          this._scrollingContainer.scrollTop = scrollTop;
        }
      } // Special case where the previous size was 0:
      // In this case we don't show any windowed cells at all.
      // So we should always recalculate offset afterwards.


      var sizeJustIncreasedFromZero = (prevProps.width === 0 || prevProps.height === 0) && height > 0 && width > 0; // Update scroll offsets if the current :scrollToColumn or :scrollToRow values requires it
      // @TODO Do we also need this check or can the one in componentWillUpdate() suffice?

      if (this._recomputeScrollLeftFlag) {
        this._recomputeScrollLeftFlag = false;

        this._updateScrollLeftForScrollToColumn(this.props);
      } else {
        Object(_utils_updateScrollIndexHelper__WEBPACK_IMPORTED_MODULE_14__["default"])({
          cellSizeAndPositionManager: instanceProps.columnSizeAndPositionManager,
          previousCellsCount: prevProps.columnCount,
          previousCellSize: prevProps.columnWidth,
          previousScrollToAlignment: prevProps.scrollToAlignment,
          previousScrollToIndex: prevProps.scrollToColumn,
          previousSize: prevProps.width,
          scrollOffset: scrollLeft,
          scrollToAlignment: scrollToAlignment,
          scrollToIndex: scrollToColumn,
          size: width,
          sizeJustIncreasedFromZero: sizeJustIncreasedFromZero,
          updateScrollIndexCallback: function updateScrollIndexCallback() {
            return _this2._updateScrollLeftForScrollToColumn(_this2.props);
          }
        });
      }

      if (this._recomputeScrollTopFlag) {
        this._recomputeScrollTopFlag = false;

        this._updateScrollTopForScrollToRow(this.props);
      } else {
        Object(_utils_updateScrollIndexHelper__WEBPACK_IMPORTED_MODULE_14__["default"])({
          cellSizeAndPositionManager: instanceProps.rowSizeAndPositionManager,
          previousCellsCount: prevProps.rowCount,
          previousCellSize: prevProps.rowHeight,
          previousScrollToAlignment: prevProps.scrollToAlignment,
          previousScrollToIndex: prevProps.scrollToRow,
          previousSize: prevProps.height,
          scrollOffset: scrollTop,
          scrollToAlignment: scrollToAlignment,
          scrollToIndex: scrollToRow,
          size: height,
          sizeJustIncreasedFromZero: sizeJustIncreasedFromZero,
          updateScrollIndexCallback: function updateScrollIndexCallback() {
            return _this2._updateScrollTopForScrollToRow(_this2.props);
          }
        });
      } // Update onRowsRendered callback if start/stop indices have changed


      this._invokeOnGridRenderedHelper(); // Changes to :scrollLeft or :scrollTop should also notify :onScroll listeners


      if (scrollLeft !== prevState.scrollLeft || scrollTop !== prevState.scrollTop) {
        var totalRowsHeight = instanceProps.rowSizeAndPositionManager.getTotalSize();
        var totalColumnsWidth = instanceProps.columnSizeAndPositionManager.getTotalSize();

        this._invokeOnScrollMemoizer({
          scrollLeft: scrollLeft,
          scrollTop: scrollTop,
          totalColumnsWidth: totalColumnsWidth,
          totalRowsHeight: totalRowsHeight
        });
      }

      this._maybeCallOnScrollbarPresenceChange();
    }
  }, {
    key: "componentWillUnmount",
    value: function componentWillUnmount() {
      if (this._disablePointerEventsTimeoutId) {
        Object(_utils_requestAnimationTimeout__WEBPACK_IMPORTED_MODULE_18__["cancelAnimationTimeout"])(this._disablePointerEventsTimeoutId);
      }
    }
    /**
     * This method updates scrollLeft/scrollTop in state for the following conditions:
     * 1) Empty content (0 rows or columns)
     * 2) New scroll props overriding the current state
     * 3) Cells-count or cells-size has changed, making previous scroll offsets invalid
     */

  }, {
    key: "render",
    value: function render() {
      var _this$props6 = this.props,
          autoContainerWidth = _this$props6.autoContainerWidth,
          autoHeight = _this$props6.autoHeight,
          autoWidth = _this$props6.autoWidth,
          className = _this$props6.className,
          containerProps = _this$props6.containerProps,
          containerRole = _this$props6.containerRole,
          containerStyle = _this$props6.containerStyle,
          height = _this$props6.height,
          id = _this$props6.id,
          noContentRenderer = _this$props6.noContentRenderer,
          role = _this$props6.role,
          style = _this$props6.style,
          tabIndex = _this$props6.tabIndex,
          width = _this$props6.width;
      var _this$state2 = this.state,
          instanceProps = _this$state2.instanceProps,
          needToResetStyleCache = _this$state2.needToResetStyleCache;

      var isScrolling = this._isScrolling();

      var gridStyle = {
        boxSizing: 'border-box',
        direction: 'ltr',
        height: autoHeight ? 'auto' : height,
        position: 'relative',
        width: autoWidth ? 'auto' : width,
        WebkitOverflowScrolling: 'touch',
        willChange: 'transform'
      };

      if (needToResetStyleCache) {
        this._styleCache = {};
      } // calculate _styleCache here
      // if state.isScrolling (not from _isScrolling) then reset


      if (!this.state.isScrolling) {
        this._resetStyleCache();
      } // calculate children to render here


      this._calculateChildrenToRender(this.props, this.state);

      var totalColumnsWidth = instanceProps.columnSizeAndPositionManager.getTotalSize();
      var totalRowsHeight = instanceProps.rowSizeAndPositionManager.getTotalSize(); // Force browser to hide scrollbars when we know they aren't necessary.
      // Otherwise once scrollbars appear they may not disappear again.
      // For more info see issue #116

      var verticalScrollBarSize = totalRowsHeight > height ? instanceProps.scrollbarSize : 0;
      var horizontalScrollBarSize = totalColumnsWidth > width ? instanceProps.scrollbarSize : 0;

      if (horizontalScrollBarSize !== this._horizontalScrollBarSize || verticalScrollBarSize !== this._verticalScrollBarSize) {
        this._horizontalScrollBarSize = horizontalScrollBarSize;
        this._verticalScrollBarSize = verticalScrollBarSize;
        this._scrollbarPresenceChanged = true;
      } // Also explicitly init styles to 'auto' if scrollbars are required.
      // This works around an obscure edge case where external CSS styles have not yet been loaded,
      // But an initial scroll index of offset is set as an external prop.
      // Without this style, Grid would render the correct range of cells but would NOT update its internal offset.
      // This was originally reported via clauderic/react-infinite-calendar/issues/23


      gridStyle.overflowX = totalColumnsWidth + verticalScrollBarSize <= width ? 'hidden' : 'auto';
      gridStyle.overflowY = totalRowsHeight + horizontalScrollBarSize <= height ? 'hidden' : 'auto';
      var childrenToDisplay = this._childrenToDisplay;
      var showNoContentRenderer = childrenToDisplay.length === 0 && height > 0 && width > 0;
      return react__WEBPACK_IMPORTED_MODULE_8__["createElement"]("div", _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({
        ref: this._setScrollingContainerRef
      }, containerProps, {
        "aria-label": this.props['aria-label'],
        "aria-readonly": this.props['aria-readonly'],
        className: Object(clsx__WEBPACK_IMPORTED_MODULE_9__["default"])('ReactVirtualized__Grid', className),
        id: id,
        onScroll: this._onScroll,
        role: role,
        style: _objectSpread({}, gridStyle, {}, style),
        tabIndex: tabIndex
      }), childrenToDisplay.length > 0 && react__WEBPACK_IMPORTED_MODULE_8__["createElement"]("div", {
        className: "ReactVirtualized__Grid__innerScrollContainer",
        role: containerRole,
        style: _objectSpread({
          width: autoContainerWidth ? 'auto' : totalColumnsWidth,
          height: totalRowsHeight,
          maxWidth: totalColumnsWidth,
          maxHeight: totalRowsHeight,
          overflow: 'hidden',
          pointerEvents: isScrolling ? 'none' : '',
          position: 'relative'
        }, containerStyle)
      }, childrenToDisplay), showNoContentRenderer && noContentRenderer());
    }
    /* ---------------------------- Helper methods ---------------------------- */

  }, {
    key: "_calculateChildrenToRender",
    value: function _calculateChildrenToRender() {
      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.props;
      var state = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.state;
      var cellRenderer = props.cellRenderer,
          cellRangeRenderer = props.cellRangeRenderer,
          columnCount = props.columnCount,
          deferredMeasurementCache = props.deferredMeasurementCache,
          height = props.height,
          overscanColumnCount = props.overscanColumnCount,
          overscanIndicesGetter = props.overscanIndicesGetter,
          overscanRowCount = props.overscanRowCount,
          rowCount = props.rowCount,
          width = props.width,
          isScrollingOptOut = props.isScrollingOptOut;
      var scrollDirectionHorizontal = state.scrollDirectionHorizontal,
          scrollDirectionVertical = state.scrollDirectionVertical,
          instanceProps = state.instanceProps;
      var scrollTop = this._initialScrollTop > 0 ? this._initialScrollTop : state.scrollTop;
      var scrollLeft = this._initialScrollLeft > 0 ? this._initialScrollLeft : state.scrollLeft;

      var isScrolling = this._isScrolling(props, state);

      this._childrenToDisplay = []; // Render only enough columns and rows to cover the visible area of the grid.

      if (height > 0 && width > 0) {
        var visibleColumnIndices = instanceProps.columnSizeAndPositionManager.getVisibleCellRange({
          containerSize: width,
          offset: scrollLeft
        });
        var visibleRowIndices = instanceProps.rowSizeAndPositionManager.getVisibleCellRange({
          containerSize: height,
          offset: scrollTop
        });
        var horizontalOffsetAdjustment = instanceProps.columnSizeAndPositionManager.getOffsetAdjustment({
          containerSize: width,
          offset: scrollLeft
        });
        var verticalOffsetAdjustment = instanceProps.rowSizeAndPositionManager.getOffsetAdjustment({
          containerSize: height,
          offset: scrollTop
        }); // Store for _invokeOnGridRenderedHelper()

        this._renderedColumnStartIndex = visibleColumnIndices.start;
        this._renderedColumnStopIndex = visibleColumnIndices.stop;
        this._renderedRowStartIndex = visibleRowIndices.start;
        this._renderedRowStopIndex = visibleRowIndices.stop;
        var overscanColumnIndices = overscanIndicesGetter({
          direction: 'horizontal',
          cellCount: columnCount,
          overscanCellsCount: overscanColumnCount,
          scrollDirection: scrollDirectionHorizontal,
          startIndex: typeof visibleColumnIndices.start === 'number' ? visibleColumnIndices.start : 0,
          stopIndex: typeof visibleColumnIndices.stop === 'number' ? visibleColumnIndices.stop : -1
        });
        var overscanRowIndices = overscanIndicesGetter({
          direction: 'vertical',
          cellCount: rowCount,
          overscanCellsCount: overscanRowCount,
          scrollDirection: scrollDirectionVertical,
          startIndex: typeof visibleRowIndices.start === 'number' ? visibleRowIndices.start : 0,
          stopIndex: typeof visibleRowIndices.stop === 'number' ? visibleRowIndices.stop : -1
        }); // Store for _invokeOnGridRenderedHelper()

        var columnStartIndex = overscanColumnIndices.overscanStartIndex;
        var columnStopIndex = overscanColumnIndices.overscanStopIndex;
        var rowStartIndex = overscanRowIndices.overscanStartIndex;
        var rowStopIndex = overscanRowIndices.overscanStopIndex; // Advanced use-cases (eg CellMeasurer) require batched measurements to determine accurate sizes.

        if (deferredMeasurementCache) {
          // If rows have a dynamic height, scan the rows we are about to render.
          // If any have not yet been measured, then we need to render all columns initially,
          // Because the height of the row is equal to the tallest cell within that row,
          // (And so we can't know the height without measuring all column-cells first).
          if (!deferredMeasurementCache.hasFixedHeight()) {
            for (var rowIndex = rowStartIndex; rowIndex <= rowStopIndex; rowIndex++) {
              if (!deferredMeasurementCache.has(rowIndex, 0)) {
                columnStartIndex = 0;
                columnStopIndex = columnCount - 1;
                break;
              }
            }
          } // If columns have a dynamic width, scan the columns we are about to render.
          // If any have not yet been measured, then we need to render all rows initially,
          // Because the width of the column is equal to the widest cell within that column,
          // (And so we can't know the width without measuring all row-cells first).


          if (!deferredMeasurementCache.hasFixedWidth()) {
            for (var columnIndex = columnStartIndex; columnIndex <= columnStopIndex; columnIndex++) {
              if (!deferredMeasurementCache.has(0, columnIndex)) {
                rowStartIndex = 0;
                rowStopIndex = rowCount - 1;
                break;
              }
            }
          }
        }

        this._childrenToDisplay = cellRangeRenderer({
          cellCache: this._cellCache,
          cellRenderer: cellRenderer,
          columnSizeAndPositionManager: instanceProps.columnSizeAndPositionManager,
          columnStartIndex: columnStartIndex,
          columnStopIndex: columnStopIndex,
          deferredMeasurementCache: deferredMeasurementCache,
          horizontalOffsetAdjustment: horizontalOffsetAdjustment,
          isScrolling: isScrolling,
          isScrollingOptOut: isScrollingOptOut,
          parent: this,
          rowSizeAndPositionManager: instanceProps.rowSizeAndPositionManager,
          rowStartIndex: rowStartIndex,
          rowStopIndex: rowStopIndex,
          scrollLeft: scrollLeft,
          scrollTop: scrollTop,
          styleCache: this._styleCache,
          verticalOffsetAdjustment: verticalOffsetAdjustment,
          visibleColumnIndices: visibleColumnIndices,
          visibleRowIndices: visibleRowIndices
        }); // update the indices

        this._columnStartIndex = columnStartIndex;
        this._columnStopIndex = columnStopIndex;
        this._rowStartIndex = rowStartIndex;
        this._rowStopIndex = rowStopIndex;
      }
    }
    /**
     * Sets an :isScrolling flag for a small window of time.
     * This flag is used to disable pointer events on the scrollable portion of the Grid.
     * This prevents jerky/stuttery mouse-wheel scrolling.
     */

  }, {
    key: "_debounceScrollEnded",
    value: function _debounceScrollEnded() {
      var scrollingResetTimeInterval = this.props.scrollingResetTimeInterval;

      if (this._disablePointerEventsTimeoutId) {
        Object(_utils_requestAnimationTimeout__WEBPACK_IMPORTED_MODULE_18__["cancelAnimationTimeout"])(this._disablePointerEventsTimeoutId);
      }

      this._disablePointerEventsTimeoutId = Object(_utils_requestAnimationTimeout__WEBPACK_IMPORTED_MODULE_18__["requestAnimationTimeout"])(this._debounceScrollEndedCallback, scrollingResetTimeInterval);
    }
  }, {
    key: "_handleInvalidatedGridSize",

    /**
     * Check for batched CellMeasurer size invalidations.
     * This will occur the first time one or more previously unmeasured cells are rendered.
     */
    value: function _handleInvalidatedGridSize() {
      if (typeof this._deferredInvalidateColumnIndex === 'number' && typeof this._deferredInvalidateRowIndex === 'number') {
        var columnIndex = this._deferredInvalidateColumnIndex;
        var rowIndex = this._deferredInvalidateRowIndex;
        this._deferredInvalidateColumnIndex = null;
        this._deferredInvalidateRowIndex = null;
        this.recomputeGridSize({
          columnIndex: columnIndex,
          rowIndex: rowIndex
        });
      }
    }
  }, {
    key: "_invokeOnScrollMemoizer",
    value: function _invokeOnScrollMemoizer(_ref6) {
      var _this3 = this;

      var scrollLeft = _ref6.scrollLeft,
          scrollTop = _ref6.scrollTop,
          totalColumnsWidth = _ref6.totalColumnsWidth,
          totalRowsHeight = _ref6.totalRowsHeight;

      this._onScrollMemoizer({
        callback: function callback(_ref7) {
          var scrollLeft = _ref7.scrollLeft,
              scrollTop = _ref7.scrollTop;
          var _this3$props = _this3.props,
              height = _this3$props.height,
              onScroll = _this3$props.onScroll,
              width = _this3$props.width;
          onScroll({
            clientHeight: height,
            clientWidth: width,
            scrollHeight: totalRowsHeight,
            scrollLeft: scrollLeft,
            scrollTop: scrollTop,
            scrollWidth: totalColumnsWidth
          });
        },
        indices: {
          scrollLeft: scrollLeft,
          scrollTop: scrollTop
        }
      });
    }
  }, {
    key: "_isScrolling",
    value: function _isScrolling() {
      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.props;
      var state = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.state;
      // If isScrolling is defined in props, use it to override the value in state
      // This is a performance optimization for WindowScroller + Grid
      return Object.hasOwnProperty.call(props, 'isScrolling') ? Boolean(props.isScrolling) : Boolean(state.isScrolling);
    }
  }, {
    key: "_maybeCallOnScrollbarPresenceChange",
    value: function _maybeCallOnScrollbarPresenceChange() {
      if (this._scrollbarPresenceChanged) {
        var onScrollbarPresenceChange = this.props.onScrollbarPresenceChange;
        this._scrollbarPresenceChanged = false;
        onScrollbarPresenceChange({
          horizontal: this._horizontalScrollBarSize > 0,
          size: this.state.instanceProps.scrollbarSize,
          vertical: this._verticalScrollBarSize > 0
        });
      }
    }
  }, {
    key: "scrollToPosition",

    /**
     * Scroll to the specified offset(s).
     * Useful for animating position changes.
     */
    value: function scrollToPosition(_ref8) {
      var scrollLeft = _ref8.scrollLeft,
          scrollTop = _ref8.scrollTop;

      var stateUpdate = Grid._getScrollToPositionStateUpdate({
        prevState: this.state,
        scrollLeft: scrollLeft,
        scrollTop: scrollTop
      });

      if (stateUpdate) {
        stateUpdate.needToResetStyleCache = false;
        this.setState(stateUpdate);
      }
    }
  }, {
    key: "_getCalculatedScrollLeft",
    value: function _getCalculatedScrollLeft() {
      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.props;
      var state = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.state;
      return Grid._getCalculatedScrollLeft(props, state);
    }
  }, {
    key: "_updateScrollLeftForScrollToColumn",
    value: function _updateScrollLeftForScrollToColumn() {
      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.props;
      var state = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.state;

      var stateUpdate = Grid._getScrollLeftForScrollToColumnStateUpdate(props, state);

      if (stateUpdate) {
        stateUpdate.needToResetStyleCache = false;
        this.setState(stateUpdate);
      }
    }
  }, {
    key: "_getCalculatedScrollTop",
    value: function _getCalculatedScrollTop() {
      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.props;
      var state = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.state;
      return Grid._getCalculatedScrollTop(props, state);
    }
  }, {
    key: "_resetStyleCache",
    value: function _resetStyleCache() {
      var styleCache = this._styleCache;
      var cellCache = this._cellCache;
      var isScrollingOptOut = this.props.isScrollingOptOut; // Reset cell and style caches once scrolling stops.
      // This makes Grid simpler to use (since cells commonly change).
      // And it keeps the caches from growing too large.
      // Performance is most sensitive when a user is scrolling.
      // Don't clear visible cells from cellCache if isScrollingOptOut is specified.
      // This keeps the cellCache to a resonable size.

      this._cellCache = {};
      this._styleCache = {}; // Copy over the visible cell styles so avoid unnecessary re-render.

      for (var rowIndex = this._rowStartIndex; rowIndex <= this._rowStopIndex; rowIndex++) {
        for (var columnIndex = this._columnStartIndex; columnIndex <= this._columnStopIndex; columnIndex++) {
          var key = "".concat(rowIndex, "-").concat(columnIndex);
          this._styleCache[key] = styleCache[key];

          if (isScrollingOptOut) {
            this._cellCache[key] = cellCache[key];
          }
        }
      }
    }
  }, {
    key: "_updateScrollTopForScrollToRow",
    value: function _updateScrollTopForScrollToRow() {
      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.props;
      var state = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.state;

      var stateUpdate = Grid._getScrollTopForScrollToRowStateUpdate(props, state);

      if (stateUpdate) {
        stateUpdate.needToResetStyleCache = false;
        this.setState(stateUpdate);
      }
    }
  }], [{
    key: "getDerivedStateFromProps",
    value: function getDerivedStateFromProps(nextProps, prevState) {
      var newState = {};

      if (nextProps.columnCount === 0 && prevState.scrollLeft !== 0 || nextProps.rowCount === 0 && prevState.scrollTop !== 0) {
        newState.scrollLeft = 0;
        newState.scrollTop = 0; // only use scroll{Left,Top} from props if scrollTo{Column,Row} isn't specified
        // scrollTo{Column,Row} should override scroll{Left,Top}
      } else if (nextProps.scrollLeft !== prevState.scrollLeft && nextProps.scrollToColumn < 0 || nextProps.scrollTop !== prevState.scrollTop && nextProps.scrollToRow < 0) {
        Object.assign(newState, Grid._getScrollToPositionStateUpdate({
          prevState: prevState,
          scrollLeft: nextProps.scrollLeft,
          scrollTop: nextProps.scrollTop
        }));
      }

      var instanceProps = prevState.instanceProps; // Initially we should not clearStyleCache

      newState.needToResetStyleCache = false;

      if (nextProps.columnWidth !== instanceProps.prevColumnWidth || nextProps.rowHeight !== instanceProps.prevRowHeight) {
        // Reset cache. set it to {} in render
        newState.needToResetStyleCache = true;
      }

      instanceProps.columnSizeAndPositionManager.configure({
        cellCount: nextProps.columnCount,
        estimatedCellSize: Grid._getEstimatedColumnSize(nextProps),
        cellSizeGetter: Grid._wrapSizeGetter(nextProps.columnWidth)
      });
      instanceProps.rowSizeAndPositionManager.configure({
        cellCount: nextProps.rowCount,
        estimatedCellSize: Grid._getEstimatedRowSize(nextProps),
        cellSizeGetter: Grid._wrapSizeGetter(nextProps.rowHeight)
      });

      if (instanceProps.prevColumnCount === 0 || instanceProps.prevRowCount === 0) {
        instanceProps.prevColumnCount = 0;
        instanceProps.prevRowCount = 0;
      } // If scrolling is controlled outside this component, clear cache when scrolling stops


      if (nextProps.autoHeight && nextProps.isScrolling === false && instanceProps.prevIsScrolling === true) {
        Object.assign(newState, {
          isScrolling: false
        });
      }

      var maybeStateA;
      var maybeStateB;
      Object(_utils_calculateSizeAndPositionDataAndUpdateScrollOffset__WEBPACK_IMPORTED_MODULE_10__["default"])({
        cellCount: instanceProps.prevColumnCount,
        cellSize: typeof instanceProps.prevColumnWidth === 'number' ? instanceProps.prevColumnWidth : null,
        computeMetadataCallback: function computeMetadataCallback() {
          return instanceProps.columnSizeAndPositionManager.resetCell(0);
        },
        computeMetadataCallbackProps: nextProps,
        nextCellsCount: nextProps.columnCount,
        nextCellSize: typeof nextProps.columnWidth === 'number' ? nextProps.columnWidth : null,
        nextScrollToIndex: nextProps.scrollToColumn,
        scrollToIndex: instanceProps.prevScrollToColumn,
        updateScrollOffsetForScrollToIndex: function updateScrollOffsetForScrollToIndex() {
          maybeStateA = Grid._getScrollLeftForScrollToColumnStateUpdate(nextProps, prevState);
        }
      });
      Object(_utils_calculateSizeAndPositionDataAndUpdateScrollOffset__WEBPACK_IMPORTED_MODULE_10__["default"])({
        cellCount: instanceProps.prevRowCount,
        cellSize: typeof instanceProps.prevRowHeight === 'number' ? instanceProps.prevRowHeight : null,
        computeMetadataCallback: function computeMetadataCallback() {
          return instanceProps.rowSizeAndPositionManager.resetCell(0);
        },
        computeMetadataCallbackProps: nextProps,
        nextCellsCount: nextProps.rowCount,
        nextCellSize: typeof nextProps.rowHeight === 'number' ? nextProps.rowHeight : null,
        nextScrollToIndex: nextProps.scrollToRow,
        scrollToIndex: instanceProps.prevScrollToRow,
        updateScrollOffsetForScrollToIndex: function updateScrollOffsetForScrollToIndex() {
          maybeStateB = Grid._getScrollTopForScrollToRowStateUpdate(nextProps, prevState);
        }
      });
      instanceProps.prevColumnCount = nextProps.columnCount;
      instanceProps.prevColumnWidth = nextProps.columnWidth;
      instanceProps.prevIsScrolling = nextProps.isScrolling === true;
      instanceProps.prevRowCount = nextProps.rowCount;
      instanceProps.prevRowHeight = nextProps.rowHeight;
      instanceProps.prevScrollToColumn = nextProps.scrollToColumn;
      instanceProps.prevScrollToRow = nextProps.scrollToRow; // getting scrollBarSize (moved from componentWillMount)

      instanceProps.scrollbarSize = nextProps.getScrollbarSize();

      if (instanceProps.scrollbarSize === undefined) {
        instanceProps.scrollbarSizeMeasured = false;
        instanceProps.scrollbarSize = 0;
      } else {
        instanceProps.scrollbarSizeMeasured = true;
      }

      newState.instanceProps = instanceProps;
      return _objectSpread({}, newState, {}, maybeStateA, {}, maybeStateB);
    }
  }, {
    key: "_getEstimatedColumnSize",
    value: function _getEstimatedColumnSize(props) {
      return typeof props.columnWidth === 'number' ? props.columnWidth : props.estimatedColumnSize;
    }
  }, {
    key: "_getEstimatedRowSize",
    value: function _getEstimatedRowSize(props) {
      return typeof props.rowHeight === 'number' ? props.rowHeight : props.estimatedRowSize;
    }
  }, {
    key: "_getScrollToPositionStateUpdate",

    /**
     * Get the updated state after scrolling to
     * scrollLeft and scrollTop
     */
    value: function _getScrollToPositionStateUpdate(_ref9) {
      var prevState = _ref9.prevState,
          scrollLeft = _ref9.scrollLeft,
          scrollTop = _ref9.scrollTop;
      var newState = {
        scrollPositionChangeReason: SCROLL_POSITION_CHANGE_REASONS.REQUESTED
      };

      if (typeof scrollLeft === 'number' && scrollLeft >= 0) {
        newState.scrollDirectionHorizontal = scrollLeft > prevState.scrollLeft ? _defaultOverscanIndicesGetter__WEBPACK_IMPORTED_MODULE_13__["SCROLL_DIRECTION_FORWARD"] : _defaultOverscanIndicesGetter__WEBPACK_IMPORTED_MODULE_13__["SCROLL_DIRECTION_BACKWARD"];
        newState.scrollLeft = scrollLeft;
      }

      if (typeof scrollTop === 'number' && scrollTop >= 0) {
        newState.scrollDirectionVertical = scrollTop > prevState.scrollTop ? _defaultOverscanIndicesGetter__WEBPACK_IMPORTED_MODULE_13__["SCROLL_DIRECTION_FORWARD"] : _defaultOverscanIndicesGetter__WEBPACK_IMPORTED_MODULE_13__["SCROLL_DIRECTION_BACKWARD"];
        newState.scrollTop = scrollTop;
      }

      if (typeof scrollLeft === 'number' && scrollLeft >= 0 && scrollLeft !== prevState.scrollLeft || typeof scrollTop === 'number' && scrollTop >= 0 && scrollTop !== prevState.scrollTop) {
        return newState;
      }

      return {};
    }
  }, {
    key: "_wrapSizeGetter",
    value: function _wrapSizeGetter(value) {
      return typeof value === 'function' ? value : function () {
        return value;
      };
    }
  }, {
    key: "_getCalculatedScrollLeft",
    value: function _getCalculatedScrollLeft(nextProps, prevState) {
      var columnCount = nextProps.columnCount,
          height = nextProps.height,
          scrollToAlignment = nextProps.scrollToAlignment,
          scrollToColumn = nextProps.scrollToColumn,
          width = nextProps.width;
      var scrollLeft = prevState.scrollLeft,
          instanceProps = prevState.instanceProps;

      if (columnCount > 0) {
        var finalColumn = columnCount - 1;
        var targetIndex = scrollToColumn < 0 ? finalColumn : Math.min(finalColumn, scrollToColumn);
        var totalRowsHeight = instanceProps.rowSizeAndPositionManager.getTotalSize();
        var scrollBarSize = instanceProps.scrollbarSizeMeasured && totalRowsHeight > height ? instanceProps.scrollbarSize : 0;
        return instanceProps.columnSizeAndPositionManager.getUpdatedOffsetForIndex({
          align: scrollToAlignment,
          containerSize: width - scrollBarSize,
          currentOffset: scrollLeft,
          targetIndex: targetIndex
        });
      }

      return 0;
    }
  }, {
    key: "_getScrollLeftForScrollToColumnStateUpdate",
    value: function _getScrollLeftForScrollToColumnStateUpdate(nextProps, prevState) {
      var scrollLeft = prevState.scrollLeft;

      var calculatedScrollLeft = Grid._getCalculatedScrollLeft(nextProps, prevState);

      if (typeof calculatedScrollLeft === 'number' && calculatedScrollLeft >= 0 && scrollLeft !== calculatedScrollLeft) {
        return Grid._getScrollToPositionStateUpdate({
          prevState: prevState,
          scrollLeft: calculatedScrollLeft,
          scrollTop: -1
        });
      }

      return {};
    }
  }, {
    key: "_getCalculatedScrollTop",
    value: function _getCalculatedScrollTop(nextProps, prevState) {
      var height = nextProps.height,
          rowCount = nextProps.rowCount,
          scrollToAlignment = nextProps.scrollToAlignment,
          scrollToRow = nextProps.scrollToRow,
          width = nextProps.width;
      var scrollTop = prevState.scrollTop,
          instanceProps = prevState.instanceProps;

      if (rowCount > 0) {
        var finalRow = rowCount - 1;
        var targetIndex = scrollToRow < 0 ? finalRow : Math.min(finalRow, scrollToRow);
        var totalColumnsWidth = instanceProps.columnSizeAndPositionManager.getTotalSize();
        var scrollBarSize = instanceProps.scrollbarSizeMeasured && totalColumnsWidth > width ? instanceProps.scrollbarSize : 0;
        return instanceProps.rowSizeAndPositionManager.getUpdatedOffsetForIndex({
          align: scrollToAlignment,
          containerSize: height - scrollBarSize,
          currentOffset: scrollTop,
          targetIndex: targetIndex
        });
      }

      return 0;
    }
  }, {
    key: "_getScrollTopForScrollToRowStateUpdate",
    value: function _getScrollTopForScrollToRowStateUpdate(nextProps, prevState) {
      var scrollTop = prevState.scrollTop;

      var calculatedScrollTop = Grid._getCalculatedScrollTop(nextProps, prevState);

      if (typeof calculatedScrollTop === 'number' && calculatedScrollTop >= 0 && scrollTop !== calculatedScrollTop) {
        return Grid._getScrollToPositionStateUpdate({
          prevState: prevState,
          scrollLeft: -1,
          scrollTop: calculatedScrollTop
        });
      }

      return {};
    }
  }]);

  return Grid;
}(react__WEBPACK_IMPORTED_MODULE_8__["PureComponent"]), _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default()(_class, "propTypes",  false ? undefined : {
  "aria-label": prop_types__WEBPACK_IMPORTED_MODULE_20___default.a.string.isRequired,
  "aria-readonly": prop_types__WEBPACK_IMPORTED_MODULE_20___default.a.bool,

  /**
   * Set the width of the inner scrollable container to 'auto'.
   * This is useful for single-column Grids to ensure that the column doesn't extend below a vertical scrollbar.
   */
  "autoContainerWidth": prop_types__WEBPACK_IMPORTED_MODULE_20___default.a.bool.isRequired,

  /**
   * Removes fixed height from the scrollingContainer so that the total height of rows can stretch the window.
   * Intended for use with WindowScroller
   */
  "autoHeight": prop_types__WEBPACK_IMPORTED_MODULE_20___default.a.bool.isRequired,

  /**
   * Removes fixed width from the scrollingContainer so that the total width of rows can stretch the window.
   * Intended for use with WindowScroller
   */
  "autoWidth": prop_types__WEBPACK_IMPORTED_MODULE_20___default.a.bool.isRequired,

  /** Responsible for rendering a cell given an row and column index.  */
  "cellRenderer": function cellRenderer() {
    return (typeof _types__WEBPACK_IMPORTED_MODULE_19__["bpfrpt_proptype_CellRenderer"] === "function" ? _types__WEBPACK_IMPORTED_MODULE_19__["bpfrpt_proptype_CellRenderer"].isRequired ? _types__WEBPACK_IMPORTED_MODULE_19__["bpfrpt_proptype_CellRenderer"].isRequired : _types__WEBPACK_IMPORTED_MODULE_19__["bpfrpt_proptype_CellRenderer"] : prop_types__WEBPACK_IMPORTED_MODULE_20___default.a.shape(_types__WEBPACK_IMPORTED_MODULE_19__["bpfrpt_proptype_CellRenderer"]).isRequired).apply(this, arguments);
  },

  /** Responsible for rendering a group of cells given their index ranges.  */
  "cellRangeRenderer": function cellRangeRenderer() {
    return (typeof _types__WEBPACK_IMPORTED_MODULE_19__["bpfrpt_proptype_CellRangeRenderer"] === "function" ? _types__WEBPACK_IMPORTED_MODULE_19__["bpfrpt_proptype_CellRangeRenderer"].isRequired ? _types__WEBPACK_IMPORTED_MODULE_19__["bpfrpt_proptype_CellRangeRenderer"].isRequired : _types__WEBPACK_IMPORTED_MODULE_19__["bpfrpt_proptype_CellRangeRenderer"] : prop_types__WEBPACK_IMPORTED_MODULE_20___default.a.shape(_types__WEBPACK_IMPORTED_MODULE_19__["bpfrpt_proptype_CellRangeRenderer"]).isRequired).apply(this, arguments);
  },

  /** Optional custom CSS class name to attach to root Grid element.  */
  "className": prop_types__WEBPACK_IMPORTED_MODULE_20___default.a.string,

  /** Number of columns in grid.  */
  "columnCount": prop_types__WEBPACK_IMPORTED_MODULE_20___default.a.number.isRequired,

  /** Either a fixed column width (number) or a function that returns the width of a column given its index.  */
  "columnWidth": function columnWidth() {
    return (typeof _types__WEBPACK_IMPORTED_MODULE_19__["bpfrpt_proptype_CellSize"] === "function" ? _types__WEBPACK_IMPORTED_MODULE_19__["bpfrpt_proptype_CellSize"].isRequired ? _types__WEBPACK_IMPORTED_MODULE_19__["bpfrpt_proptype_CellSize"].isRequired : _types__WEBPACK_IMPORTED_MODULE_19__["bpfrpt_proptype_CellSize"] : prop_types__WEBPACK_IMPORTED_MODULE_20___default.a.shape(_types__WEBPACK_IMPORTED_MODULE_19__["bpfrpt_proptype_CellSize"]).isRequired).apply(this, arguments);
  },

  /** Unfiltered props for the Grid container. */
  "containerProps": prop_types__WEBPACK_IMPORTED_MODULE_20___default.a.object,

  /** ARIA role for the cell-container.  */
  "containerRole": prop_types__WEBPACK_IMPORTED_MODULE_20___default.a.string.isRequired,

  /** Optional inline style applied to inner cell-container */
  "containerStyle": prop_types__WEBPACK_IMPORTED_MODULE_20___default.a.object.isRequired,

  /**
   * If CellMeasurer is used to measure this Grid's children, this should be a pointer to its CellMeasurerCache.
   * A shared CellMeasurerCache reference enables Grid and CellMeasurer to share measurement data.
   */
  "deferredMeasurementCache": prop_types__WEBPACK_IMPORTED_MODULE_20___default.a.object,

  /**
   * Used to estimate the total width of a Grid before all of its columns have actually been measured.
   * The estimated total width is adjusted as columns are rendered.
   */
  "estimatedColumnSize": prop_types__WEBPACK_IMPORTED_MODULE_20___default.a.number.isRequired,

  /**
   * Used to estimate the total height of a Grid before all of its rows have actually been measured.
   * The estimated total height is adjusted as rows are rendered.
   */
  "estimatedRowSize": prop_types__WEBPACK_IMPORTED_MODULE_20___default.a.number.isRequired,

  /** Exposed for testing purposes only.  */
  "getScrollbarSize": prop_types__WEBPACK_IMPORTED_MODULE_20___default.a.func.isRequired,

  /** Height of Grid; this property determines the number of visible (vs virtualized) rows.  */
  "height": prop_types__WEBPACK_IMPORTED_MODULE_20___default.a.number.isRequired,

  /** Optional custom id to attach to root Grid element.  */
  "id": prop_types__WEBPACK_IMPORTED_MODULE_20___default.a.string,

  /**
   * Override internal is-scrolling state tracking.
   * This property is primarily intended for use with the WindowScroller component.
   */
  "isScrolling": prop_types__WEBPACK_IMPORTED_MODULE_20___default.a.bool,

  /**
   * Opt-out of isScrolling param passed to cellRangeRenderer.
   * To avoid the extra render when scroll stops.
   */
  "isScrollingOptOut": prop_types__WEBPACK_IMPORTED_MODULE_20___default.a.bool.isRequired,

  /** Optional renderer to be used in place of rows when either :rowCount or :columnCount is 0.  */
  "noContentRenderer": function noContentRenderer() {
    return (typeof _types__WEBPACK_IMPORTED_MODULE_19__["bpfrpt_proptype_NoContentRenderer"] === "function" ? _types__WEBPACK_IMPORTED_MODULE_19__["bpfrpt_proptype_NoContentRenderer"].isRequired ? _types__WEBPACK_IMPORTED_MODULE_19__["bpfrpt_proptype_NoContentRenderer"].isRequired : _types__WEBPACK_IMPORTED_MODULE_19__["bpfrpt_proptype_NoContentRenderer"] : prop_types__WEBPACK_IMPORTED_MODULE_20___default.a.shape(_types__WEBPACK_IMPORTED_MODULE_19__["bpfrpt_proptype_NoContentRenderer"]).isRequired).apply(this, arguments);
  },

  /**
   * Callback invoked whenever the scroll offset changes within the inner scrollable region.
   * This callback can be used to sync scrolling between lists, tables, or grids.
   */
  "onScroll": prop_types__WEBPACK_IMPORTED_MODULE_20___default.a.func.isRequired,

  /**
   * Called whenever a horizontal or vertical scrollbar is added or removed.
   * This prop is not intended for end-user use;
   * It is used by MultiGrid to support fixed-row/fixed-column scroll syncing.
   */
  "onScrollbarPresenceChange": prop_types__WEBPACK_IMPORTED_MODULE_20___default.a.func.isRequired,

  /** Callback invoked with information about the section of the Grid that was just rendered.  */
  "onSectionRendered": prop_types__WEBPACK_IMPORTED_MODULE_20___default.a.func.isRequired,

  /**
   * Number of columns to render before/after the visible section of the grid.
   * These columns can help for smoother scrolling on touch devices or browsers that send scroll events infrequently.
   */
  "overscanColumnCount": prop_types__WEBPACK_IMPORTED_MODULE_20___default.a.number.isRequired,

  /**
   * Calculates the number of cells to overscan before and after a specified range.
   * This function ensures that overscanning doesn't exceed the available cells.
   */
  "overscanIndicesGetter": function overscanIndicesGetter() {
    return (typeof _types__WEBPACK_IMPORTED_MODULE_19__["bpfrpt_proptype_OverscanIndicesGetter"] === "function" ? _types__WEBPACK_IMPORTED_MODULE_19__["bpfrpt_proptype_OverscanIndicesGetter"].isRequired ? _types__WEBPACK_IMPORTED_MODULE_19__["bpfrpt_proptype_OverscanIndicesGetter"].isRequired : _types__WEBPACK_IMPORTED_MODULE_19__["bpfrpt_proptype_OverscanIndicesGetter"] : prop_types__WEBPACK_IMPORTED_MODULE_20___default.a.shape(_types__WEBPACK_IMPORTED_MODULE_19__["bpfrpt_proptype_OverscanIndicesGetter"]).isRequired).apply(this, arguments);
  },

  /**
   * Number of rows to render above/below the visible section of the grid.
   * These rows can help for smoother scrolling on touch devices or browsers that send scroll events infrequently.
   */
  "overscanRowCount": prop_types__WEBPACK_IMPORTED_MODULE_20___default.a.number.isRequired,

  /** ARIA role for the grid element.  */
  "role": prop_types__WEBPACK_IMPORTED_MODULE_20___default.a.string.isRequired,

  /**
   * Either a fixed row height (number) or a function that returns the height of a row given its index.
   * Should implement the following interface: ({ index: number }): number
   */
  "rowHeight": function rowHeight() {
    return (typeof _types__WEBPACK_IMPORTED_MODULE_19__["bpfrpt_proptype_CellSize"] === "function" ? _types__WEBPACK_IMPORTED_MODULE_19__["bpfrpt_proptype_CellSize"].isRequired ? _types__WEBPACK_IMPORTED_MODULE_19__["bpfrpt_proptype_CellSize"].isRequired : _types__WEBPACK_IMPORTED_MODULE_19__["bpfrpt_proptype_CellSize"] : prop_types__WEBPACK_IMPORTED_MODULE_20___default.a.shape(_types__WEBPACK_IMPORTED_MODULE_19__["bpfrpt_proptype_CellSize"]).isRequired).apply(this, arguments);
  },

  /** Number of rows in grid.  */
  "rowCount": prop_types__WEBPACK_IMPORTED_MODULE_20___default.a.number.isRequired,

  /** Wait this amount of time after the last scroll event before resetting Grid `pointer-events`. */
  "scrollingResetTimeInterval": prop_types__WEBPACK_IMPORTED_MODULE_20___default.a.number.isRequired,

  /** Horizontal offset. */
  "scrollLeft": prop_types__WEBPACK_IMPORTED_MODULE_20___default.a.number,

  /**
   * Controls scroll-to-cell behavior of the Grid.
   * The default ("auto") scrolls the least amount possible to ensure that the specified cell is fully visible.
   * Use "start" to align cells to the top/left of the Grid and "end" to align bottom/right.
   */
  "scrollToAlignment": function scrollToAlignment() {
    return (typeof _types__WEBPACK_IMPORTED_MODULE_19__["bpfrpt_proptype_Alignment"] === "function" ? _types__WEBPACK_IMPORTED_MODULE_19__["bpfrpt_proptype_Alignment"].isRequired ? _types__WEBPACK_IMPORTED_MODULE_19__["bpfrpt_proptype_Alignment"].isRequired : _types__WEBPACK_IMPORTED_MODULE_19__["bpfrpt_proptype_Alignment"] : prop_types__WEBPACK_IMPORTED_MODULE_20___default.a.shape(_types__WEBPACK_IMPORTED_MODULE_19__["bpfrpt_proptype_Alignment"]).isRequired).apply(this, arguments);
  },

  /** Column index to ensure visible (by forcefully scrolling if necessary) */
  "scrollToColumn": prop_types__WEBPACK_IMPORTED_MODULE_20___default.a.number.isRequired,

  /** Vertical offset. */
  "scrollTop": prop_types__WEBPACK_IMPORTED_MODULE_20___default.a.number,

  /** Row index to ensure visible (by forcefully scrolling if necessary) */
  "scrollToRow": prop_types__WEBPACK_IMPORTED_MODULE_20___default.a.number.isRequired,

  /** Optional inline style */
  "style": prop_types__WEBPACK_IMPORTED_MODULE_20___default.a.object.isRequired,

  /** Tab index for focus */
  "tabIndex": prop_types__WEBPACK_IMPORTED_MODULE_20___default.a.number,

  /** Width of Grid; this property determines the number of visible (vs virtualized) columns.  */
  "width": prop_types__WEBPACK_IMPORTED_MODULE_20___default.a.number.isRequired
}), _temp);

_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default()(Grid, "defaultProps", {
  'aria-label': 'grid',
  'aria-readonly': true,
  autoContainerWidth: false,
  autoHeight: false,
  autoWidth: false,
  cellRangeRenderer: _defaultCellRangeRenderer__WEBPACK_IMPORTED_MODULE_15__["default"],
  containerRole: 'rowgroup',
  containerStyle: {},
  estimatedColumnSize: 100,
  estimatedRowSize: 30,
  getScrollbarSize: dom_helpers_scrollbarSize__WEBPACK_IMPORTED_MODULE_16__["default"],
  noContentRenderer: renderNull,
  onScroll: function onScroll() {},
  onScrollbarPresenceChange: function onScrollbarPresenceChange() {},
  onSectionRendered: function onSectionRendered() {},
  overscanColumnCount: 0,
  overscanIndicesGetter: _defaultOverscanIndicesGetter__WEBPACK_IMPORTED_MODULE_13__["default"],
  overscanRowCount: 10,
  role: 'grid',
  scrollingResetTimeInterval: DEFAULT_SCROLLING_RESET_TIME_INTERVAL,
  scrollToAlignment: 'auto',
  scrollToColumn: -1,
  scrollToRow: -1,
  style: {},
  tabIndex: 0,
  isScrollingOptOut: false
});

Object(react_lifecycles_compat__WEBPACK_IMPORTED_MODULE_17__["polyfill"])(Grid);
/* harmony default export */ __webpack_exports__["default"] = (Grid);
















/***/ }),

/***/ "./node_modules/react-virtualized/dist/es/Grid/accessibilityOverscanIndicesGetter.js":
/*!*******************************************************************************************!*\
  !*** ./node_modules/react-virtualized/dist/es/Grid/accessibilityOverscanIndicesGetter.js ***!
  \*******************************************************************************************/
/*! exports provided: SCROLL_DIRECTION_BACKWARD, SCROLL_DIRECTION_FORWARD, SCROLL_DIRECTION_HORIZONTAL, SCROLL_DIRECTION_VERTICAL, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SCROLL_DIRECTION_BACKWARD", function() { return SCROLL_DIRECTION_BACKWARD; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SCROLL_DIRECTION_FORWARD", function() { return SCROLL_DIRECTION_FORWARD; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SCROLL_DIRECTION_HORIZONTAL", function() { return SCROLL_DIRECTION_HORIZONTAL; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SCROLL_DIRECTION_VERTICAL", function() { return SCROLL_DIRECTION_VERTICAL; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return defaultOverscanIndicesGetter; });
/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./types */ "./node_modules/react-virtualized/dist/es/Grid/types.js");
var SCROLL_DIRECTION_BACKWARD = -1;
var SCROLL_DIRECTION_FORWARD = 1;
var SCROLL_DIRECTION_HORIZONTAL = 'horizontal';
var SCROLL_DIRECTION_VERTICAL = 'vertical';
/**
 * Calculates the number of cells to overscan before and after a specified range.
 * This function ensures that overscanning doesn't exceed the available cells.
 */

function defaultOverscanIndicesGetter(_ref) {
  var cellCount = _ref.cellCount,
      overscanCellsCount = _ref.overscanCellsCount,
      scrollDirection = _ref.scrollDirection,
      startIndex = _ref.startIndex,
      stopIndex = _ref.stopIndex;
  // Make sure we render at least 1 cell extra before and after (except near boundaries)
  // This is necessary in order to support keyboard navigation (TAB/SHIFT+TAB) in some cases
  // For more info see issues #625
  overscanCellsCount = Math.max(1, overscanCellsCount);

  if (scrollDirection === SCROLL_DIRECTION_FORWARD) {
    return {
      overscanStartIndex: Math.max(0, startIndex - 1),
      overscanStopIndex: Math.min(cellCount - 1, stopIndex + overscanCellsCount)
    };
  } else {
    return {
      overscanStartIndex: Math.max(0, startIndex - overscanCellsCount),
      overscanStopIndex: Math.min(cellCount - 1, stopIndex + 1)
    };
  }
}



/***/ }),

/***/ "./node_modules/react-virtualized/dist/es/Grid/defaultCellRangeRenderer.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/react-virtualized/dist/es/Grid/defaultCellRangeRenderer.js ***!
  \*********************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return defaultCellRangeRenderer; });
/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./types */ "./node_modules/react-virtualized/dist/es/Grid/types.js");
/**
 * Default implementation of cellRangeRenderer used by Grid.
 * This renderer supports cell-caching while the user is scrolling.
 */
function defaultCellRangeRenderer(_ref) {
  var cellCache = _ref.cellCache,
      cellRenderer = _ref.cellRenderer,
      columnSizeAndPositionManager = _ref.columnSizeAndPositionManager,
      columnStartIndex = _ref.columnStartIndex,
      columnStopIndex = _ref.columnStopIndex,
      deferredMeasurementCache = _ref.deferredMeasurementCache,
      horizontalOffsetAdjustment = _ref.horizontalOffsetAdjustment,
      isScrolling = _ref.isScrolling,
      isScrollingOptOut = _ref.isScrollingOptOut,
      parent = _ref.parent,
      rowSizeAndPositionManager = _ref.rowSizeAndPositionManager,
      rowStartIndex = _ref.rowStartIndex,
      rowStopIndex = _ref.rowStopIndex,
      styleCache = _ref.styleCache,
      verticalOffsetAdjustment = _ref.verticalOffsetAdjustment,
      visibleColumnIndices = _ref.visibleColumnIndices,
      visibleRowIndices = _ref.visibleRowIndices;
  var renderedCells = []; // Browsers have native size limits for elements (eg Chrome 33M pixels, IE 1.5M pixes).
  // User cannot scroll beyond these size limitations.
  // In order to work around this, ScalingCellSizeAndPositionManager compresses offsets.
  // We should never cache styles for compressed offsets though as this can lead to bugs.
  // See issue #576 for more.

  var areOffsetsAdjusted = columnSizeAndPositionManager.areOffsetsAdjusted() || rowSizeAndPositionManager.areOffsetsAdjusted();
  var canCacheStyle = !isScrolling && !areOffsetsAdjusted;

  for (var rowIndex = rowStartIndex; rowIndex <= rowStopIndex; rowIndex++) {
    var rowDatum = rowSizeAndPositionManager.getSizeAndPositionOfCell(rowIndex);

    for (var columnIndex = columnStartIndex; columnIndex <= columnStopIndex; columnIndex++) {
      var columnDatum = columnSizeAndPositionManager.getSizeAndPositionOfCell(columnIndex);
      var isVisible = columnIndex >= visibleColumnIndices.start && columnIndex <= visibleColumnIndices.stop && rowIndex >= visibleRowIndices.start && rowIndex <= visibleRowIndices.stop;
      var key = "".concat(rowIndex, "-").concat(columnIndex);
      var style = void 0; // Cache style objects so shallow-compare doesn't re-render unnecessarily.

      if (canCacheStyle && styleCache[key]) {
        style = styleCache[key];
      } else {
        // In deferred mode, cells will be initially rendered before we know their size.
        // Don't interfere with CellMeasurer's measurements by setting an invalid size.
        if (deferredMeasurementCache && !deferredMeasurementCache.has(rowIndex, columnIndex)) {
          // Position not-yet-measured cells at top/left 0,0,
          // And give them width/height of 'auto' so they can grow larger than the parent Grid if necessary.
          // Positioning them further to the right/bottom influences their measured size.
          style = {
            height: 'auto',
            left: 0,
            position: 'absolute',
            top: 0,
            width: 'auto'
          };
        } else {
          style = {
            height: rowDatum.size,
            left: columnDatum.offset + horizontalOffsetAdjustment,
            position: 'absolute',
            top: rowDatum.offset + verticalOffsetAdjustment,
            width: columnDatum.size
          };
          styleCache[key] = style;
        }
      }

      var cellRendererParams = {
        columnIndex: columnIndex,
        isScrolling: isScrolling,
        isVisible: isVisible,
        key: key,
        parent: parent,
        rowIndex: rowIndex,
        style: style
      };
      var renderedCell = void 0; // Avoid re-creating cells while scrolling.
      // This can lead to the same cell being created many times and can cause performance issues for "heavy" cells.
      // If a scroll is in progress- cache and reuse cells.
      // This cache will be thrown away once scrolling completes.
      // However if we are scaling scroll positions and sizes, we should also avoid caching.
      // This is because the offset changes slightly as scroll position changes and caching leads to stale values.
      // For more info refer to issue #395
      //
      // If isScrollingOptOut is specified, we always cache cells.
      // For more info refer to issue #1028

      if ((isScrollingOptOut || isScrolling) && !horizontalOffsetAdjustment && !verticalOffsetAdjustment) {
        if (!cellCache[key]) {
          cellCache[key] = cellRenderer(cellRendererParams);
        }

        renderedCell = cellCache[key]; // If the user is no longer scrolling, don't cache cells.
        // This makes dynamic cell content difficult for users and would also lead to a heavier memory footprint.
      } else {
        renderedCell = cellRenderer(cellRendererParams);
      }

      if (renderedCell == null || renderedCell === false) {
        continue;
      }

      if (true) {
        warnAboutMissingStyle(parent, renderedCell);
      }

      renderedCells.push(renderedCell);
    }
  }

  return renderedCells;
}

function warnAboutMissingStyle(parent, renderedCell) {
  if (true) {
    if (renderedCell) {
      // If the direct child is a CellMeasurer, then we should check its child
      // See issue #611
      if (renderedCell.type && renderedCell.type.__internalCellMeasurerFlag) {
        renderedCell = renderedCell.props.children;
      }

      if (renderedCell && renderedCell.props && renderedCell.props.style === undefined && parent.__warnedAboutMissingStyle !== true) {
        parent.__warnedAboutMissingStyle = true;
        console.warn('Rendered cell should include style property for positioning.');
      }
    }
  }
}



/***/ }),

/***/ "./node_modules/react-virtualized/dist/es/Grid/defaultOverscanIndicesGetter.js":
/*!*************************************************************************************!*\
  !*** ./node_modules/react-virtualized/dist/es/Grid/defaultOverscanIndicesGetter.js ***!
  \*************************************************************************************/
/*! exports provided: SCROLL_DIRECTION_BACKWARD, SCROLL_DIRECTION_FORWARD, SCROLL_DIRECTION_HORIZONTAL, SCROLL_DIRECTION_VERTICAL, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SCROLL_DIRECTION_BACKWARD", function() { return SCROLL_DIRECTION_BACKWARD; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SCROLL_DIRECTION_FORWARD", function() { return SCROLL_DIRECTION_FORWARD; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SCROLL_DIRECTION_HORIZONTAL", function() { return SCROLL_DIRECTION_HORIZONTAL; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SCROLL_DIRECTION_VERTICAL", function() { return SCROLL_DIRECTION_VERTICAL; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return defaultOverscanIndicesGetter; });
/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./types */ "./node_modules/react-virtualized/dist/es/Grid/types.js");
var SCROLL_DIRECTION_BACKWARD = -1;
var SCROLL_DIRECTION_FORWARD = 1;
var SCROLL_DIRECTION_HORIZONTAL = 'horizontal';
var SCROLL_DIRECTION_VERTICAL = 'vertical';
/**
 * Calculates the number of cells to overscan before and after a specified range.
 * This function ensures that overscanning doesn't exceed the available cells.
 */

function defaultOverscanIndicesGetter(_ref) {
  var cellCount = _ref.cellCount,
      overscanCellsCount = _ref.overscanCellsCount,
      scrollDirection = _ref.scrollDirection,
      startIndex = _ref.startIndex,
      stopIndex = _ref.stopIndex;

  if (scrollDirection === SCROLL_DIRECTION_FORWARD) {
    return {
      overscanStartIndex: Math.max(0, startIndex),
      overscanStopIndex: Math.min(cellCount - 1, stopIndex + overscanCellsCount)
    };
  } else {
    return {
      overscanStartIndex: Math.max(0, startIndex - overscanCellsCount),
      overscanStopIndex: Math.min(cellCount - 1, stopIndex)
    };
  }
}



/***/ }),

/***/ "./node_modules/react-virtualized/dist/es/Grid/index.js":
/*!**************************************************************!*\
  !*** ./node_modules/react-virtualized/dist/es/Grid/index.js ***!
  \**************************************************************/
/*! exports provided: default, Grid, accessibilityOverscanIndicesGetter, defaultCellRangeRenderer, defaultOverscanIndicesGetter, bpfrpt_proptype_NoContentRenderer, bpfrpt_proptype_Alignment, bpfrpt_proptype_CellPosition, bpfrpt_proptype_CellSize, bpfrpt_proptype_OverscanIndicesGetter, bpfrpt_proptype_RenderedSection, bpfrpt_proptype_CellRendererParams, bpfrpt_proptype_Scroll */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _Grid__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Grid */ "./node_modules/react-virtualized/dist/es/Grid/Grid.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "default", function() { return _Grid__WEBPACK_IMPORTED_MODULE_0__["default"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Grid", function() { return _Grid__WEBPACK_IMPORTED_MODULE_0__["default"]; });

/* harmony import */ var _accessibilityOverscanIndicesGetter__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./accessibilityOverscanIndicesGetter */ "./node_modules/react-virtualized/dist/es/Grid/accessibilityOverscanIndicesGetter.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "accessibilityOverscanIndicesGetter", function() { return _accessibilityOverscanIndicesGetter__WEBPACK_IMPORTED_MODULE_1__["default"]; });

/* harmony import */ var _defaultCellRangeRenderer__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./defaultCellRangeRenderer */ "./node_modules/react-virtualized/dist/es/Grid/defaultCellRangeRenderer.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "defaultCellRangeRenderer", function() { return _defaultCellRangeRenderer__WEBPACK_IMPORTED_MODULE_2__["default"]; });

/* harmony import */ var _defaultOverscanIndicesGetter__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./defaultOverscanIndicesGetter */ "./node_modules/react-virtualized/dist/es/Grid/defaultOverscanIndicesGetter.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "defaultOverscanIndicesGetter", function() { return _defaultOverscanIndicesGetter__WEBPACK_IMPORTED_MODULE_3__["default"]; });

/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./types */ "./node_modules/react-virtualized/dist/es/Grid/types.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "bpfrpt_proptype_NoContentRenderer", function() { return _types__WEBPACK_IMPORTED_MODULE_4__["bpfrpt_proptype_NoContentRenderer"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "bpfrpt_proptype_Alignment", function() { return _types__WEBPACK_IMPORTED_MODULE_4__["bpfrpt_proptype_Alignment"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "bpfrpt_proptype_CellPosition", function() { return _types__WEBPACK_IMPORTED_MODULE_4__["bpfrpt_proptype_CellPosition"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "bpfrpt_proptype_CellSize", function() { return _types__WEBPACK_IMPORTED_MODULE_4__["bpfrpt_proptype_CellSize"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "bpfrpt_proptype_OverscanIndicesGetter", function() { return _types__WEBPACK_IMPORTED_MODULE_4__["bpfrpt_proptype_OverscanIndicesGetter"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "bpfrpt_proptype_RenderedSection", function() { return _types__WEBPACK_IMPORTED_MODULE_4__["bpfrpt_proptype_RenderedSection"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "bpfrpt_proptype_CellRendererParams", function() { return _types__WEBPACK_IMPORTED_MODULE_4__["bpfrpt_proptype_CellRendererParams"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "bpfrpt_proptype_Scroll", function() { return _types__WEBPACK_IMPORTED_MODULE_4__["bpfrpt_proptype_Scroll"]; });























/***/ }),

/***/ "./node_modules/react-virtualized/dist/es/Grid/types.js":
/*!**************************************************************!*\
  !*** ./node_modules/react-virtualized/dist/es/Grid/types.js ***!
  \**************************************************************/
/*! exports provided: bpfrpt_proptype_CellPosition, bpfrpt_proptype_CellRendererParams, bpfrpt_proptype_CellRenderer, bpfrpt_proptype_CellCache, bpfrpt_proptype_StyleCache, bpfrpt_proptype_CellRangeRendererParams, bpfrpt_proptype_CellRangeRenderer, bpfrpt_proptype_CellSizeGetter, bpfrpt_proptype_CellSize, bpfrpt_proptype_NoContentRenderer, bpfrpt_proptype_Scroll, bpfrpt_proptype_ScrollbarPresenceChange, bpfrpt_proptype_RenderedSection, bpfrpt_proptype_OverscanIndicesGetterParams, bpfrpt_proptype_OverscanIndices, bpfrpt_proptype_OverscanIndicesGetter, bpfrpt_proptype_Alignment, bpfrpt_proptype_VisibleCellRange */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "bpfrpt_proptype_CellPosition", function() { return bpfrpt_proptype_CellPosition; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "bpfrpt_proptype_CellRendererParams", function() { return bpfrpt_proptype_CellRendererParams; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "bpfrpt_proptype_CellRenderer", function() { return bpfrpt_proptype_CellRenderer; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "bpfrpt_proptype_CellCache", function() { return bpfrpt_proptype_CellCache; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "bpfrpt_proptype_StyleCache", function() { return bpfrpt_proptype_StyleCache; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "bpfrpt_proptype_CellRangeRendererParams", function() { return bpfrpt_proptype_CellRangeRendererParams; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "bpfrpt_proptype_CellRangeRenderer", function() { return bpfrpt_proptype_CellRangeRenderer; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "bpfrpt_proptype_CellSizeGetter", function() { return bpfrpt_proptype_CellSizeGetter; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "bpfrpt_proptype_CellSize", function() { return bpfrpt_proptype_CellSize; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "bpfrpt_proptype_NoContentRenderer", function() { return bpfrpt_proptype_NoContentRenderer; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "bpfrpt_proptype_Scroll", function() { return bpfrpt_proptype_Scroll; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "bpfrpt_proptype_ScrollbarPresenceChange", function() { return bpfrpt_proptype_ScrollbarPresenceChange; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "bpfrpt_proptype_RenderedSection", function() { return bpfrpt_proptype_RenderedSection; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "bpfrpt_proptype_OverscanIndicesGetterParams", function() { return bpfrpt_proptype_OverscanIndicesGetterParams; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "bpfrpt_proptype_OverscanIndices", function() { return bpfrpt_proptype_OverscanIndices; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "bpfrpt_proptype_OverscanIndicesGetter", function() { return bpfrpt_proptype_OverscanIndicesGetter; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "bpfrpt_proptype_Alignment", function() { return bpfrpt_proptype_Alignment; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "bpfrpt_proptype_VisibleCellRange", function() { return bpfrpt_proptype_VisibleCellRange; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _utils_ScalingCellSizeAndPositionManager__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utils/ScalingCellSizeAndPositionManager */ "./node_modules/react-virtualized/dist/es/Grid/utils/ScalingCellSizeAndPositionManager.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__);


var bpfrpt_proptype_CellPosition =  false ? undefined : {
  "columnIndex": prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number.isRequired,
  "rowIndex": prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number.isRequired
};
var bpfrpt_proptype_CellRendererParams =  false ? undefined : {
  "columnIndex": prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number.isRequired,
  "isScrolling": prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.bool.isRequired,
  "isVisible": prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.bool.isRequired,
  "key": prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string.isRequired,
  "parent": prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.object.isRequired,
  "rowIndex": prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number.isRequired,
  "style": prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.object.isRequired
};
var bpfrpt_proptype_CellRenderer =  false ? undefined : prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.func;
var bpfrpt_proptype_CellCache =  false ? undefined : prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.objectOf(prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.node.isRequired);
var bpfrpt_proptype_StyleCache =  false ? undefined : prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.objectOf(prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.object.isRequired);
var bpfrpt_proptype_CellRangeRendererParams =  false ? undefined : {
  "cellCache": prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.objectOf(prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.node.isRequired).isRequired,
  "cellRenderer": prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.func.isRequired,
  "columnSizeAndPositionManager": function columnSizeAndPositionManager() {
    return (typeof _utils_ScalingCellSizeAndPositionManager__WEBPACK_IMPORTED_MODULE_1__["default"] === "function" ? prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.instanceOf(_utils_ScalingCellSizeAndPositionManager__WEBPACK_IMPORTED_MODULE_1__["default"]).isRequired : prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.any.isRequired).apply(this, arguments);
  },
  "columnStartIndex": prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number.isRequired,
  "columnStopIndex": prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number.isRequired,
  "deferredMeasurementCache": prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.object,
  "horizontalOffsetAdjustment": prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number.isRequired,
  "isScrolling": prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.bool.isRequired,
  "isScrollingOptOut": prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.bool.isRequired,
  "parent": prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.object.isRequired,
  "rowSizeAndPositionManager": function rowSizeAndPositionManager() {
    return (typeof _utils_ScalingCellSizeAndPositionManager__WEBPACK_IMPORTED_MODULE_1__["default"] === "function" ? prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.instanceOf(_utils_ScalingCellSizeAndPositionManager__WEBPACK_IMPORTED_MODULE_1__["default"]).isRequired : prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.any.isRequired).apply(this, arguments);
  },
  "rowStartIndex": prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number.isRequired,
  "rowStopIndex": prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number.isRequired,
  "scrollLeft": prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number.isRequired,
  "scrollTop": prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number.isRequired,
  "styleCache": prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.objectOf(prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.object.isRequired).isRequired,
  "verticalOffsetAdjustment": prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number.isRequired,
  "visibleColumnIndices": prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.object.isRequired,
  "visibleRowIndices": prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.object.isRequired
};
var bpfrpt_proptype_CellRangeRenderer =  false ? undefined : prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.func;
var bpfrpt_proptype_CellSizeGetter =  false ? undefined : prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.func;
var bpfrpt_proptype_CellSize =  false ? undefined : prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.func, prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number]);
var bpfrpt_proptype_NoContentRenderer =  false ? undefined : prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.func;
var bpfrpt_proptype_Scroll =  false ? undefined : {
  "clientHeight": prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number.isRequired,
  "clientWidth": prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number.isRequired,
  "scrollHeight": prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number.isRequired,
  "scrollLeft": prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number.isRequired,
  "scrollTop": prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number.isRequired,
  "scrollWidth": prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number.isRequired
};
var bpfrpt_proptype_ScrollbarPresenceChange =  false ? undefined : {
  "horizontal": prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.bool.isRequired,
  "vertical": prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.bool.isRequired,
  "size": prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number.isRequired
};
var bpfrpt_proptype_RenderedSection =  false ? undefined : {
  "columnOverscanStartIndex": prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number.isRequired,
  "columnOverscanStopIndex": prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number.isRequired,
  "columnStartIndex": prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number.isRequired,
  "columnStopIndex": prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number.isRequired,
  "rowOverscanStartIndex": prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number.isRequired,
  "rowOverscanStopIndex": prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number.isRequired,
  "rowStartIndex": prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number.isRequired,
  "rowStopIndex": prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number.isRequired
};
var bpfrpt_proptype_OverscanIndicesGetterParams =  false ? undefined : {
  // One of SCROLL_DIRECTION_HORIZONTAL or SCROLL_DIRECTION_VERTICAL
  "direction": prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.oneOf(["horizontal", "vertical"]).isRequired,
  // One of SCROLL_DIRECTION_BACKWARD or SCROLL_DIRECTION_FORWARD
  "scrollDirection": prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.oneOf([-1, 1]).isRequired,
  // Number of rows or columns in the current axis
  "cellCount": prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number.isRequired,
  // Maximum number of cells to over-render in either direction
  "overscanCellsCount": prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number.isRequired,
  // Begin of range of visible cells
  "startIndex": prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number.isRequired,
  // End of range of visible cells
  "stopIndex": prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number.isRequired
};
var bpfrpt_proptype_OverscanIndices =  false ? undefined : {
  "overscanStartIndex": prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number.isRequired,
  "overscanStopIndex": prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number.isRequired
};
var bpfrpt_proptype_OverscanIndicesGetter =  false ? undefined : prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.func;
var bpfrpt_proptype_Alignment =  false ? undefined : prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.oneOf(["auto", "end", "start", "center"]);
var bpfrpt_proptype_VisibleCellRange =  false ? undefined : {
  "start": prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number,
  "stop": prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number
};




















/***/ }),

/***/ "./node_modules/react-virtualized/dist/es/Grid/utils/CellSizeAndPositionManager.js":
/*!*****************************************************************************************!*\
  !*** ./node_modules/react-virtualized/dist/es/Grid/utils/CellSizeAndPositionManager.js ***!
  \*****************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return CellSizeAndPositionManager; });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/createClass.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/defineProperty.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../types */ "./node_modules/react-virtualized/dist/es/Grid/types.js");




/**
 * Just-in-time calculates and caches size and position information for a collection of cells.
 */
var CellSizeAndPositionManager =
/*#__PURE__*/
function () {
  // Cache of size and position data for cells, mapped by cell index.
  // Note that invalid values may exist in this map so only rely on cells up to this._lastMeasuredIndex
  // Measurements for cells up to this index can be trusted; cells afterward should be estimated.
  // Used in deferred mode to track which cells have been queued for measurement.
  function CellSizeAndPositionManager(_ref) {
    var cellCount = _ref.cellCount,
        cellSizeGetter = _ref.cellSizeGetter,
        estimatedCellSize = _ref.estimatedCellSize;

    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this, CellSizeAndPositionManager);

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2___default()(this, "_cellSizeAndPositionData", {});

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2___default()(this, "_lastMeasuredIndex", -1);

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2___default()(this, "_lastBatchedIndex", -1);

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2___default()(this, "_cellCount", void 0);

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2___default()(this, "_cellSizeGetter", void 0);

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2___default()(this, "_estimatedCellSize", void 0);

    this._cellSizeGetter = cellSizeGetter;
    this._cellCount = cellCount;
    this._estimatedCellSize = estimatedCellSize;
  }

  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(CellSizeAndPositionManager, [{
    key: "areOffsetsAdjusted",
    value: function areOffsetsAdjusted() {
      return false;
    }
  }, {
    key: "configure",
    value: function configure(_ref2) {
      var cellCount = _ref2.cellCount,
          estimatedCellSize = _ref2.estimatedCellSize,
          cellSizeGetter = _ref2.cellSizeGetter;
      this._cellCount = cellCount;
      this._estimatedCellSize = estimatedCellSize;
      this._cellSizeGetter = cellSizeGetter;
    }
  }, {
    key: "getCellCount",
    value: function getCellCount() {
      return this._cellCount;
    }
  }, {
    key: "getEstimatedCellSize",
    value: function getEstimatedCellSize() {
      return this._estimatedCellSize;
    }
  }, {
    key: "getLastMeasuredIndex",
    value: function getLastMeasuredIndex() {
      return this._lastMeasuredIndex;
    }
  }, {
    key: "getOffsetAdjustment",
    value: function getOffsetAdjustment() {
      return 0;
    }
    /**
     * This method returns the size and position for the cell at the specified index.
     * It just-in-time calculates (or used cached values) for cells leading up to the index.
     */

  }, {
    key: "getSizeAndPositionOfCell",
    value: function getSizeAndPositionOfCell(index) {
      if (index < 0 || index >= this._cellCount) {
        throw Error("Requested index ".concat(index, " is outside of range 0..").concat(this._cellCount));
      }

      if (index > this._lastMeasuredIndex) {
        var lastMeasuredCellSizeAndPosition = this.getSizeAndPositionOfLastMeasuredCell();
        var offset = lastMeasuredCellSizeAndPosition.offset + lastMeasuredCellSizeAndPosition.size;

        for (var i = this._lastMeasuredIndex + 1; i <= index; i++) {
          var size = this._cellSizeGetter({
            index: i
          }); // undefined or NaN probably means a logic error in the size getter.
          // null means we're using CellMeasurer and haven't yet measured a given index.


          if (size === undefined || isNaN(size)) {
            throw Error("Invalid size returned for cell ".concat(i, " of value ").concat(size));
          } else if (size === null) {
            this._cellSizeAndPositionData[i] = {
              offset: offset,
              size: 0
            };
            this._lastBatchedIndex = index;
          } else {
            this._cellSizeAndPositionData[i] = {
              offset: offset,
              size: size
            };
            offset += size;
            this._lastMeasuredIndex = index;
          }
        }
      }

      return this._cellSizeAndPositionData[index];
    }
  }, {
    key: "getSizeAndPositionOfLastMeasuredCell",
    value: function getSizeAndPositionOfLastMeasuredCell() {
      return this._lastMeasuredIndex >= 0 ? this._cellSizeAndPositionData[this._lastMeasuredIndex] : {
        offset: 0,
        size: 0
      };
    }
    /**
     * Total size of all cells being measured.
     * This value will be completely estimated initially.
     * As cells are measured, the estimate will be updated.
     */

  }, {
    key: "getTotalSize",
    value: function getTotalSize() {
      var lastMeasuredCellSizeAndPosition = this.getSizeAndPositionOfLastMeasuredCell();
      var totalSizeOfMeasuredCells = lastMeasuredCellSizeAndPosition.offset + lastMeasuredCellSizeAndPosition.size;
      var numUnmeasuredCells = this._cellCount - this._lastMeasuredIndex - 1;
      var totalSizeOfUnmeasuredCells = numUnmeasuredCells * this._estimatedCellSize;
      return totalSizeOfMeasuredCells + totalSizeOfUnmeasuredCells;
    }
    /**
     * Determines a new offset that ensures a certain cell is visible, given the current offset.
     * If the cell is already visible then the current offset will be returned.
     * If the current offset is too great or small, it will be adjusted just enough to ensure the specified index is visible.
     *
     * @param align Desired alignment within container; one of "auto" (default), "start", or "end"
     * @param containerSize Size (width or height) of the container viewport
     * @param currentOffset Container's current (x or y) offset
     * @param totalSize Total size (width or height) of all cells
     * @return Offset to use to ensure the specified cell is visible
     */

  }, {
    key: "getUpdatedOffsetForIndex",
    value: function getUpdatedOffsetForIndex(_ref3) {
      var _ref3$align = _ref3.align,
          align = _ref3$align === void 0 ? 'auto' : _ref3$align,
          containerSize = _ref3.containerSize,
          currentOffset = _ref3.currentOffset,
          targetIndex = _ref3.targetIndex;

      if (containerSize <= 0) {
        return 0;
      }

      var datum = this.getSizeAndPositionOfCell(targetIndex);
      var maxOffset = datum.offset;
      var minOffset = maxOffset - containerSize + datum.size;
      var idealOffset;

      switch (align) {
        case 'start':
          idealOffset = maxOffset;
          break;

        case 'end':
          idealOffset = minOffset;
          break;

        case 'center':
          idealOffset = maxOffset - (containerSize - datum.size) / 2;
          break;

        default:
          idealOffset = Math.max(minOffset, Math.min(maxOffset, currentOffset));
          break;
      }

      var totalSize = this.getTotalSize();
      return Math.max(0, Math.min(totalSize - containerSize, idealOffset));
    }
  }, {
    key: "getVisibleCellRange",
    value: function getVisibleCellRange(params) {
      var containerSize = params.containerSize,
          offset = params.offset;
      var totalSize = this.getTotalSize();

      if (totalSize === 0) {
        return {};
      }

      var maxOffset = offset + containerSize;

      var start = this._findNearestCell(offset);

      var datum = this.getSizeAndPositionOfCell(start);
      offset = datum.offset + datum.size;
      var stop = start;

      while (offset < maxOffset && stop < this._cellCount - 1) {
        stop++;
        offset += this.getSizeAndPositionOfCell(stop).size;
      }

      return {
        start: start,
        stop: stop
      };
    }
    /**
     * Clear all cached values for cells after the specified index.
     * This method should be called for any cell that has changed its size.
     * It will not immediately perform any calculations; they'll be performed the next time getSizeAndPositionOfCell() is called.
     */

  }, {
    key: "resetCell",
    value: function resetCell(index) {
      this._lastMeasuredIndex = Math.min(this._lastMeasuredIndex, index - 1);
    }
  }, {
    key: "_binarySearch",
    value: function _binarySearch(high, low, offset) {
      while (low <= high) {
        var middle = low + Math.floor((high - low) / 2);
        var currentOffset = this.getSizeAndPositionOfCell(middle).offset;

        if (currentOffset === offset) {
          return middle;
        } else if (currentOffset < offset) {
          low = middle + 1;
        } else if (currentOffset > offset) {
          high = middle - 1;
        }
      }

      if (low > 0) {
        return low - 1;
      } else {
        return 0;
      }
    }
  }, {
    key: "_exponentialSearch",
    value: function _exponentialSearch(index, offset) {
      var interval = 1;

      while (index < this._cellCount && this.getSizeAndPositionOfCell(index).offset < offset) {
        index += interval;
        interval *= 2;
      }

      return this._binarySearch(Math.min(index, this._cellCount - 1), Math.floor(index / 2), offset);
    }
    /**
     * Searches for the cell (index) nearest the specified offset.
     *
     * If no exact match is found the next lowest cell index will be returned.
     * This allows partially visible cells (with offsets just before/above the fold) to be visible.
     */

  }, {
    key: "_findNearestCell",
    value: function _findNearestCell(offset) {
      if (isNaN(offset)) {
        throw Error("Invalid offset ".concat(offset, " specified"));
      } // Our search algorithms find the nearest match at or below the specified offset.
      // So make sure the offset is at least 0 or no match will be found.


      offset = Math.max(0, offset);
      var lastMeasuredCellSizeAndPosition = this.getSizeAndPositionOfLastMeasuredCell();
      var lastMeasuredIndex = Math.max(0, this._lastMeasuredIndex);

      if (lastMeasuredCellSizeAndPosition.offset >= offset) {
        // If we've already measured cells within this range just use a binary search as it's faster.
        return this._binarySearch(lastMeasuredIndex, 0, offset);
      } else {
        // If we haven't yet measured this high, fallback to an exponential search with an inner binary search.
        // The exponential search avoids pre-computing sizes for the full set of cells as a binary search would.
        // The overall complexity for this approach is O(log n).
        return this._exponentialSearch(lastMeasuredIndex, offset);
      }
    }
  }]);

  return CellSizeAndPositionManager;
}();






/***/ }),

/***/ "./node_modules/react-virtualized/dist/es/Grid/utils/ScalingCellSizeAndPositionManager.js":
/*!************************************************************************************************!*\
  !*** ./node_modules/react-virtualized/dist/es/Grid/utils/ScalingCellSizeAndPositionManager.js ***!
  \************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return ScalingCellSizeAndPositionManager; });
/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/objectWithoutProperties */ "./node_modules/@babel/runtime/helpers/objectWithoutProperties.js");
/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/createClass.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/defineProperty.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _CellSizeAndPositionManager__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./CellSizeAndPositionManager */ "./node_modules/react-virtualized/dist/es/Grid/utils/CellSizeAndPositionManager.js");
/* harmony import */ var _maxElementSize_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./maxElementSize.js */ "./node_modules/react-virtualized/dist/es/Grid/utils/maxElementSize.js");
/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../types */ "./node_modules/react-virtualized/dist/es/Grid/types.js");







/**
 * Extends CellSizeAndPositionManager and adds scaling behavior for lists that are too large to fit within a browser's native limits.
 */
var ScalingCellSizeAndPositionManager =
/*#__PURE__*/
function () {
  function ScalingCellSizeAndPositionManager(_ref) {
    var _ref$maxScrollSize = _ref.maxScrollSize,
        maxScrollSize = _ref$maxScrollSize === void 0 ? Object(_maxElementSize_js__WEBPACK_IMPORTED_MODULE_5__["getMaxElementSize"])() : _ref$maxScrollSize,
        params = _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0___default()(_ref, ["maxScrollSize"]);

    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default()(this, ScalingCellSizeAndPositionManager);

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3___default()(this, "_cellSizeAndPositionManager", void 0);

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3___default()(this, "_maxScrollSize", void 0);

    // Favor composition over inheritance to simplify IE10 support
    this._cellSizeAndPositionManager = new _CellSizeAndPositionManager__WEBPACK_IMPORTED_MODULE_4__["default"](params);
    this._maxScrollSize = maxScrollSize;
  }

  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default()(ScalingCellSizeAndPositionManager, [{
    key: "areOffsetsAdjusted",
    value: function areOffsetsAdjusted() {
      return this._cellSizeAndPositionManager.getTotalSize() > this._maxScrollSize;
    }
  }, {
    key: "configure",
    value: function configure(params) {
      this._cellSizeAndPositionManager.configure(params);
    }
  }, {
    key: "getCellCount",
    value: function getCellCount() {
      return this._cellSizeAndPositionManager.getCellCount();
    }
  }, {
    key: "getEstimatedCellSize",
    value: function getEstimatedCellSize() {
      return this._cellSizeAndPositionManager.getEstimatedCellSize();
    }
  }, {
    key: "getLastMeasuredIndex",
    value: function getLastMeasuredIndex() {
      return this._cellSizeAndPositionManager.getLastMeasuredIndex();
    }
    /**
     * Number of pixels a cell at the given position (offset) should be shifted in order to fit within the scaled container.
     * The offset passed to this function is scaled (safe) as well.
     */

  }, {
    key: "getOffsetAdjustment",
    value: function getOffsetAdjustment(_ref2) {
      var containerSize = _ref2.containerSize,
          offset = _ref2.offset;

      var totalSize = this._cellSizeAndPositionManager.getTotalSize();

      var safeTotalSize = this.getTotalSize();

      var offsetPercentage = this._getOffsetPercentage({
        containerSize: containerSize,
        offset: offset,
        totalSize: safeTotalSize
      });

      return Math.round(offsetPercentage * (safeTotalSize - totalSize));
    }
  }, {
    key: "getSizeAndPositionOfCell",
    value: function getSizeAndPositionOfCell(index) {
      return this._cellSizeAndPositionManager.getSizeAndPositionOfCell(index);
    }
  }, {
    key: "getSizeAndPositionOfLastMeasuredCell",
    value: function getSizeAndPositionOfLastMeasuredCell() {
      return this._cellSizeAndPositionManager.getSizeAndPositionOfLastMeasuredCell();
    }
    /** See CellSizeAndPositionManager#getTotalSize */

  }, {
    key: "getTotalSize",
    value: function getTotalSize() {
      return Math.min(this._maxScrollSize, this._cellSizeAndPositionManager.getTotalSize());
    }
    /** See CellSizeAndPositionManager#getUpdatedOffsetForIndex */

  }, {
    key: "getUpdatedOffsetForIndex",
    value: function getUpdatedOffsetForIndex(_ref3) {
      var _ref3$align = _ref3.align,
          align = _ref3$align === void 0 ? 'auto' : _ref3$align,
          containerSize = _ref3.containerSize,
          currentOffset = _ref3.currentOffset,
          targetIndex = _ref3.targetIndex;
      currentOffset = this._safeOffsetToOffset({
        containerSize: containerSize,
        offset: currentOffset
      });

      var offset = this._cellSizeAndPositionManager.getUpdatedOffsetForIndex({
        align: align,
        containerSize: containerSize,
        currentOffset: currentOffset,
        targetIndex: targetIndex
      });

      return this._offsetToSafeOffset({
        containerSize: containerSize,
        offset: offset
      });
    }
    /** See CellSizeAndPositionManager#getVisibleCellRange */

  }, {
    key: "getVisibleCellRange",
    value: function getVisibleCellRange(_ref4) {
      var containerSize = _ref4.containerSize,
          offset = _ref4.offset;
      offset = this._safeOffsetToOffset({
        containerSize: containerSize,
        offset: offset
      });
      return this._cellSizeAndPositionManager.getVisibleCellRange({
        containerSize: containerSize,
        offset: offset
      });
    }
  }, {
    key: "resetCell",
    value: function resetCell(index) {
      this._cellSizeAndPositionManager.resetCell(index);
    }
  }, {
    key: "_getOffsetPercentage",
    value: function _getOffsetPercentage(_ref5) {
      var containerSize = _ref5.containerSize,
          offset = _ref5.offset,
          totalSize = _ref5.totalSize;
      return totalSize <= containerSize ? 0 : offset / (totalSize - containerSize);
    }
  }, {
    key: "_offsetToSafeOffset",
    value: function _offsetToSafeOffset(_ref6) {
      var containerSize = _ref6.containerSize,
          offset = _ref6.offset;

      var totalSize = this._cellSizeAndPositionManager.getTotalSize();

      var safeTotalSize = this.getTotalSize();

      if (totalSize === safeTotalSize) {
        return offset;
      } else {
        var offsetPercentage = this._getOffsetPercentage({
          containerSize: containerSize,
          offset: offset,
          totalSize: totalSize
        });

        return Math.round(offsetPercentage * (safeTotalSize - containerSize));
      }
    }
  }, {
    key: "_safeOffsetToOffset",
    value: function _safeOffsetToOffset(_ref7) {
      var containerSize = _ref7.containerSize,
          offset = _ref7.offset;

      var totalSize = this._cellSizeAndPositionManager.getTotalSize();

      var safeTotalSize = this.getTotalSize();

      if (totalSize === safeTotalSize) {
        return offset;
      } else {
        var offsetPercentage = this._getOffsetPercentage({
          containerSize: containerSize,
          offset: offset,
          totalSize: safeTotalSize
        });

        return Math.round(offsetPercentage * (totalSize - containerSize));
      }
    }
  }]);

  return ScalingCellSizeAndPositionManager;
}();






/***/ }),

/***/ "./node_modules/react-virtualized/dist/es/Grid/utils/calculateSizeAndPositionDataAndUpdateScrollOffset.js":
/*!****************************************************************************************************************!*\
  !*** ./node_modules/react-virtualized/dist/es/Grid/utils/calculateSizeAndPositionDataAndUpdateScrollOffset.js ***!
  \****************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return calculateSizeAndPositionDataAndUpdateScrollOffset; });
/**
 * Helper method that determines when to recalculate row or column metadata.
 */
function calculateSizeAndPositionDataAndUpdateScrollOffset(_ref) {
  var cellCount = _ref.cellCount,
      cellSize = _ref.cellSize,
      computeMetadataCallback = _ref.computeMetadataCallback,
      computeMetadataCallbackProps = _ref.computeMetadataCallbackProps,
      nextCellsCount = _ref.nextCellsCount,
      nextCellSize = _ref.nextCellSize,
      nextScrollToIndex = _ref.nextScrollToIndex,
      scrollToIndex = _ref.scrollToIndex,
      updateScrollOffsetForScrollToIndex = _ref.updateScrollOffsetForScrollToIndex;

  // Don't compare cell sizes if they are functions because inline functions would cause infinite loops.
  // In that event users should use the manual recompute methods to inform of changes.
  if (cellCount !== nextCellsCount || (typeof cellSize === 'number' || typeof nextCellSize === 'number') && cellSize !== nextCellSize) {
    computeMetadataCallback(computeMetadataCallbackProps); // Updated cell metadata may have hidden the previous scrolled-to item.
    // In this case we should also update the scrollTop to ensure it stays visible.

    if (scrollToIndex >= 0 && scrollToIndex === nextScrollToIndex) {
      updateScrollOffsetForScrollToIndex();
    }
  }
}

/***/ }),

/***/ "./node_modules/react-virtualized/dist/es/Grid/utils/maxElementSize.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/react-virtualized/dist/es/Grid/utils/maxElementSize.js ***!
  \*****************************************************************************/
/*! exports provided: getMaxElementSize */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getMaxElementSize", function() { return getMaxElementSize; });
var DEFAULT_MAX_ELEMENT_SIZE = 1500000;
var CHROME_MAX_ELEMENT_SIZE = 1.67771e7;

var isBrowser = function isBrowser() {
  return typeof window !== 'undefined';
};

var isChrome = function isChrome() {
  return !!window.chrome;
};

var getMaxElementSize = function getMaxElementSize() {
  if (isBrowser()) {
    if (isChrome()) {
      return CHROME_MAX_ELEMENT_SIZE;
    }
  }

  return DEFAULT_MAX_ELEMENT_SIZE;
};

/***/ }),

/***/ "./node_modules/react-virtualized/dist/es/Grid/utils/updateScrollIndexHelper.js":
/*!**************************************************************************************!*\
  !*** ./node_modules/react-virtualized/dist/es/Grid/utils/updateScrollIndexHelper.js ***!
  \**************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return updateScrollIndexHelper; });
/* harmony import */ var _ScalingCellSizeAndPositionManager_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ScalingCellSizeAndPositionManager.js */ "./node_modules/react-virtualized/dist/es/Grid/utils/ScalingCellSizeAndPositionManager.js");
/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../types */ "./node_modules/react-virtualized/dist/es/Grid/types.js");

/**
 * Helper function that determines when to update scroll offsets to ensure that a scroll-to-index remains visible.
 * This function also ensures that the scroll ofset isn't past the last column/row of cells.
 */

function updateScrollIndexHelper(_ref) {
  var cellSize = _ref.cellSize,
      cellSizeAndPositionManager = _ref.cellSizeAndPositionManager,
      previousCellsCount = _ref.previousCellsCount,
      previousCellSize = _ref.previousCellSize,
      previousScrollToAlignment = _ref.previousScrollToAlignment,
      previousScrollToIndex = _ref.previousScrollToIndex,
      previousSize = _ref.previousSize,
      scrollOffset = _ref.scrollOffset,
      scrollToAlignment = _ref.scrollToAlignment,
      scrollToIndex = _ref.scrollToIndex,
      size = _ref.size,
      sizeJustIncreasedFromZero = _ref.sizeJustIncreasedFromZero,
      updateScrollIndexCallback = _ref.updateScrollIndexCallback;
  var cellCount = cellSizeAndPositionManager.getCellCount();
  var hasScrollToIndex = scrollToIndex >= 0 && scrollToIndex < cellCount;
  var sizeHasChanged = size !== previousSize || sizeJustIncreasedFromZero || !previousCellSize || typeof cellSize === 'number' && cellSize !== previousCellSize; // If we have a new scroll target OR if height/row-height has changed,
  // We should ensure that the scroll target is visible.

  if (hasScrollToIndex && (sizeHasChanged || scrollToAlignment !== previousScrollToAlignment || scrollToIndex !== previousScrollToIndex)) {
    updateScrollIndexCallback(scrollToIndex); // If we don't have a selected item but list size or number of children have decreased,
    // Make sure we aren't scrolled too far past the current content.
  } else if (!hasScrollToIndex && cellCount > 0 && (size < previousSize || cellCount < previousCellsCount)) {
    // We need to ensure that the current scroll offset is still within the collection's range.
    // To do this, we don't need to measure everything; CellMeasurer would perform poorly.
    // Just check to make sure we're still okay.
    // Only adjust the scroll position if we've scrolled below the last set of rows.
    if (scrollOffset > cellSizeAndPositionManager.getTotalSize() - size) {
      updateScrollIndexCallback(cellCount - 1);
    }
  }
}



/***/ }),

/***/ "./node_modules/react-virtualized/dist/es/InfiniteLoader/InfiniteLoader.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/react-virtualized/dist/es/InfiniteLoader/InfiniteLoader.js ***!
  \*********************************************************************************/
/*! exports provided: default, isRangeVisible, scanForUnloadedRanges, forceUpdateReactVirtualizedComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return InfiniteLoader; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isRangeVisible", function() { return isRangeVisible; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "scanForUnloadedRanges", function() { return scanForUnloadedRanges; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "forceUpdateReactVirtualizedComponent", function() { return forceUpdateReactVirtualizedComponent; });
/* harmony import */ var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/toConsumableArray */ "./node_modules/@babel/runtime/helpers/toConsumableArray.js");
/* harmony import */ var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/createClass.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/inherits.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/defineProperty.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var _utils_createCallbackMemoizer__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../utils/createCallbackMemoizer */ "./node_modules/react-virtualized/dist/es/utils/createCallbackMemoizer.js");











/**
 * Higher-order component that manages lazy-loading for "infinite" data.
 * This component decorates a virtual component and just-in-time prefetches rows as a user scrolls.
 * It is intended as a convenience component; fork it if you'd like finer-grained control over data-loading.
 */

var InfiniteLoader =
/*#__PURE__*/
function (_React$PureComponent) {
  _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_6___default()(InfiniteLoader, _React$PureComponent);

  function InfiniteLoader(props, context) {
    var _this;

    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default()(this, InfiniteLoader);

    _this = _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3___default()(this, _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default()(InfiniteLoader).call(this, props, context));
    _this._loadMoreRowsMemoizer = Object(_utils_createCallbackMemoizer__WEBPACK_IMPORTED_MODULE_10__["default"])();
    _this._onRowsRendered = _this._onRowsRendered.bind(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default()(_this));
    _this._registerChild = _this._registerChild.bind(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default()(_this));
    return _this;
  }

  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default()(InfiniteLoader, [{
    key: "resetLoadMoreRowsCache",
    value: function resetLoadMoreRowsCache(autoReload) {
      this._loadMoreRowsMemoizer = Object(_utils_createCallbackMemoizer__WEBPACK_IMPORTED_MODULE_10__["default"])();

      if (autoReload) {
        this._doStuff(this._lastRenderedStartIndex, this._lastRenderedStopIndex);
      }
    }
  }, {
    key: "render",
    value: function render() {
      var children = this.props.children;
      return children({
        onRowsRendered: this._onRowsRendered,
        registerChild: this._registerChild
      });
    }
  }, {
    key: "_loadUnloadedRanges",
    value: function _loadUnloadedRanges(unloadedRanges) {
      var _this2 = this;

      var loadMoreRows = this.props.loadMoreRows;
      unloadedRanges.forEach(function (unloadedRange) {
        var promise = loadMoreRows(unloadedRange);

        if (promise) {
          promise.then(function () {
            // Refresh the visible rows if any of them have just been loaded.
            // Otherwise they will remain in their unloaded visual state.
            if (isRangeVisible({
              lastRenderedStartIndex: _this2._lastRenderedStartIndex,
              lastRenderedStopIndex: _this2._lastRenderedStopIndex,
              startIndex: unloadedRange.startIndex,
              stopIndex: unloadedRange.stopIndex
            })) {
              if (_this2._registeredChild) {
                forceUpdateReactVirtualizedComponent(_this2._registeredChild, _this2._lastRenderedStartIndex);
              }
            }
          });
        }
      });
    }
  }, {
    key: "_onRowsRendered",
    value: function _onRowsRendered(_ref) {
      var startIndex = _ref.startIndex,
          stopIndex = _ref.stopIndex;
      this._lastRenderedStartIndex = startIndex;
      this._lastRenderedStopIndex = stopIndex;

      this._doStuff(startIndex, stopIndex);
    }
  }, {
    key: "_doStuff",
    value: function _doStuff(startIndex, stopIndex) {
      var _ref2,
          _this3 = this;

      var _this$props = this.props,
          isRowLoaded = _this$props.isRowLoaded,
          minimumBatchSize = _this$props.minimumBatchSize,
          rowCount = _this$props.rowCount,
          threshold = _this$props.threshold;
      var unloadedRanges = scanForUnloadedRanges({
        isRowLoaded: isRowLoaded,
        minimumBatchSize: minimumBatchSize,
        rowCount: rowCount,
        startIndex: Math.max(0, startIndex - threshold),
        stopIndex: Math.min(rowCount - 1, stopIndex + threshold)
      }); // For memoize comparison

      var squashedUnloadedRanges = (_ref2 = []).concat.apply(_ref2, _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0___default()(unloadedRanges.map(function (_ref3) {
        var startIndex = _ref3.startIndex,
            stopIndex = _ref3.stopIndex;
        return [startIndex, stopIndex];
      })));

      this._loadMoreRowsMemoizer({
        callback: function callback() {
          _this3._loadUnloadedRanges(unloadedRanges);
        },
        indices: {
          squashedUnloadedRanges: squashedUnloadedRanges
        }
      });
    }
  }, {
    key: "_registerChild",
    value: function _registerChild(registeredChild) {
      this._registeredChild = registeredChild;
    }
  }]);

  return InfiniteLoader;
}(react__WEBPACK_IMPORTED_MODULE_8__["PureComponent"]);
/**
 * Determines if the specified start/stop range is visible based on the most recently rendered range.
 */


_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default()(InfiniteLoader, "defaultProps", {
  minimumBatchSize: 10,
  rowCount: 0,
  threshold: 15
});


InfiniteLoader.propTypes =  true ? {
  /**
   * Function responsible for rendering a virtualized component.
   * This function should implement the following signature:
   * ({ onRowsRendered, registerChild }) => PropTypes.element
   *
   * The specified :onRowsRendered function should be passed through to the child's :onRowsRendered property.
   * The :registerChild callback should be set as the virtualized component's :ref.
   */
  children: prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.func.isRequired,

  /**
   * Function responsible for tracking the loaded state of each row.
   * It should implement the following signature: ({ index: number }): boolean
   */
  isRowLoaded: prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.func.isRequired,

  /**
   * Callback to be invoked when more rows must be loaded.
   * It should implement the following signature: ({ startIndex, stopIndex }): Promise
   * The returned Promise should be resolved once row data has finished loading.
   * It will be used to determine when to refresh the list with the newly-loaded data.
   * This callback may be called multiple times in reaction to a single scroll event.
   */
  loadMoreRows: prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.func.isRequired,

  /**
   * Minimum number of rows to be loaded at a time.
   * This property can be used to batch requests to reduce HTTP requests.
   */
  minimumBatchSize: prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.number.isRequired,

  /**
   * Number of rows in list; can be arbitrary high number if actual number is unknown.
   */
  rowCount: prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.number.isRequired,

  /**
   * Threshold at which to pre-fetch data.
   * A threshold X means that data will start loading when a user scrolls within X rows.
   * This value defaults to 15.
   */
  threshold: prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.number.isRequired
} : undefined;
function isRangeVisible(_ref4) {
  var lastRenderedStartIndex = _ref4.lastRenderedStartIndex,
      lastRenderedStopIndex = _ref4.lastRenderedStopIndex,
      startIndex = _ref4.startIndex,
      stopIndex = _ref4.stopIndex;
  return !(startIndex > lastRenderedStopIndex || stopIndex < lastRenderedStartIndex);
}
/**
 * Returns all of the ranges within a larger range that contain unloaded rows.
 */

function scanForUnloadedRanges(_ref5) {
  var isRowLoaded = _ref5.isRowLoaded,
      minimumBatchSize = _ref5.minimumBatchSize,
      rowCount = _ref5.rowCount,
      startIndex = _ref5.startIndex,
      stopIndex = _ref5.stopIndex;
  var unloadedRanges = [];
  var rangeStartIndex = null;
  var rangeStopIndex = null;

  for (var index = startIndex; index <= stopIndex; index++) {
    var loaded = isRowLoaded({
      index: index
    });

    if (!loaded) {
      rangeStopIndex = index;

      if (rangeStartIndex === null) {
        rangeStartIndex = index;
      }
    } else if (rangeStopIndex !== null) {
      unloadedRanges.push({
        startIndex: rangeStartIndex,
        stopIndex: rangeStopIndex
      });
      rangeStartIndex = rangeStopIndex = null;
    }
  } // If :rangeStopIndex is not null it means we haven't ran out of unloaded rows.
  // Scan forward to try filling our :minimumBatchSize.


  if (rangeStopIndex !== null) {
    var potentialStopIndex = Math.min(Math.max(rangeStopIndex, rangeStartIndex + minimumBatchSize - 1), rowCount - 1);

    for (var _index = rangeStopIndex + 1; _index <= potentialStopIndex; _index++) {
      if (!isRowLoaded({
        index: _index
      })) {
        rangeStopIndex = _index;
      } else {
        break;
      }
    }

    unloadedRanges.push({
      startIndex: rangeStartIndex,
      stopIndex: rangeStopIndex
    });
  } // Check to see if our first range ended prematurely.
  // In this case we should scan backwards to try filling our :minimumBatchSize.


  if (unloadedRanges.length) {
    var firstUnloadedRange = unloadedRanges[0];

    while (firstUnloadedRange.stopIndex - firstUnloadedRange.startIndex + 1 < minimumBatchSize && firstUnloadedRange.startIndex > 0) {
      var _index2 = firstUnloadedRange.startIndex - 1;

      if (!isRowLoaded({
        index: _index2
      })) {
        firstUnloadedRange.startIndex = _index2;
      } else {
        break;
      }
    }
  }

  return unloadedRanges;
}
/**
 * Since RV components use shallowCompare we need to force a render (even though props haven't changed).
 * However InfiniteLoader may wrap a Grid or it may wrap a Table or List.
 * In the first case the built-in React forceUpdate() method is sufficient to force a re-render,
 * But in the latter cases we need to use the RV-specific forceUpdateGrid() method.
 * Else the inner Grid will not be re-rendered and visuals may be stale.
 *
 * Additionally, while a Grid is scrolling the cells can be cached,
 * So it's important to invalidate that cache by recalculating sizes
 * before forcing a rerender.
 */

function forceUpdateReactVirtualizedComponent(component) {
  var currentIndex = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;
  var recomputeSize = typeof component.recomputeGridSize === 'function' ? component.recomputeGridSize : component.recomputeRowHeights;

  if (recomputeSize) {
    recomputeSize.call(component, currentIndex);
  } else {
    component.forceUpdate();
  }
}

/***/ }),

/***/ "./node_modules/react-virtualized/dist/es/InfiniteLoader/index.js":
/*!************************************************************************!*\
  !*** ./node_modules/react-virtualized/dist/es/InfiniteLoader/index.js ***!
  \************************************************************************/
/*! exports provided: default, InfiniteLoader */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _InfiniteLoader__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./InfiniteLoader */ "./node_modules/react-virtualized/dist/es/InfiniteLoader/InfiniteLoader.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "InfiniteLoader", function() { return _InfiniteLoader__WEBPACK_IMPORTED_MODULE_0__["default"]; });


/* harmony default export */ __webpack_exports__["default"] = (_InfiniteLoader__WEBPACK_IMPORTED_MODULE_0__["default"]);


/***/ }),

/***/ "./node_modules/react-virtualized/dist/es/List/List.js":
/*!*************************************************************!*\
  !*** ./node_modules/react-virtualized/dist/es/List/List.js ***!
  \*************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return List; });
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/extends */ "./node_modules/@babel/runtime/helpers/extends.js");
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/createClass.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/inherits.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/defineProperty.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var _Grid__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../Grid */ "./node_modules/react-virtualized/dist/es/Grid/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var clsx__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! clsx */ "./node_modules/clsx/dist/clsx.m.js");
/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./types */ "./node_modules/react-virtualized/dist/es/List/types.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_12__);









var _class, _temp;




/**
 * It is inefficient to create and manage a large list of DOM elements within a scrolling container
 * if only a few of those elements are visible. The primary purpose of this component is to improve
 * performance by only rendering the DOM nodes that a user is able to see based on their current
 * scroll position.
 *
 * This component renders a virtualized list of elements with either fixed or dynamic heights.
 */

var List = (_temp = _class =
/*#__PURE__*/
function (_React$PureComponent) {
  _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_6___default()(List, _React$PureComponent);

  function List() {
    var _getPrototypeOf2;

    var _this;

    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default()(this, List);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3___default()(this, (_getPrototypeOf2 = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default()(List)).call.apply(_getPrototypeOf2, [this].concat(args)));

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default()(_this), "Grid", void 0);

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default()(_this), "_cellRenderer", function (_ref) {
      var parent = _ref.parent,
          rowIndex = _ref.rowIndex,
          style = _ref.style,
          isScrolling = _ref.isScrolling,
          isVisible = _ref.isVisible,
          key = _ref.key;
      var rowRenderer = _this.props.rowRenderer; // TRICKY The style object is sometimes cached by Grid.
      // This prevents new style objects from bypassing shallowCompare().
      // However as of React 16, style props are auto-frozen (at least in dev mode)
      // Check to make sure we can still modify the style before proceeding.
      // https://github.com/facebook/react/commit/977357765b44af8ff0cfea327866861073095c12#commitcomment-20648713

      var widthDescriptor = Object.getOwnPropertyDescriptor(style, 'width');

      if (widthDescriptor && widthDescriptor.writable) {
        // By default, List cells should be 100% width.
        // This prevents them from flowing under a scrollbar (if present).
        style.width = '100%';
      }

      return rowRenderer({
        index: rowIndex,
        style: style,
        isScrolling: isScrolling,
        isVisible: isVisible,
        key: key,
        parent: parent
      });
    });

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default()(_this), "_setRef", function (ref) {
      _this.Grid = ref;
    });

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default()(_this), "_onScroll", function (_ref2) {
      var clientHeight = _ref2.clientHeight,
          scrollHeight = _ref2.scrollHeight,
          scrollTop = _ref2.scrollTop;
      var onScroll = _this.props.onScroll;
      onScroll({
        clientHeight: clientHeight,
        scrollHeight: scrollHeight,
        scrollTop: scrollTop
      });
    });

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default()(_this), "_onSectionRendered", function (_ref3) {
      var rowOverscanStartIndex = _ref3.rowOverscanStartIndex,
          rowOverscanStopIndex = _ref3.rowOverscanStopIndex,
          rowStartIndex = _ref3.rowStartIndex,
          rowStopIndex = _ref3.rowStopIndex;
      var onRowsRendered = _this.props.onRowsRendered;
      onRowsRendered({
        overscanStartIndex: rowOverscanStartIndex,
        overscanStopIndex: rowOverscanStopIndex,
        startIndex: rowStartIndex,
        stopIndex: rowStopIndex
      });
    });

    return _this;
  }

  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default()(List, [{
    key: "forceUpdateGrid",
    value: function forceUpdateGrid() {
      if (this.Grid) {
        this.Grid.forceUpdate();
      }
    }
    /** See Grid#getOffsetForCell */

  }, {
    key: "getOffsetForRow",
    value: function getOffsetForRow(_ref4) {
      var alignment = _ref4.alignment,
          index = _ref4.index;

      if (this.Grid) {
        var _this$Grid$getOffsetF = this.Grid.getOffsetForCell({
          alignment: alignment,
          rowIndex: index,
          columnIndex: 0
        }),
            scrollTop = _this$Grid$getOffsetF.scrollTop;

        return scrollTop;
      }

      return 0;
    }
    /** CellMeasurer compatibility */

  }, {
    key: "invalidateCellSizeAfterRender",
    value: function invalidateCellSizeAfterRender(_ref5) {
      var columnIndex = _ref5.columnIndex,
          rowIndex = _ref5.rowIndex;

      if (this.Grid) {
        this.Grid.invalidateCellSizeAfterRender({
          rowIndex: rowIndex,
          columnIndex: columnIndex
        });
      }
    }
    /** See Grid#measureAllCells */

  }, {
    key: "measureAllRows",
    value: function measureAllRows() {
      if (this.Grid) {
        this.Grid.measureAllCells();
      }
    }
    /** CellMeasurer compatibility */

  }, {
    key: "recomputeGridSize",
    value: function recomputeGridSize() {
      var _ref6 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},
          _ref6$columnIndex = _ref6.columnIndex,
          columnIndex = _ref6$columnIndex === void 0 ? 0 : _ref6$columnIndex,
          _ref6$rowIndex = _ref6.rowIndex,
          rowIndex = _ref6$rowIndex === void 0 ? 0 : _ref6$rowIndex;

      if (this.Grid) {
        this.Grid.recomputeGridSize({
          rowIndex: rowIndex,
          columnIndex: columnIndex
        });
      }
    }
    /** See Grid#recomputeGridSize */

  }, {
    key: "recomputeRowHeights",
    value: function recomputeRowHeights() {
      var index = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;

      if (this.Grid) {
        this.Grid.recomputeGridSize({
          rowIndex: index,
          columnIndex: 0
        });
      }
    }
    /** See Grid#scrollToPosition */

  }, {
    key: "scrollToPosition",
    value: function scrollToPosition() {
      var scrollTop = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;

      if (this.Grid) {
        this.Grid.scrollToPosition({
          scrollTop: scrollTop
        });
      }
    }
    /** See Grid#scrollToCell */

  }, {
    key: "scrollToRow",
    value: function scrollToRow() {
      var index = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;

      if (this.Grid) {
        this.Grid.scrollToCell({
          columnIndex: 0,
          rowIndex: index
        });
      }
    }
  }, {
    key: "render",
    value: function render() {
      var _this$props = this.props,
          className = _this$props.className,
          noRowsRenderer = _this$props.noRowsRenderer,
          scrollToIndex = _this$props.scrollToIndex,
          width = _this$props.width;
      var classNames = Object(clsx__WEBPACK_IMPORTED_MODULE_10__["default"])('ReactVirtualized__List', className);
      return react__WEBPACK_IMPORTED_MODULE_9__["createElement"](_Grid__WEBPACK_IMPORTED_MODULE_8__["default"], _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({}, this.props, {
        autoContainerWidth: true,
        cellRenderer: this._cellRenderer,
        className: classNames,
        columnWidth: width,
        columnCount: 1,
        noContentRenderer: noRowsRenderer,
        onScroll: this._onScroll,
        onSectionRendered: this._onSectionRendered,
        ref: this._setRef,
        scrollToRow: scrollToIndex
      }));
    }
  }]);

  return List;
}(react__WEBPACK_IMPORTED_MODULE_9__["PureComponent"]), _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default()(_class, "propTypes",  false ? undefined : {
  "aria-label": prop_types__WEBPACK_IMPORTED_MODULE_12___default.a.string,

  /**
   * Removes fixed height from the scrollingContainer so that the total height
   * of rows can stretch the window. Intended for use with WindowScroller
   */
  "autoHeight": prop_types__WEBPACK_IMPORTED_MODULE_12___default.a.bool.isRequired,

  /** Optional CSS class name */
  "className": prop_types__WEBPACK_IMPORTED_MODULE_12___default.a.string,

  /**
   * Used to estimate the total height of a List before all of its rows have actually been measured.
   * The estimated total height is adjusted as rows are rendered.
   */
  "estimatedRowSize": prop_types__WEBPACK_IMPORTED_MODULE_12___default.a.number.isRequired,

  /** Height constraint for list (determines how many actual rows are rendered) */
  "height": prop_types__WEBPACK_IMPORTED_MODULE_12___default.a.number.isRequired,

  /** Optional renderer to be used in place of rows when rowCount is 0 */
  "noRowsRenderer": function noRowsRenderer() {
    return (typeof _Grid__WEBPACK_IMPORTED_MODULE_8__["bpfrpt_proptype_NoContentRenderer"] === "function" ? _Grid__WEBPACK_IMPORTED_MODULE_8__["bpfrpt_proptype_NoContentRenderer"].isRequired ? _Grid__WEBPACK_IMPORTED_MODULE_8__["bpfrpt_proptype_NoContentRenderer"].isRequired : _Grid__WEBPACK_IMPORTED_MODULE_8__["bpfrpt_proptype_NoContentRenderer"] : prop_types__WEBPACK_IMPORTED_MODULE_12___default.a.shape(_Grid__WEBPACK_IMPORTED_MODULE_8__["bpfrpt_proptype_NoContentRenderer"]).isRequired).apply(this, arguments);
  },

  /** Callback invoked with information about the slice of rows that were just rendered.  */
  "onRowsRendered": prop_types__WEBPACK_IMPORTED_MODULE_12___default.a.func.isRequired,

  /**
   * Callback invoked whenever the scroll offset changes within the inner scrollable region.
   * This callback can be used to sync scrolling between lists, tables, or grids.
   */
  "onScroll": prop_types__WEBPACK_IMPORTED_MODULE_12___default.a.func.isRequired,

  /** See Grid#overscanIndicesGetter */
  "overscanIndicesGetter": function overscanIndicesGetter() {
    return (typeof _Grid__WEBPACK_IMPORTED_MODULE_8__["bpfrpt_proptype_OverscanIndicesGetter"] === "function" ? _Grid__WEBPACK_IMPORTED_MODULE_8__["bpfrpt_proptype_OverscanIndicesGetter"].isRequired ? _Grid__WEBPACK_IMPORTED_MODULE_8__["bpfrpt_proptype_OverscanIndicesGetter"].isRequired : _Grid__WEBPACK_IMPORTED_MODULE_8__["bpfrpt_proptype_OverscanIndicesGetter"] : prop_types__WEBPACK_IMPORTED_MODULE_12___default.a.shape(_Grid__WEBPACK_IMPORTED_MODULE_8__["bpfrpt_proptype_OverscanIndicesGetter"]).isRequired).apply(this, arguments);
  },

  /**
   * Number of rows to render above/below the visible bounds of the list.
   * These rows can help for smoother scrolling on touch devices.
   */
  "overscanRowCount": prop_types__WEBPACK_IMPORTED_MODULE_12___default.a.number.isRequired,

  /** Either a fixed row height (number) or a function that returns the height of a row given its index.  */
  "rowHeight": function rowHeight() {
    return (typeof _Grid__WEBPACK_IMPORTED_MODULE_8__["bpfrpt_proptype_CellSize"] === "function" ? _Grid__WEBPACK_IMPORTED_MODULE_8__["bpfrpt_proptype_CellSize"].isRequired ? _Grid__WEBPACK_IMPORTED_MODULE_8__["bpfrpt_proptype_CellSize"].isRequired : _Grid__WEBPACK_IMPORTED_MODULE_8__["bpfrpt_proptype_CellSize"] : prop_types__WEBPACK_IMPORTED_MODULE_12___default.a.shape(_Grid__WEBPACK_IMPORTED_MODULE_8__["bpfrpt_proptype_CellSize"]).isRequired).apply(this, arguments);
  },

  /** Responsible for rendering a row given an index; ({ index: number }): node */
  "rowRenderer": function rowRenderer() {
    return (typeof _types__WEBPACK_IMPORTED_MODULE_11__["bpfrpt_proptype_RowRenderer"] === "function" ? _types__WEBPACK_IMPORTED_MODULE_11__["bpfrpt_proptype_RowRenderer"].isRequired ? _types__WEBPACK_IMPORTED_MODULE_11__["bpfrpt_proptype_RowRenderer"].isRequired : _types__WEBPACK_IMPORTED_MODULE_11__["bpfrpt_proptype_RowRenderer"] : prop_types__WEBPACK_IMPORTED_MODULE_12___default.a.shape(_types__WEBPACK_IMPORTED_MODULE_11__["bpfrpt_proptype_RowRenderer"]).isRequired).apply(this, arguments);
  },

  /** Number of rows in list. */
  "rowCount": prop_types__WEBPACK_IMPORTED_MODULE_12___default.a.number.isRequired,

  /** See Grid#scrollToAlignment */
  "scrollToAlignment": function scrollToAlignment() {
    return (typeof _Grid__WEBPACK_IMPORTED_MODULE_8__["bpfrpt_proptype_Alignment"] === "function" ? _Grid__WEBPACK_IMPORTED_MODULE_8__["bpfrpt_proptype_Alignment"].isRequired ? _Grid__WEBPACK_IMPORTED_MODULE_8__["bpfrpt_proptype_Alignment"].isRequired : _Grid__WEBPACK_IMPORTED_MODULE_8__["bpfrpt_proptype_Alignment"] : prop_types__WEBPACK_IMPORTED_MODULE_12___default.a.shape(_Grid__WEBPACK_IMPORTED_MODULE_8__["bpfrpt_proptype_Alignment"]).isRequired).apply(this, arguments);
  },

  /** Row index to ensure visible (by forcefully scrolling if necessary) */
  "scrollToIndex": prop_types__WEBPACK_IMPORTED_MODULE_12___default.a.number.isRequired,

  /** Vertical offset. */
  "scrollTop": prop_types__WEBPACK_IMPORTED_MODULE_12___default.a.number,

  /** Optional inline style */
  "style": prop_types__WEBPACK_IMPORTED_MODULE_12___default.a.object.isRequired,

  /** Tab index for focus */
  "tabIndex": prop_types__WEBPACK_IMPORTED_MODULE_12___default.a.number,

  /** Width of list */
  "width": prop_types__WEBPACK_IMPORTED_MODULE_12___default.a.number.isRequired
}), _temp);

_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default()(List, "defaultProps", {
  autoHeight: false,
  estimatedRowSize: 30,
  onScroll: function onScroll() {},
  noRowsRenderer: function noRowsRenderer() {
    return null;
  },
  onRowsRendered: function onRowsRendered() {},
  overscanIndicesGetter: _Grid__WEBPACK_IMPORTED_MODULE_8__["accessibilityOverscanIndicesGetter"],
  overscanRowCount: 10,
  scrollToAlignment: 'auto',
  scrollToIndex: -1,
  style: {}
});















/***/ }),

/***/ "./node_modules/react-virtualized/dist/es/List/index.js":
/*!**************************************************************!*\
  !*** ./node_modules/react-virtualized/dist/es/List/index.js ***!
  \**************************************************************/
/*! exports provided: default, List, bpfrpt_proptype_RowRendererParams */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _List__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./List */ "./node_modules/react-virtualized/dist/es/List/List.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "default", function() { return _List__WEBPACK_IMPORTED_MODULE_0__["default"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "List", function() { return _List__WEBPACK_IMPORTED_MODULE_0__["default"]; });

/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./types */ "./node_modules/react-virtualized/dist/es/List/types.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "bpfrpt_proptype_RowRendererParams", function() { return _types__WEBPACK_IMPORTED_MODULE_1__["bpfrpt_proptype_RowRendererParams"]; });






/***/ }),

/***/ "./node_modules/react-virtualized/dist/es/List/types.js":
/*!**************************************************************!*\
  !*** ./node_modules/react-virtualized/dist/es/List/types.js ***!
  \**************************************************************/
/*! exports provided: bpfrpt_proptype_RowRendererParams, bpfrpt_proptype_RowRenderer, bpfrpt_proptype_RenderedRows, bpfrpt_proptype_Scroll */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "bpfrpt_proptype_RowRendererParams", function() { return bpfrpt_proptype_RowRendererParams; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "bpfrpt_proptype_RowRenderer", function() { return bpfrpt_proptype_RowRenderer; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "bpfrpt_proptype_RenderedRows", function() { return bpfrpt_proptype_RenderedRows; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "bpfrpt_proptype_Scroll", function() { return bpfrpt_proptype_Scroll; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);

var bpfrpt_proptype_RowRendererParams =  false ? undefined : {
  "index": prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number.isRequired,
  "isScrolling": prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.bool.isRequired,
  "isVisible": prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.bool.isRequired,
  "key": prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired,
  "parent": prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.object.isRequired,
  "style": prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.object.isRequired
};
var bpfrpt_proptype_RowRenderer =  false ? undefined : prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func;
var bpfrpt_proptype_RenderedRows =  false ? undefined : {
  "overscanStartIndex": prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number.isRequired,
  "overscanStopIndex": prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number.isRequired,
  "startIndex": prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number.isRequired,
  "stopIndex": prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number.isRequired
};
var bpfrpt_proptype_Scroll =  false ? undefined : {
  "clientHeight": prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number.isRequired,
  "scrollHeight": prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number.isRequired,
  "scrollTop": prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number.isRequired
};






/***/ }),

/***/ "./node_modules/react-virtualized/dist/es/Masonry/Masonry.js":
/*!*******************************************************************!*\
  !*** ./node_modules/react-virtualized/dist/es/Masonry/Masonry.js ***!
  \*******************************************************************/
/*! exports provided: DEFAULT_SCROLLING_RESET_TIME_INTERVAL, default, bpfrpt_proptype_CellMeasurerCache, bpfrpt_proptype_Positioner */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DEFAULT_SCROLLING_RESET_TIME_INTERVAL", function() { return DEFAULT_SCROLLING_RESET_TIME_INTERVAL; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "bpfrpt_proptype_CellMeasurerCache", function() { return bpfrpt_proptype_CellMeasurerCache; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "bpfrpt_proptype_Positioner", function() { return bpfrpt_proptype_Positioner; });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/createClass.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/inherits.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/defineProperty.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var clsx__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! clsx */ "./node_modules/clsx/dist/clsx.m.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var react_lifecycles_compat__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! react-lifecycles-compat */ "./node_modules/react-lifecycles-compat/react-lifecycles-compat.es.js");
/* harmony import */ var _PositionCache__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./PositionCache */ "./node_modules/react-virtualized/dist/es/Masonry/PositionCache.js");
/* harmony import */ var _utils_requestAnimationTimeout__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../utils/requestAnimationTimeout */ "./node_modules/react-virtualized/dist/es/utils/requestAnimationTimeout.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_12__);








var _class, _temp;

function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }






var emptyObject = {};
/**
 * Specifies the number of miliseconds during which to disable pointer events while a scroll is in progress.
 * This improves performance and makes scrolling smoother.
 */

var DEFAULT_SCROLLING_RESET_TIME_INTERVAL = 150;
/**
 * This component efficiently displays arbitrarily positioned cells using windowing techniques.
 * Cell position is determined by an injected `cellPositioner` property.
 * Windowing is vertical; this component does not support horizontal scrolling.
 *
 * Rendering occurs in two phases:
 * 1) First pass uses estimated cell sizes (provided by the cache) to determine how many cells to measure in a batch.
 *    Batch size is chosen using a fast, naive layout algorithm that stacks images in order until the viewport has been filled.
 *    After measurement is complete (componentDidMount or componentDidUpdate) this component evaluates positioned cells
 *    in order to determine if another measurement pass is required (eg if actual cell sizes were less than estimated sizes).
 *    All measurements are permanently cached (keyed by `keyMapper`) for performance purposes.
 * 2) Second pass uses the external `cellPositioner` to layout cells.
 *    At this time the positioner has access to cached size measurements for all cells.
 *    The positions it returns are cached by Masonry for fast access later.
 *    Phase one is repeated if the user scrolls beyond the current layout's bounds.
 *    If the layout is invalidated due to eg a resize, cached positions can be cleared using `recomputeCellPositions()`.
 *
 * Animation constraints:
 *   Simple animations are supported (eg translate/slide into place on initial reveal).
 *   More complex animations are not (eg flying from one position to another on resize).
 *
 * Layout constraints:
 *   This component supports multi-column layout.
 *   The height of each item may vary.
 *   The width of each item must not exceed the width of the column it is "in".
 *   The left position of all items within a column must align.
 *   (Items may not span multiple columns.)
 */

var Masonry = (_temp = _class =
/*#__PURE__*/
function (_React$PureComponent) {
  _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5___default()(Masonry, _React$PureComponent);

  function Masonry() {
    var _getPrototypeOf2;

    var _this;

    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this, Masonry);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2___default()(this, (_getPrototypeOf2 = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3___default()(Masonry)).call.apply(_getPrototypeOf2, [this].concat(args)));

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4___default()(_this), "state", {
      isScrolling: false,
      scrollTop: 0
    });

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4___default()(_this), "_debounceResetIsScrollingId", void 0);

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4___default()(_this), "_invalidateOnUpdateStartIndex", null);

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4___default()(_this), "_invalidateOnUpdateStopIndex", null);

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4___default()(_this), "_positionCache", new _PositionCache__WEBPACK_IMPORTED_MODULE_10__["default"]());

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4___default()(_this), "_startIndex", null);

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4___default()(_this), "_startIndexMemoized", null);

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4___default()(_this), "_stopIndex", null);

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4___default()(_this), "_stopIndexMemoized", null);

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4___default()(_this), "_debounceResetIsScrollingCallback", function () {
      _this.setState({
        isScrolling: false
      });
    });

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4___default()(_this), "_setScrollingContainerRef", function (ref) {
      _this._scrollingContainer = ref;
    });

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4___default()(_this), "_onScroll", function (event) {
      var height = _this.props.height;
      var eventScrollTop = event.currentTarget.scrollTop; // When this component is shrunk drastically, React dispatches a series of back-to-back scroll events,
      // Gradually converging on a scrollTop that is within the bounds of the new, smaller height.
      // This causes a series of rapid renders that is slow for long lists.
      // We can avoid that by doing some simple bounds checking to ensure that scroll offsets never exceed their bounds.

      var scrollTop = Math.min(Math.max(0, _this._getEstimatedTotalHeight() - height), eventScrollTop); // On iOS, we can arrive at negative offsets by swiping past the start or end.
      // Avoid re-rendering in this case as it can cause problems; see #532 for more.

      if (eventScrollTop !== scrollTop) {
        return;
      } // Prevent pointer events from interrupting a smooth scroll


      _this._debounceResetIsScrolling(); // Certain devices (like Apple touchpad) rapid-fire duplicate events.
      // Don't force a re-render if this is the case.
      // The mouse may move faster then the animation frame does.
      // Use requestAnimationFrame to avoid over-updating.


      if (_this.state.scrollTop !== scrollTop) {
        _this.setState({
          isScrolling: true,
          scrollTop: scrollTop
        });
      }
    });

    return _this;
  }

  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(Masonry, [{
    key: "clearCellPositions",
    value: function clearCellPositions() {
      this._positionCache = new _PositionCache__WEBPACK_IMPORTED_MODULE_10__["default"]();
      this.forceUpdate();
    } // HACK This method signature was intended for Grid

  }, {
    key: "invalidateCellSizeAfterRender",
    value: function invalidateCellSizeAfterRender(_ref) {
      var index = _ref.rowIndex;

      if (this._invalidateOnUpdateStartIndex === null) {
        this._invalidateOnUpdateStartIndex = index;
        this._invalidateOnUpdateStopIndex = index;
      } else {
        this._invalidateOnUpdateStartIndex = Math.min(this._invalidateOnUpdateStartIndex, index);
        this._invalidateOnUpdateStopIndex = Math.max(this._invalidateOnUpdateStopIndex, index);
      }
    }
  }, {
    key: "recomputeCellPositions",
    value: function recomputeCellPositions() {
      var stopIndex = this._positionCache.count - 1;
      this._positionCache = new _PositionCache__WEBPACK_IMPORTED_MODULE_10__["default"]();

      this._populatePositionCache(0, stopIndex);

      this.forceUpdate();
    }
  }, {
    key: "componentDidMount",
    value: function componentDidMount() {
      this._checkInvalidateOnUpdate();

      this._invokeOnScrollCallback();

      this._invokeOnCellsRenderedCallback();
    }
  }, {
    key: "componentDidUpdate",
    value: function componentDidUpdate(prevProps, prevState) {
      this._checkInvalidateOnUpdate();

      this._invokeOnScrollCallback();

      this._invokeOnCellsRenderedCallback();

      if (this.props.scrollTop !== prevProps.scrollTop) {
        this._debounceResetIsScrolling();
      }
    }
  }, {
    key: "componentWillUnmount",
    value: function componentWillUnmount() {
      if (this._debounceResetIsScrollingId) {
        Object(_utils_requestAnimationTimeout__WEBPACK_IMPORTED_MODULE_11__["cancelAnimationTimeout"])(this._debounceResetIsScrollingId);
      }
    }
  }, {
    key: "render",
    value: function render() {
      var _this2 = this;

      var _this$props = this.props,
          autoHeight = _this$props.autoHeight,
          cellCount = _this$props.cellCount,
          cellMeasurerCache = _this$props.cellMeasurerCache,
          cellRenderer = _this$props.cellRenderer,
          className = _this$props.className,
          height = _this$props.height,
          id = _this$props.id,
          keyMapper = _this$props.keyMapper,
          overscanByPixels = _this$props.overscanByPixels,
          role = _this$props.role,
          style = _this$props.style,
          tabIndex = _this$props.tabIndex,
          width = _this$props.width,
          rowDirection = _this$props.rowDirection;
      var _this$state = this.state,
          isScrolling = _this$state.isScrolling,
          scrollTop = _this$state.scrollTop;
      var children = [];

      var estimateTotalHeight = this._getEstimatedTotalHeight();

      var shortestColumnSize = this._positionCache.shortestColumnSize;
      var measuredCellCount = this._positionCache.count;
      var startIndex = 0;
      var stopIndex;

      this._positionCache.range(Math.max(0, scrollTop - overscanByPixels), height + overscanByPixels * 2, function (index, left, top) {
        var _style;

        if (typeof stopIndex === 'undefined') {
          startIndex = index;
          stopIndex = index;
        } else {
          startIndex = Math.min(startIndex, index);
          stopIndex = Math.max(stopIndex, index);
        }

        children.push(cellRenderer({
          index: index,
          isScrolling: isScrolling,
          key: keyMapper(index),
          parent: _this2,
          style: (_style = {
            height: cellMeasurerCache.getHeight(index)
          }, _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(_style, rowDirection === 'ltr' ? 'left' : 'right', left), _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(_style, "position", 'absolute'), _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(_style, "top", top), _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(_style, "width", cellMeasurerCache.getWidth(index)), _style)
        }));
      }); // We need to measure additional cells for this layout


      if (shortestColumnSize < scrollTop + height + overscanByPixels && measuredCellCount < cellCount) {
        var batchSize = Math.min(cellCount - measuredCellCount, Math.ceil((scrollTop + height + overscanByPixels - shortestColumnSize) / cellMeasurerCache.defaultHeight * width / cellMeasurerCache.defaultWidth));

        for (var _index = measuredCellCount; _index < measuredCellCount + batchSize; _index++) {
          stopIndex = _index;
          children.push(cellRenderer({
            index: _index,
            isScrolling: isScrolling,
            key: keyMapper(_index),
            parent: this,
            style: {
              width: cellMeasurerCache.getWidth(_index)
            }
          }));
        }
      }

      this._startIndex = startIndex;
      this._stopIndex = stopIndex;
      return react__WEBPACK_IMPORTED_MODULE_8__["createElement"]("div", {
        ref: this._setScrollingContainerRef,
        "aria-label": this.props['aria-label'],
        className: Object(clsx__WEBPACK_IMPORTED_MODULE_7__["default"])('ReactVirtualized__Masonry', className),
        id: id,
        onScroll: this._onScroll,
        role: role,
        style: _objectSpread({
          boxSizing: 'border-box',
          direction: 'ltr',
          height: autoHeight ? 'auto' : height,
          overflowX: 'hidden',
          overflowY: estimateTotalHeight < height ? 'hidden' : 'auto',
          position: 'relative',
          width: width,
          WebkitOverflowScrolling: 'touch',
          willChange: 'transform'
        }, style),
        tabIndex: tabIndex
      }, react__WEBPACK_IMPORTED_MODULE_8__["createElement"]("div", {
        className: "ReactVirtualized__Masonry__innerScrollContainer",
        style: {
          width: '100%',
          height: estimateTotalHeight,
          maxWidth: '100%',
          maxHeight: estimateTotalHeight,
          overflow: 'hidden',
          pointerEvents: isScrolling ? 'none' : '',
          position: 'relative'
        }
      }, children));
    }
  }, {
    key: "_checkInvalidateOnUpdate",
    value: function _checkInvalidateOnUpdate() {
      if (typeof this._invalidateOnUpdateStartIndex === 'number') {
        var startIndex = this._invalidateOnUpdateStartIndex;
        var stopIndex = this._invalidateOnUpdateStopIndex;
        this._invalidateOnUpdateStartIndex = null;
        this._invalidateOnUpdateStopIndex = null; // Query external layout logic for position of newly-measured cells

        this._populatePositionCache(startIndex, stopIndex);

        this.forceUpdate();
      }
    }
  }, {
    key: "_debounceResetIsScrolling",
    value: function _debounceResetIsScrolling() {
      var scrollingResetTimeInterval = this.props.scrollingResetTimeInterval;

      if (this._debounceResetIsScrollingId) {
        Object(_utils_requestAnimationTimeout__WEBPACK_IMPORTED_MODULE_11__["cancelAnimationTimeout"])(this._debounceResetIsScrollingId);
      }

      this._debounceResetIsScrollingId = Object(_utils_requestAnimationTimeout__WEBPACK_IMPORTED_MODULE_11__["requestAnimationTimeout"])(this._debounceResetIsScrollingCallback, scrollingResetTimeInterval);
    }
  }, {
    key: "_getEstimatedTotalHeight",
    value: function _getEstimatedTotalHeight() {
      var _this$props2 = this.props,
          cellCount = _this$props2.cellCount,
          cellMeasurerCache = _this$props2.cellMeasurerCache,
          width = _this$props2.width;
      var estimatedColumnCount = Math.max(1, Math.floor(width / cellMeasurerCache.defaultWidth));
      return this._positionCache.estimateTotalHeight(cellCount, estimatedColumnCount, cellMeasurerCache.defaultHeight);
    }
  }, {
    key: "_invokeOnScrollCallback",
    value: function _invokeOnScrollCallback() {
      var _this$props3 = this.props,
          height = _this$props3.height,
          onScroll = _this$props3.onScroll;
      var scrollTop = this.state.scrollTop;

      if (this._onScrollMemoized !== scrollTop) {
        onScroll({
          clientHeight: height,
          scrollHeight: this._getEstimatedTotalHeight(),
          scrollTop: scrollTop
        });
        this._onScrollMemoized = scrollTop;
      }
    }
  }, {
    key: "_invokeOnCellsRenderedCallback",
    value: function _invokeOnCellsRenderedCallback() {
      if (this._startIndexMemoized !== this._startIndex || this._stopIndexMemoized !== this._stopIndex) {
        var onCellsRendered = this.props.onCellsRendered;
        onCellsRendered({
          startIndex: this._startIndex,
          stopIndex: this._stopIndex
        });
        this._startIndexMemoized = this._startIndex;
        this._stopIndexMemoized = this._stopIndex;
      }
    }
  }, {
    key: "_populatePositionCache",
    value: function _populatePositionCache(startIndex, stopIndex) {
      var _this$props4 = this.props,
          cellMeasurerCache = _this$props4.cellMeasurerCache,
          cellPositioner = _this$props4.cellPositioner;

      for (var _index2 = startIndex; _index2 <= stopIndex; _index2++) {
        var _cellPositioner = cellPositioner(_index2),
            left = _cellPositioner.left,
            top = _cellPositioner.top;

        this._positionCache.setPosition(_index2, left, top, cellMeasurerCache.getHeight(_index2));
      }
    }
  }], [{
    key: "getDerivedStateFromProps",
    value: function getDerivedStateFromProps(nextProps, prevState) {
      if (nextProps.scrollTop !== undefined && prevState.scrollTop !== nextProps.scrollTop) {
        return {
          isScrolling: true,
          scrollTop: nextProps.scrollTop
        };
      }

      return null;
    }
  }]);

  return Masonry;
}(react__WEBPACK_IMPORTED_MODULE_8__["PureComponent"]), _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(_class, "propTypes",  false ? undefined : {
  "autoHeight": prop_types__WEBPACK_IMPORTED_MODULE_12___default.a.bool.isRequired,
  "cellCount": prop_types__WEBPACK_IMPORTED_MODULE_12___default.a.number.isRequired,
  "cellMeasurerCache": function cellMeasurerCache() {
    return (typeof CellMeasurerCache === "function" ? prop_types__WEBPACK_IMPORTED_MODULE_12___default.a.instanceOf(CellMeasurerCache).isRequired : prop_types__WEBPACK_IMPORTED_MODULE_12___default.a.any.isRequired).apply(this, arguments);
  },
  "cellPositioner": function cellPositioner() {
    return (typeof Positioner === "function" ? prop_types__WEBPACK_IMPORTED_MODULE_12___default.a.instanceOf(Positioner).isRequired : prop_types__WEBPACK_IMPORTED_MODULE_12___default.a.any.isRequired).apply(this, arguments);
  },
  "cellRenderer": function cellRenderer() {
    return (typeof CellRenderer === "function" ? prop_types__WEBPACK_IMPORTED_MODULE_12___default.a.instanceOf(CellRenderer).isRequired : prop_types__WEBPACK_IMPORTED_MODULE_12___default.a.any.isRequired).apply(this, arguments);
  },
  "className": prop_types__WEBPACK_IMPORTED_MODULE_12___default.a.string,
  "height": prop_types__WEBPACK_IMPORTED_MODULE_12___default.a.number.isRequired,
  "id": prop_types__WEBPACK_IMPORTED_MODULE_12___default.a.string,
  "keyMapper": function keyMapper() {
    return (typeof KeyMapper === "function" ? prop_types__WEBPACK_IMPORTED_MODULE_12___default.a.instanceOf(KeyMapper).isRequired : prop_types__WEBPACK_IMPORTED_MODULE_12___default.a.any.isRequired).apply(this, arguments);
  },
  "onCellsRendered": function onCellsRendered() {
    return (typeof OnCellsRenderedCallback === "function" ? prop_types__WEBPACK_IMPORTED_MODULE_12___default.a.instanceOf(OnCellsRenderedCallback) : prop_types__WEBPACK_IMPORTED_MODULE_12___default.a.any).apply(this, arguments);
  },
  "onScroll": function onScroll() {
    return (typeof OnScrollCallback === "function" ? prop_types__WEBPACK_IMPORTED_MODULE_12___default.a.instanceOf(OnScrollCallback) : prop_types__WEBPACK_IMPORTED_MODULE_12___default.a.any).apply(this, arguments);
  },
  "overscanByPixels": prop_types__WEBPACK_IMPORTED_MODULE_12___default.a.number.isRequired,
  "role": prop_types__WEBPACK_IMPORTED_MODULE_12___default.a.string.isRequired,
  "scrollingResetTimeInterval": prop_types__WEBPACK_IMPORTED_MODULE_12___default.a.number.isRequired,
  "style": function style(props, propName, componentName) {
    if (!Object.prototype.hasOwnProperty.call(props, propName)) {
      throw new Error("Prop `".concat(propName, "` has type 'any' or 'mixed', but was not provided to `").concat(componentName, "`. Pass undefined or any other value."));
    }
  },
  "tabIndex": prop_types__WEBPACK_IMPORTED_MODULE_12___default.a.number.isRequired,
  "width": prop_types__WEBPACK_IMPORTED_MODULE_12___default.a.number.isRequired,
  "rowDirection": prop_types__WEBPACK_IMPORTED_MODULE_12___default.a.string.isRequired,
  "scrollTop": prop_types__WEBPACK_IMPORTED_MODULE_12___default.a.number
}), _temp);

_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(Masonry, "defaultProps", {
  autoHeight: false,
  keyMapper: identity,
  onCellsRendered: noop,
  onScroll: noop,
  overscanByPixels: 20,
  role: 'grid',
  scrollingResetTimeInterval: DEFAULT_SCROLLING_RESET_TIME_INTERVAL,
  style: emptyObject,
  tabIndex: 0,
  rowDirection: 'ltr'
});

function identity(value) {
  return value;
}

function noop() {}

var bpfrpt_proptype_CellMeasurerCache =  false ? undefined : {
  "defaultHeight": prop_types__WEBPACK_IMPORTED_MODULE_12___default.a.number.isRequired,
  "defaultWidth": prop_types__WEBPACK_IMPORTED_MODULE_12___default.a.number.isRequired,
  "getHeight": prop_types__WEBPACK_IMPORTED_MODULE_12___default.a.func.isRequired,
  "getWidth": prop_types__WEBPACK_IMPORTED_MODULE_12___default.a.func.isRequired
};
Object(react_lifecycles_compat__WEBPACK_IMPORTED_MODULE_9__["polyfill"])(Masonry);
/* harmony default export */ __webpack_exports__["default"] = (Masonry);
var bpfrpt_proptype_Positioner =  false ? undefined : prop_types__WEBPACK_IMPORTED_MODULE_12___default.a.func;





/***/ }),

/***/ "./node_modules/react-virtualized/dist/es/Masonry/PositionCache.js":
/*!*************************************************************************!*\
  !*** ./node_modules/react-virtualized/dist/es/Masonry/PositionCache.js ***!
  \*************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return PositionCache; });
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/slicedToArray */ "./node_modules/@babel/runtime/helpers/slicedToArray.js");
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/createClass.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/defineProperty.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _vendor_intervalTree__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../vendor/intervalTree */ "./node_modules/react-virtualized/dist/es/vendor/intervalTree.js");






// Position cache requirements:
//   O(log(n)) lookup of cells to render for a given viewport size
//   O(1) lookup of shortest measured column (so we know when to enter phase 1)
var PositionCache =
/*#__PURE__*/
function () {
  function PositionCache() {
    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default()(this, PositionCache);

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3___default()(this, "_columnSizeMap", {});

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3___default()(this, "_intervalTree", Object(_vendor_intervalTree__WEBPACK_IMPORTED_MODULE_4__["default"])());

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3___default()(this, "_leftMap", {});
  }

  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default()(PositionCache, [{
    key: "estimateTotalHeight",
    value: function estimateTotalHeight(cellCount, columnCount, defaultCellHeight) {
      var unmeasuredCellCount = cellCount - this.count;
      return this.tallestColumnSize + Math.ceil(unmeasuredCellCount / columnCount) * defaultCellHeight;
    } // Render all cells visible within the viewport range defined.

  }, {
    key: "range",
    value: function range(scrollTop, clientHeight, renderCallback) {
      var _this = this;

      this._intervalTree.queryInterval(scrollTop, scrollTop + clientHeight, function (_ref) {
        var _ref2 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default()(_ref, 3),
            top = _ref2[0],
            _ = _ref2[1],
            index = _ref2[2];

        return renderCallback(index, _this._leftMap[index], top);
      });
    }
  }, {
    key: "setPosition",
    value: function setPosition(index, left, top, height) {
      this._intervalTree.insert([top, top + height, index]);

      this._leftMap[index] = left;
      var columnSizeMap = this._columnSizeMap;
      var columnHeight = columnSizeMap[left];

      if (columnHeight === undefined) {
        columnSizeMap[left] = top + height;
      } else {
        columnSizeMap[left] = Math.max(columnHeight, top + height);
      }
    }
  }, {
    key: "count",
    get: function get() {
      return this._intervalTree.count;
    }
  }, {
    key: "shortestColumnSize",
    get: function get() {
      var columnSizeMap = this._columnSizeMap;
      var size = 0;

      for (var i in columnSizeMap) {
        var height = columnSizeMap[i];
        size = size === 0 ? height : Math.min(size, height);
      }

      return size;
    }
  }, {
    key: "tallestColumnSize",
    get: function get() {
      var columnSizeMap = this._columnSizeMap;
      var size = 0;

      for (var i in columnSizeMap) {
        var height = columnSizeMap[i];
        size = Math.max(size, height);
      }

      return size;
    }
  }]);

  return PositionCache;
}();



/***/ }),

/***/ "./node_modules/react-virtualized/dist/es/Masonry/createCellPositioner.js":
/*!********************************************************************************!*\
  !*** ./node_modules/react-virtualized/dist/es/Masonry/createCellPositioner.js ***!
  \********************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return createCellPositioner; });
/* harmony import */ var _Masonry__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Masonry */ "./node_modules/react-virtualized/dist/es/Masonry/Masonry.js");
function createCellPositioner(_ref) {
  var cellMeasurerCache = _ref.cellMeasurerCache,
      columnCount = _ref.columnCount,
      columnWidth = _ref.columnWidth,
      _ref$spacer = _ref.spacer,
      spacer = _ref$spacer === void 0 ? 0 : _ref$spacer;
  var columnHeights;
  initOrResetDerivedValues();

  function cellPositioner(index) {
    // Find the shortest column and use it.
    var columnIndex = 0;

    for (var i = 1; i < columnHeights.length; i++) {
      if (columnHeights[i] < columnHeights[columnIndex]) {
        columnIndex = i;
      }
    }

    var left = columnIndex * (columnWidth + spacer);
    var top = columnHeights[columnIndex] || 0;
    columnHeights[columnIndex] = top + cellMeasurerCache.getHeight(index) + spacer;
    return {
      left: left,
      top: top
    };
  }

  function initOrResetDerivedValues() {
    // Track the height of each column.
    // Layout algorithm below always inserts into the shortest column.
    columnHeights = [];

    for (var i = 0; i < columnCount; i++) {
      columnHeights[i] = 0;
    }
  }

  function reset(params) {
    columnCount = params.columnCount;
    columnWidth = params.columnWidth;
    spacer = params.spacer;
    initOrResetDerivedValues();
  }

  cellPositioner.reset = reset;
  return cellPositioner;
}



/***/ }),

/***/ "./node_modules/react-virtualized/dist/es/Masonry/index.js":
/*!*****************************************************************!*\
  !*** ./node_modules/react-virtualized/dist/es/Masonry/index.js ***!
  \*****************************************************************/
/*! exports provided: default, createCellPositioner, Masonry */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _createCellPositioner__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./createCellPositioner */ "./node_modules/react-virtualized/dist/es/Masonry/createCellPositioner.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "createCellPositioner", function() { return _createCellPositioner__WEBPACK_IMPORTED_MODULE_0__["default"]; });

/* harmony import */ var _Masonry__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Masonry */ "./node_modules/react-virtualized/dist/es/Masonry/Masonry.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Masonry", function() { return _Masonry__WEBPACK_IMPORTED_MODULE_1__["default"]; });



/* harmony default export */ __webpack_exports__["default"] = (_Masonry__WEBPACK_IMPORTED_MODULE_1__["default"]);


/***/ }),

/***/ "./node_modules/react-virtualized/dist/es/MultiGrid/CellMeasurerCacheDecorator.js":
/*!****************************************************************************************!*\
  !*** ./node_modules/react-virtualized/dist/es/MultiGrid/CellMeasurerCacheDecorator.js ***!
  \****************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return CellMeasurerCacheDecorator; });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/createClass.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/defineProperty.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _CellMeasurer__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../CellMeasurer */ "./node_modules/react-virtualized/dist/es/CellMeasurer/index.js");





/**
 * Caches measurements for a given cell.
 */
var CellMeasurerCacheDecorator =
/*#__PURE__*/
function () {
  function CellMeasurerCacheDecorator() {
    var _this = this;

    var params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};

    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this, CellMeasurerCacheDecorator);

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2___default()(this, "_cellMeasurerCache", void 0);

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2___default()(this, "_columnIndexOffset", void 0);

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2___default()(this, "_rowIndexOffset", void 0);

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2___default()(this, "columnWidth", function (_ref) {
      var index = _ref.index;

      _this._cellMeasurerCache.columnWidth({
        index: index + _this._columnIndexOffset
      });
    });

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2___default()(this, "rowHeight", function (_ref2) {
      var index = _ref2.index;

      _this._cellMeasurerCache.rowHeight({
        index: index + _this._rowIndexOffset
      });
    });

    var cellMeasurerCache = params.cellMeasurerCache,
        _params$columnIndexOf = params.columnIndexOffset,
        columnIndexOffset = _params$columnIndexOf === void 0 ? 0 : _params$columnIndexOf,
        _params$rowIndexOffse = params.rowIndexOffset,
        rowIndexOffset = _params$rowIndexOffse === void 0 ? 0 : _params$rowIndexOffse;
    this._cellMeasurerCache = cellMeasurerCache;
    this._columnIndexOffset = columnIndexOffset;
    this._rowIndexOffset = rowIndexOffset;
  }

  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(CellMeasurerCacheDecorator, [{
    key: "clear",
    value: function clear(rowIndex, columnIndex) {
      this._cellMeasurerCache.clear(rowIndex + this._rowIndexOffset, columnIndex + this._columnIndexOffset);
    }
  }, {
    key: "clearAll",
    value: function clearAll() {
      this._cellMeasurerCache.clearAll();
    }
  }, {
    key: "hasFixedHeight",
    value: function hasFixedHeight() {
      return this._cellMeasurerCache.hasFixedHeight();
    }
  }, {
    key: "hasFixedWidth",
    value: function hasFixedWidth() {
      return this._cellMeasurerCache.hasFixedWidth();
    }
  }, {
    key: "getHeight",
    value: function getHeight(rowIndex) {
      var columnIndex = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;
      return this._cellMeasurerCache.getHeight(rowIndex + this._rowIndexOffset, columnIndex + this._columnIndexOffset);
    }
  }, {
    key: "getWidth",
    value: function getWidth(rowIndex) {
      var columnIndex = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;
      return this._cellMeasurerCache.getWidth(rowIndex + this._rowIndexOffset, columnIndex + this._columnIndexOffset);
    }
  }, {
    key: "has",
    value: function has(rowIndex) {
      var columnIndex = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;
      return this._cellMeasurerCache.has(rowIndex + this._rowIndexOffset, columnIndex + this._columnIndexOffset);
    }
  }, {
    key: "set",
    value: function set(rowIndex, columnIndex, width, height) {
      this._cellMeasurerCache.set(rowIndex + this._rowIndexOffset, columnIndex + this._columnIndexOffset, width, height);
    }
  }, {
    key: "defaultHeight",
    get: function get() {
      return this._cellMeasurerCache.defaultHeight;
    }
  }, {
    key: "defaultWidth",
    get: function get() {
      return this._cellMeasurerCache.defaultWidth;
    }
  }]);

  return CellMeasurerCacheDecorator;
}();



/***/ }),

/***/ "./node_modules/react-virtualized/dist/es/MultiGrid/MultiGrid.js":
/*!***********************************************************************!*\
  !*** ./node_modules/react-virtualized/dist/es/MultiGrid/MultiGrid.js ***!
  \***********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/extends */ "./node_modules/@babel/runtime/helpers/extends.js");
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/objectWithoutProperties */ "./node_modules/@babel/runtime/helpers/objectWithoutProperties.js");
/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/createClass.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/inherits.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/defineProperty.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_10__);
/* harmony import */ var react_lifecycles_compat__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! react-lifecycles-compat */ "./node_modules/react-lifecycles-compat/react-lifecycles-compat.es.js");
/* harmony import */ var _CellMeasurerCacheDecorator__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./CellMeasurerCacheDecorator */ "./node_modules/react-virtualized/dist/es/MultiGrid/CellMeasurerCacheDecorator.js");
/* harmony import */ var _Grid__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../Grid */ "./node_modules/react-virtualized/dist/es/Grid/index.js");










function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }






var SCROLLBAR_SIZE_BUFFER = 20;
/**
 * Renders 1, 2, or 4 Grids depending on configuration.
 * A main (body) Grid will always be rendered.
 * Optionally, 1-2 Grids for sticky header rows will also be rendered.
 * If no sticky columns, only 1 sticky header Grid will be rendered.
 * If sticky columns, 2 sticky header Grids will be rendered.
 */

var MultiGrid =
/*#__PURE__*/
function (_React$PureComponent) {
  _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_7___default()(MultiGrid, _React$PureComponent);

  function MultiGrid(props, context) {
    var _this;

    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2___default()(this, MultiGrid);

    _this = _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4___default()(this, _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default()(MultiGrid).call(this, props, context));

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6___default()(_this), "state", {
      scrollLeft: 0,
      scrollTop: 0,
      scrollbarSize: 0,
      showHorizontalScrollbar: false,
      showVerticalScrollbar: false
    });

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6___default()(_this), "_deferredInvalidateColumnIndex", null);

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6___default()(_this), "_deferredInvalidateRowIndex", null);

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6___default()(_this), "_bottomLeftGridRef", function (ref) {
      _this._bottomLeftGrid = ref;
    });

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6___default()(_this), "_bottomRightGridRef", function (ref) {
      _this._bottomRightGrid = ref;
    });

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6___default()(_this), "_cellRendererBottomLeftGrid", function (_ref) {
      var rowIndex = _ref.rowIndex,
          rest = _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1___default()(_ref, ["rowIndex"]);

      var _this$props = _this.props,
          cellRenderer = _this$props.cellRenderer,
          fixedRowCount = _this$props.fixedRowCount,
          rowCount = _this$props.rowCount;

      if (rowIndex === rowCount - fixedRowCount) {
        return react__WEBPACK_IMPORTED_MODULE_10__["createElement"]("div", {
          key: rest.key,
          style: _objectSpread({}, rest.style, {
            height: SCROLLBAR_SIZE_BUFFER
          })
        });
      } else {
        return cellRenderer(_objectSpread({}, rest, {
          parent: _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6___default()(_this),
          rowIndex: rowIndex + fixedRowCount
        }));
      }
    });

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6___default()(_this), "_cellRendererBottomRightGrid", function (_ref2) {
      var columnIndex = _ref2.columnIndex,
          rowIndex = _ref2.rowIndex,
          rest = _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1___default()(_ref2, ["columnIndex", "rowIndex"]);

      var _this$props2 = _this.props,
          cellRenderer = _this$props2.cellRenderer,
          fixedColumnCount = _this$props2.fixedColumnCount,
          fixedRowCount = _this$props2.fixedRowCount;
      return cellRenderer(_objectSpread({}, rest, {
        columnIndex: columnIndex + fixedColumnCount,
        parent: _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6___default()(_this),
        rowIndex: rowIndex + fixedRowCount
      }));
    });

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6___default()(_this), "_cellRendererTopRightGrid", function (_ref3) {
      var columnIndex = _ref3.columnIndex,
          rest = _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1___default()(_ref3, ["columnIndex"]);

      var _this$props3 = _this.props,
          cellRenderer = _this$props3.cellRenderer,
          columnCount = _this$props3.columnCount,
          fixedColumnCount = _this$props3.fixedColumnCount;

      if (columnIndex === columnCount - fixedColumnCount) {
        return react__WEBPACK_IMPORTED_MODULE_10__["createElement"]("div", {
          key: rest.key,
          style: _objectSpread({}, rest.style, {
            width: SCROLLBAR_SIZE_BUFFER
          })
        });
      } else {
        return cellRenderer(_objectSpread({}, rest, {
          columnIndex: columnIndex + fixedColumnCount,
          parent: _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6___default()(_this)
        }));
      }
    });

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6___default()(_this), "_columnWidthRightGrid", function (_ref4) {
      var index = _ref4.index;
      var _this$props4 = _this.props,
          columnCount = _this$props4.columnCount,
          fixedColumnCount = _this$props4.fixedColumnCount,
          columnWidth = _this$props4.columnWidth;
      var _this$state = _this.state,
          scrollbarSize = _this$state.scrollbarSize,
          showHorizontalScrollbar = _this$state.showHorizontalScrollbar; // An extra cell is added to the count
      // This gives the smaller Grid extra room for offset,
      // In case the main (bottom right) Grid has a scrollbar
      // If no scrollbar, the extra space is overflow:hidden anyway

      if (showHorizontalScrollbar && index === columnCount - fixedColumnCount) {
        return scrollbarSize;
      }

      return typeof columnWidth === 'function' ? columnWidth({
        index: index + fixedColumnCount
      }) : columnWidth;
    });

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6___default()(_this), "_onScroll", function (scrollInfo) {
      var scrollLeft = scrollInfo.scrollLeft,
          scrollTop = scrollInfo.scrollTop;

      _this.setState({
        scrollLeft: scrollLeft,
        scrollTop: scrollTop
      });

      var onScroll = _this.props.onScroll;

      if (onScroll) {
        onScroll(scrollInfo);
      }
    });

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6___default()(_this), "_onScrollbarPresenceChange", function (_ref5) {
      var horizontal = _ref5.horizontal,
          size = _ref5.size,
          vertical = _ref5.vertical;
      var _this$state2 = _this.state,
          showHorizontalScrollbar = _this$state2.showHorizontalScrollbar,
          showVerticalScrollbar = _this$state2.showVerticalScrollbar;

      if (horizontal !== showHorizontalScrollbar || vertical !== showVerticalScrollbar) {
        _this.setState({
          scrollbarSize: size,
          showHorizontalScrollbar: horizontal,
          showVerticalScrollbar: vertical
        });

        var onScrollbarPresenceChange = _this.props.onScrollbarPresenceChange;

        if (typeof onScrollbarPresenceChange === 'function') {
          onScrollbarPresenceChange({
            horizontal: horizontal,
            size: size,
            vertical: vertical
          });
        }
      }
    });

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6___default()(_this), "_onScrollLeft", function (scrollInfo) {
      var scrollLeft = scrollInfo.scrollLeft;

      _this._onScroll({
        scrollLeft: scrollLeft,
        scrollTop: _this.state.scrollTop
      });
    });

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6___default()(_this), "_onScrollTop", function (scrollInfo) {
      var scrollTop = scrollInfo.scrollTop;

      _this._onScroll({
        scrollTop: scrollTop,
        scrollLeft: _this.state.scrollLeft
      });
    });

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6___default()(_this), "_rowHeightBottomGrid", function (_ref6) {
      var index = _ref6.index;
      var _this$props5 = _this.props,
          fixedRowCount = _this$props5.fixedRowCount,
          rowCount = _this$props5.rowCount,
          rowHeight = _this$props5.rowHeight;
      var _this$state3 = _this.state,
          scrollbarSize = _this$state3.scrollbarSize,
          showVerticalScrollbar = _this$state3.showVerticalScrollbar; // An extra cell is added to the count
      // This gives the smaller Grid extra room for offset,
      // In case the main (bottom right) Grid has a scrollbar
      // If no scrollbar, the extra space is overflow:hidden anyway

      if (showVerticalScrollbar && index === rowCount - fixedRowCount) {
        return scrollbarSize;
      }

      return typeof rowHeight === 'function' ? rowHeight({
        index: index + fixedRowCount
      }) : rowHeight;
    });

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6___default()(_this), "_topLeftGridRef", function (ref) {
      _this._topLeftGrid = ref;
    });

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6___default()(_this), "_topRightGridRef", function (ref) {
      _this._topRightGrid = ref;
    });

    var deferredMeasurementCache = props.deferredMeasurementCache,
        _fixedColumnCount = props.fixedColumnCount,
        _fixedRowCount = props.fixedRowCount;

    _this._maybeCalculateCachedStyles(true);

    if (deferredMeasurementCache) {
      _this._deferredMeasurementCacheBottomLeftGrid = _fixedRowCount > 0 ? new _CellMeasurerCacheDecorator__WEBPACK_IMPORTED_MODULE_12__["default"]({
        cellMeasurerCache: deferredMeasurementCache,
        columnIndexOffset: 0,
        rowIndexOffset: _fixedRowCount
      }) : deferredMeasurementCache;
      _this._deferredMeasurementCacheBottomRightGrid = _fixedColumnCount > 0 || _fixedRowCount > 0 ? new _CellMeasurerCacheDecorator__WEBPACK_IMPORTED_MODULE_12__["default"]({
        cellMeasurerCache: deferredMeasurementCache,
        columnIndexOffset: _fixedColumnCount,
        rowIndexOffset: _fixedRowCount
      }) : deferredMeasurementCache;
      _this._deferredMeasurementCacheTopRightGrid = _fixedColumnCount > 0 ? new _CellMeasurerCacheDecorator__WEBPACK_IMPORTED_MODULE_12__["default"]({
        cellMeasurerCache: deferredMeasurementCache,
        columnIndexOffset: _fixedColumnCount,
        rowIndexOffset: 0
      }) : deferredMeasurementCache;
    }

    return _this;
  }

  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3___default()(MultiGrid, [{
    key: "forceUpdateGrids",
    value: function forceUpdateGrids() {
      this._bottomLeftGrid && this._bottomLeftGrid.forceUpdate();
      this._bottomRightGrid && this._bottomRightGrid.forceUpdate();
      this._topLeftGrid && this._topLeftGrid.forceUpdate();
      this._topRightGrid && this._topRightGrid.forceUpdate();
    }
    /** See Grid#invalidateCellSizeAfterRender */

  }, {
    key: "invalidateCellSizeAfterRender",
    value: function invalidateCellSizeAfterRender() {
      var _ref7 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},
          _ref7$columnIndex = _ref7.columnIndex,
          columnIndex = _ref7$columnIndex === void 0 ? 0 : _ref7$columnIndex,
          _ref7$rowIndex = _ref7.rowIndex,
          rowIndex = _ref7$rowIndex === void 0 ? 0 : _ref7$rowIndex;

      this._deferredInvalidateColumnIndex = typeof this._deferredInvalidateColumnIndex === 'number' ? Math.min(this._deferredInvalidateColumnIndex, columnIndex) : columnIndex;
      this._deferredInvalidateRowIndex = typeof this._deferredInvalidateRowIndex === 'number' ? Math.min(this._deferredInvalidateRowIndex, rowIndex) : rowIndex;
    }
    /** See Grid#measureAllCells */

  }, {
    key: "measureAllCells",
    value: function measureAllCells() {
      this._bottomLeftGrid && this._bottomLeftGrid.measureAllCells();
      this._bottomRightGrid && this._bottomRightGrid.measureAllCells();
      this._topLeftGrid && this._topLeftGrid.measureAllCells();
      this._topRightGrid && this._topRightGrid.measureAllCells();
    }
    /** See Grid#recomputeGridSize */

  }, {
    key: "recomputeGridSize",
    value: function recomputeGridSize() {
      var _ref8 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},
          _ref8$columnIndex = _ref8.columnIndex,
          columnIndex = _ref8$columnIndex === void 0 ? 0 : _ref8$columnIndex,
          _ref8$rowIndex = _ref8.rowIndex,
          rowIndex = _ref8$rowIndex === void 0 ? 0 : _ref8$rowIndex;

      var _this$props6 = this.props,
          fixedColumnCount = _this$props6.fixedColumnCount,
          fixedRowCount = _this$props6.fixedRowCount;
      var adjustedColumnIndex = Math.max(0, columnIndex - fixedColumnCount);
      var adjustedRowIndex = Math.max(0, rowIndex - fixedRowCount);
      this._bottomLeftGrid && this._bottomLeftGrid.recomputeGridSize({
        columnIndex: columnIndex,
        rowIndex: adjustedRowIndex
      });
      this._bottomRightGrid && this._bottomRightGrid.recomputeGridSize({
        columnIndex: adjustedColumnIndex,
        rowIndex: adjustedRowIndex
      });
      this._topLeftGrid && this._topLeftGrid.recomputeGridSize({
        columnIndex: columnIndex,
        rowIndex: rowIndex
      });
      this._topRightGrid && this._topRightGrid.recomputeGridSize({
        columnIndex: adjustedColumnIndex,
        rowIndex: rowIndex
      });
      this._leftGridWidth = null;
      this._topGridHeight = null;

      this._maybeCalculateCachedStyles(true);
    }
  }, {
    key: "componentDidMount",
    value: function componentDidMount() {
      var _this$props7 = this.props,
          scrollLeft = _this$props7.scrollLeft,
          scrollTop = _this$props7.scrollTop;

      if (scrollLeft > 0 || scrollTop > 0) {
        var newState = {};

        if (scrollLeft > 0) {
          newState.scrollLeft = scrollLeft;
        }

        if (scrollTop > 0) {
          newState.scrollTop = scrollTop;
        }

        this.setState(newState);
      }

      this._handleInvalidatedGridSize();
    }
  }, {
    key: "componentDidUpdate",
    value: function componentDidUpdate() {
      this._handleInvalidatedGridSize();
    }
  }, {
    key: "render",
    value: function render() {
      var _this$props8 = this.props,
          onScroll = _this$props8.onScroll,
          onSectionRendered = _this$props8.onSectionRendered,
          onScrollbarPresenceChange = _this$props8.onScrollbarPresenceChange,
          scrollLeftProp = _this$props8.scrollLeft,
          scrollToColumn = _this$props8.scrollToColumn,
          scrollTopProp = _this$props8.scrollTop,
          scrollToRow = _this$props8.scrollToRow,
          rest = _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1___default()(_this$props8, ["onScroll", "onSectionRendered", "onScrollbarPresenceChange", "scrollLeft", "scrollToColumn", "scrollTop", "scrollToRow"]);

      this._prepareForRender(); // Don't render any of our Grids if there are no cells.
      // This mirrors what Grid does,
      // And prevents us from recording inaccurage measurements when used with CellMeasurer.


      if (this.props.width === 0 || this.props.height === 0) {
        return null;
      } // scrollTop and scrollLeft props are explicitly filtered out and ignored


      var _this$state4 = this.state,
          scrollLeft = _this$state4.scrollLeft,
          scrollTop = _this$state4.scrollTop;
      return react__WEBPACK_IMPORTED_MODULE_10__["createElement"]("div", {
        style: this._containerOuterStyle
      }, react__WEBPACK_IMPORTED_MODULE_10__["createElement"]("div", {
        style: this._containerTopStyle
      }, this._renderTopLeftGrid(rest), this._renderTopRightGrid(_objectSpread({}, rest, {
        onScroll: onScroll,
        scrollLeft: scrollLeft
      }))), react__WEBPACK_IMPORTED_MODULE_10__["createElement"]("div", {
        style: this._containerBottomStyle
      }, this._renderBottomLeftGrid(_objectSpread({}, rest, {
        onScroll: onScroll,
        scrollTop: scrollTop
      })), this._renderBottomRightGrid(_objectSpread({}, rest, {
        onScroll: onScroll,
        onSectionRendered: onSectionRendered,
        scrollLeft: scrollLeft,
        scrollToColumn: scrollToColumn,
        scrollToRow: scrollToRow,
        scrollTop: scrollTop
      }))));
    }
  }, {
    key: "_getBottomGridHeight",
    value: function _getBottomGridHeight(props) {
      var height = props.height;

      var topGridHeight = this._getTopGridHeight(props);

      return height - topGridHeight;
    }
  }, {
    key: "_getLeftGridWidth",
    value: function _getLeftGridWidth(props) {
      var fixedColumnCount = props.fixedColumnCount,
          columnWidth = props.columnWidth;

      if (this._leftGridWidth == null) {
        if (typeof columnWidth === 'function') {
          var leftGridWidth = 0;

          for (var index = 0; index < fixedColumnCount; index++) {
            leftGridWidth += columnWidth({
              index: index
            });
          }

          this._leftGridWidth = leftGridWidth;
        } else {
          this._leftGridWidth = columnWidth * fixedColumnCount;
        }
      }

      return this._leftGridWidth;
    }
  }, {
    key: "_getRightGridWidth",
    value: function _getRightGridWidth(props) {
      var width = props.width;

      var leftGridWidth = this._getLeftGridWidth(props);

      return width - leftGridWidth;
    }
  }, {
    key: "_getTopGridHeight",
    value: function _getTopGridHeight(props) {
      var fixedRowCount = props.fixedRowCount,
          rowHeight = props.rowHeight;

      if (this._topGridHeight == null) {
        if (typeof rowHeight === 'function') {
          var topGridHeight = 0;

          for (var index = 0; index < fixedRowCount; index++) {
            topGridHeight += rowHeight({
              index: index
            });
          }

          this._topGridHeight = topGridHeight;
        } else {
          this._topGridHeight = rowHeight * fixedRowCount;
        }
      }

      return this._topGridHeight;
    }
  }, {
    key: "_handleInvalidatedGridSize",
    value: function _handleInvalidatedGridSize() {
      if (typeof this._deferredInvalidateColumnIndex === 'number') {
        var columnIndex = this._deferredInvalidateColumnIndex;
        var rowIndex = this._deferredInvalidateRowIndex;
        this._deferredInvalidateColumnIndex = null;
        this._deferredInvalidateRowIndex = null;
        this.recomputeGridSize({
          columnIndex: columnIndex,
          rowIndex: rowIndex
        });
        this.forceUpdate();
      }
    }
    /**
     * Avoid recreating inline styles each render; this bypasses Grid's shallowCompare.
     * This method recalculates styles only when specific props change.
     */

  }, {
    key: "_maybeCalculateCachedStyles",
    value: function _maybeCalculateCachedStyles(resetAll) {
      var _this$props9 = this.props,
          columnWidth = _this$props9.columnWidth,
          enableFixedColumnScroll = _this$props9.enableFixedColumnScroll,
          enableFixedRowScroll = _this$props9.enableFixedRowScroll,
          height = _this$props9.height,
          fixedColumnCount = _this$props9.fixedColumnCount,
          fixedRowCount = _this$props9.fixedRowCount,
          rowHeight = _this$props9.rowHeight,
          style = _this$props9.style,
          styleBottomLeftGrid = _this$props9.styleBottomLeftGrid,
          styleBottomRightGrid = _this$props9.styleBottomRightGrid,
          styleTopLeftGrid = _this$props9.styleTopLeftGrid,
          styleTopRightGrid = _this$props9.styleTopRightGrid,
          width = _this$props9.width;
      var sizeChange = resetAll || height !== this._lastRenderedHeight || width !== this._lastRenderedWidth;
      var leftSizeChange = resetAll || columnWidth !== this._lastRenderedColumnWidth || fixedColumnCount !== this._lastRenderedFixedColumnCount;
      var topSizeChange = resetAll || fixedRowCount !== this._lastRenderedFixedRowCount || rowHeight !== this._lastRenderedRowHeight;

      if (resetAll || sizeChange || style !== this._lastRenderedStyle) {
        this._containerOuterStyle = _objectSpread({
          height: height,
          overflow: 'visible',
          // Let :focus outline show through
          width: width
        }, style);
      }

      if (resetAll || sizeChange || topSizeChange) {
        this._containerTopStyle = {
          height: this._getTopGridHeight(this.props),
          position: 'relative',
          width: width
        };
        this._containerBottomStyle = {
          height: height - this._getTopGridHeight(this.props),
          overflow: 'visible',
          // Let :focus outline show through
          position: 'relative',
          width: width
        };
      }

      if (resetAll || styleBottomLeftGrid !== this._lastRenderedStyleBottomLeftGrid) {
        this._bottomLeftGridStyle = _objectSpread({
          left: 0,
          overflowX: 'hidden',
          overflowY: enableFixedColumnScroll ? 'auto' : 'hidden',
          position: 'absolute'
        }, styleBottomLeftGrid);
      }

      if (resetAll || leftSizeChange || styleBottomRightGrid !== this._lastRenderedStyleBottomRightGrid) {
        this._bottomRightGridStyle = _objectSpread({
          left: this._getLeftGridWidth(this.props),
          position: 'absolute'
        }, styleBottomRightGrid);
      }

      if (resetAll || styleTopLeftGrid !== this._lastRenderedStyleTopLeftGrid) {
        this._topLeftGridStyle = _objectSpread({
          left: 0,
          overflowX: 'hidden',
          overflowY: 'hidden',
          position: 'absolute',
          top: 0
        }, styleTopLeftGrid);
      }

      if (resetAll || leftSizeChange || styleTopRightGrid !== this._lastRenderedStyleTopRightGrid) {
        this._topRightGridStyle = _objectSpread({
          left: this._getLeftGridWidth(this.props),
          overflowX: enableFixedRowScroll ? 'auto' : 'hidden',
          overflowY: 'hidden',
          position: 'absolute',
          top: 0
        }, styleTopRightGrid);
      }

      this._lastRenderedColumnWidth = columnWidth;
      this._lastRenderedFixedColumnCount = fixedColumnCount;
      this._lastRenderedFixedRowCount = fixedRowCount;
      this._lastRenderedHeight = height;
      this._lastRenderedRowHeight = rowHeight;
      this._lastRenderedStyle = style;
      this._lastRenderedStyleBottomLeftGrid = styleBottomLeftGrid;
      this._lastRenderedStyleBottomRightGrid = styleBottomRightGrid;
      this._lastRenderedStyleTopLeftGrid = styleTopLeftGrid;
      this._lastRenderedStyleTopRightGrid = styleTopRightGrid;
      this._lastRenderedWidth = width;
    }
  }, {
    key: "_prepareForRender",
    value: function _prepareForRender() {
      if (this._lastRenderedColumnWidth !== this.props.columnWidth || this._lastRenderedFixedColumnCount !== this.props.fixedColumnCount) {
        this._leftGridWidth = null;
      }

      if (this._lastRenderedFixedRowCount !== this.props.fixedRowCount || this._lastRenderedRowHeight !== this.props.rowHeight) {
        this._topGridHeight = null;
      }

      this._maybeCalculateCachedStyles();

      this._lastRenderedColumnWidth = this.props.columnWidth;
      this._lastRenderedFixedColumnCount = this.props.fixedColumnCount;
      this._lastRenderedFixedRowCount = this.props.fixedRowCount;
      this._lastRenderedRowHeight = this.props.rowHeight;
    }
  }, {
    key: "_renderBottomLeftGrid",
    value: function _renderBottomLeftGrid(props) {
      var enableFixedColumnScroll = props.enableFixedColumnScroll,
          fixedColumnCount = props.fixedColumnCount,
          fixedRowCount = props.fixedRowCount,
          rowCount = props.rowCount,
          hideBottomLeftGridScrollbar = props.hideBottomLeftGridScrollbar;
      var showVerticalScrollbar = this.state.showVerticalScrollbar;

      if (!fixedColumnCount) {
        return null;
      }

      var additionalRowCount = showVerticalScrollbar ? 1 : 0,
          height = this._getBottomGridHeight(props),
          width = this._getLeftGridWidth(props),
          scrollbarSize = this.state.showVerticalScrollbar ? this.state.scrollbarSize : 0,
          gridWidth = hideBottomLeftGridScrollbar ? width + scrollbarSize : width;

      var bottomLeftGrid = react__WEBPACK_IMPORTED_MODULE_10__["createElement"](_Grid__WEBPACK_IMPORTED_MODULE_13__["default"], _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({}, props, {
        cellRenderer: this._cellRendererBottomLeftGrid,
        className: this.props.classNameBottomLeftGrid,
        columnCount: fixedColumnCount,
        deferredMeasurementCache: this._deferredMeasurementCacheBottomLeftGrid,
        height: height,
        onScroll: enableFixedColumnScroll ? this._onScrollTop : undefined,
        ref: this._bottomLeftGridRef,
        rowCount: Math.max(0, rowCount - fixedRowCount) + additionalRowCount,
        rowHeight: this._rowHeightBottomGrid,
        style: this._bottomLeftGridStyle,
        tabIndex: null,
        width: gridWidth
      }));

      if (hideBottomLeftGridScrollbar) {
        return react__WEBPACK_IMPORTED_MODULE_10__["createElement"]("div", {
          className: "BottomLeftGrid_ScrollWrapper",
          style: _objectSpread({}, this._bottomLeftGridStyle, {
            height: height,
            width: width,
            overflowY: 'hidden'
          })
        }, bottomLeftGrid);
      }

      return bottomLeftGrid;
    }
  }, {
    key: "_renderBottomRightGrid",
    value: function _renderBottomRightGrid(props) {
      var columnCount = props.columnCount,
          fixedColumnCount = props.fixedColumnCount,
          fixedRowCount = props.fixedRowCount,
          rowCount = props.rowCount,
          scrollToColumn = props.scrollToColumn,
          scrollToRow = props.scrollToRow;
      return react__WEBPACK_IMPORTED_MODULE_10__["createElement"](_Grid__WEBPACK_IMPORTED_MODULE_13__["default"], _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({}, props, {
        cellRenderer: this._cellRendererBottomRightGrid,
        className: this.props.classNameBottomRightGrid,
        columnCount: Math.max(0, columnCount - fixedColumnCount),
        columnWidth: this._columnWidthRightGrid,
        deferredMeasurementCache: this._deferredMeasurementCacheBottomRightGrid,
        height: this._getBottomGridHeight(props),
        onScroll: this._onScroll,
        onScrollbarPresenceChange: this._onScrollbarPresenceChange,
        ref: this._bottomRightGridRef,
        rowCount: Math.max(0, rowCount - fixedRowCount),
        rowHeight: this._rowHeightBottomGrid,
        scrollToColumn: scrollToColumn - fixedColumnCount,
        scrollToRow: scrollToRow - fixedRowCount,
        style: this._bottomRightGridStyle,
        width: this._getRightGridWidth(props)
      }));
    }
  }, {
    key: "_renderTopLeftGrid",
    value: function _renderTopLeftGrid(props) {
      var fixedColumnCount = props.fixedColumnCount,
          fixedRowCount = props.fixedRowCount;

      if (!fixedColumnCount || !fixedRowCount) {
        return null;
      }

      return react__WEBPACK_IMPORTED_MODULE_10__["createElement"](_Grid__WEBPACK_IMPORTED_MODULE_13__["default"], _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({}, props, {
        className: this.props.classNameTopLeftGrid,
        columnCount: fixedColumnCount,
        height: this._getTopGridHeight(props),
        ref: this._topLeftGridRef,
        rowCount: fixedRowCount,
        style: this._topLeftGridStyle,
        tabIndex: null,
        width: this._getLeftGridWidth(props)
      }));
    }
  }, {
    key: "_renderTopRightGrid",
    value: function _renderTopRightGrid(props) {
      var columnCount = props.columnCount,
          enableFixedRowScroll = props.enableFixedRowScroll,
          fixedColumnCount = props.fixedColumnCount,
          fixedRowCount = props.fixedRowCount,
          scrollLeft = props.scrollLeft,
          hideTopRightGridScrollbar = props.hideTopRightGridScrollbar;
      var _this$state5 = this.state,
          showHorizontalScrollbar = _this$state5.showHorizontalScrollbar,
          scrollbarSize = _this$state5.scrollbarSize;

      if (!fixedRowCount) {
        return null;
      }

      var additionalColumnCount = showHorizontalScrollbar ? 1 : 0,
          height = this._getTopGridHeight(props),
          width = this._getRightGridWidth(props),
          additionalHeight = showHorizontalScrollbar ? scrollbarSize : 0;

      var gridHeight = height,
          style = this._topRightGridStyle;

      if (hideTopRightGridScrollbar) {
        gridHeight = height + additionalHeight;
        style = _objectSpread({}, this._topRightGridStyle, {
          left: 0
        });
      }

      var topRightGrid = react__WEBPACK_IMPORTED_MODULE_10__["createElement"](_Grid__WEBPACK_IMPORTED_MODULE_13__["default"], _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({}, props, {
        cellRenderer: this._cellRendererTopRightGrid,
        className: this.props.classNameTopRightGrid,
        columnCount: Math.max(0, columnCount - fixedColumnCount) + additionalColumnCount,
        columnWidth: this._columnWidthRightGrid,
        deferredMeasurementCache: this._deferredMeasurementCacheTopRightGrid,
        height: gridHeight,
        onScroll: enableFixedRowScroll ? this._onScrollLeft : undefined,
        ref: this._topRightGridRef,
        rowCount: fixedRowCount,
        scrollLeft: scrollLeft,
        style: style,
        tabIndex: null,
        width: width
      }));

      if (hideTopRightGridScrollbar) {
        return react__WEBPACK_IMPORTED_MODULE_10__["createElement"]("div", {
          className: "TopRightGrid_ScrollWrapper",
          style: _objectSpread({}, this._topRightGridStyle, {
            height: height,
            width: width,
            overflowX: 'hidden'
          })
        }, topRightGrid);
      }

      return topRightGrid;
    }
  }], [{
    key: "getDerivedStateFromProps",
    value: function getDerivedStateFromProps(nextProps, prevState) {
      if (nextProps.scrollLeft !== prevState.scrollLeft || nextProps.scrollTop !== prevState.scrollTop) {
        return {
          scrollLeft: nextProps.scrollLeft != null && nextProps.scrollLeft >= 0 ? nextProps.scrollLeft : prevState.scrollLeft,
          scrollTop: nextProps.scrollTop != null && nextProps.scrollTop >= 0 ? nextProps.scrollTop : prevState.scrollTop
        };
      }

      return null;
    }
  }]);

  return MultiGrid;
}(react__WEBPACK_IMPORTED_MODULE_10__["PureComponent"]);

_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(MultiGrid, "defaultProps", {
  classNameBottomLeftGrid: '',
  classNameBottomRightGrid: '',
  classNameTopLeftGrid: '',
  classNameTopRightGrid: '',
  enableFixedColumnScroll: false,
  enableFixedRowScroll: false,
  fixedColumnCount: 0,
  fixedRowCount: 0,
  scrollToColumn: -1,
  scrollToRow: -1,
  style: {},
  styleBottomLeftGrid: {},
  styleBottomRightGrid: {},
  styleTopLeftGrid: {},
  styleTopRightGrid: {},
  hideTopRightGridScrollbar: false,
  hideBottomLeftGridScrollbar: false
});

MultiGrid.propTypes =  true ? {
  classNameBottomLeftGrid: prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.string.isRequired,
  classNameBottomRightGrid: prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.string.isRequired,
  classNameTopLeftGrid: prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.string.isRequired,
  classNameTopRightGrid: prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.string.isRequired,
  enableFixedColumnScroll: prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.bool.isRequired,
  enableFixedRowScroll: prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.bool.isRequired,
  fixedColumnCount: prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.number.isRequired,
  fixedRowCount: prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.number.isRequired,
  onScrollbarPresenceChange: prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.func,
  style: prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.object.isRequired,
  styleBottomLeftGrid: prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.object.isRequired,
  styleBottomRightGrid: prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.object.isRequired,
  styleTopLeftGrid: prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.object.isRequired,
  styleTopRightGrid: prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.object.isRequired,
  hideTopRightGridScrollbar: prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.bool,
  hideBottomLeftGridScrollbar: prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.bool
} : undefined;
Object(react_lifecycles_compat__WEBPACK_IMPORTED_MODULE_11__["polyfill"])(MultiGrid);
/* harmony default export */ __webpack_exports__["default"] = (MultiGrid);

/***/ }),

/***/ "./node_modules/react-virtualized/dist/es/MultiGrid/index.js":
/*!*******************************************************************!*\
  !*** ./node_modules/react-virtualized/dist/es/MultiGrid/index.js ***!
  \*******************************************************************/
/*! exports provided: default, MultiGrid */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _MultiGrid__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./MultiGrid */ "./node_modules/react-virtualized/dist/es/MultiGrid/MultiGrid.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "MultiGrid", function() { return _MultiGrid__WEBPACK_IMPORTED_MODULE_0__["default"]; });


/* harmony default export */ __webpack_exports__["default"] = (_MultiGrid__WEBPACK_IMPORTED_MODULE_0__["default"]);


/***/ }),

/***/ "./node_modules/react-virtualized/dist/es/ScrollSync/ScrollSync.js":
/*!*************************************************************************!*\
  !*** ./node_modules/react-virtualized/dist/es/ScrollSync/ScrollSync.js ***!
  \*************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return ScrollSync; });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/createClass.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/inherits.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);








/**
 * HOC that simplifies the process of synchronizing scrolling between two or more virtualized components.
 */

var ScrollSync =
/*#__PURE__*/
function (_React$PureComponent) {
  _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5___default()(ScrollSync, _React$PureComponent);

  function ScrollSync(props, context) {
    var _this;

    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this, ScrollSync);

    _this = _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2___default()(this, _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3___default()(ScrollSync).call(this, props, context));
    _this.state = {
      clientHeight: 0,
      clientWidth: 0,
      scrollHeight: 0,
      scrollLeft: 0,
      scrollTop: 0,
      scrollWidth: 0
    };
    _this._onScroll = _this._onScroll.bind(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4___default()(_this));
    return _this;
  }

  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(ScrollSync, [{
    key: "render",
    value: function render() {
      var children = this.props.children;
      var _this$state = this.state,
          clientHeight = _this$state.clientHeight,
          clientWidth = _this$state.clientWidth,
          scrollHeight = _this$state.scrollHeight,
          scrollLeft = _this$state.scrollLeft,
          scrollTop = _this$state.scrollTop,
          scrollWidth = _this$state.scrollWidth;
      return children({
        clientHeight: clientHeight,
        clientWidth: clientWidth,
        onScroll: this._onScroll,
        scrollHeight: scrollHeight,
        scrollLeft: scrollLeft,
        scrollTop: scrollTop,
        scrollWidth: scrollWidth
      });
    }
  }, {
    key: "_onScroll",
    value: function _onScroll(_ref) {
      var clientHeight = _ref.clientHeight,
          clientWidth = _ref.clientWidth,
          scrollHeight = _ref.scrollHeight,
          scrollLeft = _ref.scrollLeft,
          scrollTop = _ref.scrollTop,
          scrollWidth = _ref.scrollWidth;
      this.setState({
        clientHeight: clientHeight,
        clientWidth: clientWidth,
        scrollHeight: scrollHeight,
        scrollLeft: scrollLeft,
        scrollTop: scrollTop,
        scrollWidth: scrollWidth
      });
    }
  }]);

  return ScrollSync;
}(react__WEBPACK_IMPORTED_MODULE_7__["PureComponent"]);


ScrollSync.propTypes =  true ? {
  /**
   * Function responsible for rendering 2 or more virtualized components.
   * This function should implement the following signature:
   * ({ onScroll, scrollLeft, scrollTop }) => PropTypes.element
   */
  children: prop_types__WEBPACK_IMPORTED_MODULE_6___default.a.func.isRequired
} : undefined;

/***/ }),

/***/ "./node_modules/react-virtualized/dist/es/ScrollSync/index.js":
/*!********************************************************************!*\
  !*** ./node_modules/react-virtualized/dist/es/ScrollSync/index.js ***!
  \********************************************************************/
/*! exports provided: default, ScrollSync */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _ScrollSync__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ScrollSync */ "./node_modules/react-virtualized/dist/es/ScrollSync/ScrollSync.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ScrollSync", function() { return _ScrollSync__WEBPACK_IMPORTED_MODULE_0__["default"]; });


/* harmony default export */ __webpack_exports__["default"] = (_ScrollSync__WEBPACK_IMPORTED_MODULE_0__["default"]);


/***/ }),

/***/ "./node_modules/react-virtualized/dist/es/Table/Column.js":
/*!****************************************************************!*\
  !*** ./node_modules/react-virtualized/dist/es/Table/Column.js ***!
  \****************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Column; });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/inherits.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/defineProperty.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _defaultHeaderRenderer__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./defaultHeaderRenderer */ "./node_modules/react-virtualized/dist/es/Table/defaultHeaderRenderer.js");
/* harmony import */ var _defaultCellRenderer__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./defaultCellRenderer */ "./node_modules/react-virtualized/dist/es/Table/defaultCellRenderer.js");
/* harmony import */ var _defaultCellDataGetter__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./defaultCellDataGetter */ "./node_modules/react-virtualized/dist/es/Table/defaultCellDataGetter.js");
/* harmony import */ var _SortDirection__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./SortDirection */ "./node_modules/react-virtualized/dist/es/Table/SortDirection.js");











/**
 * Describes the header and cell contents of a table column.
 */

var Column =
/*#__PURE__*/
function (_React$Component) {
  _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3___default()(Column, _React$Component);

  function Column() {
    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this, Column);

    return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_1___default()(this, _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_2___default()(Column).apply(this, arguments));
  }

  return Column;
}(react__WEBPACK_IMPORTED_MODULE_6__["Component"]);

_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_4___default()(Column, "defaultProps", {
  cellDataGetter: _defaultCellDataGetter__WEBPACK_IMPORTED_MODULE_9__["default"],
  cellRenderer: _defaultCellRenderer__WEBPACK_IMPORTED_MODULE_8__["default"],
  defaultSortDirection: _SortDirection__WEBPACK_IMPORTED_MODULE_10__["default"].ASC,
  flexGrow: 0,
  flexShrink: 1,
  headerRenderer: _defaultHeaderRenderer__WEBPACK_IMPORTED_MODULE_7__["default"],
  style: {}
});


Column.propTypes =  true ? {
  /** Optional aria-label value to set on the column header */
  'aria-label': prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.string,

  /**
   * Callback responsible for returning a cell's data, given its :dataKey
   * ({ columnData: any, dataKey: string, rowData: any }): any
   */
  cellDataGetter: prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.func,

  /**
   * Callback responsible for rendering a cell's contents.
   * ({ cellData: any, columnData: any, dataKey: string, rowData: any, rowIndex: number }): node
   */
  cellRenderer: prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.func,

  /** Optional CSS class to apply to cell */
  className: prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.string,

  /** Optional additional data passed to this column's :cellDataGetter */
  columnData: prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.object,

  /** Uniquely identifies the row-data attribute corresponding to this cell */
  dataKey: prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.any.isRequired,

  /** Optional direction to be used when clicked the first time */
  defaultSortDirection: prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.oneOf([_SortDirection__WEBPACK_IMPORTED_MODULE_10__["default"].ASC, _SortDirection__WEBPACK_IMPORTED_MODULE_10__["default"].DESC]),

  /** If sort is enabled for the table at large, disable it for this column */
  disableSort: prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.bool,

  /** Flex grow style; defaults to 0 */
  flexGrow: prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.number,

  /** Flex shrink style; defaults to 1 */
  flexShrink: prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.number,

  /** Optional CSS class to apply to this column's header */
  headerClassName: prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.string,

  /**
   * Optional callback responsible for rendering a column header contents.
   * ({ columnData: object, dataKey: string, disableSort: boolean, label: node, sortBy: string, sortDirection: string }): PropTypes.node
   */
  headerRenderer: prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.func.isRequired,

  /** Optional inline style to apply to this column's header */
  headerStyle: prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.object,

  /** Optional id to set on the column header */
  id: prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.string,

  /** Header label for this column */
  label: prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.node,

  /** Maximum width of column; this property will only be used if :flexGrow is > 0. */
  maxWidth: prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.number,

  /** Minimum width of column. */
  minWidth: prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.number,

  /** Optional inline style to apply to cell */
  style: prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.object,

  /** Flex basis (width) for this column; This value can grow or shrink based on :flexGrow and :flexShrink properties. */
  width: prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.number.isRequired
} : undefined;

/***/ }),

/***/ "./node_modules/react-virtualized/dist/es/Table/SortDirection.js":
/*!***********************************************************************!*\
  !*** ./node_modules/react-virtualized/dist/es/Table/SortDirection.js ***!
  \***********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
var SortDirection = {
  /**
   * Sort items in ascending order.
   * This means arranging from the lowest value to the highest (e.g. a-z, 0-9).
   */
  ASC: 'ASC',

  /**
   * Sort items in descending order.
   * This means arranging from the highest value to the lowest (e.g. z-a, 9-0).
   */
  DESC: 'DESC'
};
/* harmony default export */ __webpack_exports__["default"] = (SortDirection);

/***/ }),

/***/ "./node_modules/react-virtualized/dist/es/Table/SortIndicator.js":
/*!***********************************************************************!*\
  !*** ./node_modules/react-virtualized/dist/es/Table/SortIndicator.js ***!
  \***********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return SortIndicator; });
/* harmony import */ var clsx__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! clsx */ "./node_modules/clsx/dist/clsx.m.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _SortDirection__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./SortDirection */ "./node_modules/react-virtualized/dist/es/Table/SortDirection.js");




/**
 * Displayed beside a header to indicate that a Table is currently sorted by this column.
 */

function SortIndicator(_ref) {
  var sortDirection = _ref.sortDirection;
  var classNames = Object(clsx__WEBPACK_IMPORTED_MODULE_0__["default"])('ReactVirtualized__Table__sortableHeaderIcon', {
    'ReactVirtualized__Table__sortableHeaderIcon--ASC': sortDirection === _SortDirection__WEBPACK_IMPORTED_MODULE_3__["default"].ASC,
    'ReactVirtualized__Table__sortableHeaderIcon--DESC': sortDirection === _SortDirection__WEBPACK_IMPORTED_MODULE_3__["default"].DESC
  });
  return react__WEBPACK_IMPORTED_MODULE_2__["createElement"]("svg", {
    className: classNames,
    width: 18,
    height: 18,
    viewBox: "0 0 24 24"
  }, sortDirection === _SortDirection__WEBPACK_IMPORTED_MODULE_3__["default"].ASC ? react__WEBPACK_IMPORTED_MODULE_2__["createElement"]("path", {
    d: "M7 14l5-5 5 5z"
  }) : react__WEBPACK_IMPORTED_MODULE_2__["createElement"]("path", {
    d: "M7 10l5 5 5-5z"
  }), react__WEBPACK_IMPORTED_MODULE_2__["createElement"]("path", {
    d: "M0 0h24v24H0z",
    fill: "none"
  }));
}
SortIndicator.propTypes =  true ? {
  sortDirection: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.oneOf([_SortDirection__WEBPACK_IMPORTED_MODULE_3__["default"].ASC, _SortDirection__WEBPACK_IMPORTED_MODULE_3__["default"].DESC])
} : undefined;

/***/ }),

/***/ "./node_modules/react-virtualized/dist/es/Table/Table.js":
/*!***************************************************************!*\
  !*** ./node_modules/react-virtualized/dist/es/Table/Table.js ***!
  \***************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Table; });
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/extends */ "./node_modules/@babel/runtime/helpers/extends.js");
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/createClass.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/inherits.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/defineProperty.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var clsx__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! clsx */ "./node_modules/clsx/dist/clsx.m.js");
/* harmony import */ var _Column__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./Column */ "./node_modules/react-virtualized/dist/es/Table/Column.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_10__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_11__);
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! react-dom */ "./node_modules/react-dom/index.js");
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_12__);
/* harmony import */ var _Grid__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../Grid */ "./node_modules/react-virtualized/dist/es/Grid/index.js");
/* harmony import */ var _defaultRowRenderer__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./defaultRowRenderer */ "./node_modules/react-virtualized/dist/es/Table/defaultRowRenderer.js");
/* harmony import */ var _defaultHeaderRowRenderer__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./defaultHeaderRowRenderer */ "./node_modules/react-virtualized/dist/es/Table/defaultHeaderRowRenderer.js");
/* harmony import */ var _SortDirection__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./SortDirection */ "./node_modules/react-virtualized/dist/es/Table/SortDirection.js");









function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default()(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }










/**
 * Table component with fixed headers and virtualized rows for improved performance with large data sets.
 * This component expects explicit width, height, and padding parameters.
 */

var Table =
/*#__PURE__*/
function (_React$PureComponent) {
  _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_6___default()(Table, _React$PureComponent);

  function Table(props) {
    var _this;

    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default()(this, Table);

    _this = _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3___default()(this, _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default()(Table).call(this, props));
    _this.state = {
      scrollbarWidth: 0
    };
    _this._createColumn = _this._createColumn.bind(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default()(_this));
    _this._createRow = _this._createRow.bind(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default()(_this));
    _this._onScroll = _this._onScroll.bind(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default()(_this));
    _this._onSectionRendered = _this._onSectionRendered.bind(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default()(_this));
    _this._setRef = _this._setRef.bind(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default()(_this));
    return _this;
  }

  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default()(Table, [{
    key: "forceUpdateGrid",
    value: function forceUpdateGrid() {
      if (this.Grid) {
        this.Grid.forceUpdate();
      }
    }
    /** See Grid#getOffsetForCell */

  }, {
    key: "getOffsetForRow",
    value: function getOffsetForRow(_ref) {
      var alignment = _ref.alignment,
          index = _ref.index;

      if (this.Grid) {
        var _this$Grid$getOffsetF = this.Grid.getOffsetForCell({
          alignment: alignment,
          rowIndex: index
        }),
            scrollTop = _this$Grid$getOffsetF.scrollTop;

        return scrollTop;
      }

      return 0;
    }
    /** CellMeasurer compatibility */

  }, {
    key: "invalidateCellSizeAfterRender",
    value: function invalidateCellSizeAfterRender(_ref2) {
      var columnIndex = _ref2.columnIndex,
          rowIndex = _ref2.rowIndex;

      if (this.Grid) {
        this.Grid.invalidateCellSizeAfterRender({
          rowIndex: rowIndex,
          columnIndex: columnIndex
        });
      }
    }
    /** See Grid#measureAllCells */

  }, {
    key: "measureAllRows",
    value: function measureAllRows() {
      if (this.Grid) {
        this.Grid.measureAllCells();
      }
    }
    /** CellMeasurer compatibility */

  }, {
    key: "recomputeGridSize",
    value: function recomputeGridSize() {
      var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},
          _ref3$columnIndex = _ref3.columnIndex,
          columnIndex = _ref3$columnIndex === void 0 ? 0 : _ref3$columnIndex,
          _ref3$rowIndex = _ref3.rowIndex,
          rowIndex = _ref3$rowIndex === void 0 ? 0 : _ref3$rowIndex;

      if (this.Grid) {
        this.Grid.recomputeGridSize({
          rowIndex: rowIndex,
          columnIndex: columnIndex
        });
      }
    }
    /** See Grid#recomputeGridSize */

  }, {
    key: "recomputeRowHeights",
    value: function recomputeRowHeights() {
      var index = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;

      if (this.Grid) {
        this.Grid.recomputeGridSize({
          rowIndex: index
        });
      }
    }
    /** See Grid#scrollToPosition */

  }, {
    key: "scrollToPosition",
    value: function scrollToPosition() {
      var scrollTop = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;

      if (this.Grid) {
        this.Grid.scrollToPosition({
          scrollTop: scrollTop
        });
      }
    }
    /** See Grid#scrollToCell */

  }, {
    key: "scrollToRow",
    value: function scrollToRow() {
      var index = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;

      if (this.Grid) {
        this.Grid.scrollToCell({
          columnIndex: 0,
          rowIndex: index
        });
      }
    }
  }, {
    key: "getScrollbarWidth",
    value: function getScrollbarWidth() {
      if (this.Grid) {
        var _Grid = Object(react_dom__WEBPACK_IMPORTED_MODULE_12__["findDOMNode"])(this.Grid);

        var clientWidth = _Grid.clientWidth || 0;
        var offsetWidth = _Grid.offsetWidth || 0;
        return offsetWidth - clientWidth;
      }

      return 0;
    }
  }, {
    key: "componentDidMount",
    value: function componentDidMount() {
      this._setScrollbarWidth();
    }
  }, {
    key: "componentDidUpdate",
    value: function componentDidUpdate() {
      this._setScrollbarWidth();
    }
  }, {
    key: "render",
    value: function render() {
      var _this2 = this;

      var _this$props = this.props,
          children = _this$props.children,
          className = _this$props.className,
          disableHeader = _this$props.disableHeader,
          gridClassName = _this$props.gridClassName,
          gridStyle = _this$props.gridStyle,
          headerHeight = _this$props.headerHeight,
          headerRowRenderer = _this$props.headerRowRenderer,
          height = _this$props.height,
          id = _this$props.id,
          noRowsRenderer = _this$props.noRowsRenderer,
          rowClassName = _this$props.rowClassName,
          rowStyle = _this$props.rowStyle,
          scrollToIndex = _this$props.scrollToIndex,
          style = _this$props.style,
          width = _this$props.width;
      var scrollbarWidth = this.state.scrollbarWidth;
      var availableRowsHeight = disableHeader ? height : height - headerHeight;
      var rowClass = typeof rowClassName === 'function' ? rowClassName({
        index: -1
      }) : rowClassName;
      var rowStyleObject = typeof rowStyle === 'function' ? rowStyle({
        index: -1
      }) : rowStyle; // Precompute and cache column styles before rendering rows and columns to speed things up

      this._cachedColumnStyles = [];
      react__WEBPACK_IMPORTED_MODULE_11__["Children"].toArray(children).forEach(function (column, index) {
        var flexStyles = _this2._getFlexStyleForColumn(column, column.props.style);

        _this2._cachedColumnStyles[index] = _objectSpread({
          overflow: 'hidden'
        }, flexStyles);
      }); // Note that we specify :rowCount, :scrollbarWidth, :sortBy, and :sortDirection as properties on Grid even though these have nothing to do with Grid.
      // This is done because Grid is a pure component and won't update unless its properties or state has changed.
      // Any property that should trigger a re-render of Grid then is specified here to avoid a stale display.

      return react__WEBPACK_IMPORTED_MODULE_11__["createElement"]("div", {
        "aria-label": this.props['aria-label'],
        "aria-labelledby": this.props['aria-labelledby'],
        "aria-colcount": react__WEBPACK_IMPORTED_MODULE_11__["Children"].toArray(children).length,
        "aria-rowcount": this.props.rowCount,
        className: Object(clsx__WEBPACK_IMPORTED_MODULE_8__["default"])('ReactVirtualized__Table', className),
        id: id,
        role: "grid",
        style: style
      }, !disableHeader && headerRowRenderer({
        className: Object(clsx__WEBPACK_IMPORTED_MODULE_8__["default"])('ReactVirtualized__Table__headerRow', rowClass),
        columns: this._getHeaderColumns(),
        style: _objectSpread({
          height: headerHeight,
          overflow: 'hidden',
          paddingRight: scrollbarWidth,
          width: width
        }, rowStyleObject)
      }), react__WEBPACK_IMPORTED_MODULE_11__["createElement"](_Grid__WEBPACK_IMPORTED_MODULE_13__["default"], _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({}, this.props, {
        "aria-readonly": null,
        autoContainerWidth: true,
        className: Object(clsx__WEBPACK_IMPORTED_MODULE_8__["default"])('ReactVirtualized__Table__Grid', gridClassName),
        cellRenderer: this._createRow,
        columnWidth: width,
        columnCount: 1,
        height: availableRowsHeight,
        id: undefined,
        noContentRenderer: noRowsRenderer,
        onScroll: this._onScroll,
        onSectionRendered: this._onSectionRendered,
        ref: this._setRef,
        role: "rowgroup",
        scrollbarWidth: scrollbarWidth,
        scrollToRow: scrollToIndex,
        style: _objectSpread({}, gridStyle, {
          overflowX: 'hidden'
        })
      })));
    }
  }, {
    key: "_createColumn",
    value: function _createColumn(_ref4) {
      var column = _ref4.column,
          columnIndex = _ref4.columnIndex,
          isScrolling = _ref4.isScrolling,
          parent = _ref4.parent,
          rowData = _ref4.rowData,
          rowIndex = _ref4.rowIndex;
      var onColumnClick = this.props.onColumnClick;
      var _column$props = column.props,
          cellDataGetter = _column$props.cellDataGetter,
          cellRenderer = _column$props.cellRenderer,
          className = _column$props.className,
          columnData = _column$props.columnData,
          dataKey = _column$props.dataKey,
          id = _column$props.id;
      var cellData = cellDataGetter({
        columnData: columnData,
        dataKey: dataKey,
        rowData: rowData
      });
      var renderedCell = cellRenderer({
        cellData: cellData,
        columnData: columnData,
        columnIndex: columnIndex,
        dataKey: dataKey,
        isScrolling: isScrolling,
        parent: parent,
        rowData: rowData,
        rowIndex: rowIndex
      });

      var onClick = function onClick(event) {
        onColumnClick && onColumnClick({
          columnData: columnData,
          dataKey: dataKey,
          event: event
        });
      };

      var style = this._cachedColumnStyles[columnIndex];
      var title = typeof renderedCell === 'string' ? renderedCell : null; // Avoid using object-spread syntax with multiple objects here,
      // Since it results in an extra method call to 'babel-runtime/helpers/extends'
      // See PR https://github.com/bvaughn/react-virtualized/pull/942

      return react__WEBPACK_IMPORTED_MODULE_11__["createElement"]("div", {
        "aria-colindex": columnIndex + 1,
        "aria-describedby": id,
        className: Object(clsx__WEBPACK_IMPORTED_MODULE_8__["default"])('ReactVirtualized__Table__rowColumn', className),
        key: 'Row' + rowIndex + '-' + 'Col' + columnIndex,
        onClick: onClick,
        role: "gridcell",
        style: style,
        title: title
      }, renderedCell);
    }
  }, {
    key: "_createHeader",
    value: function _createHeader(_ref5) {
      var column = _ref5.column,
          index = _ref5.index;
      var _this$props2 = this.props,
          headerClassName = _this$props2.headerClassName,
          headerStyle = _this$props2.headerStyle,
          onHeaderClick = _this$props2.onHeaderClick,
          sort = _this$props2.sort,
          sortBy = _this$props2.sortBy,
          sortDirection = _this$props2.sortDirection;
      var _column$props2 = column.props,
          columnData = _column$props2.columnData,
          dataKey = _column$props2.dataKey,
          defaultSortDirection = _column$props2.defaultSortDirection,
          disableSort = _column$props2.disableSort,
          headerRenderer = _column$props2.headerRenderer,
          id = _column$props2.id,
          label = _column$props2.label;
      var sortEnabled = !disableSort && sort;
      var classNames = Object(clsx__WEBPACK_IMPORTED_MODULE_8__["default"])('ReactVirtualized__Table__headerColumn', headerClassName, column.props.headerClassName, {
        ReactVirtualized__Table__sortableHeaderColumn: sortEnabled
      });

      var style = this._getFlexStyleForColumn(column, _objectSpread({}, headerStyle, {}, column.props.headerStyle));

      var renderedHeader = headerRenderer({
        columnData: columnData,
        dataKey: dataKey,
        disableSort: disableSort,
        label: label,
        sortBy: sortBy,
        sortDirection: sortDirection
      });
      var headerOnClick, headerOnKeyDown, headerTabIndex, headerAriaSort, headerAriaLabel;

      if (sortEnabled || onHeaderClick) {
        // If this is a sortable header, clicking it should update the table data's sorting.
        var isFirstTimeSort = sortBy !== dataKey; // If this is the firstTime sort of this column, use the column default sort order.
        // Otherwise, invert the direction of the sort.

        var newSortDirection = isFirstTimeSort ? defaultSortDirection : sortDirection === _SortDirection__WEBPACK_IMPORTED_MODULE_16__["default"].DESC ? _SortDirection__WEBPACK_IMPORTED_MODULE_16__["default"].ASC : _SortDirection__WEBPACK_IMPORTED_MODULE_16__["default"].DESC;

        var onClick = function onClick(event) {
          sortEnabled && sort({
            defaultSortDirection: defaultSortDirection,
            event: event,
            sortBy: dataKey,
            sortDirection: newSortDirection
          });
          onHeaderClick && onHeaderClick({
            columnData: columnData,
            dataKey: dataKey,
            event: event
          });
        };

        var onKeyDown = function onKeyDown(event) {
          if (event.key === 'Enter' || event.key === ' ') {
            onClick(event);
          }
        };

        headerAriaLabel = column.props['aria-label'] || label || dataKey;
        headerAriaSort = 'none';
        headerTabIndex = 0;
        headerOnClick = onClick;
        headerOnKeyDown = onKeyDown;
      }

      if (sortBy === dataKey) {
        headerAriaSort = sortDirection === _SortDirection__WEBPACK_IMPORTED_MODULE_16__["default"].ASC ? 'ascending' : 'descending';
      } // Avoid using object-spread syntax with multiple objects here,
      // Since it results in an extra method call to 'babel-runtime/helpers/extends'
      // See PR https://github.com/bvaughn/react-virtualized/pull/942


      return react__WEBPACK_IMPORTED_MODULE_11__["createElement"]("div", {
        "aria-label": headerAriaLabel,
        "aria-sort": headerAriaSort,
        className: classNames,
        id: id,
        key: 'Header-Col' + index,
        onClick: headerOnClick,
        onKeyDown: headerOnKeyDown,
        role: "columnheader",
        style: style,
        tabIndex: headerTabIndex
      }, renderedHeader);
    }
  }, {
    key: "_createRow",
    value: function _createRow(_ref6) {
      var _this3 = this;

      var index = _ref6.rowIndex,
          isScrolling = _ref6.isScrolling,
          key = _ref6.key,
          parent = _ref6.parent,
          style = _ref6.style;
      var _this$props3 = this.props,
          children = _this$props3.children,
          onRowClick = _this$props3.onRowClick,
          onRowDoubleClick = _this$props3.onRowDoubleClick,
          onRowRightClick = _this$props3.onRowRightClick,
          onRowMouseOver = _this$props3.onRowMouseOver,
          onRowMouseOut = _this$props3.onRowMouseOut,
          rowClassName = _this$props3.rowClassName,
          rowGetter = _this$props3.rowGetter,
          rowRenderer = _this$props3.rowRenderer,
          rowStyle = _this$props3.rowStyle;
      var scrollbarWidth = this.state.scrollbarWidth;
      var rowClass = typeof rowClassName === 'function' ? rowClassName({
        index: index
      }) : rowClassName;
      var rowStyleObject = typeof rowStyle === 'function' ? rowStyle({
        index: index
      }) : rowStyle;
      var rowData = rowGetter({
        index: index
      });
      var columns = react__WEBPACK_IMPORTED_MODULE_11__["Children"].toArray(children).map(function (column, columnIndex) {
        return _this3._createColumn({
          column: column,
          columnIndex: columnIndex,
          isScrolling: isScrolling,
          parent: parent,
          rowData: rowData,
          rowIndex: index,
          scrollbarWidth: scrollbarWidth
        });
      });
      var className = Object(clsx__WEBPACK_IMPORTED_MODULE_8__["default"])('ReactVirtualized__Table__row', rowClass);

      var flattenedStyle = _objectSpread({}, style, {
        height: this._getRowHeight(index),
        overflow: 'hidden',
        paddingRight: scrollbarWidth
      }, rowStyleObject);

      return rowRenderer({
        className: className,
        columns: columns,
        index: index,
        isScrolling: isScrolling,
        key: key,
        onRowClick: onRowClick,
        onRowDoubleClick: onRowDoubleClick,
        onRowRightClick: onRowRightClick,
        onRowMouseOver: onRowMouseOver,
        onRowMouseOut: onRowMouseOut,
        rowData: rowData,
        style: flattenedStyle
      });
    }
    /**
     * Determines the flex-shrink, flex-grow, and width values for a cell (header or column).
     */

  }, {
    key: "_getFlexStyleForColumn",
    value: function _getFlexStyleForColumn(column) {
      var customStyle = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
      var flexValue = "".concat(column.props.flexGrow, " ").concat(column.props.flexShrink, " ").concat(column.props.width, "px");

      var style = _objectSpread({}, customStyle, {
        flex: flexValue,
        msFlex: flexValue,
        WebkitFlex: flexValue
      });

      if (column.props.maxWidth) {
        style.maxWidth = column.props.maxWidth;
      }

      if (column.props.minWidth) {
        style.minWidth = column.props.minWidth;
      }

      return style;
    }
  }, {
    key: "_getHeaderColumns",
    value: function _getHeaderColumns() {
      var _this4 = this;

      var _this$props4 = this.props,
          children = _this$props4.children,
          disableHeader = _this$props4.disableHeader;
      var items = disableHeader ? [] : react__WEBPACK_IMPORTED_MODULE_11__["Children"].toArray(children);
      return items.map(function (column, index) {
        return _this4._createHeader({
          column: column,
          index: index
        });
      });
    }
  }, {
    key: "_getRowHeight",
    value: function _getRowHeight(rowIndex) {
      var rowHeight = this.props.rowHeight;
      return typeof rowHeight === 'function' ? rowHeight({
        index: rowIndex
      }) : rowHeight;
    }
  }, {
    key: "_onScroll",
    value: function _onScroll(_ref7) {
      var clientHeight = _ref7.clientHeight,
          scrollHeight = _ref7.scrollHeight,
          scrollTop = _ref7.scrollTop;
      var onScroll = this.props.onScroll;
      onScroll({
        clientHeight: clientHeight,
        scrollHeight: scrollHeight,
        scrollTop: scrollTop
      });
    }
  }, {
    key: "_onSectionRendered",
    value: function _onSectionRendered(_ref8) {
      var rowOverscanStartIndex = _ref8.rowOverscanStartIndex,
          rowOverscanStopIndex = _ref8.rowOverscanStopIndex,
          rowStartIndex = _ref8.rowStartIndex,
          rowStopIndex = _ref8.rowStopIndex;
      var onRowsRendered = this.props.onRowsRendered;
      onRowsRendered({
        overscanStartIndex: rowOverscanStartIndex,
        overscanStopIndex: rowOverscanStopIndex,
        startIndex: rowStartIndex,
        stopIndex: rowStopIndex
      });
    }
  }, {
    key: "_setRef",
    value: function _setRef(ref) {
      this.Grid = ref;
    }
  }, {
    key: "_setScrollbarWidth",
    value: function _setScrollbarWidth() {
      var scrollbarWidth = this.getScrollbarWidth();
      this.setState({
        scrollbarWidth: scrollbarWidth
      });
    }
  }]);

  return Table;
}(react__WEBPACK_IMPORTED_MODULE_11__["PureComponent"]);

_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default()(Table, "defaultProps", {
  disableHeader: false,
  estimatedRowSize: 30,
  headerHeight: 0,
  headerStyle: {},
  noRowsRenderer: function noRowsRenderer() {
    return null;
  },
  onRowsRendered: function onRowsRendered() {
    return null;
  },
  onScroll: function onScroll() {
    return null;
  },
  overscanIndicesGetter: _Grid__WEBPACK_IMPORTED_MODULE_13__["accessibilityOverscanIndicesGetter"],
  overscanRowCount: 10,
  rowRenderer: _defaultRowRenderer__WEBPACK_IMPORTED_MODULE_14__["default"],
  headerRowRenderer: _defaultHeaderRowRenderer__WEBPACK_IMPORTED_MODULE_15__["default"],
  rowStyle: {},
  scrollToAlignment: 'auto',
  scrollToIndex: -1,
  style: {}
});


Table.propTypes =  true ? {
  /** This is just set on the grid top element. */
  'aria-label': prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.string,

  /** This is just set on the grid top element. */
  'aria-labelledby': prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.string,

  /**
   * Removes fixed height from the scrollingContainer so that the total height
   * of rows can stretch the window. Intended for use with WindowScroller
   */
  autoHeight: prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.bool,

  /** One or more Columns describing the data displayed in this row */
  children: function children(props) {
    var children = react__WEBPACK_IMPORTED_MODULE_11__["Children"].toArray(props.children);

    for (var i = 0; i < children.length; i++) {
      var childType = children[i].type;

      if (childType !== _Column__WEBPACK_IMPORTED_MODULE_9__["default"] && !(childType.prototype instanceof _Column__WEBPACK_IMPORTED_MODULE_9__["default"])) {
        return new Error('Table only accepts children of type Column');
      }
    }
  },

  /** Optional CSS class name */
  className: prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.string,

  /** Disable rendering the header at all */
  disableHeader: prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.bool,

  /**
   * Used to estimate the total height of a Table before all of its rows have actually been measured.
   * The estimated total height is adjusted as rows are rendered.
   */
  estimatedRowSize: prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.number.isRequired,

  /** Optional custom CSS class name to attach to inner Grid element. */
  gridClassName: prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.string,

  /** Optional inline style to attach to inner Grid element. */
  gridStyle: prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.object,

  /** Optional CSS class to apply to all column headers */
  headerClassName: prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.string,

  /** Fixed height of header row */
  headerHeight: prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.number.isRequired,

  /**
   * Responsible for rendering a table row given an array of columns:
   * Should implement the following interface: ({
   *   className: string,
   *   columns: any[],
   *   style: any
   * }): PropTypes.node
   */
  headerRowRenderer: prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.func,

  /** Optional custom inline style to attach to table header columns. */
  headerStyle: prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.object,

  /** Fixed/available height for out DOM element */
  height: prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.number.isRequired,

  /** Optional id */
  id: prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.string,

  /** Optional renderer to be used in place of table body rows when rowCount is 0 */
  noRowsRenderer: prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.func,

  /**
   * Optional callback when a column is clicked.
   * ({ columnData: any, dataKey: string }): void
   */
  onColumnClick: prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.func,

  /**
   * Optional callback when a column's header is clicked.
   * ({ columnData: any, dataKey: string }): void
   */
  onHeaderClick: prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.func,

  /**
   * Callback invoked when a user clicks on a table row.
   * ({ index: number }): void
   */
  onRowClick: prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.func,

  /**
   * Callback invoked when a user double-clicks on a table row.
   * ({ index: number }): void
   */
  onRowDoubleClick: prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.func,

  /**
   * Callback invoked when the mouse leaves a table row.
   * ({ index: number }): void
   */
  onRowMouseOut: prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.func,

  /**
   * Callback invoked when a user moves the mouse over a table row.
   * ({ index: number }): void
   */
  onRowMouseOver: prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.func,

  /**
   * Callback invoked when a user right-clicks on a table row.
   * ({ index: number }): void
   */
  onRowRightClick: prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.func,

  /**
   * Callback invoked with information about the slice of rows that were just rendered.
   * ({ startIndex, stopIndex }): void
   */
  onRowsRendered: prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.func,

  /**
   * Callback invoked whenever the scroll offset changes within the inner scrollable region.
   * This callback can be used to sync scrolling between lists, tables, or grids.
   * ({ clientHeight, scrollHeight, scrollTop }): void
   */
  onScroll: prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.func.isRequired,

  /** See Grid#overscanIndicesGetter */
  overscanIndicesGetter: prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.func.isRequired,

  /**
   * Number of rows to render above/below the visible bounds of the list.
   * These rows can help for smoother scrolling on touch devices.
   */
  overscanRowCount: prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.number.isRequired,

  /**
   * Optional CSS class to apply to all table rows (including the header row).
   * This property can be a CSS class name (string) or a function that returns a class name.
   * If a function is provided its signature should be: ({ index: number }): string
   */
  rowClassName: prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.string, prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.func]),

  /**
   * Callback responsible for returning a data row given an index.
   * ({ index: number }): any
   */
  rowGetter: prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.func.isRequired,

  /**
   * Either a fixed row height (number) or a function that returns the height of a row given its index.
   * ({ index: number }): number
   */
  rowHeight: prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.number, prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.func]).isRequired,

  /** Number of rows in table. */
  rowCount: prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.number.isRequired,

  /**
   * Responsible for rendering a table row given an array of columns:
   * Should implement the following interface: ({
   *   className: string,
   *   columns: Array,
   *   index: number,
   *   isScrolling: boolean,
   *   onRowClick: ?Function,
   *   onRowDoubleClick: ?Function,
   *   onRowMouseOver: ?Function,
   *   onRowMouseOut: ?Function,
   *   rowData: any,
   *   style: any
   * }): PropTypes.node
   */
  rowRenderer: prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.func,

  /** Optional custom inline style to attach to table rows. */
  rowStyle: prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.object, prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.func]).isRequired,

  /** See Grid#scrollToAlignment */
  scrollToAlignment: prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.oneOf(['auto', 'end', 'start', 'center']).isRequired,

  /** Row index to ensure visible (by forcefully scrolling if necessary) */
  scrollToIndex: prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.number.isRequired,

  /** Vertical offset. */
  scrollTop: prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.number,

  /**
   * Sort function to be called if a sortable header is clicked.
   * Should implement the following interface: ({
   *   defaultSortDirection: 'ASC' | 'DESC',
   *   event: MouseEvent,
   *   sortBy: string,
   *   sortDirection: SortDirection
   * }): void
   */
  sort: prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.func,

  /** Table data is currently sorted by this :dataKey (if it is sorted at all) */
  sortBy: prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.string,

  /** Table data is currently sorted in this direction (if it is sorted at all) */
  sortDirection: prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.oneOf([_SortDirection__WEBPACK_IMPORTED_MODULE_16__["default"].ASC, _SortDirection__WEBPACK_IMPORTED_MODULE_16__["default"].DESC]),

  /** Optional inline style */
  style: prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.object,

  /** Tab index for focus */
  tabIndex: prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.number,

  /** Width of list */
  width: prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.number.isRequired
} : undefined;


/***/ }),

/***/ "./node_modules/react-virtualized/dist/es/Table/createMultiSort.js":
/*!*************************************************************************!*\
  !*** ./node_modules/react-virtualized/dist/es/Table/createMultiSort.js ***!
  \*************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return createMultiSort; });
function createMultiSort(sortCallback) {
  var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},
      defaultSortBy = _ref.defaultSortBy,
      _ref$defaultSortDirec = _ref.defaultSortDirection,
      defaultSortDirection = _ref$defaultSortDirec === void 0 ? {} : _ref$defaultSortDirec;

  if (!sortCallback) {
    throw Error("Required parameter \"sortCallback\" not specified");
  }

  var sortBy = defaultSortBy || [];
  var sortDirection = {};
  sortBy.forEach(function (dataKey) {
    sortDirection[dataKey] = defaultSortDirection[dataKey] !== undefined ? defaultSortDirection[dataKey] : 'ASC';
  });

  function sort(_ref2) {
    var defaultSortDirection = _ref2.defaultSortDirection,
        event = _ref2.event,
        dataKey = _ref2.sortBy;

    if (event.shiftKey) {
      // Shift + click appends a column to existing criteria
      if (sortDirection[dataKey] !== undefined) {
        sortDirection[dataKey] = sortDirection[dataKey] === 'ASC' ? 'DESC' : 'ASC';
      } else {
        sortDirection[dataKey] = defaultSortDirection;
        sortBy.push(dataKey);
      }
    } else if (event.ctrlKey || event.metaKey) {
      // Control + click removes column from sort (if pressent)
      var index = sortBy.indexOf(dataKey);

      if (index >= 0) {
        sortBy.splice(index, 1);
        delete sortDirection[dataKey];
      }
    } else {
      // Clear sortBy array of all non-selected keys
      sortBy.length = 0;
      sortBy.push(dataKey); // Clear sortDirection object of all non-selected keys

      var sortDirectionKeys = Object.keys(sortDirection);
      sortDirectionKeys.forEach(function (key) {
        if (key !== dataKey) delete sortDirection[key];
      }); // If key is already selected, reverse sort direction.
      // Else, set sort direction to default direction.

      if (sortDirection[dataKey] !== undefined) {
        sortDirection[dataKey] = sortDirection[dataKey] === 'ASC' ? 'DESC' : 'ASC';
      } else {
        sortDirection[dataKey] = defaultSortDirection;
      }
    } // Notify application code


    sortCallback({
      sortBy: sortBy,
      sortDirection: sortDirection
    });
  }

  return {
    sort: sort,
    sortBy: sortBy,
    sortDirection: sortDirection
  };
}

/***/ }),

/***/ "./node_modules/react-virtualized/dist/es/Table/defaultCellDataGetter.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/react-virtualized/dist/es/Table/defaultCellDataGetter.js ***!
  \*******************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return defaultCellDataGetter; });
/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./types */ "./node_modules/react-virtualized/dist/es/Table/types.js");
/**
 * Default accessor for returning a cell value for a given attribute.
 * This function expects to operate on either a vanilla Object or an Immutable Map.
 * You should override the column's cellDataGetter if your data is some other type of object.
 */
function defaultCellDataGetter(_ref) {
  var dataKey = _ref.dataKey,
      rowData = _ref.rowData;

  if (typeof rowData.get === 'function') {
    return rowData.get(dataKey);
  } else {
    return rowData[dataKey];
  }
}


/***/ }),

/***/ "./node_modules/react-virtualized/dist/es/Table/defaultCellRenderer.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/react-virtualized/dist/es/Table/defaultCellRenderer.js ***!
  \*****************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return defaultCellRenderer; });
/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./types */ "./node_modules/react-virtualized/dist/es/Table/types.js");
/**
 * Default cell renderer that displays an attribute as a simple string
 * You should override the column's cellRenderer if your data is some other type of object.
 */
function defaultCellRenderer(_ref) {
  var cellData = _ref.cellData;

  if (cellData == null) {
    return '';
  } else {
    return String(cellData);
  }
}


/***/ }),

/***/ "./node_modules/react-virtualized/dist/es/Table/defaultHeaderRenderer.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/react-virtualized/dist/es/Table/defaultHeaderRenderer.js ***!
  \*******************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return defaultHeaderRenderer; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _SortIndicator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./SortIndicator */ "./node_modules/react-virtualized/dist/es/Table/SortIndicator.js");
/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./types */ "./node_modules/react-virtualized/dist/es/Table/types.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_3__);



/**
 * Default table header renderer.
 */
function defaultHeaderRenderer(_ref) {
  var dataKey = _ref.dataKey,
      label = _ref.label,
      sortBy = _ref.sortBy,
      sortDirection = _ref.sortDirection;
  var showSortIndicator = sortBy === dataKey;
  var children = [react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("span", {
    className: "ReactVirtualized__Table__headerTruncatedText",
    key: "label",
    title: typeof label === 'string' ? label : null
  }, label)];

  if (showSortIndicator) {
    children.push(react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_SortIndicator__WEBPACK_IMPORTED_MODULE_1__["default"], {
      key: "SortIndicator",
      sortDirection: sortDirection
    }));
  }

  return children;
}
defaultHeaderRenderer.propTypes =  false ? undefined : _types__WEBPACK_IMPORTED_MODULE_2__["bpfrpt_proptype_HeaderRendererParams"] === prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.any ? {} : _types__WEBPACK_IMPORTED_MODULE_2__["bpfrpt_proptype_HeaderRendererParams"];



/***/ }),

/***/ "./node_modules/react-virtualized/dist/es/Table/defaultHeaderRowRenderer.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/react-virtualized/dist/es/Table/defaultHeaderRowRenderer.js ***!
  \**********************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return defaultHeaderRowRenderer; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./types */ "./node_modules/react-virtualized/dist/es/Table/types.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__);

function defaultHeaderRowRenderer(_ref) {
  var className = _ref.className,
      columns = _ref.columns,
      style = _ref.style;
  return react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("div", {
    className: className,
    role: "row",
    style: style
  }, columns);
}
defaultHeaderRowRenderer.propTypes =  false ? undefined : _types__WEBPACK_IMPORTED_MODULE_1__["bpfrpt_proptype_HeaderRowRendererParams"] === prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.any ? {} : _types__WEBPACK_IMPORTED_MODULE_1__["bpfrpt_proptype_HeaderRowRendererParams"];



/***/ }),

/***/ "./node_modules/react-virtualized/dist/es/Table/defaultRowRenderer.js":
/*!****************************************************************************!*\
  !*** ./node_modules/react-virtualized/dist/es/Table/defaultRowRenderer.js ***!
  \****************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return defaultRowRenderer; });
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/extends */ "./node_modules/@babel/runtime/helpers/extends.js");
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./types */ "./node_modules/react-virtualized/dist/es/Table/types.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_3__);



/**
 * Default row renderer for Table.
 */
function defaultRowRenderer(_ref) {
  var className = _ref.className,
      columns = _ref.columns,
      index = _ref.index,
      key = _ref.key,
      onRowClick = _ref.onRowClick,
      onRowDoubleClick = _ref.onRowDoubleClick,
      onRowMouseOut = _ref.onRowMouseOut,
      onRowMouseOver = _ref.onRowMouseOver,
      onRowRightClick = _ref.onRowRightClick,
      rowData = _ref.rowData,
      style = _ref.style;
  var a11yProps = {
    'aria-rowindex': index + 1
  };

  if (onRowClick || onRowDoubleClick || onRowMouseOut || onRowMouseOver || onRowRightClick) {
    a11yProps['aria-label'] = 'row';
    a11yProps.tabIndex = 0;

    if (onRowClick) {
      a11yProps.onClick = function (event) {
        return onRowClick({
          event: event,
          index: index,
          rowData: rowData
        });
      };
    }

    if (onRowDoubleClick) {
      a11yProps.onDoubleClick = function (event) {
        return onRowDoubleClick({
          event: event,
          index: index,
          rowData: rowData
        });
      };
    }

    if (onRowMouseOut) {
      a11yProps.onMouseOut = function (event) {
        return onRowMouseOut({
          event: event,
          index: index,
          rowData: rowData
        });
      };
    }

    if (onRowMouseOver) {
      a11yProps.onMouseOver = function (event) {
        return onRowMouseOver({
          event: event,
          index: index,
          rowData: rowData
        });
      };
    }

    if (onRowRightClick) {
      a11yProps.onContextMenu = function (event) {
        return onRowRightClick({
          event: event,
          index: index,
          rowData: rowData
        });
      };
    }
  }

  return react__WEBPACK_IMPORTED_MODULE_1__["createElement"]("div", _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({}, a11yProps, {
    className: className,
    key: key,
    role: "row",
    style: style
  }), columns);
}
defaultRowRenderer.propTypes =  false ? undefined : _types__WEBPACK_IMPORTED_MODULE_2__["bpfrpt_proptype_RowRendererParams"] === prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.any ? {} : _types__WEBPACK_IMPORTED_MODULE_2__["bpfrpt_proptype_RowRendererParams"];



/***/ }),

/***/ "./node_modules/react-virtualized/dist/es/Table/index.js":
/*!***************************************************************!*\
  !*** ./node_modules/react-virtualized/dist/es/Table/index.js ***!
  \***************************************************************/
/*! exports provided: default, createMultiSort, defaultCellDataGetter, defaultCellRenderer, defaultHeaderRowRenderer, defaultHeaderRenderer, defaultRowRenderer, Column, SortDirection, SortIndicator, Table */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _createMultiSort__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./createMultiSort */ "./node_modules/react-virtualized/dist/es/Table/createMultiSort.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "createMultiSort", function() { return _createMultiSort__WEBPACK_IMPORTED_MODULE_0__["default"]; });

/* harmony import */ var _defaultCellDataGetter__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./defaultCellDataGetter */ "./node_modules/react-virtualized/dist/es/Table/defaultCellDataGetter.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "defaultCellDataGetter", function() { return _defaultCellDataGetter__WEBPACK_IMPORTED_MODULE_1__["default"]; });

/* harmony import */ var _defaultCellRenderer__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./defaultCellRenderer */ "./node_modules/react-virtualized/dist/es/Table/defaultCellRenderer.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "defaultCellRenderer", function() { return _defaultCellRenderer__WEBPACK_IMPORTED_MODULE_2__["default"]; });

/* harmony import */ var _defaultHeaderRowRenderer_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./defaultHeaderRowRenderer.js */ "./node_modules/react-virtualized/dist/es/Table/defaultHeaderRowRenderer.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "defaultHeaderRowRenderer", function() { return _defaultHeaderRowRenderer_js__WEBPACK_IMPORTED_MODULE_3__["default"]; });

/* harmony import */ var _defaultHeaderRenderer__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./defaultHeaderRenderer */ "./node_modules/react-virtualized/dist/es/Table/defaultHeaderRenderer.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "defaultHeaderRenderer", function() { return _defaultHeaderRenderer__WEBPACK_IMPORTED_MODULE_4__["default"]; });

/* harmony import */ var _defaultRowRenderer__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./defaultRowRenderer */ "./node_modules/react-virtualized/dist/es/Table/defaultRowRenderer.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "defaultRowRenderer", function() { return _defaultRowRenderer__WEBPACK_IMPORTED_MODULE_5__["default"]; });

/* harmony import */ var _Column__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./Column */ "./node_modules/react-virtualized/dist/es/Table/Column.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Column", function() { return _Column__WEBPACK_IMPORTED_MODULE_6__["default"]; });

/* harmony import */ var _SortDirection__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./SortDirection */ "./node_modules/react-virtualized/dist/es/Table/SortDirection.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "SortDirection", function() { return _SortDirection__WEBPACK_IMPORTED_MODULE_7__["default"]; });

/* harmony import */ var _SortIndicator__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./SortIndicator */ "./node_modules/react-virtualized/dist/es/Table/SortIndicator.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "SortIndicator", function() { return _SortIndicator__WEBPACK_IMPORTED_MODULE_8__["default"]; });

/* harmony import */ var _Table__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./Table */ "./node_modules/react-virtualized/dist/es/Table/Table.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Table", function() { return _Table__WEBPACK_IMPORTED_MODULE_9__["default"]; });











/* harmony default export */ __webpack_exports__["default"] = (_Table__WEBPACK_IMPORTED_MODULE_9__["default"]);


/***/ }),

/***/ "./node_modules/react-virtualized/dist/es/Table/types.js":
/*!***************************************************************!*\
  !*** ./node_modules/react-virtualized/dist/es/Table/types.js ***!
  \***************************************************************/
/*! exports provided: bpfrpt_proptype_CellDataGetterParams, bpfrpt_proptype_CellRendererParams, bpfrpt_proptype_HeaderRowRendererParams, bpfrpt_proptype_HeaderRendererParams, bpfrpt_proptype_RowRendererParams */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "bpfrpt_proptype_CellDataGetterParams", function() { return bpfrpt_proptype_CellDataGetterParams; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "bpfrpt_proptype_CellRendererParams", function() { return bpfrpt_proptype_CellRendererParams; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "bpfrpt_proptype_HeaderRowRendererParams", function() { return bpfrpt_proptype_HeaderRowRendererParams; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "bpfrpt_proptype_HeaderRendererParams", function() { return bpfrpt_proptype_HeaderRendererParams; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "bpfrpt_proptype_RowRendererParams", function() { return bpfrpt_proptype_RowRendererParams; });
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_0__);
var bpfrpt_proptype_CellDataGetterParams =  false ? undefined : {
  "columnData": prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.any,
  "dataKey": prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.string.isRequired,
  "rowData": function rowData(props, propName, componentName) {
    if (!Object.prototype.hasOwnProperty.call(props, propName)) {
      throw new Error("Prop `".concat(propName, "` has type 'any' or 'mixed', but was not provided to `").concat(componentName, "`. Pass undefined or any other value."));
    }
  }
};
var bpfrpt_proptype_CellRendererParams =  false ? undefined : {
  "cellData": prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.any,
  "columnData": prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.any,
  "dataKey": prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.string.isRequired,
  "rowData": function rowData(props, propName, componentName) {
    if (!Object.prototype.hasOwnProperty.call(props, propName)) {
      throw new Error("Prop `".concat(propName, "` has type 'any' or 'mixed', but was not provided to `").concat(componentName, "`. Pass undefined or any other value."));
    }
  },
  "rowIndex": prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.number.isRequired
};
var bpfrpt_proptype_HeaderRowRendererParams =  false ? undefined : {
  "className": prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.string.isRequired,
  "columns": prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.arrayOf(function (props, propName, componentName) {
    if (!Object.prototype.hasOwnProperty.call(props, propName)) {
      throw new Error("Prop `".concat(propName, "` has type 'any' or 'mixed', but was not provided to `").concat(componentName, "`. Pass undefined or any other value."));
    }
  }).isRequired,
  "style": function style(props, propName, componentName) {
    if (!Object.prototype.hasOwnProperty.call(props, propName)) {
      throw new Error("Prop `".concat(propName, "` has type 'any' or 'mixed', but was not provided to `").concat(componentName, "`. Pass undefined or any other value."));
    }
  }
};
var bpfrpt_proptype_HeaderRendererParams =  false ? undefined : {
  "columnData": prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.any,
  "dataKey": prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.string.isRequired,
  "disableSort": prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.bool,
  "label": prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.any,
  "sortBy": prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.string,
  "sortDirection": prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.string
};
var bpfrpt_proptype_RowRendererParams =  false ? undefined : {
  "className": prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.string.isRequired,
  "columns": prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.arrayOf(function (props, propName, componentName) {
    if (!Object.prototype.hasOwnProperty.call(props, propName)) {
      throw new Error("Prop `".concat(propName, "` has type 'any' or 'mixed', but was not provided to `").concat(componentName, "`. Pass undefined or any other value."));
    }
  }).isRequired,
  "index": prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.number.isRequired,
  "isScrolling": prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.bool.isRequired,
  "onRowClick": prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.func,
  "onRowDoubleClick": prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.func,
  "onRowMouseOver": prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.func,
  "onRowMouseOut": prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.func,
  "rowData": function rowData(props, propName, componentName) {
    if (!Object.prototype.hasOwnProperty.call(props, propName)) {
      throw new Error("Prop `".concat(propName, "` has type 'any' or 'mixed', but was not provided to `").concat(componentName, "`. Pass undefined or any other value."));
    }
  },
  "style": function style(props, propName, componentName) {
    if (!Object.prototype.hasOwnProperty.call(props, propName)) {
      throw new Error("Prop `".concat(propName, "` has type 'any' or 'mixed', but was not provided to `").concat(componentName, "`. Pass undefined or any other value."));
    }
  },
  "key": prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.string.isRequired
};







/***/ }),

/***/ "./node_modules/react-virtualized/dist/es/WindowScroller/WindowScroller.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/react-virtualized/dist/es/WindowScroller/WindowScroller.js ***!
  \*********************************************************************************/
/*! exports provided: IS_SCROLLING_TIMEOUT, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "IS_SCROLLING_TIMEOUT", function() { return IS_SCROLLING_TIMEOUT; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return WindowScroller; });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/createClass.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/inherits.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/defineProperty.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! react-dom */ "./node_modules/react-dom/index.js");
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var _utils_onScroll__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./utils/onScroll */ "./node_modules/react-virtualized/dist/es/WindowScroller/utils/onScroll.js");
/* harmony import */ var _utils_dimensions__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./utils/dimensions */ "./node_modules/react-virtualized/dist/es/WindowScroller/utils/dimensions.js");
/* harmony import */ var _vendor_detectElementResize__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../vendor/detectElementResize */ "./node_modules/react-virtualized/dist/es/vendor/detectElementResize.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_12__);








var _class, _temp;

function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }







/**
 * Specifies the number of miliseconds during which to disable pointer events while a scroll is in progress.
 * This improves performance and makes scrolling smoother.
 */
var IS_SCROLLING_TIMEOUT = 150;

var getWindow = function getWindow() {
  return typeof window !== 'undefined' ? window : undefined;
};

var WindowScroller = (_temp = _class =
/*#__PURE__*/
function (_React$PureComponent) {
  _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5___default()(WindowScroller, _React$PureComponent);

  function WindowScroller() {
    var _getPrototypeOf2;

    var _this;

    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this, WindowScroller);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2___default()(this, (_getPrototypeOf2 = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3___default()(WindowScroller)).call.apply(_getPrototypeOf2, [this].concat(args)));

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4___default()(_this), "_window", getWindow());

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4___default()(_this), "_isMounted", false);

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4___default()(_this), "_positionFromTop", 0);

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4___default()(_this), "_positionFromLeft", 0);

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4___default()(_this), "_detectElementResize", void 0);

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4___default()(_this), "_child", void 0);

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4___default()(_this), "state", _objectSpread({}, Object(_utils_dimensions__WEBPACK_IMPORTED_MODULE_10__["getDimensions"])(_this.props.scrollElement, _this.props), {
      isScrolling: false,
      scrollLeft: 0,
      scrollTop: 0
    }));

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4___default()(_this), "_registerChild", function (element) {
      if (element && !(element instanceof Element)) {
        console.warn('WindowScroller registerChild expects to be passed Element or null');
      }

      _this._child = element;

      _this.updatePosition();
    });

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4___default()(_this), "_onChildScroll", function (_ref) {
      var scrollTop = _ref.scrollTop;

      if (_this.state.scrollTop === scrollTop) {
        return;
      }

      var scrollElement = _this.props.scrollElement;

      if (scrollElement) {
        if (typeof scrollElement.scrollTo === 'function') {
          scrollElement.scrollTo(0, scrollTop + _this._positionFromTop);
        } else {
          scrollElement.scrollTop = scrollTop + _this._positionFromTop;
        }
      }
    });

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4___default()(_this), "_registerResizeListener", function (element) {
      if (element === window) {
        window.addEventListener('resize', _this._onResize, false);
      } else {
        _this._detectElementResize.addResizeListener(element, _this._onResize);
      }
    });

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4___default()(_this), "_unregisterResizeListener", function (element) {
      if (element === window) {
        window.removeEventListener('resize', _this._onResize, false);
      } else if (element) {
        _this._detectElementResize.removeResizeListener(element, _this._onResize);
      }
    });

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4___default()(_this), "_onResize", function () {
      _this.updatePosition();
    });

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4___default()(_this), "__handleWindowScrollEvent", function () {
      if (!_this._isMounted) {
        return;
      }

      var onScroll = _this.props.onScroll;
      var scrollElement = _this.props.scrollElement;

      if (scrollElement) {
        var scrollOffset = Object(_utils_dimensions__WEBPACK_IMPORTED_MODULE_10__["getScrollOffset"])(scrollElement);
        var scrollLeft = Math.max(0, scrollOffset.left - _this._positionFromLeft);
        var scrollTop = Math.max(0, scrollOffset.top - _this._positionFromTop);

        _this.setState({
          isScrolling: true,
          scrollLeft: scrollLeft,
          scrollTop: scrollTop
        });

        onScroll({
          scrollLeft: scrollLeft,
          scrollTop: scrollTop
        });
      }
    });

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4___default()(_this), "__resetIsScrolling", function () {
      _this.setState({
        isScrolling: false
      });
    });

    return _this;
  }

  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(WindowScroller, [{
    key: "updatePosition",
    value: function updatePosition() {
      var scrollElement = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.props.scrollElement;
      var onResize = this.props.onResize;
      var _this$state = this.state,
          height = _this$state.height,
          width = _this$state.width;
      var thisNode = this._child || react_dom__WEBPACK_IMPORTED_MODULE_8__["findDOMNode"](this);

      if (thisNode instanceof Element && scrollElement) {
        var offset = Object(_utils_dimensions__WEBPACK_IMPORTED_MODULE_10__["getPositionOffset"])(thisNode, scrollElement);
        this._positionFromTop = offset.top;
        this._positionFromLeft = offset.left;
      }

      var dimensions = Object(_utils_dimensions__WEBPACK_IMPORTED_MODULE_10__["getDimensions"])(scrollElement, this.props);

      if (height !== dimensions.height || width !== dimensions.width) {
        this.setState({
          height: dimensions.height,
          width: dimensions.width
        });
        onResize({
          height: dimensions.height,
          width: dimensions.width
        });
      }
    }
  }, {
    key: "componentDidMount",
    value: function componentDidMount() {
      var scrollElement = this.props.scrollElement;
      this._detectElementResize = Object(_vendor_detectElementResize__WEBPACK_IMPORTED_MODULE_11__["default"])();
      this.updatePosition(scrollElement);

      if (scrollElement) {
        Object(_utils_onScroll__WEBPACK_IMPORTED_MODULE_9__["registerScrollListener"])(this, scrollElement);

        this._registerResizeListener(scrollElement);
      }

      this._isMounted = true;
    }
  }, {
    key: "componentDidUpdate",
    value: function componentDidUpdate(prevProps, prevState) {
      var scrollElement = this.props.scrollElement;
      var prevScrollElement = prevProps.scrollElement;

      if (prevScrollElement !== scrollElement && prevScrollElement != null && scrollElement != null) {
        this.updatePosition(scrollElement);
        Object(_utils_onScroll__WEBPACK_IMPORTED_MODULE_9__["unregisterScrollListener"])(this, prevScrollElement);
        Object(_utils_onScroll__WEBPACK_IMPORTED_MODULE_9__["registerScrollListener"])(this, scrollElement);

        this._unregisterResizeListener(prevScrollElement);

        this._registerResizeListener(scrollElement);
      }
    }
  }, {
    key: "componentWillUnmount",
    value: function componentWillUnmount() {
      var scrollElement = this.props.scrollElement;

      if (scrollElement) {
        Object(_utils_onScroll__WEBPACK_IMPORTED_MODULE_9__["unregisterScrollListener"])(this, scrollElement);

        this._unregisterResizeListener(scrollElement);
      }

      this._isMounted = false;
    }
  }, {
    key: "render",
    value: function render() {
      var children = this.props.children;
      var _this$state2 = this.state,
          isScrolling = _this$state2.isScrolling,
          scrollTop = _this$state2.scrollTop,
          scrollLeft = _this$state2.scrollLeft,
          height = _this$state2.height,
          width = _this$state2.width;
      return children({
        onChildScroll: this._onChildScroll,
        registerChild: this._registerChild,
        height: height,
        isScrolling: isScrolling,
        scrollLeft: scrollLeft,
        scrollTop: scrollTop,
        width: width
      });
    }
  }]);

  return WindowScroller;
}(react__WEBPACK_IMPORTED_MODULE_7__["PureComponent"]), _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(_class, "propTypes",  false ? undefined : {
  /**
   * Function responsible for rendering children.
   * This function should implement the following signature:
   * ({ height, isScrolling, scrollLeft, scrollTop, width }) => PropTypes.element
   */
  "children": prop_types__WEBPACK_IMPORTED_MODULE_12___default.a.func.isRequired,

  /** Callback to be invoked on-resize: ({ height, width }) */
  "onResize": prop_types__WEBPACK_IMPORTED_MODULE_12___default.a.func.isRequired,

  /** Callback to be invoked on-scroll: ({ scrollLeft, scrollTop }) */
  "onScroll": prop_types__WEBPACK_IMPORTED_MODULE_12___default.a.func.isRequired,

  /** Element to attach scroll event listeners. Defaults to window. */
  "scrollElement": prop_types__WEBPACK_IMPORTED_MODULE_12___default.a.oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_12___default.a.any, function () {
    return (typeof Element === "function" ? prop_types__WEBPACK_IMPORTED_MODULE_12___default.a.instanceOf(Element) : prop_types__WEBPACK_IMPORTED_MODULE_12___default.a.any).apply(this, arguments);
  }]),

  /**
   * Wait this amount of time after the last scroll event before resetting child `pointer-events`.
   */
  "scrollingResetTimeInterval": prop_types__WEBPACK_IMPORTED_MODULE_12___default.a.number.isRequired,

  /** Height used for server-side rendering */
  "serverHeight": prop_types__WEBPACK_IMPORTED_MODULE_12___default.a.number.isRequired,

  /** Width used for server-side rendering */
  "serverWidth": prop_types__WEBPACK_IMPORTED_MODULE_12___default.a.number.isRequired
}), _temp);

_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(WindowScroller, "defaultProps", {
  onResize: function onResize() {},
  onScroll: function onScroll() {},
  scrollingResetTimeInterval: IS_SCROLLING_TIMEOUT,
  scrollElement: getWindow(),
  serverHeight: 0,
  serverWidth: 0
});




/***/ }),

/***/ "./node_modules/react-virtualized/dist/es/WindowScroller/index.js":
/*!************************************************************************!*\
  !*** ./node_modules/react-virtualized/dist/es/WindowScroller/index.js ***!
  \************************************************************************/
/*! exports provided: default, WindowScroller, IS_SCROLLING_TIMEOUT */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _WindowScroller__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./WindowScroller */ "./node_modules/react-virtualized/dist/es/WindowScroller/WindowScroller.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "WindowScroller", function() { return _WindowScroller__WEBPACK_IMPORTED_MODULE_0__["default"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "IS_SCROLLING_TIMEOUT", function() { return _WindowScroller__WEBPACK_IMPORTED_MODULE_0__["IS_SCROLLING_TIMEOUT"]; });


/* harmony default export */ __webpack_exports__["default"] = (_WindowScroller__WEBPACK_IMPORTED_MODULE_0__["default"]);


/***/ }),

/***/ "./node_modules/react-virtualized/dist/es/WindowScroller/utils/dimensions.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/react-virtualized/dist/es/WindowScroller/utils/dimensions.js ***!
  \***********************************************************************************/
/*! exports provided: getDimensions, getPositionOffset, getScrollOffset */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getDimensions", function() { return getDimensions; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getPositionOffset", function() { return getPositionOffset; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getScrollOffset", function() { return getScrollOffset; });
/**
 * Gets the dimensions of the element, accounting for API differences between
 * `window` and other DOM elements.
 */
// TODO Move this into WindowScroller and import from there
var isWindow = function isWindow(element) {
  return element === window;
};

var getBoundingBox = function getBoundingBox(element) {
  return element.getBoundingClientRect();
};

function getDimensions(scrollElement, props) {
  if (!scrollElement) {
    return {
      height: props.serverHeight,
      width: props.serverWidth
    };
  } else if (isWindow(scrollElement)) {
    var _window = window,
        innerHeight = _window.innerHeight,
        innerWidth = _window.innerWidth;
    return {
      height: typeof innerHeight === 'number' ? innerHeight : 0,
      width: typeof innerWidth === 'number' ? innerWidth : 0
    };
  } else {
    return getBoundingBox(scrollElement);
  }
}
/**
 * Gets the vertical and horizontal position of an element within its scroll container.
 * Elements that have been “scrolled past” return negative values.
 * Handles edge-case where a user is navigating back (history) from an already-scrolled page.
 * In this case the body’s top or left position will be a negative number and this element’s top or left will be increased (by that amount).
 */

function getPositionOffset(element, container) {
  if (isWindow(container) && document.documentElement) {
    var containerElement = document.documentElement;
    var elementRect = getBoundingBox(element);
    var containerRect = getBoundingBox(containerElement);
    return {
      top: elementRect.top - containerRect.top,
      left: elementRect.left - containerRect.left
    };
  } else {
    var scrollOffset = getScrollOffset(container);

    var _elementRect = getBoundingBox(element);

    var _containerRect = getBoundingBox(container);

    return {
      top: _elementRect.top + scrollOffset.top - _containerRect.top,
      left: _elementRect.left + scrollOffset.left - _containerRect.left
    };
  }
}
/**
 * Gets the vertical and horizontal scroll amount of the element, accounting for IE compatibility
 * and API differences between `window` and other DOM elements.
 */

function getScrollOffset(element) {
  if (isWindow(element) && document.documentElement) {
    return {
      top: 'scrollY' in window ? window.scrollY : document.documentElement.scrollTop,
      left: 'scrollX' in window ? window.scrollX : document.documentElement.scrollLeft
    };
  } else {
    return {
      top: element.scrollTop,
      left: element.scrollLeft
    };
  }
}

/***/ }),

/***/ "./node_modules/react-virtualized/dist/es/WindowScroller/utils/onScroll.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/react-virtualized/dist/es/WindowScroller/utils/onScroll.js ***!
  \*********************************************************************************/
/*! exports provided: registerScrollListener, unregisterScrollListener */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "registerScrollListener", function() { return registerScrollListener; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "unregisterScrollListener", function() { return unregisterScrollListener; });
/* harmony import */ var _utils_requestAnimationTimeout__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../utils/requestAnimationTimeout */ "./node_modules/react-virtualized/dist/es/utils/requestAnimationTimeout.js");
/* harmony import */ var _WindowScroller_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../WindowScroller.js */ "./node_modules/react-virtualized/dist/es/WindowScroller/WindowScroller.js");

var mountedInstances = [];
var originalBodyPointerEvents = null;
var disablePointerEventsTimeoutId = null;

function enablePointerEventsIfDisabled() {
  if (disablePointerEventsTimeoutId) {
    disablePointerEventsTimeoutId = null;

    if (document.body && originalBodyPointerEvents != null) {
      document.body.style.pointerEvents = originalBodyPointerEvents;
    }

    originalBodyPointerEvents = null;
  }
}

function enablePointerEventsAfterDelayCallback() {
  enablePointerEventsIfDisabled();
  mountedInstances.forEach(function (instance) {
    return instance.__resetIsScrolling();
  });
}

function enablePointerEventsAfterDelay() {
  if (disablePointerEventsTimeoutId) {
    Object(_utils_requestAnimationTimeout__WEBPACK_IMPORTED_MODULE_0__["cancelAnimationTimeout"])(disablePointerEventsTimeoutId);
  }

  var maximumTimeout = 0;
  mountedInstances.forEach(function (instance) {
    maximumTimeout = Math.max(maximumTimeout, instance.props.scrollingResetTimeInterval);
  });
  disablePointerEventsTimeoutId = Object(_utils_requestAnimationTimeout__WEBPACK_IMPORTED_MODULE_0__["requestAnimationTimeout"])(enablePointerEventsAfterDelayCallback, maximumTimeout);
}

function onScrollWindow(event) {
  if (event.currentTarget === window && originalBodyPointerEvents == null && document.body) {
    originalBodyPointerEvents = document.body.style.pointerEvents;
    document.body.style.pointerEvents = 'none';
  }

  enablePointerEventsAfterDelay();
  mountedInstances.forEach(function (instance) {
    if (instance.props.scrollElement === event.currentTarget) {
      instance.__handleWindowScrollEvent();
    }
  });
}

function registerScrollListener(component, element) {
  if (!mountedInstances.some(function (instance) {
    return instance.props.scrollElement === element;
  })) {
    element.addEventListener('scroll', onScrollWindow);
  }

  mountedInstances.push(component);
}
function unregisterScrollListener(component, element) {
  mountedInstances = mountedInstances.filter(function (instance) {
    return instance !== component;
  });

  if (!mountedInstances.length) {
    element.removeEventListener('scroll', onScrollWindow);

    if (disablePointerEventsTimeoutId) {
      Object(_utils_requestAnimationTimeout__WEBPACK_IMPORTED_MODULE_0__["cancelAnimationTimeout"])(disablePointerEventsTimeoutId);
      enablePointerEventsIfDisabled();
    }
  }
}


/***/ }),

/***/ "./node_modules/react-virtualized/dist/es/index.js":
/*!*********************************************************!*\
  !*** ./node_modules/react-virtualized/dist/es/index.js ***!
  \*********************************************************/
/*! exports provided: ArrowKeyStepper, AutoSizer, CellMeasurer, CellMeasurerCache, Collection, ColumnSizer, accessibilityOverscanIndicesGetter, defaultCellRangeRenderer, defaultOverscanIndicesGetter, Grid, InfiniteLoader, List, createMasonryCellPositioner, Masonry, MultiGrid, ScrollSync, createTableMultiSort, defaultTableCellDataGetter, defaultTableCellRenderer, defaultTableHeaderRenderer, defaultTableHeaderRowRenderer, defaultTableRowRenderer, Table, Column, SortDirection, SortIndicator, WindowScroller */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _ArrowKeyStepper__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ArrowKeyStepper */ "./node_modules/react-virtualized/dist/es/ArrowKeyStepper/index.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ArrowKeyStepper", function() { return _ArrowKeyStepper__WEBPACK_IMPORTED_MODULE_0__["ArrowKeyStepper"]; });

/* harmony import */ var _AutoSizer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./AutoSizer */ "./node_modules/react-virtualized/dist/es/AutoSizer/index.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "AutoSizer", function() { return _AutoSizer__WEBPACK_IMPORTED_MODULE_1__["AutoSizer"]; });

/* harmony import */ var _CellMeasurer__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./CellMeasurer */ "./node_modules/react-virtualized/dist/es/CellMeasurer/index.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "CellMeasurer", function() { return _CellMeasurer__WEBPACK_IMPORTED_MODULE_2__["CellMeasurer"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "CellMeasurerCache", function() { return _CellMeasurer__WEBPACK_IMPORTED_MODULE_2__["CellMeasurerCache"]; });

/* harmony import */ var _Collection__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Collection */ "./node_modules/react-virtualized/dist/es/Collection/index.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Collection", function() { return _Collection__WEBPACK_IMPORTED_MODULE_3__["Collection"]; });

/* harmony import */ var _ColumnSizer__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./ColumnSizer */ "./node_modules/react-virtualized/dist/es/ColumnSizer/index.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ColumnSizer", function() { return _ColumnSizer__WEBPACK_IMPORTED_MODULE_4__["ColumnSizer"]; });

/* harmony import */ var _Grid__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./Grid */ "./node_modules/react-virtualized/dist/es/Grid/index.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "accessibilityOverscanIndicesGetter", function() { return _Grid__WEBPACK_IMPORTED_MODULE_5__["accessibilityOverscanIndicesGetter"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "defaultCellRangeRenderer", function() { return _Grid__WEBPACK_IMPORTED_MODULE_5__["defaultCellRangeRenderer"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "defaultOverscanIndicesGetter", function() { return _Grid__WEBPACK_IMPORTED_MODULE_5__["defaultOverscanIndicesGetter"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Grid", function() { return _Grid__WEBPACK_IMPORTED_MODULE_5__["Grid"]; });

/* harmony import */ var _InfiniteLoader__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./InfiniteLoader */ "./node_modules/react-virtualized/dist/es/InfiniteLoader/index.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "InfiniteLoader", function() { return _InfiniteLoader__WEBPACK_IMPORTED_MODULE_6__["InfiniteLoader"]; });

/* harmony import */ var _List__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./List */ "./node_modules/react-virtualized/dist/es/List/index.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "List", function() { return _List__WEBPACK_IMPORTED_MODULE_7__["List"]; });

/* harmony import */ var _Masonry__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./Masonry */ "./node_modules/react-virtualized/dist/es/Masonry/index.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "createMasonryCellPositioner", function() { return _Masonry__WEBPACK_IMPORTED_MODULE_8__["createCellPositioner"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Masonry", function() { return _Masonry__WEBPACK_IMPORTED_MODULE_8__["Masonry"]; });

/* harmony import */ var _MultiGrid__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./MultiGrid */ "./node_modules/react-virtualized/dist/es/MultiGrid/index.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "MultiGrid", function() { return _MultiGrid__WEBPACK_IMPORTED_MODULE_9__["MultiGrid"]; });

/* harmony import */ var _ScrollSync__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./ScrollSync */ "./node_modules/react-virtualized/dist/es/ScrollSync/index.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ScrollSync", function() { return _ScrollSync__WEBPACK_IMPORTED_MODULE_10__["ScrollSync"]; });

/* harmony import */ var _Table__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./Table */ "./node_modules/react-virtualized/dist/es/Table/index.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "createTableMultiSort", function() { return _Table__WEBPACK_IMPORTED_MODULE_11__["createMultiSort"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "defaultTableCellDataGetter", function() { return _Table__WEBPACK_IMPORTED_MODULE_11__["defaultCellDataGetter"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "defaultTableCellRenderer", function() { return _Table__WEBPACK_IMPORTED_MODULE_11__["defaultCellRenderer"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "defaultTableHeaderRenderer", function() { return _Table__WEBPACK_IMPORTED_MODULE_11__["defaultHeaderRenderer"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "defaultTableHeaderRowRenderer", function() { return _Table__WEBPACK_IMPORTED_MODULE_11__["defaultHeaderRowRenderer"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "defaultTableRowRenderer", function() { return _Table__WEBPACK_IMPORTED_MODULE_11__["defaultRowRenderer"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Table", function() { return _Table__WEBPACK_IMPORTED_MODULE_11__["Table"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Column", function() { return _Table__WEBPACK_IMPORTED_MODULE_11__["Column"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "SortDirection", function() { return _Table__WEBPACK_IMPORTED_MODULE_11__["SortDirection"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "SortIndicator", function() { return _Table__WEBPACK_IMPORTED_MODULE_11__["SortIndicator"]; });

/* harmony import */ var _WindowScroller__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./WindowScroller */ "./node_modules/react-virtualized/dist/es/WindowScroller/index.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "WindowScroller", function() { return _WindowScroller__WEBPACK_IMPORTED_MODULE_12__["WindowScroller"]; });















/***/ }),

/***/ "./node_modules/react-virtualized/dist/es/utils/animationFrame.js":
/*!************************************************************************!*\
  !*** ./node_modules/react-virtualized/dist/es/utils/animationFrame.js ***!
  \************************************************************************/
/*! exports provided: raf, caf */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "raf", function() { return raf; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "caf", function() { return caf; });
// Properly handle server-side rendering.
var win;

if (typeof window !== 'undefined') {
  win = window;
} else if (typeof self !== 'undefined') {
  win = self;
} else {
  win = {};
} // requestAnimationFrame() shim by Paul Irish
// http://paulirish.com/2011/requestanimationframe-for-smart-animating/


var request = win.requestAnimationFrame || win.webkitRequestAnimationFrame || win.mozRequestAnimationFrame || win.oRequestAnimationFrame || win.msRequestAnimationFrame || function (callback) {
  return win.setTimeout(callback, 1000 / 60);
};

var cancel = win.cancelAnimationFrame || win.webkitCancelAnimationFrame || win.mozCancelAnimationFrame || win.oCancelAnimationFrame || win.msCancelAnimationFrame || function (id) {
  win.clearTimeout(id);
};

var raf = request;
var caf = cancel;

/***/ }),

/***/ "./node_modules/react-virtualized/dist/es/utils/createCallbackMemoizer.js":
/*!********************************************************************************!*\
  !*** ./node_modules/react-virtualized/dist/es/utils/createCallbackMemoizer.js ***!
  \********************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return createCallbackMemoizer; });
/**
 * Helper utility that updates the specified callback whenever any of the specified indices have changed.
 */
function createCallbackMemoizer() {
  var requireAllKeys = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;
  var cachedIndices = {};
  return function (_ref) {
    var callback = _ref.callback,
        indices = _ref.indices;
    var keys = Object.keys(indices);
    var allInitialized = !requireAllKeys || keys.every(function (key) {
      var value = indices[key];
      return Array.isArray(value) ? value.length > 0 : value >= 0;
    });
    var indexChanged = keys.length !== Object.keys(cachedIndices).length || keys.some(function (key) {
      var cachedValue = cachedIndices[key];
      var value = indices[key];
      return Array.isArray(value) ? cachedValue.join(',') !== value.join(',') : cachedValue !== value;
    });
    cachedIndices = indices;

    if (allInitialized && indexChanged) {
      callback(indices);
    }
  };
}

/***/ }),

/***/ "./node_modules/react-virtualized/dist/es/utils/getUpdatedOffsetForIndex.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/react-virtualized/dist/es/utils/getUpdatedOffsetForIndex.js ***!
  \**********************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return getUpdatedOffsetForIndex; });
/**
 * Determines a new offset that ensures a certain cell is visible, given the current offset.
 * If the cell is already visible then the current offset will be returned.
 * If the current offset is too great or small, it will be adjusted just enough to ensure the specified index is visible.
 *
 * @param align Desired alignment within container; one of "auto" (default), "start", or "end"
 * @param cellOffset Offset (x or y) position for cell
 * @param cellSize Size (width or height) of cell
 * @param containerSize Total size (width or height) of the container
 * @param currentOffset Container's current (x or y) offset
 * @return Offset to use to ensure the specified cell is visible
 */
function getUpdatedOffsetForIndex(_ref) {
  var _ref$align = _ref.align,
      align = _ref$align === void 0 ? 'auto' : _ref$align,
      cellOffset = _ref.cellOffset,
      cellSize = _ref.cellSize,
      containerSize = _ref.containerSize,
      currentOffset = _ref.currentOffset;
  var maxOffset = cellOffset;
  var minOffset = maxOffset - containerSize + cellSize;

  switch (align) {
    case 'start':
      return maxOffset;

    case 'end':
      return minOffset;

    case 'center':
      return maxOffset - (containerSize - cellSize) / 2;

    default:
      return Math.max(minOffset, Math.min(maxOffset, currentOffset));
  }
}

/***/ }),

/***/ "./node_modules/react-virtualized/dist/es/utils/requestAnimationTimeout.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/react-virtualized/dist/es/utils/requestAnimationTimeout.js ***!
  \*********************************************************************************/
/*! exports provided: cancelAnimationTimeout, requestAnimationTimeout, bpfrpt_proptype_AnimationTimeoutId */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "cancelAnimationTimeout", function() { return cancelAnimationTimeout; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "requestAnimationTimeout", function() { return requestAnimationTimeout; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "bpfrpt_proptype_AnimationTimeoutId", function() { return bpfrpt_proptype_AnimationTimeoutId; });
/* harmony import */ var _animationFrame__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./animationFrame */ "./node_modules/react-virtualized/dist/es/utils/animationFrame.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);

var bpfrpt_proptype_AnimationTimeoutId =  false ? undefined : {
  "id": prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number.isRequired
};
var cancelAnimationTimeout = function cancelAnimationTimeout(frame) {
  return Object(_animationFrame__WEBPACK_IMPORTED_MODULE_0__["caf"])(frame.id);
};
/**
 * Recursively calls requestAnimationFrame until a specified delay has been met or exceeded.
 * When the delay time has been reached the function you're timing out will be called.
 *
 * Credit: Joe Lambert (https://gist.github.com/joelambert/1002116#file-requesttimeout-js)
 */

var requestAnimationTimeout = function requestAnimationTimeout(callback, delay) {
  var start; // wait for end of processing current event handler, because event handler may be long

  Promise.resolve().then(function () {
    start = Date.now();
  });

  var timeout = function timeout() {
    if (Date.now() - start >= delay) {
      callback.call();
    } else {
      frame.id = Object(_animationFrame__WEBPACK_IMPORTED_MODULE_0__["raf"])(timeout);
    }
  };

  var frame = {
    id: Object(_animationFrame__WEBPACK_IMPORTED_MODULE_0__["raf"])(timeout)
  };
  return frame;
};



/***/ }),

/***/ "./node_modules/react-virtualized/dist/es/vendor/binarySearchBounds.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/react-virtualized/dist/es/vendor/binarySearchBounds.js ***!
  \*****************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/**
 * Binary Search Bounds
 * https://github.com/mikolalysenko/binary-search-bounds
 * Mikola Lysenko
 *
 * Inlined because of Content Security Policy issue caused by the use of `new Function(...)` syntax.
 * Issue reported here: https://github.com/mikolalysenko/binary-search-bounds/issues/5
 **/
function _GEA(a, l, h, y) {
  var i = h + 1;

  while (l <= h) {
    var m = l + h >>> 1,
        x = a[m];

    if (x >= y) {
      i = m;
      h = m - 1;
    } else {
      l = m + 1;
    }
  }

  return i;
}

function _GEP(a, l, h, y, c) {
  var i = h + 1;

  while (l <= h) {
    var m = l + h >>> 1,
        x = a[m];

    if (c(x, y) >= 0) {
      i = m;
      h = m - 1;
    } else {
      l = m + 1;
    }
  }

  return i;
}

function dispatchBsearchGE(a, y, c, l, h) {
  if (typeof c === 'function') {
    return _GEP(a, l === void 0 ? 0 : l | 0, h === void 0 ? a.length - 1 : h | 0, y, c);
  } else {
    return _GEA(a, c === void 0 ? 0 : c | 0, l === void 0 ? a.length - 1 : l | 0, y);
  }
}

function _GTA(a, l, h, y) {
  var i = h + 1;

  while (l <= h) {
    var m = l + h >>> 1,
        x = a[m];

    if (x > y) {
      i = m;
      h = m - 1;
    } else {
      l = m + 1;
    }
  }

  return i;
}

function _GTP(a, l, h, y, c) {
  var i = h + 1;

  while (l <= h) {
    var m = l + h >>> 1,
        x = a[m];

    if (c(x, y) > 0) {
      i = m;
      h = m - 1;
    } else {
      l = m + 1;
    }
  }

  return i;
}

function dispatchBsearchGT(a, y, c, l, h) {
  if (typeof c === 'function') {
    return _GTP(a, l === void 0 ? 0 : l | 0, h === void 0 ? a.length - 1 : h | 0, y, c);
  } else {
    return _GTA(a, c === void 0 ? 0 : c | 0, l === void 0 ? a.length - 1 : l | 0, y);
  }
}

function _LTA(a, l, h, y) {
  var i = l - 1;

  while (l <= h) {
    var m = l + h >>> 1,
        x = a[m];

    if (x < y) {
      i = m;
      l = m + 1;
    } else {
      h = m - 1;
    }
  }

  return i;
}

function _LTP(a, l, h, y, c) {
  var i = l - 1;

  while (l <= h) {
    var m = l + h >>> 1,
        x = a[m];

    if (c(x, y) < 0) {
      i = m;
      l = m + 1;
    } else {
      h = m - 1;
    }
  }

  return i;
}

function dispatchBsearchLT(a, y, c, l, h) {
  if (typeof c === 'function') {
    return _LTP(a, l === void 0 ? 0 : l | 0, h === void 0 ? a.length - 1 : h | 0, y, c);
  } else {
    return _LTA(a, c === void 0 ? 0 : c | 0, l === void 0 ? a.length - 1 : l | 0, y);
  }
}

function _LEA(a, l, h, y) {
  var i = l - 1;

  while (l <= h) {
    var m = l + h >>> 1,
        x = a[m];

    if (x <= y) {
      i = m;
      l = m + 1;
    } else {
      h = m - 1;
    }
  }

  return i;
}

function _LEP(a, l, h, y, c) {
  var i = l - 1;

  while (l <= h) {
    var m = l + h >>> 1,
        x = a[m];

    if (c(x, y) <= 0) {
      i = m;
      l = m + 1;
    } else {
      h = m - 1;
    }
  }

  return i;
}

function dispatchBsearchLE(a, y, c, l, h) {
  if (typeof c === 'function') {
    return _LEP(a, l === void 0 ? 0 : l | 0, h === void 0 ? a.length - 1 : h | 0, y, c);
  } else {
    return _LEA(a, c === void 0 ? 0 : c | 0, l === void 0 ? a.length - 1 : l | 0, y);
  }
}

function _EQA(a, l, h, y) {
  l - 1;

  while (l <= h) {
    var m = l + h >>> 1,
        x = a[m];

    if (x === y) {
      return m;
    } else if (x <= y) {
      l = m + 1;
    } else {
      h = m - 1;
    }
  }

  return -1;
}

function _EQP(a, l, h, y, c) {
  l - 1;

  while (l <= h) {
    var m = l + h >>> 1,
        x = a[m];
    var p = c(x, y);

    if (p === 0) {
      return m;
    } else if (p <= 0) {
      l = m + 1;
    } else {
      h = m - 1;
    }
  }

  return -1;
}

function dispatchBsearchEQ(a, y, c, l, h) {
  if (typeof c === 'function') {
    return _EQP(a, l === void 0 ? 0 : l | 0, h === void 0 ? a.length - 1 : h | 0, y, c);
  } else {
    return _EQA(a, c === void 0 ? 0 : c | 0, l === void 0 ? a.length - 1 : l | 0, y);
  }
}

/* harmony default export */ __webpack_exports__["default"] = ({
  ge: dispatchBsearchGE,
  gt: dispatchBsearchGT,
  lt: dispatchBsearchLT,
  le: dispatchBsearchLE,
  eq: dispatchBsearchEQ
});

/***/ }),

/***/ "./node_modules/react-virtualized/dist/es/vendor/detectElementResize.js":
/*!******************************************************************************!*\
  !*** ./node_modules/react-virtualized/dist/es/vendor/detectElementResize.js ***!
  \******************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* WEBPACK VAR INJECTION */(function(global) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return createDetectElementResize; });
/**
 * Detect Element Resize.
 * https://github.com/sdecima/javascript-detect-element-resize
 * Sebastian Decima
 *
 * Forked from version 0.5.3; includes the following modifications:
 * 1) Guard against unsafe 'window' and 'document' references (to support SSR).
 * 2) Defer initialization code via a top-level function wrapper (to support SSR).
 * 3) Avoid unnecessary reflows by not measuring size for scroll events bubbling from children.
 * 4) Add nonce for style element.
 * 5) Added support for injecting custom window object
 **/
function createDetectElementResize(nonce, hostWindow) {
  // Check `document` and `window` in case of server-side rendering
  var _window;

  if (typeof hostWindow !== 'undefined') {
    _window = hostWindow;
  } else if (typeof window !== 'undefined') {
    _window = window;
  } else if (typeof self !== 'undefined') {
    _window = self;
  } else {
    _window = global;
  }

  var attachEvent = typeof _window.document !== 'undefined' && _window.document.attachEvent;

  if (!attachEvent) {
    var requestFrame = function () {
      var raf = _window.requestAnimationFrame || _window.mozRequestAnimationFrame || _window.webkitRequestAnimationFrame || function (fn) {
        return _window.setTimeout(fn, 20);
      };

      return function (fn) {
        return raf(fn);
      };
    }();

    var cancelFrame = function () {
      var cancel = _window.cancelAnimationFrame || _window.mozCancelAnimationFrame || _window.webkitCancelAnimationFrame || _window.clearTimeout;
      return function (id) {
        return cancel(id);
      };
    }();

    var resetTriggers = function resetTriggers(element) {
      var triggers = element.__resizeTriggers__,
          expand = triggers.firstElementChild,
          contract = triggers.lastElementChild,
          expandChild = expand.firstElementChild;
      contract.scrollLeft = contract.scrollWidth;
      contract.scrollTop = contract.scrollHeight;
      expandChild.style.width = expand.offsetWidth + 1 + 'px';
      expandChild.style.height = expand.offsetHeight + 1 + 'px';
      expand.scrollLeft = expand.scrollWidth;
      expand.scrollTop = expand.scrollHeight;
    };

    var checkTriggers = function checkTriggers(element) {
      return element.offsetWidth != element.__resizeLast__.width || element.offsetHeight != element.__resizeLast__.height;
    };

    var scrollListener = function scrollListener(e) {
      // Don't measure (which forces) reflow for scrolls that happen inside of children!
      if (e.target.className && typeof e.target.className.indexOf === 'function' && e.target.className.indexOf('contract-trigger') < 0 && e.target.className.indexOf('expand-trigger') < 0) {
        return;
      }

      var element = this;
      resetTriggers(this);

      if (this.__resizeRAF__) {
        cancelFrame(this.__resizeRAF__);
      }

      this.__resizeRAF__ = requestFrame(function () {
        if (checkTriggers(element)) {
          element.__resizeLast__.width = element.offsetWidth;
          element.__resizeLast__.height = element.offsetHeight;

          element.__resizeListeners__.forEach(function (fn) {
            fn.call(element, e);
          });
        }
      });
    };
    /* Detect CSS Animations support to detect element display/re-attach */


    var animation = false,
        keyframeprefix = '',
        animationstartevent = 'animationstart',
        domPrefixes = 'Webkit Moz O ms'.split(' '),
        startEvents = 'webkitAnimationStart animationstart oAnimationStart MSAnimationStart'.split(' '),
        pfx = '';
    {
      var elm = _window.document.createElement('fakeelement');

      if (elm.style.animationName !== undefined) {
        animation = true;
      }

      if (animation === false) {
        for (var i = 0; i < domPrefixes.length; i++) {
          if (elm.style[domPrefixes[i] + 'AnimationName'] !== undefined) {
            pfx = domPrefixes[i];
            keyframeprefix = '-' + pfx.toLowerCase() + '-';
            animationstartevent = startEvents[i];
            animation = true;
            break;
          }
        }
      }
    }
    var animationName = 'resizeanim';
    var animationKeyframes = '@' + keyframeprefix + 'keyframes ' + animationName + ' { from { opacity: 0; } to { opacity: 0; } } ';
    var animationStyle = keyframeprefix + 'animation: 1ms ' + animationName + '; ';
  }

  var createStyles = function createStyles(doc) {
    if (!doc.getElementById('detectElementResize')) {
      //opacity:0 works around a chrome bug https://code.google.com/p/chromium/issues/detail?id=286360
      var css = (animationKeyframes ? animationKeyframes : '') + '.resize-triggers { ' + (animationStyle ? animationStyle : '') + 'visibility: hidden; opacity: 0; } ' + '.resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',
          head = doc.head || doc.getElementsByTagName('head')[0],
          style = doc.createElement('style');
      style.id = 'detectElementResize';
      style.type = 'text/css';

      if (nonce != null) {
        style.setAttribute('nonce', nonce);
      }

      if (style.styleSheet) {
        style.styleSheet.cssText = css;
      } else {
        style.appendChild(doc.createTextNode(css));
      }

      head.appendChild(style);
    }
  };

  var addResizeListener = function addResizeListener(element, fn) {
    if (attachEvent) {
      element.attachEvent('onresize', fn);
    } else {
      if (!element.__resizeTriggers__) {
        var doc = element.ownerDocument;

        var elementStyle = _window.getComputedStyle(element);

        if (elementStyle && elementStyle.position == 'static') {
          element.style.position = 'relative';
        }

        createStyles(doc);
        element.__resizeLast__ = {};
        element.__resizeListeners__ = [];
        (element.__resizeTriggers__ = doc.createElement('div')).className = 'resize-triggers';
        var resizeTriggersHtml = '<div class="expand-trigger"><div></div></div>' + '<div class="contract-trigger"></div>';

        if (window.trustedTypes) {
          var staticPolicy = trustedTypes.createPolicy('react-virtualized-auto-sizer', {
            createHTML: function createHTML() {
              return resizeTriggersHtml;
            }
          });
          element.__resizeTriggers__.innerHTML = staticPolicy.createHTML('');
        } else {
          element.__resizeTriggers__.innerHTML = resizeTriggersHtml;
        }

        element.appendChild(element.__resizeTriggers__);
        resetTriggers(element);
        element.addEventListener('scroll', scrollListener, true);
        /* Listen for a css animation to detect element display/re-attach */

        if (animationstartevent) {
          element.__resizeTriggers__.__animationListener__ = function animationListener(e) {
            if (e.animationName == animationName) {
              resetTriggers(element);
            }
          };

          element.__resizeTriggers__.addEventListener(animationstartevent, element.__resizeTriggers__.__animationListener__);
        }
      }

      element.__resizeListeners__.push(fn);
    }
  };

  var removeResizeListener = function removeResizeListener(element, fn) {
    if (attachEvent) {
      element.detachEvent('onresize', fn);
    } else {
      element.__resizeListeners__.splice(element.__resizeListeners__.indexOf(fn), 1);

      if (!element.__resizeListeners__.length) {
        element.removeEventListener('scroll', scrollListener, true);

        if (element.__resizeTriggers__.__animationListener__) {
          element.__resizeTriggers__.removeEventListener(animationstartevent, element.__resizeTriggers__.__animationListener__);

          element.__resizeTriggers__.__animationListener__ = null;
        }

        try {
          element.__resizeTriggers__ = !element.removeChild(element.__resizeTriggers__);
        } catch (e) {// Preact compat; see developit/preact-compat/issues/228
        }
      }
    }
  };

  return {
    addResizeListener: addResizeListener,
    removeResizeListener: removeResizeListener
  };
}
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../../../next/dist/compiled/webpack/global.js */ "./node_modules/next/dist/compiled/webpack/global.js")))

/***/ }),

/***/ "./node_modules/react-virtualized/dist/es/vendor/intervalTree.js":
/*!***********************************************************************!*\
  !*** ./node_modules/react-virtualized/dist/es/vendor/intervalTree.js ***!
  \***********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return createWrapper; });
/* harmony import */ var _binarySearchBounds__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./binarySearchBounds */ "./node_modules/react-virtualized/dist/es/vendor/binarySearchBounds.js");
/**
 * Binary Search Bounds
 * https://github.com/mikolalysenko/interval-tree-1d
 * Mikola Lysenko
 *
 * Inlined because of Content Security Policy issue caused by the use of `new Function(...)` syntax in an upstream dependency.
 * Issue reported here: https://github.com/mikolalysenko/binary-search-bounds/issues/5
 **/

var NOT_FOUND = 0;
var SUCCESS = 1;
var EMPTY = 2;

function IntervalTreeNode(mid, left, right, leftPoints, rightPoints) {
  this.mid = mid;
  this.left = left;
  this.right = right;
  this.leftPoints = leftPoints;
  this.rightPoints = rightPoints;
  this.count = (left ? left.count : 0) + (right ? right.count : 0) + leftPoints.length;
}

var proto = IntervalTreeNode.prototype;

function copy(a, b) {
  a.mid = b.mid;
  a.left = b.left;
  a.right = b.right;
  a.leftPoints = b.leftPoints;
  a.rightPoints = b.rightPoints;
  a.count = b.count;
}

function rebuild(node, intervals) {
  var ntree = createIntervalTree(intervals);
  node.mid = ntree.mid;
  node.left = ntree.left;
  node.right = ntree.right;
  node.leftPoints = ntree.leftPoints;
  node.rightPoints = ntree.rightPoints;
  node.count = ntree.count;
}

function rebuildWithInterval(node, interval) {
  var intervals = node.intervals([]);
  intervals.push(interval);
  rebuild(node, intervals);
}

function rebuildWithoutInterval(node, interval) {
  var intervals = node.intervals([]);
  var idx = intervals.indexOf(interval);

  if (idx < 0) {
    return NOT_FOUND;
  }

  intervals.splice(idx, 1);
  rebuild(node, intervals);
  return SUCCESS;
}

proto.intervals = function (result) {
  result.push.apply(result, this.leftPoints);

  if (this.left) {
    this.left.intervals(result);
  }

  if (this.right) {
    this.right.intervals(result);
  }

  return result;
};

proto.insert = function (interval) {
  var weight = this.count - this.leftPoints.length;
  this.count += 1;

  if (interval[1] < this.mid) {
    if (this.left) {
      if (4 * (this.left.count + 1) > 3 * (weight + 1)) {
        rebuildWithInterval(this, interval);
      } else {
        this.left.insert(interval);
      }
    } else {
      this.left = createIntervalTree([interval]);
    }
  } else if (interval[0] > this.mid) {
    if (this.right) {
      if (4 * (this.right.count + 1) > 3 * (weight + 1)) {
        rebuildWithInterval(this, interval);
      } else {
        this.right.insert(interval);
      }
    } else {
      this.right = createIntervalTree([interval]);
    }
  } else {
    var l = _binarySearchBounds__WEBPACK_IMPORTED_MODULE_0__["default"].ge(this.leftPoints, interval, compareBegin);
    var r = _binarySearchBounds__WEBPACK_IMPORTED_MODULE_0__["default"].ge(this.rightPoints, interval, compareEnd);
    this.leftPoints.splice(l, 0, interval);
    this.rightPoints.splice(r, 0, interval);
  }
};

proto.remove = function (interval) {
  var weight = this.count - this.leftPoints;

  if (interval[1] < this.mid) {
    if (!this.left) {
      return NOT_FOUND;
    }

    var rw = this.right ? this.right.count : 0;

    if (4 * rw > 3 * (weight - 1)) {
      return rebuildWithoutInterval(this, interval);
    }

    var r = this.left.remove(interval);

    if (r === EMPTY) {
      this.left = null;
      this.count -= 1;
      return SUCCESS;
    } else if (r === SUCCESS) {
      this.count -= 1;
    }

    return r;
  } else if (interval[0] > this.mid) {
    if (!this.right) {
      return NOT_FOUND;
    }

    var lw = this.left ? this.left.count : 0;

    if (4 * lw > 3 * (weight - 1)) {
      return rebuildWithoutInterval(this, interval);
    }

    var r = this.right.remove(interval);

    if (r === EMPTY) {
      this.right = null;
      this.count -= 1;
      return SUCCESS;
    } else if (r === SUCCESS) {
      this.count -= 1;
    }

    return r;
  } else {
    if (this.count === 1) {
      if (this.leftPoints[0] === interval) {
        return EMPTY;
      } else {
        return NOT_FOUND;
      }
    }

    if (this.leftPoints.length === 1 && this.leftPoints[0] === interval) {
      if (this.left && this.right) {
        var p = this;
        var n = this.left;

        while (n.right) {
          p = n;
          n = n.right;
        }

        if (p === this) {
          n.right = this.right;
        } else {
          var l = this.left;
          var r = this.right;
          p.count -= n.count;
          p.right = n.left;
          n.left = l;
          n.right = r;
        }

        copy(this, n);
        this.count = (this.left ? this.left.count : 0) + (this.right ? this.right.count : 0) + this.leftPoints.length;
      } else if (this.left) {
        copy(this, this.left);
      } else {
        copy(this, this.right);
      }

      return SUCCESS;
    }

    for (var l = _binarySearchBounds__WEBPACK_IMPORTED_MODULE_0__["default"].ge(this.leftPoints, interval, compareBegin); l < this.leftPoints.length; ++l) {
      if (this.leftPoints[l][0] !== interval[0]) {
        break;
      }

      if (this.leftPoints[l] === interval) {
        this.count -= 1;
        this.leftPoints.splice(l, 1);

        for (var r = _binarySearchBounds__WEBPACK_IMPORTED_MODULE_0__["default"].ge(this.rightPoints, interval, compareEnd); r < this.rightPoints.length; ++r) {
          if (this.rightPoints[r][1] !== interval[1]) {
            break;
          } else if (this.rightPoints[r] === interval) {
            this.rightPoints.splice(r, 1);
            return SUCCESS;
          }
        }
      }
    }

    return NOT_FOUND;
  }
};

function reportLeftRange(arr, hi, cb) {
  for (var i = 0; i < arr.length && arr[i][0] <= hi; ++i) {
    var r = cb(arr[i]);

    if (r) {
      return r;
    }
  }
}

function reportRightRange(arr, lo, cb) {
  for (var i = arr.length - 1; i >= 0 && arr[i][1] >= lo; --i) {
    var r = cb(arr[i]);

    if (r) {
      return r;
    }
  }
}

function reportRange(arr, cb) {
  for (var i = 0; i < arr.length; ++i) {
    var r = cb(arr[i]);

    if (r) {
      return r;
    }
  }
}

proto.queryPoint = function (x, cb) {
  if (x < this.mid) {
    if (this.left) {
      var r = this.left.queryPoint(x, cb);

      if (r) {
        return r;
      }
    }

    return reportLeftRange(this.leftPoints, x, cb);
  } else if (x > this.mid) {
    if (this.right) {
      var r = this.right.queryPoint(x, cb);

      if (r) {
        return r;
      }
    }

    return reportRightRange(this.rightPoints, x, cb);
  } else {
    return reportRange(this.leftPoints, cb);
  }
};

proto.queryInterval = function (lo, hi, cb) {
  if (lo < this.mid && this.left) {
    var r = this.left.queryInterval(lo, hi, cb);

    if (r) {
      return r;
    }
  }

  if (hi > this.mid && this.right) {
    var r = this.right.queryInterval(lo, hi, cb);

    if (r) {
      return r;
    }
  }

  if (hi < this.mid) {
    return reportLeftRange(this.leftPoints, hi, cb);
  } else if (lo > this.mid) {
    return reportRightRange(this.rightPoints, lo, cb);
  } else {
    return reportRange(this.leftPoints, cb);
  }
};

function compareNumbers(a, b) {
  return a - b;
}

function compareBegin(a, b) {
  var d = a[0] - b[0];

  if (d) {
    return d;
  }

  return a[1] - b[1];
}

function compareEnd(a, b) {
  var d = a[1] - b[1];

  if (d) {
    return d;
  }

  return a[0] - b[0];
}

function createIntervalTree(intervals) {
  if (intervals.length === 0) {
    return null;
  }

  var pts = [];

  for (var i = 0; i < intervals.length; ++i) {
    pts.push(intervals[i][0], intervals[i][1]);
  }

  pts.sort(compareNumbers);
  var mid = pts[pts.length >> 1];
  var leftIntervals = [];
  var rightIntervals = [];
  var centerIntervals = [];

  for (var i = 0; i < intervals.length; ++i) {
    var s = intervals[i];

    if (s[1] < mid) {
      leftIntervals.push(s);
    } else if (mid < s[0]) {
      rightIntervals.push(s);
    } else {
      centerIntervals.push(s);
    }
  } //Split center intervals


  var leftPoints = centerIntervals;
  var rightPoints = centerIntervals.slice();
  leftPoints.sort(compareBegin);
  rightPoints.sort(compareEnd);
  return new IntervalTreeNode(mid, createIntervalTree(leftIntervals), createIntervalTree(rightIntervals), leftPoints, rightPoints);
} //User friendly wrapper that makes it possible to support empty trees


function IntervalTree(root) {
  this.root = root;
}

var tproto = IntervalTree.prototype;

tproto.insert = function (interval) {
  if (this.root) {
    this.root.insert(interval);
  } else {
    this.root = new IntervalTreeNode(interval[0], null, null, [interval], [interval]);
  }
};

tproto.remove = function (interval) {
  if (this.root) {
    var r = this.root.remove(interval);

    if (r === EMPTY) {
      this.root = null;
    }

    return r !== NOT_FOUND;
  }

  return false;
};

tproto.queryPoint = function (p, cb) {
  if (this.root) {
    return this.root.queryPoint(p, cb);
  }
};

tproto.queryInterval = function (lo, hi, cb) {
  if (lo <= hi && this.root) {
    return this.root.queryInterval(lo, hi, cb);
  }
};

Object.defineProperty(tproto, 'count', {
  get: function get() {
    if (this.root) {
      return this.root.count;
    }

    return 0;
  }
});
Object.defineProperty(tproto, 'intervals', {
  get: function get() {
    if (this.root) {
      return this.root.intervals([]);
    }

    return [];
  }
});
function createWrapper(intervals) {
  if (!intervals || intervals.length === 0) {
    return new IntervalTree(null);
  }

  return new IntervalTree(createIntervalTree(intervals));
}

/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vY29tcG9uZW50cy92aXJ0dWFsLWxpc3QvQm90dG9tVmlldy5qc3giLCJ3ZWJwYWNrOi8vX05fRS8uL2NvbXBvbmVudHMvdmlydHVhbC1saXN0L2g1L2l0ZW0uanN4Iiwid2VicGFjazovL19OX0UvLi9jb21wb25lbnRzL3ZpcnR1YWwtbGlzdC9oNS9vYnNlcnZlLWl0ZW0uanN4Iiwid2VicGFjazovL19OX0UvLi9jb21wb25lbnRzL3ZpcnR1YWwtbGlzdC9wYy9pbmRleC5qc3giLCJ3ZWJwYWNrOi8vX05fRS8uL2NvbXBvbmVudHMvdmlydHVhbC1saXN0L3V0aWxzLmpzIiwid2VicGFjazovL19OX0UvLi9sYXlvdXQvaW5kZXgvcGMvY29tcG9uZW50cy9keW5hbWljLXZsaXN0L2luZGV4LmpzeCIsIndlYnBhY2s6Ly9fTl9FLy4vbGF5b3V0L2luZGV4L3BjL2NvbXBvbmVudHMvbmV3LWNvbnRlbnQvaW5kZXguanN4Iiwid2VicGFjazovL19OX0UvLi9sYXlvdXQvaW5kZXgvcGMvY29tcG9uZW50cy90b3AtbWVudS9kYXRhLmpzIiwid2VicGFjazovL19OX0UvLi9sYXlvdXQvaW5kZXgvcGMvY29tcG9uZW50cy90b3AtbWVudS9pbmRleC5qc3giLCJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9jbHN4L2Rpc3QvY2xzeC5tLmpzIiwid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvZG9tLWhlbHBlcnMvZXNtL2NhblVzZURPTS5qcyIsIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL2RvbS1oZWxwZXJzL2VzbS9zY3JvbGxiYXJTaXplLmpzIiwid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvcmVhY3QtbGlmZWN5Y2xlcy1jb21wYXQvcmVhY3QtbGlmZWN5Y2xlcy1jb21wYXQuZXMuanMiLCJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9yZWFjdC12aXJ0dWFsaXplZC9kaXN0L2VzL0Fycm93S2V5U3RlcHBlci9BcnJvd0tleVN0ZXBwZXIuanMiLCJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9yZWFjdC12aXJ0dWFsaXplZC9kaXN0L2VzL0Fycm93S2V5U3RlcHBlci9pbmRleC5qcyIsIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL3JlYWN0LXZpcnR1YWxpemVkL2Rpc3QvZXMvQXJyb3dLZXlTdGVwcGVyL3R5cGVzLmpzIiwid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvcmVhY3QtdmlydHVhbGl6ZWQvZGlzdC9lcy9BdXRvU2l6ZXIvQXV0b1NpemVyLmpzIiwid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvcmVhY3QtdmlydHVhbGl6ZWQvZGlzdC9lcy9BdXRvU2l6ZXIvaW5kZXguanMiLCJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9yZWFjdC12aXJ0dWFsaXplZC9kaXN0L2VzL0NlbGxNZWFzdXJlci9DZWxsTWVhc3VyZXIuanMiLCJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9yZWFjdC12aXJ0dWFsaXplZC9kaXN0L2VzL0NlbGxNZWFzdXJlci9DZWxsTWVhc3VyZXJDYWNoZS5qcyIsIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL3JlYWN0LXZpcnR1YWxpemVkL2Rpc3QvZXMvQ2VsbE1lYXN1cmVyL2luZGV4LmpzIiwid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvcmVhY3QtdmlydHVhbGl6ZWQvZGlzdC9lcy9DZWxsTWVhc3VyZXIvdHlwZXMuanMiLCJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9yZWFjdC12aXJ0dWFsaXplZC9kaXN0L2VzL0NvbGxlY3Rpb24vQ29sbGVjdGlvbi5qcyIsIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL3JlYWN0LXZpcnR1YWxpemVkL2Rpc3QvZXMvQ29sbGVjdGlvbi9Db2xsZWN0aW9uVmlldy5qcyIsIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL3JlYWN0LXZpcnR1YWxpemVkL2Rpc3QvZXMvQ29sbGVjdGlvbi9TZWN0aW9uLmpzIiwid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvcmVhY3QtdmlydHVhbGl6ZWQvZGlzdC9lcy9Db2xsZWN0aW9uL1NlY3Rpb25NYW5hZ2VyLmpzIiwid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvcmVhY3QtdmlydHVhbGl6ZWQvZGlzdC9lcy9Db2xsZWN0aW9uL2luZGV4LmpzIiwid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvcmVhY3QtdmlydHVhbGl6ZWQvZGlzdC9lcy9Db2xsZWN0aW9uL3R5cGVzLmpzIiwid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvcmVhY3QtdmlydHVhbGl6ZWQvZGlzdC9lcy9Db2xsZWN0aW9uL3V0aWxzL2NhbGN1bGF0ZVNpemVBbmRQb3NpdGlvbkRhdGEuanMiLCJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9yZWFjdC12aXJ0dWFsaXplZC9kaXN0L2VzL0NvbHVtblNpemVyL0NvbHVtblNpemVyLmpzIiwid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvcmVhY3QtdmlydHVhbGl6ZWQvZGlzdC9lcy9Db2x1bW5TaXplci9pbmRleC5qcyIsIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL3JlYWN0LXZpcnR1YWxpemVkL2Rpc3QvZXMvR3JpZC9HcmlkLmpzIiwid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvcmVhY3QtdmlydHVhbGl6ZWQvZGlzdC9lcy9HcmlkL2FjY2Vzc2liaWxpdHlPdmVyc2NhbkluZGljZXNHZXR0ZXIuanMiLCJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9yZWFjdC12aXJ0dWFsaXplZC9kaXN0L2VzL0dyaWQvZGVmYXVsdENlbGxSYW5nZVJlbmRlcmVyLmpzIiwid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvcmVhY3QtdmlydHVhbGl6ZWQvZGlzdC9lcy9HcmlkL2RlZmF1bHRPdmVyc2NhbkluZGljZXNHZXR0ZXIuanMiLCJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9yZWFjdC12aXJ0dWFsaXplZC9kaXN0L2VzL0dyaWQvaW5kZXguanMiLCJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9yZWFjdC12aXJ0dWFsaXplZC9kaXN0L2VzL0dyaWQvdHlwZXMuanMiLCJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9yZWFjdC12aXJ0dWFsaXplZC9kaXN0L2VzL0dyaWQvdXRpbHMvQ2VsbFNpemVBbmRQb3NpdGlvbk1hbmFnZXIuanMiLCJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9yZWFjdC12aXJ0dWFsaXplZC9kaXN0L2VzL0dyaWQvdXRpbHMvU2NhbGluZ0NlbGxTaXplQW5kUG9zaXRpb25NYW5hZ2VyLmpzIiwid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvcmVhY3QtdmlydHVhbGl6ZWQvZGlzdC9lcy9HcmlkL3V0aWxzL2NhbGN1bGF0ZVNpemVBbmRQb3NpdGlvbkRhdGFBbmRVcGRhdGVTY3JvbGxPZmZzZXQuanMiLCJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9yZWFjdC12aXJ0dWFsaXplZC9kaXN0L2VzL0dyaWQvdXRpbHMvbWF4RWxlbWVudFNpemUuanMiLCJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9yZWFjdC12aXJ0dWFsaXplZC9kaXN0L2VzL0dyaWQvdXRpbHMvdXBkYXRlU2Nyb2xsSW5kZXhIZWxwZXIuanMiLCJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9yZWFjdC12aXJ0dWFsaXplZC9kaXN0L2VzL0luZmluaXRlTG9hZGVyL0luZmluaXRlTG9hZGVyLmpzIiwid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvcmVhY3QtdmlydHVhbGl6ZWQvZGlzdC9lcy9JbmZpbml0ZUxvYWRlci9pbmRleC5qcyIsIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL3JlYWN0LXZpcnR1YWxpemVkL2Rpc3QvZXMvTGlzdC9MaXN0LmpzIiwid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvcmVhY3QtdmlydHVhbGl6ZWQvZGlzdC9lcy9MaXN0L2luZGV4LmpzIiwid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvcmVhY3QtdmlydHVhbGl6ZWQvZGlzdC9lcy9MaXN0L3R5cGVzLmpzIiwid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvcmVhY3QtdmlydHVhbGl6ZWQvZGlzdC9lcy9NYXNvbnJ5L01hc29ucnkuanMiLCJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9yZWFjdC12aXJ0dWFsaXplZC9kaXN0L2VzL01hc29ucnkvUG9zaXRpb25DYWNoZS5qcyIsIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL3JlYWN0LXZpcnR1YWxpemVkL2Rpc3QvZXMvTWFzb25yeS9jcmVhdGVDZWxsUG9zaXRpb25lci5qcyIsIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL3JlYWN0LXZpcnR1YWxpemVkL2Rpc3QvZXMvTWFzb25yeS9pbmRleC5qcyIsIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL3JlYWN0LXZpcnR1YWxpemVkL2Rpc3QvZXMvTXVsdGlHcmlkL0NlbGxNZWFzdXJlckNhY2hlRGVjb3JhdG9yLmpzIiwid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvcmVhY3QtdmlydHVhbGl6ZWQvZGlzdC9lcy9NdWx0aUdyaWQvTXVsdGlHcmlkLmpzIiwid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvcmVhY3QtdmlydHVhbGl6ZWQvZGlzdC9lcy9NdWx0aUdyaWQvaW5kZXguanMiLCJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9yZWFjdC12aXJ0dWFsaXplZC9kaXN0L2VzL1Njcm9sbFN5bmMvU2Nyb2xsU3luYy5qcyIsIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL3JlYWN0LXZpcnR1YWxpemVkL2Rpc3QvZXMvU2Nyb2xsU3luYy9pbmRleC5qcyIsIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL3JlYWN0LXZpcnR1YWxpemVkL2Rpc3QvZXMvVGFibGUvQ29sdW1uLmpzIiwid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvcmVhY3QtdmlydHVhbGl6ZWQvZGlzdC9lcy9UYWJsZS9Tb3J0RGlyZWN0aW9uLmpzIiwid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvcmVhY3QtdmlydHVhbGl6ZWQvZGlzdC9lcy9UYWJsZS9Tb3J0SW5kaWNhdG9yLmpzIiwid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvcmVhY3QtdmlydHVhbGl6ZWQvZGlzdC9lcy9UYWJsZS9UYWJsZS5qcyIsIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL3JlYWN0LXZpcnR1YWxpemVkL2Rpc3QvZXMvVGFibGUvY3JlYXRlTXVsdGlTb3J0LmpzIiwid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvcmVhY3QtdmlydHVhbGl6ZWQvZGlzdC9lcy9UYWJsZS9kZWZhdWx0Q2VsbERhdGFHZXR0ZXIuanMiLCJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9yZWFjdC12aXJ0dWFsaXplZC9kaXN0L2VzL1RhYmxlL2RlZmF1bHRDZWxsUmVuZGVyZXIuanMiLCJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9yZWFjdC12aXJ0dWFsaXplZC9kaXN0L2VzL1RhYmxlL2RlZmF1bHRIZWFkZXJSZW5kZXJlci5qcyIsIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL3JlYWN0LXZpcnR1YWxpemVkL2Rpc3QvZXMvVGFibGUvZGVmYXVsdEhlYWRlclJvd1JlbmRlcmVyLmpzIiwid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvcmVhY3QtdmlydHVhbGl6ZWQvZGlzdC9lcy9UYWJsZS9kZWZhdWx0Um93UmVuZGVyZXIuanMiLCJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9yZWFjdC12aXJ0dWFsaXplZC9kaXN0L2VzL1RhYmxlL2luZGV4LmpzIiwid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvcmVhY3QtdmlydHVhbGl6ZWQvZGlzdC9lcy9UYWJsZS90eXBlcy5qcyIsIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL3JlYWN0LXZpcnR1YWxpemVkL2Rpc3QvZXMvV2luZG93U2Nyb2xsZXIvV2luZG93U2Nyb2xsZXIuanMiLCJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9yZWFjdC12aXJ0dWFsaXplZC9kaXN0L2VzL1dpbmRvd1Njcm9sbGVyL2luZGV4LmpzIiwid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvcmVhY3QtdmlydHVhbGl6ZWQvZGlzdC9lcy9XaW5kb3dTY3JvbGxlci91dGlscy9kaW1lbnNpb25zLmpzIiwid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvcmVhY3QtdmlydHVhbGl6ZWQvZGlzdC9lcy9XaW5kb3dTY3JvbGxlci91dGlscy9vblNjcm9sbC5qcyIsIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL3JlYWN0LXZpcnR1YWxpemVkL2Rpc3QvZXMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9yZWFjdC12aXJ0dWFsaXplZC9kaXN0L2VzL3V0aWxzL2FuaW1hdGlvbkZyYW1lLmpzIiwid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvcmVhY3QtdmlydHVhbGl6ZWQvZGlzdC9lcy91dGlscy9jcmVhdGVDYWxsYmFja01lbW9pemVyLmpzIiwid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvcmVhY3QtdmlydHVhbGl6ZWQvZGlzdC9lcy91dGlscy9nZXRVcGRhdGVkT2Zmc2V0Rm9ySW5kZXguanMiLCJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9yZWFjdC12aXJ0dWFsaXplZC9kaXN0L2VzL3V0aWxzL3JlcXVlc3RBbmltYXRpb25UaW1lb3V0LmpzIiwid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvcmVhY3QtdmlydHVhbGl6ZWQvZGlzdC9lcy92ZW5kb3IvYmluYXJ5U2VhcmNoQm91bmRzLmpzIiwid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvcmVhY3QtdmlydHVhbGl6ZWQvZGlzdC9lcy92ZW5kb3IvZGV0ZWN0RWxlbWVudFJlc2l6ZS5qcyIsIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL3JlYWN0LXZpcnR1YWxpemVkL2Rpc3QvZXMvdmVuZG9yL2ludGVydmFsVHJlZS5qcyJdLCJuYW1lcyI6WyJvYnNlcnZlciIsInByb3BzIiwiZGF0YSIsImlzTGFzdCIsImNhblB1Ymxpc2giLCJyZWYiLCJ1c2VSZWYiLCJ1c2VFZmZlY3QiLCJtZWFzdXJlIiwiY3VycmVudCIsImNsaWVudEhlaWdodCIsImVycm9yIiwicmVjb21wdXRlUm93SGVpZ2h0cyIsImNhbGxiYWNrIiwiY29uZmlnIiwiYXR0cmlidXRlcyIsImNoaWxkTGlzdCIsInN1YnRyZWUiLCJNdXRhdGlvbk9ic2VydmVyIiwib2JzZXJ2ZSIsImRpc2Nvbm5lY3QiLCJlbmFibGVDb21tZW50TGlzdCIsInRocmVhZElkIiwiY2hpbGRyZW4iLCJpbW11dGFibGVIZWlnaHRNYXAiLCJwcmVTY3JvbGxUb3AiLCJzY3JvbGxUaW1lciIsImxvYWREYXRhIiwic3RhcnROdW0iLCJzdG9wTnVtIiwiZXh0ZW5kQ2FjaGUiLCJpbnN0YW5jZSIsImdldERlZmF1bHRIZWlnaHQiLCJpbmRleCIsImltbXV0YWJsZUhlaWdodCIsImdldEltbXV0YWJsZVR5cGVIZWlnaHQiLCJ2YXJpYWJsZUhlaWdodCIsInJvd0hlaWdodCIsImtleSIsIl9rZXlNYXBwZXIiLCJoZWlnaHQiLCJfcm93SGVpZ2h0Q2FjaGUiLCJ1bmRlZmluZWQiLCJIb21lIiwiY2FjaGUiLCJ2bGlzdCIsInBsYXRmb3JtIiwibGVmdCIsInJpZ2h0IiwidG9wIiwicGFnZU5hbWUiLCJDZWxsTWVhc3VyZXJDYWNoZSIsImZpeGVkV2lkdGgiLCJzaG93Iiwic2V0Q2FjaGUiLCJ1c2VTdGF0ZSIsInR5cGUiLCJsaXN0Iiwic2V0TGlzdCIsImxpc3RSZWYiLCJyb3dDb3VudCIsImxlbmd0aCIsInNjcm9sbFRvcCIsInNldFNjcm9sbFRvcCIsImZsYWciLCJzZXRGbGFnIiwic2Nyb2xsVG9Qb3NpdGlvbiIsImhvbWUiLCJHcmlkIiwiZ2V0VG90YWxSb3dzSGVpZ2h0Iiwic3RpY2tzIiwidmlzaWJsZSIsIm1hcCIsInVwZGF0ZWREYXRhIiwiZ2V0Um93SGVpZ2h0IiwicmVuZGVyTGlzdEl0ZW0iLCJwYXJlbnQiLCJzdHlsZSIsIm5vTW9yZSIsInJlcXVlc3RFcnJvciIsImVycm9yVGV4dCIsInJvd1JlbmRlcmVyIiwicmVnaXN0ZXJDaGlsZCIsImxheW91dCIsImNlbnRlciIsIl90aW1lIiwib25TY3JvbGwiLCJzY3JvbGxIZWlnaHQiLCJjbGVhclRpbWVvdXQiLCJzZXRUaW1lb3V0Iiwic2V0UG9zaXRpb24iLCJsb2FkTmV4dFBhZ2UiLCJwcm9taXNlIiwib3ZlcnNjYW5JbmRpY2VzR2V0dGVyIiwiY2VsbENvdW50Iiwic2Nyb2xsRGlyZWN0aW9uIiwib3ZlcnNjYW5DZWxsc0NvdW50Iiwic3RhcnRJbmRleCIsInN0b3BJbmRleCIsIm92ZXJzY2FuU3RhcnRJbmRleCIsIk1hdGgiLCJtYXgiLCJvdmVyc2NhblN0b3BJbmRleCIsIm1pbiIsImhhbmRsZUJhY2t0b1RvcCIsImlzUm93TG9hZGVkIiwibG9hZE1vcmVSb3dzIiwiUHJvbWlzZSIsInJlc29sdmUiLCJvblJvd3NSZW5kZXJlZCIsIndpZHRoIiwiZml4ZWQiLCJzY3JvbGxBcmVhIiwiaW5qZWN0IiwiZm9yd2FyZFJlZiIsInR5cGVIZWlnaHQiLCJoZWFkZXIiLCJ0aXRsZSIsImltYWdlcyIsImdvb2RzIiwicmVkUGFja2V0IiwicmV3YXJkIiwidmlkZW8iLCJhdWRpbyIsImZpbGUiLCJmaWxlTWFyZ2luVG9wIiwic2hhcmVMaWtlIiwiZm9vdGVyIiwiZm9vdGVyTWFyZ2luVG9wIiwicGF5QnV0dG9uIiwibmVlZFBheSIsInBheVR5cGUiLCJwYWlkIiwibGlrZVJld2FyZCIsInBvc3RDb3VudCIsInNoYXJlQ291bnQiLCJsaWtlUGF5Q291bnQiLCJjb250ZW50IiwidmFsdWVzIiwiT2JqZWN0IiwiaW5kZXhlcyIsImZvckVhY2giLCJpdGVtIiwidG9tSWQiLCJjb252ZXJzaW9uVG9tSUQiLCJib2R5IiwiaW1nTnVtIiwiZ2V0U3RpY2tzSGVpZ2h0IiwiZ2V0VGFic0hlaWdodCIsImdldExvZ0hlaWdodCIsIlRvcEZpbHRlclZpZXciLCJvbkZpbHRlckNsaWNrIiwiaXNTaG93RGVmYXVsdCIsIm9uUG9zdFRocmVhZCIsImlzaGlkZSIsInNpdGUiLCJjb21wb25lbnQiLCJzdHlsZXMiLCJ0b3BCb3giLCJjaGFuZ2VGaWx0ZXIiLCJwYXJhbXMiLCJ0eXBlcyIsInNvcnQiLCJlc3NlbmNlIiwiYXR0ZW50aW9uIiwic2VxdWVuY2UiLCJyZXN1bHQiLCJmaWx0ZXIiLCJ0b3BXcmFwcGVyIiwidmlzaWJpbGl0eSIsIkR5bmFtaWNWTGlzdCIsInJlbmRlckNvbnRlbnQiLCJjb25OdW0iLCJnb1JlZnJlc2giLCJ0aHJlYWRzIiwicGFnZURhdGEiLCJpbmRleENvbnRlbnQiLCJjb250bmV0VG9wIiwiVG9wTmV3c0JveCIsIm5vQm9yZGVyIiwidG9wTmV3Q29udGVudCIsInRoZW1lQm94IiwidGhlbWVJdGVtIiwidGhyZWFkQ29udGVudCIsImNyZWF0ZWRBdCIsInVwZGF0ZWRBdCIsInJlbmRlclRvcCIsInNpdGVTdG9yZSIsInJlbmRlclZsaXN0IiwicmVuZGVyUmlnaHQiLCJyZW5kZXJMZWZ0Iiwid2ViQ29uZmlnIiwib3RoZXIiLCJjb3VudFRocmVhZHMiLCJ0b3BwaW5nQ29tcG9uZW50Iiwib25Db250ZW50SGVpZ2h0Q2hhbmdlIiwibGlzdEl0ZW0iLCJpbmRleFN0b3JlIiwiZW5hYmxlZFZMaXN0IiwiUmVhY3QiLCJDb21wb25lbnQiLCJOZXdDb250ZW50Iiwibm9vcCIsInJlZnJlc2giLCJzZXRSZWZyZXNoIiwiaGFuZGxlUmVmcmVzaCIsImNvbnRhaW5lciIsInRleHQiLCJyZWZyZXNoQnRuIiwic3BpbiIsIm1lbW8iLCJsYWJlbCIsImlzQWN0aXZlIiwidmFsdWUiLCJJbmRleCIsIm9uU3VibWl0IiwibmFtZSIsIm5ld0ZpbHRlckRhdGEiLCJmaWx0ZXJEYXRhIiwic2xpY2UiLCJzcGxpY2UiLCJkZWVwQ2xvbmUiLCJkYXRhU291cmNlIiwic2V0RGF0YVNvdXJjZSIsImFjdGl2ZUluZGV4IiwidG9wTWVudUluZGV4IiwidGhyZWFkVHlwZWxpc3QiLCJvbkNsaWNrIiwic3ViSW5kZXgiLCJuZXdEYXRhU291cmNlIiwiaW5kZXhPZiIsImkiLCJwYXJzZUludCIsInNwbGl0Iiwic3ViSW5kZXhJdGVtcyIsImluZGV4SXRlbSIsImluZGV4SXRlbXMiLCJpc05hTiIsImhhbmRsZVJlc3VsdCIsInN1YiIsInJlc2V0TGluZSIsInN1YkFjdGl2ZUluZGV4IiwidXNlTWVtbyIsImFyciIsInBhZGRpbmciLCJzZWNvbmRJdGVtIiwic2Vjb25kSW5kZXgiLCJsaW5lIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ0FBO0FBQ0E7QUFDQTtBQUVlLHFFQUFBQSwyREFBUSxTQUFDLFVBQUNDLEtBQUQsRUFBVztBQUFBOztBQUFBOztBQUFBLE1BQ3pCQyxJQUR5QixHQUNnQkQsS0FEaEIsQ0FDekJDLElBRHlCO0FBQUEsTUFDbkJDLE1BRG1CLEdBQ2dCRixLQURoQixDQUNuQkUsTUFEbUI7QUFBQSwwQkFDZ0JGLEtBRGhCLENBQ1hHLFVBRFc7QUFBQSxNQUNYQSxVQURXLGtDQUNFLFlBQU0sQ0FBRyxDQURYO0FBR2pDLE1BQU1DLEdBQUcsR0FBR0Msb0RBQU0sQ0FBQyxJQUFELENBQWxCO0FBRUFDLHlEQUFTLENBQUMsWUFBTTtBQUNkQyxXQUFPO0FBQ1IsR0FGUSxFQUVOLENBQUNI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QTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEM7Ozs7Ozs7Ozs7OztBQ2xCQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFb0I7Ozs7Ozs7Ozs7Ozs7QUM3SnBCO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtB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O0FBQ0E7QUFDQTtBQUNBOztBQUVBLEVBQUUseUVBQVk7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsaURBQWlELFlBQVk7QUFDN0Q7QUFDQTtBQUNBLFdBQVcsRUFBRTtBQUNiOzs7QUFHQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVEQUF1RDtBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3REFBd0Q7QUFDeEQ7O0FBRUEsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQOzs7QUFHQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQSxDQUFDOztBQUVnRDtBQUNJO0FBQ0s7Ozs7Ozs7Ozs7Ozs7QUM5UzFEO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQXNGO0FBQ2xCO0FBQ047QUFDTTtBQUNFO0FBQ2Q7O0FBRXhEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3REFBd0QsNEVBQWlCO0FBQ3pFLGlCQUFpQixxRkFBd0I7O0FBRXpDLElBQUksNEVBQWU7O0FBRW5CLElBQUksNEVBQWU7O0FBRW5CLElBQUksNEVBQWU7O0FBRW5CO0FBQ0EsMkNBQTJDLG1FQUEwQjtBQUNyRTtBQUNBOztBQUVBLEVBQUUseUVBQVk7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87O0FBRVA7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87O0FBRVA7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87O0FBRVA7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7O0FBRUEsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUzs7QUFFVDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7O0FBRVQ7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBLENBQUM7O0FBRXVEO0FBQ0g7QUFDSzs7Ozs7Ozs7Ozs7OztBQ3pNMUQ7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNB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WjtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsaUJBQWlCLDJEQUFHO0FBQ3BCO0FBQ0E7O0FBRUE7QUFDQSxRQUFRLDJEQUFHO0FBQ1g7QUFDQTtBQUNBO0FBQ21DOzs7Ozs7Ozs7Ozs7O0FDbENuQztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTs7QUFFZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLEU7Ozs7Ozs7Ozs7OztBQzdPRDtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QjtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDZTtBQUNmO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBLE9BQU87QUFDUDtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLHVCQUF1Qix3QkFBd0I7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFD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Q0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsQ0FBQztBQUNjO0FBQ2Y7QUFDQTtBQUNBOztBQUVBO0FBQ0EsQyIsImZpbGUiOiJzdGF0aWMvY2h1bmtzLzEuanMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgeyBkZWZhdWx0IH0gZnJvbSAnQGNvbXBvbmVudHMvbGlzdC9Cb3R0b21WaWV3JztcclxuIiwiaW1wb3J0IFJlYWN0LCB7IHVzZUVmZmVjdCwgdXNlUmVmIH0gZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgVGhyZWFkQ29udGVudCBmcm9tICdAY29tcG9uZW50cy90aHJlYWQnO1xyXG5pbXBvcnQgeyBvYnNlcnZlciB9IGZyb20gJ21vYngtcmVhY3QnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgb2JzZXJ2ZXIoKHByb3BzKSA9PiB7XHJcbiAgY29uc3QgeyBkYXRhLCBpc0xhc3QsIGNhblB1Ymxpc2ggPSAoKSA9PiB7IH0gfSA9IHByb3BzO1xyXG5cclxuICBjb25zdCByZWYgPSB1c2VSZWYobnVsbCk7XHJcblxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBtZWFzdXJlKCk7XHJcbiAgfSwgW3JlZj8uY3VycmVudD8uY2xpZW50SGVpZ2h0XSk7XHJcblxyXG4gIGNvbnN0IG1lYXN1cmUgPSAoKSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICB0eXBlb2YgcHJvcHMubWVhc3VyZSA9PT0gJ2Z1bmN0aW9uJyAmJiBwcm9wcy5tZWFzdXJlKCk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAvLyBjb25zb2xlLmxvZyhlcnJvcik7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgcmVjb21wdXRlUm93SGVpZ2h0cyA9IChkYXRhKSA9PiB7XHJcbiAgICBwcm9wcy5yZWNvbXB1dGVSb3dIZWlnaHRzKGRhdGEpO1xyXG4gICAgbWVhc3VyZSgpO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IGNhbGxiYWNrID0gKCkgPT4ge1xyXG4gICAgbWVhc3VyZSAmJiBtZWFzdXJlKCk7XHJcbiAgfTtcclxuXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGlmIChyZWYuY3VycmVudCkge1xyXG4gICAgICBjb25zdCBjb25maWcgPSB7IGF0dHJpYnV0ZXM6IHRydWUsIGNoaWxkTGlzdDogdHJ1ZSwgc3VidHJlZTogdHJ1ZSB9O1xyXG5cclxuICAgICAgdHJ5IHtcclxuICAgICAgICBjb25zdCBvYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKGNhbGxiYWNrKTtcclxuICAgICAgICBvYnNlcnZlci5vYnNlcnZlKHJlZi5jdXJyZW50LCBjb25maWcpO1xyXG4gICAgICAgIHJldHVybiAoKSA9PiB7XHJcbiAgICAgICAgICBvYnNlcnZlci5kaXNjb25uZWN0KCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZyhlcnJvcik7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9LCBbcmVmXSk7XHJcblxyXG4gIHJldHVybiAoXHJcbiAgICA8ZGl2IHJlZj17cmVmfT5cclxuICAgICAgPFRocmVhZENvbnRlbnRcclxuICAgICAgICBvbkNvbnRlbnRIZWlnaHRDaGFuZ2U9e21lYXN1cmV9XHJcbiAgICAgICAgb25JbWFnZVJlYWR5PXttZWFzdXJlfVxyXG4gICAgICAgIG9uVmlkZW9SZWFkeT17bWVhc3VyZX1cclxuICAgICAgICBrZXk9e2RhdGEudGhyZWFkSWR9XHJcbiAgICAgICAgc2hvd0JvdHRvbVN0eWxlPXshaXNMYXN0fVxyXG4gICAgICAgIGRhdGE9e2RhdGF9XHJcbiAgICAgICAgLy8gY2xhc3NOYW1lPXtzdHlsZXMubGlzdEl0ZW19XHJcbiAgICAgICAgcmVjb21wdXRlUm93SGVpZ2h0cz17KGRhdGEpID0+IHJlY29tcHV0ZVJvd0hlaWdodHMoZGF0YSl9XHJcbiAgICAgICAgZW5hYmxlQ29tbWVudExpc3Q9e3Byb3BzLmVuYWJsZUNvbW1lbnRMaXN0fVxyXG4gICAgICAgIGNhblB1Ymxpc2g9e2NhblB1Ymxpc2h9XHJcbiAgICAgIC8+XHJcbiAgICA8L2Rpdj5cclxuICApO1xyXG59KTtcclxuIiwiaW1wb3J0IFJlYWN0LCB7IHVzZUVmZmVjdCwgdXNlUmVmIH0gZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgeyBvYnNlcnZlciB9IGZyb20gJ21vYngtcmVhY3QnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgb2JzZXJ2ZXIoKHByb3BzKSA9PiB7XHJcbiAgY29uc3QgcmVmID0gdXNlUmVmKG51bGwpO1xyXG5cclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgbWVhc3VyZSgpO1xyXG4gIH0sIFtyZWY/LmN1cnJlbnQ/LmNsaWVudEhlaWdodF0pO1xyXG5cclxuICBjb25zdCBtZWFzdXJlID0gKCkgPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgdHlwZW9mIHByb3BzLm1lYXN1cmUgPT09ICdmdW5jdGlvbicgJiYgcHJvcHMubWVhc3VyZSgpO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgLy8gY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIGNvbnN0IGNhbGxiYWNrID0gKCkgPT4ge1xyXG4gICAgbWVhc3VyZSAmJiBtZWFzdXJlKCk7XHJcbiAgfTtcclxuXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGlmIChyZWYuY3VycmVudCkge1xyXG4gICAgICBjb25zdCBjb25maWcgPSB7IGF0dHJpYnV0ZXM6IHRydWUsIGNoaWxkTGlzdDogdHJ1ZSwgc3VidHJlZTogdHJ1ZSB9O1xyXG5cclxuICAgICAgdHJ5IHtcclxuICAgICAgICBjb25zdCBvYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKGNhbGxiYWNrKTtcclxuICAgICAgICBvYnNlcnZlci5vYnNlcnZlKHJlZi5jdXJyZW50LCBjb25maWcpO1xyXG4gICAgICAgIHJldHVybiAoKSA9PiB7XHJcbiAgICAgICAgICBvYnNlcnZlci5kaXNjb25uZWN0KCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZyhlcnJvcik7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9LCBbcmVmXSk7XHJcblxyXG4gIHJldHVybiAoXHJcbiAgICA8ZGl2IHJlZj17cmVmfT5cclxuICAgICAge3Byb3BzLmNoaWxkcmVufVxyXG4gICAgPC9kaXY+XHJcbiAgKTtcclxufSk7XHJcbiIsImltcG9ydCBSZWFjdCwgeyB1c2VSZWYsIGZvcndhcmRSZWYsIHVzZVN0YXRlLCB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCAnLi9pbmRleC5zY3NzJztcclxuaW1wb3J0IEl0ZW0gZnJvbSAnLi4vaDUvaXRlbSc7XHJcbmltcG9ydCBPYnNlcnZlSXRlbSBmcm9tICcuLi9oNS9vYnNlcnZlLWl0ZW0nO1xyXG5pbXBvcnQgQm90dG9tVmlldyBmcm9tICcuLi9Cb3R0b21WaWV3JztcclxuaW1wb3J0IEJhY2t0b1RvcCBmcm9tICdAY29tcG9uZW50cy9saXN0L2JhY2t0by10b3AnO1xyXG5pbXBvcnQgeyBnZXRJbW11dGFibGVUeXBlSGVpZ2h0LCBnZXRMb2dIZWlnaHQsIGdldFN0aWNrc0hlaWdodCwgZ2V0VGFic0hlaWdodCB9IGZyb20gJy4uL3V0aWxzJztcclxuXHJcbmltcG9ydCB7IExpc3QsIENlbGxNZWFzdXJlciwgQ2VsbE1lYXN1cmVyQ2FjaGUsIEF1dG9TaXplciwgSW5maW5pdGVMb2FkZXIgfSBmcm9tICdyZWFjdC12aXJ0dWFsaXplZCc7XHJcbmltcG9ydCB7IGluamVjdCwgb2JzZXJ2ZXIgfSBmcm9tICdtb2J4LXJlYWN0JztcclxuXHJcbmltcG9ydCBsYXlvdXQgZnJvbSAnLi9sYXlvdXQubW9kdWxlLnNjc3MnO1xyXG5cclxuY29uc3QgaW1tdXRhYmxlSGVpZ2h0TWFwID0ge307IC8vIOS4jeWPr+WPmOeahOmrmOW6plxyXG5cclxubGV0IHByZVNjcm9sbFRvcCA9IDA7XHJcbmxldCBzY3JvbGxUaW1lcjtcclxubGV0IGxvYWREYXRhID0gZmFsc2U7XHJcbmxldCBzdGFydE51bTtcclxubGV0IHN0b3BOdW07XHJcblxyXG4vLyDlop7lvLpjYWNoZeWunuS+i1xyXG5mdW5jdGlvbiBleHRlbmRDYWNoZShpbnN0YW5jZSkge1xyXG4gIGluc3RhbmNlLmdldERlZmF1bHRIZWlnaHQgPSAoeyBpbmRleCwgZGF0YSB9KSA9PiB7XHJcbiAgICBpZiAoIWRhdGEpIHtcclxuICAgICAgcmV0dXJuIDA7XHJcbiAgICB9XHJcblxyXG4gICAgLy8g6I635Y+W5LiN5Y+v5Y+Y55qE5YWD57Sg6auY5bqmXHJcbiAgICBjb25zdCBpbW11dGFibGVIZWlnaHQgPSBnZXRJbW11dGFibGVUeXBlSGVpZ2h0KGRhdGEpO1xyXG4gICAgaW1tdXRhYmxlSGVpZ2h0TWFwW2luZGV4XSA9IGltbXV0YWJsZUhlaWdodDtcclxuXHJcbiAgICBjb25zdCB2YXJpYWJsZUhlaWdodCA9IDA7XHJcblxyXG4gICAgY29uc3Qgcm93SGVpZ2h0ID0gaW1tdXRhYmxlSGVpZ2h0ICsgdmFyaWFibGVIZWlnaHQgKyAxMDtcclxuXHJcbiAgICByZXR1cm4gcm93SGVpZ2h0O1xyXG4gIH07XHJcblxyXG4gIGluc3RhbmNlLnJvd0hlaWdodCA9ICh7IGluZGV4LCBkYXRhIH0pID0+IHtcclxuICAgIGNvbnN0IGtleSA9IGluc3RhbmNlLl9rZXlNYXBwZXIoaW5kZXgsIDApO1xyXG4gICAgY29uc3QgaGVpZ2h0ID1cclxuICAgICAgaW5zdGFuY2UuX3Jvd0hlaWdodENhY2hlW2tleV0gIT09IHVuZGVmaW5lZFxyXG4gICAgICAgID8gaW5zdGFuY2UuX3Jvd0hlaWdodENhY2hlW2tleV1cclxuICAgICAgICA6IGluc3RhbmNlLmdldERlZmF1bHRIZWlnaHQoeyBpbmRleCwgZGF0YSB9KTtcclxuXHJcbiAgICByZXR1cm4gaGVpZ2h0O1xyXG4gIH07XHJcbn1cclxuXHJcbmZ1bmN0aW9uIEhvbWUocHJvcHMsIHJlZikge1xyXG4gIGxldCBjYWNoZSA9IHByb3BzLnZsaXN0LmNhY2hlO1xyXG5cclxuICBjb25zdCB7IHBsYXRmb3JtID0gJ2g1JywgbGVmdCwgcmlnaHQsIHRvcCwgcGFnZU5hbWUgfSA9IHByb3BzO1xyXG5cclxuICBpZiAoIWNhY2hlKSB7XHJcbiAgICBjYWNoZSA9IG5ldyBDZWxsTWVhc3VyZXJDYWNoZSh7XHJcbiAgICAgIGZpeGVkV2lkdGg6IHRydWUsXHJcbiAgICAgIHNob3c6IGZhbHNlLFxyXG4gICAgfSk7XHJcblxyXG4gICAgZXh0ZW5kQ2FjaGUoY2FjaGUpO1xyXG4gICAgcHJvcHMudmxpc3Quc2V0Q2FjaGUoY2FjaGUpO1xyXG4gIH1cclxuXHJcbiAgY29uc3QgW2xpc3QsIHNldExpc3RdID0gdXNlU3RhdGUoW3sgdHlwZTogJ2hlYWRlcicgfSwgLi4uKHByb3BzLmxpc3QgfHwgW10pLCB7IHR5cGU6ICdmb290ZXInIH1dKTtcclxuICBsZXQgbGlzdFJlZiA9IHVzZVJlZihudWxsKTtcclxuICBjb25zdCByb3dDb3VudCA9IGxpc3QubGVuZ3RoO1xyXG4gIGNvbnN0IFtzY3JvbGxUb3AsIHNldFNjcm9sbFRvcF0gPSB1c2VTdGF0ZSgwKTtcclxuXHJcbiAgY29uc3QgW2ZsYWcsIHNldEZsYWddID0gdXNlU3RhdGUodHJ1ZSk7XHJcblxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBpZiAobGlzdFJlZikge1xyXG4gICAgICBsaXN0UmVmLnNjcm9sbFRvUG9zaXRpb24ocHJvcHMudmxpc3QuaG9tZSB8fCAwKTtcclxuICAgIH1cclxuICB9LCBbbGlzdFJlZj8uR3JpZD8uZ2V0VG90YWxSb3dzSGVpZ2h0KCldKTtcclxuXHJcbiAgLy8g55uR5ZCsbGlzdOWIl+ihqFxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBzZXRMaXN0KFt7IHR5cGU6ICdoZWFkZXInIH0sIC4uLihwcm9wcy5saXN0IHx8IFtdKSwgeyB0eXBlOiAnZm9vdGVyJyB9XSk7XHJcbiAgfSwgW3Byb3BzPy5saXN0Py5sZW5ndGhdKTtcclxuXHJcbiAgLy8g55uR5ZCs572u6aG25YiX6KGoXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIHJlY29tcHV0ZVJvd0hlaWdodHMoMCk7XHJcbiAgfSwgW3Byb3BzLnN0aWNrc10pO1xyXG5cclxuICAvLyDnm5HlkKzmm7TmlrDmnaHmlbBcclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgLy8g5pyJ5paw5YaF5a655pu05paw6Jma5ouf5YiX6KGo5pWw5o2uXHJcbiAgICBpZiAoIXByb3BzLnZpc2libGUgJiYgcmVjb21wdXRlUm93SGVpZ2h0cykge1xyXG4gICAgICAocHJvcHMubGlzdCB8fCBbXSkubWFwKChkYXRhLCBpbmRleCkgPT4gcmVjb21wdXRlUm93SGVpZ2h0cyhpbmRleCArIDEsIGRhdGEpKTtcclxuICAgIH0gZWxzZSByZWNvbXB1dGVSb3dIZWlnaHRzKDApO1xyXG4gIH0sIFtwcm9wcy52aXNpYmxlXSk7XHJcblxyXG4gIC8vIOmHjeaWsOiuoeeul+aMh+WumueahOihjOmrmFxyXG4gIGNvbnN0IHJlY29tcHV0ZVJvd0hlaWdodHMgPSAoaW5kZXgsIHVwZGF0ZWREYXRhKSA9PiB7XHJcbiAgICAvLyBUT0RPOuWFiOS4tOaXtuWkhOeQhuS7mOi0ueWQju+8jOWIl+ihqOmhtemdouWGheWuueS4jeabtOaWsOeahOeahOmXrumimFxyXG4gICAgaWYgKHVwZGF0ZWREYXRhKSB7XHJcbiAgICAgIGxpc3RbaW5kZXhdID0gdXBkYXRlZERhdGE7XHJcbiAgICB9XHJcbiAgICBsaXN0UmVmPy5yZWNvbXB1dGVSb3dIZWlnaHRzICYmIGxpc3RSZWY/LnJlY29tcHV0ZVJvd0hlaWdodHMoaW5kZXgpO1xyXG4gIH07XHJcblxyXG4gIC8vIOiOt+WPluavj+S4gOihjOWFg+e0oOeahOmrmOW6plxyXG4gIGNvbnN0IGdldFJvd0hlaWdodCA9ICh7IGluZGV4IH0pID0+IHtcclxuICAgIGNvbnN0IGRhdGEgPSBsaXN0W2luZGV4XTtcclxuXHJcbiAgICBpZiAoIWRhdGEpIHtcclxuICAgICAgcmV0dXJuIDA7XHJcbiAgICB9XHJcblxyXG4gICAgLy8g5aS06YOoXHJcbiAgICAvLyBpZiAoZGF0YS50eXBlID09PSAnaGVhZGVyJykge1xyXG4gICAgLy8gICByZXR1cm4gKFxyXG4gICAgLy8gICAgIGdldExvZ0hlaWdodChwbGF0Zm9ybSkgK1xyXG4gICAgLy8gICAgIGdldFRhYnNIZWlnaHQocGxhdGZvcm0pICtcclxuICAgIC8vICAgICBnZXRTdGlja3NIZWlnaHQocHJvcHMuc3RpY2tzLCBwbGF0Zm9ybSkgK1xyXG4gICAgLy8gICAgIChwcm9wcy52aXNpYmxlID8gNTAgOiAwKVxyXG4gICAgLy8gICApO1xyXG4gICAgLy8gfVxyXG5cclxuICAgIC8vIOW6lemDqFxyXG4gICAgaWYgKGRhdGEudHlwZSA9PT0gJ2Zvb3RlcicpIHtcclxuICAgICAgcmV0dXJuIDYwO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGNhY2hlLnJvd0hlaWdodCh7IGluZGV4LCBkYXRhIH0pO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IHJlbmRlckxpc3RJdGVtID0gKHR5cGUsIGRhdGEsIG1lYXN1cmUsIHsgaW5kZXgsIGtleSwgcGFyZW50LCBzdHlsZSB9KSA9PiB7XHJcbiAgICBzd2l0Y2ggKHR5cGUpIHtcclxuICAgICAgY2FzZSAnaGVhZGVyJzpcclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgPE9ic2VydmVJdGVtXHJcbiAgICAgICAgICAgIGtleT17a2V5fVxyXG4gICAgICAgICAgICBtZWFzdXJlPXsoKSA9PiB7XHJcbiAgICAgICAgICAgICAgbWVhc3VyZSgpO1xyXG4gICAgICAgICAgICB9fVxyXG4gICAgICAgICAgPlxyXG4gICAgICAgICAgICB7cHJvcHMuY2hpbGRyZW59XHJcbiAgICAgICAgICA8L09ic2VydmVJdGVtPlxyXG4gICAgICAgICk7XHJcbiAgICAgIGNhc2UgJ2Zvb3Rlcic6XHJcbiAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgIDxCb3R0b21WaWV3XHJcbiAgICAgICAgICAgIG5vTW9yZT17cHJvcHMubm9Nb3JlfVxyXG4gICAgICAgICAgICBpc0Vycm9yPXtwcm9wcy5yZXF1ZXN0RXJyb3J9XHJcbiAgICAgICAgICAgIGVycm9yVGV4dD17cHJvcHMuZXJyb3JUZXh0fVxyXG4gICAgICAgICAgICBwbGF0Zm9ybT17cHJvcHMucGxhdGZvcm19XHJcbiAgICAgICAgICA+PC9Cb3R0b21WaWV3PlxyXG4gICAgICAgICk7XHJcbiAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgIDxJdGVtXHJcbiAgICAgICAgICAgIGtleT17a2V5fVxyXG4gICAgICAgICAgICBkYXRhPXtkYXRhfVxyXG4gICAgICAgICAgICBpc0xhc3Q9e2luZGV4ID09PSBsaXN0Py5sZW5ndGggLSAyfVxyXG4gICAgICAgICAgICBtZWFzdXJlPXttZWFzdXJlfVxyXG4gICAgICAgICAgICByZWNvbXB1dGVSb3dIZWlnaHRzPXsoZGF0YSkgPT4gcmVjb21wdXRlUm93SGVpZ2h0cyhpbmRleCwgZGF0YSl9XHJcbiAgICAgICAgICAgIGVuYWJsZUNvbW1lbnRMaXN0PXt0cnVlfVxyXG4gICAgICAgICAgICBjYW5QdWJsaXNoPXtwcm9wcy5jYW5QdWJsaXNofVxyXG4gICAgICAgICAgLz5cclxuICAgICAgICApO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIGNvbnN0IHJvd1JlbmRlcmVyID0gKHsgaW5kZXgsIGtleSwgcGFyZW50LCBzdHlsZSB9KSA9PiB7XHJcbiAgICBjb25zdCBkYXRhID0gbGlzdFtpbmRleF07XHJcblxyXG4gICAgaWYgKCFkYXRhKSB7XHJcbiAgICAgIHJldHVybiAnJztcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gKFxyXG4gICAgICA8Q2VsbE1lYXN1cmVyIGNhY2hlPXtjYWNoZX0gY29sdW1uSW5kZXg9ezB9IGtleT17YCR7a2V5fS0ke2RhdGEuX3RpbWUgfHwgJyd9YH0gcm93SW5kZXg9e2luZGV4fSBwYXJlbnQ9e3BhcmVudH0+XHJcbiAgICAgICAgeyh7IG1lYXN1cmUsIHJlZ2lzdGVyQ2hpbGQgfSkgPT4gKFxyXG4gICAgICAgICAgPGRpdlxyXG4gICAgICAgICAgICByZWY9e3JlZ2lzdGVyQ2hpbGR9XHJcbiAgICAgICAgICAgIGtleT17YCR7a2V5fS0ke2RhdGEudGhyZWFkSWR9LSR7ZGF0YS5fdGltZSB8fCAnJ31gfVxyXG4gICAgICAgICAgICBzdHlsZT17c3R5bGV9XHJcbiAgICAgICAgICAgIGNsYXNzTmFtZT17bGF5b3V0LmNlbnRlcn1cclxuICAgICAgICAgICAgZGF0YS1pbmRleD17aW5kZXh9XHJcbiAgICAgICAgICAgIGRhdGEtaWQ9e2RhdGEudGhyZWFkSWR9XHJcbiAgICAgICAgICAgIGRhdGEtaGVpZ2h0PXtpbW11dGFibGVIZWlnaHRNYXBbaW5kZXhdfVxyXG4gICAgICAgICAgPlxyXG4gICAgICAgICAgICB7cmVuZGVyTGlzdEl0ZW0oZGF0YS50eXBlLCBkYXRhLCBtZWFzdXJlLCB7XHJcbiAgICAgICAgICAgICAgaW5kZXgsXHJcbiAgICAgICAgICAgICAga2V5OiBgJHtrZXl9LSR7ZGF0YS5fdGltZSB8fCAnJ31gLFxyXG4gICAgICAgICAgICAgIHBhcmVudCxcclxuICAgICAgICAgICAgICBzdHlsZSxcclxuICAgICAgICAgICAgfSl9XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICApfVxyXG4gICAgICA8L0NlbGxNZWFzdXJlcj5cclxuICAgICk7XHJcbiAgfTtcclxuXHJcbiAgLy8g5rua5Yqo5LqL5Lu2XHJcbiAgY29uc3Qgb25TY3JvbGwgPSAoeyBzY3JvbGxUb3AsIGNsaWVudEhlaWdodCwgc2Nyb2xsSGVpZ2h0IH0pID0+IHtcclxuICAgIHNldEZsYWcoIShzY3JvbGxUb3AgPCBwcmVTY3JvbGxUb3ApKTtcclxuICAgIHByZVNjcm9sbFRvcCA9IHNjcm9sbFRvcDtcclxuXHJcbiAgICBzZXRTY3JvbGxUb3Aoc2Nyb2xsVG9wKTtcclxuXHJcbiAgICBjbGVhclRpbWVvdXQoc2Nyb2xsVGltZXIpO1xyXG4gICAgc2Nyb2xsVGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgc2V0RmxhZyh0cnVlKTtcclxuICAgIH0sIDEwMCk7XHJcblxyXG4gICAgcHJvcHMub25TY3JvbGwgJiYgcHJvcHMub25TY3JvbGwoeyBzY3JvbGxUb3AsIGNsaWVudEhlaWdodCwgc2Nyb2xsSGVpZ2h0LCBzdGFydE51bSwgc3RvcE51bSB9KTtcclxuICAgIGlmIChzY3JvbGxUb3AgIT09IDApIHtcclxuICAgICAgcHJvcHMudmxpc3Quc2V0UG9zaXRpb24oc2Nyb2xsVG9wKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoc2Nyb2xsVG9wICsgY2xpZW50SGVpZ2h0ICsgMzAwMCA+PSBzY3JvbGxIZWlnaHQgJiYgIWxvYWREYXRhICYmICFwcm9wcy5ub01vcmUpIHtcclxuICAgICAgbG9hZERhdGEgPSB0cnVlO1xyXG4gICAgICBpZiAocHJvcHMubG9hZE5leHRQYWdlKSB7XHJcbiAgICAgICAgY29uc3QgcHJvbWlzZSA9IHByb3BzLmxvYWROZXh0UGFnZSgpO1xyXG4gICAgICAgIGlmIChwcm9taXNlKSB7XHJcbiAgICAgICAgICBwcm9taXNlLmZpbmFsbHkoKCkgPT4ge1xyXG4gICAgICAgICAgICBsb2FkRGF0YSA9IGZhbHNlO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGxvYWREYXRhID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgLy8g6Ieq5a6a5LmJ5omr5o+P5pWw5o2u6IyD5Zu0XHJcbiAgY29uc3Qgb3ZlcnNjYW5JbmRpY2VzR2V0dGVyID0gKHsgY2VsbENvdW50LCBzY3JvbGxEaXJlY3Rpb24sIG92ZXJzY2FuQ2VsbHNDb3VudCwgc3RhcnRJbmRleCwgc3RvcEluZGV4IH0pID0+IHtcclxuICAgIC8vIHN0YXJ0TnVtID0gc3RhcnRJbmRleDtcclxuICAgIC8vIHN0b3BOdW0gPSBzdG9wSW5kZXg7XHJcblxyXG4gICAgLy8gLy8g5b6A5Zue5rua5YqoXHJcbiAgICAvLyBpZiAoc2Nyb2xsRGlyZWN0aW9uID09PSAtMSkge1xyXG4gICAgLy8gICByZXR1cm4ge1xyXG4gICAgLy8gICAgIG92ZXJzY2FuU3RhcnRJbmRleDogTWF0aC5tYXgoMCwgc3RhcnRJbmRleCksXHJcbiAgICAvLyAgICAgb3ZlcnNjYW5TdG9wSW5kZXg6IE1hdGgubWluKGNlbGxDb3VudCAtIDEsIHN0b3BJbmRleCArIDMpLFxyXG4gICAgLy8gICB9O1xyXG4gICAgLy8gfVxyXG4gICAgLy8gcmV0dXJuIHtcclxuICAgIC8vICAgb3ZlcnNjYW5TdGFydEluZGV4OiBNYXRoLm1heCgwLCBzdGFydEluZGV4IC0gb3ZlcnNjYW5DZWxsc0NvdW50KSxcclxuICAgIC8vICAgb3ZlcnNjYW5TdG9wSW5kZXg6IE1hdGgubWluKGNlbGxDb3VudCAtIDEsIHN0b3BJbmRleCksXHJcbiAgICAvLyB9O1xyXG5cclxuICAgIHN0YXJ0TnVtID0gc3RhcnRJbmRleDtcclxuICAgIHN0b3BOdW0gPSBzdG9wSW5kZXg7XHJcblxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgb3ZlcnNjYW5TdGFydEluZGV4OiBNYXRoLm1heCgwLCBzdGFydEluZGV4IC0gb3ZlcnNjYW5DZWxsc0NvdW50KSxcclxuICAgICAgb3ZlcnNjYW5TdG9wSW5kZXg6IE1hdGgubWluKGNlbGxDb3VudCAtIDEsIHN0b3BJbmRleCArIG92ZXJzY2FuQ2VsbHNDb3VudCksXHJcbiAgICB9O1xyXG4gIH07XHJcblxyXG4gIC8vIOa7muWKqOWIsOmhtumDqFxyXG4gIGNvbnN0IGhhbmRsZUJhY2t0b1RvcCA9ICgpID0+IHtcclxuICAgIGxpc3RSZWYgJiYgbGlzdFJlZi5zY3JvbGxUb1Bvc2l0aW9uKDApO1xyXG4gICAgcHJvcHMudmxpc3Quc2V0UG9zaXRpb24oMCk7XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgaXNSb3dMb2FkZWQgPSAoeyBpbmRleCB9KSA9PiAhIWxpc3RbaW5kZXhdO1xyXG5cclxuICBjb25zdCBsb2FkTW9yZVJvd3MgPSAoKSA9PiBQcm9taXNlLnJlc29sdmUoKTtcclxuXHJcbiAgcmV0dXJuIChcclxuICAgIDxkaXYgY2xhc3NOYW1lPVwicGFnZVwiPlxyXG4gICAgICA8SW5maW5pdGVMb2FkZXIgaXNSb3dMb2FkZWQ9e2lzUm93TG9hZGVkfSBsb2FkTW9yZVJvd3M9e2xvYWRNb3JlUm93c30gcm93Q291bnQ9e3Jvd0NvdW50fT5cclxuICAgICAgICB7KHsgb25Sb3dzUmVuZGVyZWQsIHJlZ2lzdGVyQ2hpbGQgfSkgPT4gKFxyXG4gICAgICAgICAgPEF1dG9TaXplciBjbGFzc05hbWU9XCJsaXN0XCI+XHJcbiAgICAgICAgICAgIHsoeyBoZWlnaHQsIHdpZHRoIH0pID0+IHtcclxuICAgICAgICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2Ake2xheW91dC5saXN0fSAke2xheW91dC5maXhlZH1gfT5cclxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2BiYXNlbGF5b3V0LWxlZnQgJHtsYXlvdXQubGVmdH1gfT5cclxuICAgICAgICAgICAgICAgICAgICB7dHlwZW9mIGxlZnQgPT09ICdmdW5jdGlvbicgPyBsZWZ0KHsgLi4ucHJvcHMgfSkgOiBsZWZ0fVxyXG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtgJHtsYXlvdXQudG9wfSAke2xheW91dC5jZW50ZXJ9IHRvcGB9Pnt0b3B9PC9kaXY+XHJcblxyXG4gICAgICAgICAgICAgICAgICA8TGlzdFxyXG4gICAgICAgICAgICAgICAgICAgIHJlZj17KHJlZikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgbGlzdFJlZiA9IHJlZjtcclxuICAgICAgICAgICAgICAgICAgICAgIHJlZ2lzdGVyQ2hpbGQocmVmKTtcclxuICAgICAgICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgICAgICAgIG9uU2Nyb2xsPXtvblNjcm9sbH1cclxuICAgICAgICAgICAgICAgICAgICBkZWZlcnJlZE1lYXN1cmVtZW50Q2FjaGU9e2NhY2hlfVxyXG4gICAgICAgICAgICAgICAgICAgIGhlaWdodD17aGVpZ2h0fVxyXG4gICAgICAgICAgICAgICAgICAgIG92ZXJzY2FuUm93Q291bnQ9ezIwfVxyXG4gICAgICAgICAgICAgICAgICAgIG9uUm93c1JlbmRlcmVkPXsoLi4ucHJvcHMpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgIG9uUm93c1JlbmRlcmVkKC4uLnByb3BzKTtcclxuICAgICAgICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17bGF5b3V0LnNjcm9sbEFyZWF9XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gc2Nyb2xsVG9wPXtzY3JvbGxUb3B9XHJcbiAgICAgICAgICAgICAgICAgICAgcm93Q291bnQ9e3Jvd0NvdW50fVxyXG4gICAgICAgICAgICAgICAgICAgIHJvd0hlaWdodD17Z2V0Um93SGVpZ2h0fVxyXG4gICAgICAgICAgICAgICAgICAgIHJvd1JlbmRlcmVyPXtyb3dSZW5kZXJlcn1cclxuICAgICAgICAgICAgICAgICAgICB3aWR0aD17d2lkdGh9XHJcbiAgICAgICAgICAgICAgICAgICAgb3ZlcnNjYW5JbmRpY2VzR2V0dGVyPXtvdmVyc2NhbkluZGljZXNHZXR0ZXJ9XHJcbiAgICAgICAgICAgICAgICAgIC8+XHJcblxyXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17YGJhc2VsYXlvdXQtcmlnaHQgJHtsYXlvdXQucmlnaHR9YH0+XHJcbiAgICAgICAgICAgICAgICAgICAge3R5cGVvZiByaWdodCA9PT0gJ2Z1bmN0aW9uJyA/IHJpZ2h0KHsgLi4ucHJvcHMgfSkgOiByaWdodH1cclxuICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgICAgICAgICAgICB7c2Nyb2xsVG9wID4gMTAwICYmIDxCYWNrdG9Ub3Agb25DbGljaz17aGFuZGxlQmFja3RvVG9wfSAvPn1cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIH19XHJcbiAgICAgICAgICA8L0F1dG9TaXplcj5cclxuICAgICAgICApfVxyXG4gICAgICA8L0luZmluaXRlTG9hZGVyPlxyXG4gICAgPC9kaXY+XHJcbiAgKTtcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgaW5qZWN0KCd2bGlzdCcpKG9ic2VydmVyKGZvcndhcmRSZWYoSG9tZSkpKTtcclxuIiwiY29uc3QgdHlwZUhlaWdodCA9IHtcclxuICBoZWFkZXI6IDcwLCAvLyDlpLTpg6hcclxuICB0aXRsZTogMjIgKyAxNiwgLy8g5qCH6aKYXHJcbiAgaW1hZ2VzOiB7XHJcbiAgICAvLyDlm77niYdcclxuICAgIDE6IDE2ICsgMjYwLFxyXG4gICAgMjogMTYgKyAyNjAsXHJcbiAgICAzOiAxNiArIDI1NixcclxuICAgIDQ6IDE2ICsgMjYwLFxyXG4gICAgNTogMTYgKyAyNDEsXHJcbiAgfSxcclxuICBnb29kczogMTYgKyAxMTQsIC8vIOWVhuWTgVxyXG4gIHJlZFBhY2tldDogMTYgKyAxOTMsIC8vIOe6ouWMhVxyXG4gIHJld2FyZDogMTYgKyAxOTMsIC8vIOaCrOi1j1xyXG4gIHZpZGVvOiAxNiArIDE5MywgLy8g6KeG6aKRXHJcbiAgYXVkaW86IDE2ICsgNTYsIC8vIOmfs+mikVxyXG4gIGZpbGU6IDUyICsgOCwgLy8g6ZmE5Lu2XHJcbiAgZmlsZU1hcmdpblRvcDogMTYsXHJcbiAgc2hhcmVMaWtlOiAxNiArIDI0ICsgOCwgLy8g5YiG5Lqr54K56LWeXHJcbiAgZm9vdGVyOiAxNiArIDUyLCAvLyDlupXpg6hcclxuICBmb290ZXJNYXJnaW5Ub3A6IDE2LFxyXG4gIHBheUJ1dHRvbjogMTYgKyAzNixcclxufTtcclxuXHJcbi8vIOiOt+WPluS4jeWPr+WPmOeahOexu+Wei+mrmOW6plxyXG5leHBvcnQgY29uc3QgZ2V0SW1tdXRhYmxlVHlwZUhlaWdodCA9IChkYXRhKSA9PiB7XHJcbiAgbGV0IGhlaWdodCA9IDA7XHJcblxyXG4gIGlmICghZGF0YSkgcmV0dXJuIGhlaWdodDtcclxuXHJcbiAgY29uc3QgbmVlZFBheSA9IGRhdGEucGF5VHlwZSAhPT0gMCAmJiAhZGF0YS5wYWlkO1xyXG5cclxuICBoZWlnaHQgPSBoZWlnaHQgKyB0eXBlSGVpZ2h0LmhlYWRlcjtcclxuICBoZWlnaHQgPSBoZWlnaHQgKyB0eXBlSGVpZ2h0LmZvb3RlcjtcclxuXHJcbiAgLy8g5qCH6aKYXHJcbiAgaWYgKGRhdGEudGl0bGUpIHtcclxuICAgIGhlaWdodCA9IGhlaWdodCArIHR5cGVIZWlnaHQudGl0bGU7XHJcbiAgfVxyXG5cclxuICAvLyDliIbkuqvngrnotZ5cclxuICBpZiAoZGF0YS5saWtlUmV3YXJkPy5wb3N0Q291bnQgfHwgZGF0YS5saWtlUmV3YXJkPy5zaGFyZUNvdW50IHx8IGRhdGEubGlrZVJld2FyZD8ubGlrZVBheUNvdW50KSB7XHJcbiAgICBoZWlnaHQgPSBoZWlnaHQgKyB0eXBlSGVpZ2h0LnNoYXJlTGlrZSAtIHR5cGVIZWlnaHQuZm9vdGVyTWFyZ2luVG9wO1xyXG4gIH1cclxuXHJcbiAgaWYgKG5lZWRQYXkpIHtcclxuICAgIGhlaWdodCA9IGhlaWdodCArIHR5cGVIZWlnaHQucGF5QnV0dG9uO1xyXG4gIH1cclxuXHJcbiAgY29uc3QgY29udGVudCA9IGRhdGEuY29udGVudDtcclxuXHJcbiAgY29uc3QgdmFsdWVzID0gT2JqZWN0LnZhbHVlcyhjb250ZW50Py5pbmRleGVzIHx8IHt9KTtcclxuICB2YWx1ZXMuZm9yRWFjaCgoaXRlbSkgPT4ge1xyXG4gICAgY29uc3QgeyB0b21JZCB9ID0gaXRlbTtcclxuICAgIC8vIOe7n+S4gOWBmuS4gOasoeWtl+espuS4sui9rOaNolxyXG4gICAgY29uc3QgY29udmVyc2lvblRvbUlEID0gYCR7dG9tSWR9YDtcclxuICAgIGlmIChjb252ZXJzaW9uVG9tSUQgPT09ICcxMDEnICYmIGl0ZW0uYm9keT8ubGVuZ3RoKSB7XHJcbiAgICAgIC8vIOWbvueJh1xyXG4gICAgICBjb25zdCBpbWdOdW0gPSBpdGVtLmJvZHk/Lmxlbmd0aDtcclxuICAgICAgaGVpZ2h0ID0gaGVpZ2h0ICsgdHlwZUhlaWdodC5pbWFnZXNbaW1nTnVtID4gNSA/IDUgOiBpbWdOdW1dO1xyXG4gICAgfSBlbHNlIGlmIChjb252ZXJzaW9uVG9tSUQgPT09ICcxMDInICYmIGl0ZW0uYm9keSkge1xyXG4gICAgICAvLyDpn7PpopFcclxuICAgICAgaGVpZ2h0ID0gaGVpZ2h0ICsgdHlwZUhlaWdodC5hdWRpbztcclxuICAgIH0gZWxzZSBpZiAoY29udmVyc2lvblRvbUlEID09PSAnMTAzJyAmJiBpdGVtLmJvZHkpIHtcclxuICAgICAgLy8g6KeG6aKRXHJcbiAgICAgIGhlaWdodCA9IGhlaWdodCArIHR5cGVIZWlnaHQudmlkZW87XHJcbiAgICB9IGVsc2UgaWYgKGNvbnZlcnNpb25Ub21JRCA9PT0gJzEwNCcgJiYgaXRlbS5ib2R5KSB7XHJcbiAgICAgIC8vIOWVhuWTgVxyXG4gICAgICBoZWlnaHQgPSBoZWlnaHQgKyB0eXBlSGVpZ2h0Lmdvb2RzO1xyXG4gICAgfSBlbHNlIGlmIChjb252ZXJzaW9uVG9tSUQgPT09ICcxMDUnICYmIGl0ZW0uYm9keT8ubGVuZ3RoKSB7XHJcbiAgICAgIC8vIOmXruetlFxyXG4gICAgICAvLyBoZWlnaHQgPSBoZWlnaHQgKyB0eXBlSGVpZ2h0LnJld2FyZDtcclxuICAgIH0gZWxzZSBpZiAoY29udmVyc2lvblRvbUlEID09PSAnMTA2JyAmJiBpdGVtLmJvZHkpIHtcclxuICAgICAgLy8g57qi5YyFXHJcbiAgICAgIGhlaWdodCA9IGhlaWdodCArIHR5cGVIZWlnaHQucmVkUGFja2V0O1xyXG4gICAgfSBlbHNlIGlmIChjb252ZXJzaW9uVG9tSUQgPT09ICcxMDcnICYmIGl0ZW0uYm9keSkge1xyXG4gICAgICAvLyDmgqzotY9cclxuICAgICAgaGVpZ2h0ID0gaGVpZ2h0ICsgdHlwZUhlaWdodC5yZXdhcmQ7XHJcbiAgICB9IGVsc2UgaWYgKGNvbnZlcnNpb25Ub21JRCA9PT0gJzEwOCcgJiYgaXRlbS5ib2R5Py5sZW5ndGgpIHtcclxuICAgICAgLy8g6ZmE5Lu2XHJcbiAgICAgIGhlaWdodCA9IGhlaWdodCArIHR5cGVIZWlnaHQuZmlsZU1hcmdpblRvcCArIHR5cGVIZWlnaHQuZmlsZSAqIGl0ZW0uYm9keS5sZW5ndGg7XHJcbiAgICB9XHJcbiAgfSk7XHJcbiAgcmV0dXJuIGhlaWdodDtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBnZXRTdGlja3NIZWlnaHQgPSAobGlzdCwgcGxhdGZvcm0gPSAnaDUnKSA9PiB7XHJcbiAgbGV0IGhlaWdodCA9IChsaXN0Py5sZW5ndGggfHwgMCkgKiAzNztcclxuICBoZWlnaHQgPSBoZWlnaHQgPyBoZWlnaHQgKyAxMCA6IDA7XHJcblxyXG4gIGlmIChwbGF0Zm9ybSA9PT0gJ3BjJykge1xyXG4gICAgaGVpZ2h0ID0gKGxpc3Q/Lmxlbmd0aCB8fCAwKSAqIDM4O1xyXG4gICAgaGVpZ2h0ID0gaGVpZ2h0ID8gOCArIGhlaWdodCArIDggOiAwO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIGhlaWdodDtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBnZXRUYWJzSGVpZ2h0ID0gKHBsYXRmb3JtID0gJ2g1JykgPT4ge1xyXG4gIHJldHVybiBwbGF0Zm9ybSA9PT0gJ2g1JyA/IDU0ICsgMTAgOiA2ODtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBnZXRMb2dIZWlnaHQgPSAocGxhdGZvcm0gPSAnaDUnKSA9PiB7XHJcbiAgcmV0dXJuIHBsYXRmb3JtID09PSAnaDUnID8gMTY1IDogMTA7XHJcbn07XHJcbiIsImltcG9ydCBSZWFjdCwgeyBGcmFnbWVudCB9IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IE5ld0NvbnRlbnQgZnJvbSAnLi4vbmV3LWNvbnRlbnQnO1xyXG5pbXBvcnQgVG9wTmV3cyBmcm9tICcuLi8uLi8uLi9oNS9jb21wb25lbnRzL3RvcC1uZXdzJztcclxuaW1wb3J0IFRvcE1lbnUgZnJvbSAnLi4vdG9wLW1lbnUnO1xyXG5pbXBvcnQgeyBCdXR0b24gfSBmcm9tICdAZGlzY3V6cS9kZXNpZ24nO1xyXG5pbXBvcnQgVGhyZWFkQ29udGVudCBmcm9tICdAY29tcG9uZW50cy90aHJlYWQnO1xyXG5pbXBvcnQgV2luZG93Vkxpc3QgZnJvbSAnQGNvbXBvbmVudHMvdmlydHVhbC1saXN0L3BjJztcclxuaW1wb3J0IHN0eWxlcyBmcm9tICcuL2luZGV4Lm1vZHVsZS5zY3NzJztcclxuXHJcbmltcG9ydCBJbmRleFRvcHBpbmdIb29rcyBmcm9tICdAY29tbW9uL3BsdWdpbi1ob29rcy9wbHVnaW5faW5kZXhAdG9wcGluZyc7XHJcbmltcG9ydCBJbmRleFRhYnNIb29rIGZyb20gJ0Bjb21tb24vcGx1Z2luLWhvb2tzL3BsdWdpbl9pbmRleEB0YWJzJztcclxuLy8g5byV5YWl5rW35oqlXHJcbmltcG9ydCBRUG9zdGVycyBmcm9tICdAY29tcG9uZW50cy9xLXBvc3Rlci1zJztcclxuXHJcbmNvbnN0IFRvcEZpbHRlclZpZXcgPSAoeyBvbkZpbHRlckNsaWNrLCBpc1Nob3dEZWZhdWx0LCBvblBvc3RUaHJlYWQsIGlzaGlkZSwgc2l0ZSB9KSA9PiB7XHJcbiAgY29uc3QgY29tcG9uZW50ID0gKFxyXG4gICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlcy50b3BCb3h9PlxyXG4gICAgICA8VG9wTWVudSBvblN1Ym1pdD17b25GaWx0ZXJDbGlja30gaXNTaG93RGVmYXVsdD17aXNTaG93RGVmYXVsdH0gLz5cclxuICAgICAgey8qPGRpdiBjbGFzc05hbWU9e3N0eWxlcy5Qb3N0VGhlbWV9PlxyXG4gICAgICAgIDxCdXR0b24gdHlwZT1cInByaW1hcnlcIiBjbGFzc05hbWU9e3N0eWxlcy5wdWJsaXNoQnRufSBvbkNsaWNrPXtvblBvc3RUaHJlYWR9PlxyXG4gICAgICAgICAg5Y+R5biDXHJcbiAgICAgICAgPC9CdXR0b24+XHJcbiAgICAgIDwvZGl2PiovfVxyXG4gICAgPC9kaXY+XHJcbiAgKTtcclxuXHJcbiAgY29uc3QgY2hhbmdlRmlsdGVyID0gKHBhcmFtcykgPT4ge1xyXG4gICAgY29uc3QgeyB0eXBlcywgc29ydCwgZXNzZW5jZSwgYXR0ZW50aW9uLCBzZXF1ZW5jZSB9ID0gcGFyYW1zO1xyXG4gICAgY29uc3QgcmVzdWx0ID0ge1xyXG4gICAgICBzZXF1ZW5jZSxcclxuICAgICAgZmlsdGVyOiB7IHR5cGVzLCBzb3J0LCBlc3NlbmNlLCBhdHRlbnRpb24gfSxcclxuICAgIH07XHJcbiAgICBvbkZpbHRlckNsaWNrKHJlc3VsdCk7XHJcbiAgfTtcclxuXHJcbiAgcmV0dXJuIChcclxuICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZXMudG9wV3JhcHBlcn0gc3R5bGU9e3sgdmlzaWJpbGl0eTogaXNoaWRlID8gJ2hpZGRlbicgOiAndmlzaWJsZScgfX0+XHJcbiAgICAgIDxJbmRleFRhYnNIb29rIGNoYW5nZUZpbHRlcj17KHBhcmFtcykgPT4gY2hhbmdlRmlsdGVyKHBhcmFtcyl9IGNvbXBvbmVudD17Y29tcG9uZW50fT48L0luZGV4VGFic0hvb2s+XHJcbiAgICA8L2Rpdj5cclxuICApO1xyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRHluYW1pY1ZMaXN0IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcclxuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xyXG4gICAgc3VwZXIocHJvcHMpO1xyXG4gIH1cclxuXHJcbiAgLy8g5Lit6Ze0IC0tIOetm+mAiSDnva7pobbkv6Hmga8g5piv5ZCm5paw5YaF5a655Y+R5biDIOS4u+mimOWGheWuuVxyXG4gIHJlbmRlckNvbnRlbnQgPSAoZGF0YSkgPT4ge1xyXG4gICAgY29uc3Qge1xyXG4gICAgICB2aXNpYmxlLFxyXG4gICAgICBjb25OdW0sXHJcbiAgICAgIGlzU2hvd0RlZmF1bHQsXHJcbiAgICAgIG9uRmlsdGVyQ2xpY2ssXHJcbiAgICAgIG9uUG9zdFRocmVhZCxcclxuICAgICAgZ29SZWZyZXNoLFxyXG4gICAgICBjYW5QdWJsaXNoID0gKCkgPT4ge30sXHJcbiAgICB9ID0gdGhpcy5wcm9wcztcclxuICAgIGNvbnN0IHsgc3RpY2tzLCB0aHJlYWRzIH0gPSBkYXRhO1xyXG4gICAgY29uc3QgeyBwYWdlRGF0YSB9ID0gdGhyZWFkcyB8fCB7fTtcclxuXHJcbiAgICByZXR1cm4gKFxyXG4gICAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzLmluZGV4Q29udGVudH0+XHJcbiAgICAgICAgPFRvcEZpbHRlclZpZXcgb25GaWx0ZXJDbGljaz17b25GaWx0ZXJDbGlja30gb25Qb3N0VGhyZWFkPXtvblBvc3RUaHJlYWR9IGlzU2hvd0RlZmF1bHQ9e2lzU2hvd0RlZmF1bHR9IC8+XHJcblxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZXMuY29udG5ldFRvcH0+XHJcbiAgICAgICAgICB7c3RpY2tzPy5sZW5ndGggPiAwICYmIChcclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2Ake3N0eWxlcy5Ub3BOZXdzQm94fSAkeyF2aXNpYmxlICYmIHN0eWxlcy5ub0JvcmRlcn1gfT5cclxuICAgICAgICAgICAgICA8VG9wTmV3cyBkYXRhPXtzdGlja3N9IHBsYXRmb3JtPVwicGNcIiBpc1Nob3dCb3JkZXI9e2ZhbHNlfSAvPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICl9XHJcbiAgICAgICAgICB7dmlzaWJsZSAmJiAoXHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZXMudG9wTmV3Q29udGVudH0+XHJcbiAgICAgICAgICAgICAgPE5ld0NvbnRlbnQgdmlzaWJsZT17dmlzaWJsZX0gY29uTnVtPXtjb25OdW19IGdvUmVmcmVzaD17Z29SZWZyZXNofSAvPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICl9XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlcy50aGVtZUJveH0+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzLnRoZW1lSXRlbX0+XHJcbiAgICAgICAgICAgIHtwYWdlRGF0YT8ubWFwKChpdGVtLCBpbmRleCkgPT4gKFxyXG4gICAgICAgICAgICAgIDxUaHJlYWRDb250ZW50XHJcbiAgICAgICAgICAgICAgICBrZXk9e2Ake2l0ZW0udGhyZWFkSWR9LSR7aXRlbS5jcmVhdGVkQXQgfHwgJyd9LSR7aXRlbS51cGRhdGVkQXQgfHwgJyd9YH1cclxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17c3R5bGVzLnRocmVhZENvbnRlbnR9XHJcbiAgICAgICAgICAgICAgICBkYXRhPXtpdGVtfVxyXG4gICAgICAgICAgICAgICAgZW5hYmxlQ29tbWVudExpc3Q9e3RydWV9XHJcbiAgICAgICAgICAgICAgICBjYW5QdWJsaXNoPXtjYW5QdWJsaXNofVxyXG4gICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICkpfVxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgKTtcclxuICB9O1xyXG5cclxuICByZW5kZXJUb3AgPSAoKSA9PiB7XHJcbiAgICBjb25zdCB7IG9uRmlsdGVyQ2xpY2ssIGlzU2hvd0RlZmF1bHQsIG9uUG9zdFRocmVhZCB9ID0gdGhpcy5wcm9wcztcclxuXHJcbiAgICByZXR1cm4gKFxyXG4gICAgICA8VG9wRmlsdGVyVmlld1xyXG4gICAgICAgIG9uRmlsdGVyQ2xpY2s9e29uRmlsdGVyQ2xpY2t9XHJcbiAgICAgICAgb25Qb3N0VGhyZWFkPXtvblBvc3RUaHJlYWR9XHJcbiAgICAgICAgaXNTaG93RGVmYXVsdD17aXNTaG93RGVmYXVsdH1cclxuICAgICAgICBpc2hpZGU9e2ZhbHNlfVxyXG4gICAgICAgIHNpdGU9e3RoaXMucHJvcHMuc2l0ZVN0b3JlfVxyXG4gICAgICAvPlxyXG4gICAgKTtcclxuICB9O1xyXG5cclxuICByZW5kZXJWbGlzdCA9IChkYXRhKSA9PiB7XHJcbiAgICBjb25zdCB7XHJcbiAgICAgIHZpc2libGUsXHJcbiAgICAgIGNvbk51bSxcclxuICAgICAgaXNTaG93RGVmYXVsdCxcclxuICAgICAgb25GaWx0ZXJDbGljayxcclxuICAgICAgb25Qb3N0VGhyZWFkLFxyXG4gICAgICBnb1JlZnJlc2gsXHJcbiAgICAgIGxvYWROZXh0UGFnZSxcclxuICAgICAgcmVuZGVyUmlnaHQsXHJcbiAgICAgIHJlbmRlckxlZnQsXHJcbiAgICAgIHJlcXVlc3RFcnJvcixcclxuICAgICAgbm9Nb3JlLFxyXG4gICAgICBlcnJvclRleHQsXHJcbiAgICAgIG9uU2Nyb2xsID0gKCkgPT4ge30sXHJcbiAgICAgIGNhblB1Ymxpc2ggPSAoKSA9PiB7fSxcclxuICAgIH0gPSB0aGlzLnByb3BzO1xyXG4gICAgY29uc3QgeyBzdGlja3MsIHRocmVhZHMgfSA9IGRhdGE7XHJcbiAgICBjb25zdCB7IHBhZ2VEYXRhIH0gPSB0aHJlYWRzIHx8IHt9O1xyXG4gICAgY29uc3QgeyBzaXRlU3RvcmUgfSA9IHRoaXMucHJvcHM7XHJcbiAgICBjb25zdCB7IGNvdW50VGhyZWFkcyA9IDAgfSA9IHNpdGVTdG9yZT8ud2ViQ29uZmlnPy5vdGhlciB8fCB7fTtcclxuXHJcbiAgICBjb25zdCB0b3BwaW5nQ29tcG9uZW50ID0gKFxyXG4gICAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzLmNvbnRuZXRUb3B9PlxyXG4gICAgICAgIHtzdGlja3M/Lmxlbmd0aCA+IDAgJiYgKFxyXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2Ake3N0eWxlcy5Ub3BOZXdzQm94fSAkeyF2aXNpYmxlICYmIHN0eWxlcy5ub0JvcmRlcn1gfT5cclxuICAgICAgICAgICAgPFRvcE5ld3MgZGF0YT17c3RpY2tzfSBwbGF0Zm9ybT1cInBjXCIgaXNTaG93Qm9yZGVyPXtmYWxzZX0gLz5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICl9XHJcbiAgICAgICAge3Zpc2libGUgJiYgKFxyXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlcy50b3BOZXdDb250ZW50fT5cclxuICAgICAgICAgICAgPE5ld0NvbnRlbnQgdmlzaWJsZT17dmlzaWJsZX0gY29uTnVtPXtjb25OdW19IGdvUmVmcmVzaD17Z29SZWZyZXNofSAvPlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgKX1cclxuICAgICAgPC9kaXY+XHJcbiAgICApO1xyXG5cclxuICAgIHJldHVybiAoXHJcbiAgICAgIDxXaW5kb3dWTGlzdFxyXG4gICAgICAgIGxpc3Q9e3BhZ2VEYXRhfVxyXG4gICAgICAgIHN0aWNrcz17c3RpY2tzfVxyXG4gICAgICAgIHBsYXRmb3JtPVwicGNcIlxyXG4gICAgICAgIHBhZ2VOYW1lPVwiaG9tZVwiXHJcbiAgICAgICAgb25TY3JvbGw9e29uU2Nyb2xsfVxyXG4gICAgICAgIGxvYWROZXh0UGFnZT17bG9hZE5leHRQYWdlfVxyXG4gICAgICAgIG5vTW9yZT17bm9Nb3JlfVxyXG4gICAgICAgIHJlcXVlc3RFcnJvcj17cmVxdWVzdEVycm9yfVxyXG4gICAgICAgIGVycm9yVGV4dD17ZXJyb3JUZXh0fVxyXG4gICAgICAgIGxlZnQ9e3JlbmRlckxlZnQoY291bnRUaHJlYWRzKX1cclxuICAgICAgICByaWdodD17cmVuZGVyUmlnaHQoKX1cclxuICAgICAgICAvL3RvcD17dGhpcy5yZW5kZXJUb3AoKX1cclxuICAgICAgICB2aXNpYmxlPXt2aXNpYmxlfVxyXG4gICAgICAgIGNhblB1Ymxpc2g9e2NhblB1Ymxpc2h9XHJcbiAgICAgICAgcmVuZGVySXRlbT17KGl0ZW0sIGluZGV4LCByZWNvbXB1dGVSb3dIZWlnaHRzLCBvbkNvbnRlbnRIZWlnaHRDaGFuZ2UsIG1lYXN1cmUpID0+IHtcclxuICAgICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgIDxUaHJlYWRDb250ZW50XHJcbiAgICAgICAgICAgICAgb25Db250ZW50SGVpZ2h0Q2hhbmdlPXttZWFzdXJlfVxyXG4gICAgICAgICAgICAgIG9uSW1hZ2VSZWFkeT17bWVhc3VyZX1cclxuICAgICAgICAgICAgICBvblZpZGVvUmVhZHk9e21lYXN1cmV9XHJcbiAgICAgICAgICAgICAga2V5PXtgJHtpdGVtLnRocmVhZElkfS0ke2l0ZW0udXBkYXRlZEF0fWB9XHJcbiAgICAgICAgICAgICAgZGF0YT17aXRlbX1cclxuICAgICAgICAgICAgICBjbGFzc05hbWU9e3N0eWxlcy5saXN0SXRlbX1cclxuICAgICAgICAgICAgICByZWNvbXB1dGVSb3dIZWlnaHRzPXttZWFzdXJlfVxyXG4gICAgICAgICAgICAvPlxyXG4gICAgICAgICAgKTtcclxuICAgICAgICB9fVxyXG4gICAgICA+XHJcblx0ICAgIHsvKuW5u+eBr+a1t+aKpee7hOS7tiovfVxyXG5cdCAgICA8UVBvc3RlcnMgcGxhdGZvcm09XCJwY1wiaXNTaG93Qm9yZGVyPXtmYWxzZX0gLz5cclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzLmluZGV4Q29udGVudH0+XHJcbiAgICAgICAgICA8VG9wRmlsdGVyVmlld1xyXG4gICAgICAgICAgICBvbkZpbHRlckNsaWNrPXtvbkZpbHRlckNsaWNrfVxyXG4gICAgICAgICAgICBvblBvc3RUaHJlYWQ9e29uUG9zdFRocmVhZH1cclxuICAgICAgICAgICAgaXNTaG93RGVmYXVsdD17aXNTaG93RGVmYXVsdH1cclxuICAgICAgICAgICAgLy9pc2hpZGU9e3RydWV9XHJcbiAgICAgICAgICAgIHNpdGU9e3RoaXMucHJvcHMuc2l0ZVN0b3JlfVxyXG4gICAgICAgICAgLz5cclxuXHJcbiAgICAgICAgICA8SW5kZXhUb3BwaW5nSG9va3MgY29tcG9uZW50PXt0b3BwaW5nQ29tcG9uZW50fSByZW5kZXJEYXRhPXt7IHN0aWNrcyB9fT48L0luZGV4VG9wcGluZ0hvb2tzPlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICA8L1dpbmRvd1ZMaXN0PlxyXG4gICAgKTtcclxuICB9O1xyXG5cclxuICByZW5kZXIoKSB7XHJcbiAgICBjb25zdCB7IGluZGV4U3RvcmUgfSA9IHRoaXMucHJvcHM7XHJcblxyXG4gICAgcmV0dXJuIHRoaXMucHJvcHMuZW5hYmxlZFZMaXN0ID8gdGhpcy5yZW5kZXJWbGlzdChpbmRleFN0b3JlKSA6IHRoaXMucmVuZGVyQ29udGVudChpbmRleFN0b3JlKTtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IFJlYWN0LCB7IHVzZUVmZmVjdCwgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCBzdHlsZXMgZnJvbSAnLi9pbmRleC5tb2R1bGUuc2Nzcyc7XHJcbmltcG9ydCB7IFNwaW4gfSBmcm9tICdAZGlzY3V6cS9kZXNpZ24nO1xyXG5pbXBvcnQgeyBub29wIH0gZnJvbSAnQGNvbXBvbmVudHMvdGhyZWFkL3V0aWxzJztcclxuXHJcbi8qKlxyXG4gKiDmlrDlj5HluIPlhoXlrrlcclxuICogQHByb3Age2Jvb2xlYW59IHZpc2libGUg5piv5ZCm5pi+56S65paw5Y+R5biD5YaF5a65XHJcbiAqIEBwcm9wIHtudW1iZXJ9IGNvbk51bSDmnInlh6DmnaHmlrDlj5HluIPlhoXlrrlcclxuICogQHByb3Age2Z1bmN0aW9ufSBnb1JlZnJlc2gg5Yi35paw54K55Ye75LqL5Lu2XHJcbiAqL1xyXG5jb25zdCBOZXdDb250ZW50ID0gKHByb3BzKSA9PiB7XHJcbiAgY29uc3Qge1xyXG4gICAgdmlzaWJsZSA9IGZhbHNlLFxyXG4gICAgY29uTnVtID0gMCxcclxuICAgIGdvUmVmcmVzaCA9IG5vb3BcclxuICB9ID0gcHJvcHM7XHJcblxyXG4gIGNvbnN0IFtyZWZyZXNoLCBzZXRSZWZyZXNoXSA9IHVzZVN0YXRlKGZhbHNlKVxyXG5cclxuICBjb25zdCBoYW5kbGVSZWZyZXNoID0gKCkgPT4ge1xyXG4gICAgc2V0UmVmcmVzaCh0cnVlKVxyXG4gICAgZ29SZWZyZXNoKClcclxuICB9XHJcblxyXG4gIHJldHVybiAoXHJcbiAgICA8ZGl2PlxyXG4gICAgICB7XHJcbiAgICAgICAgdmlzaWJsZSAmJiAoXHJcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzLmNvbnRhaW5lcn0gb25DbGljaz17aGFuZGxlUmVmcmVzaH0+XHJcbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT17c3R5bGVzLnRleHR9PuaciXtjb25OdW195p2h5paw5Y+R5biD55qE5YaF5a65PC9zcGFuPlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzLnJlZnJlc2hCdG59PlxyXG4gICAgICAgICAgICAgIOeCueWHu+WIt+aWsFxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAge3JlZnJlc2ggJiYgPFNwaW4gc2l6ZT17MTR9IGNsYXNzTmFtZT17c3R5bGVzLnNwaW59IHR5cGU9XCJzcGlubmVyXCIgLz59XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICApXHJcbiAgICAgIH1cclxuICAgIDwvZGl2PlxyXG4gICk7XHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCBSZWFjdC5tZW1vKE5ld0NvbnRlbnQpO1xyXG4iLCJleHBvcnQgZGVmYXVsdCBbXHJcbiAge1xyXG4gICAgbGFiZWw6ICfmiYDmnIknLCAvLyDmiYDmnIlcclxuICAgIHR5cGU6ICdhbGwnLFxyXG4gICAgaXNBY3RpdmU6IHRydWUsXHJcbiAgfSwge1xyXG4gICAgbGFiZWw6ICfnsr7ljY4nLCAvLyDnsr7ljY5cclxuICAgIHR5cGU6ICdlc3NlbmNlJyxcclxuICAgIGlzQWN0aXZlOiBmYWxzZSxcclxuICB9LCB7XHJcbiAgICBsYWJlbDogJ+W3suWFs+azqCcsIC8vIOW3suWFs+azqFxyXG4gICAgdHlwZTogJ2F0dGVudGlvbicsXHJcbiAgICBpc0FjdGl2ZTogZmFsc2UsXHJcbiAgfSwge1xyXG4gICAgbGFiZWw6ICfnsbvlnosnLFxyXG4gICAgdHlwZTogJ3R5cGVzJyxcclxuICAgIGNoaWxkcmVuOiBbe1xyXG4gICAgICBsYWJlbDogJ+S4jemZkCcsXHJcbiAgICAgIHZhbHVlOiAnJyxcclxuICAgICAgaXNBY3RpdmU6IHRydWUsXHJcbiAgICB9XSxcclxuICB9LCB7XHJcbiAgICBsYWJlbDogJ+aOkuW6jycsIC8vIOexu+Wei1xyXG4gICAgdHlwZTogJ3NvcnQnLFxyXG4gICAgaXNBY3RpdmU6IGZhbHNlLFxyXG4gICAgY2hpbGRyZW46IFt7XHJcbiAgICAgIGxhYmVsOiAn5LiN6ZmQJywgLy8g5LiN6ZmQXHJcbiAgICAgIHZhbHVlOiAnMScsXHJcbiAgICAgIGlzQWN0aXZlOiB0cnVlLFxyXG4gICAgfSwge1xyXG4gICAgICBsYWJlbDogJ+WPkeW4g+aXtumXtCcsIC8vIOWPkeW4g+aXtumXtFxyXG4gICAgICB2YWx1ZTogJzEnLFxyXG4gICAgICBpc0FjdGl2ZTogZmFsc2UsXHJcbiAgICB9LCB7XHJcbiAgICAgIGxhYmVsOiAn6K+E6K665pe26Ze0JywgLy8g5pu05paw5pe26Ze0XHJcbiAgICAgIHZhbHVlOiAnMicsXHJcbiAgICAgIGlzQWN0aXZlOiBmYWxzZSxcclxuICAgIH0sIHtcclxuICAgICAgbGFiZWw6ICfng63pl6jlhoXlrrknLCAvLyDmm7TmlrDml7bpl7RcclxuICAgICAgdmFsdWU6ICczJyxcclxuICAgICAgaXNBY3RpdmU6IGZhbHNlLFxyXG4gICAgfV0sXHJcbiAgfSxcclxuXTtcclxuIiwiaW1wb3J0IFJlYWN0LCB7IHVzZUVmZmVjdCwgdXNlTWVtbywgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCBzdHlsZXMgZnJvbSAnLi9pbmRleC5tb2R1bGUuc2Nzcyc7XHJcbmltcG9ydCB7IE1lbnUgfSBmcm9tICdAZGlzY3V6cS9kZXNpZ24nO1xyXG5pbXBvcnQgeyBub29wIH0gZnJvbSAnQGNvbXBvbmVudHMvdGhyZWFkL3V0aWxzJ1xyXG5pbXBvcnQgZmlsdGVyRGF0YSBmcm9tICcuL2RhdGEnO1xyXG5pbXBvcnQgZGVlcENsb25lIGZyb20gJ0Bjb21tb24vdXRpbHMvZGVlcC1jbG9uZSc7XHJcbmltcG9ydCB7IGluamVjdCwgb2JzZXJ2ZXIgfSBmcm9tICdtb2J4LXJlYWN0JztcclxuXHJcbi8qKlxyXG4gKiDpobbpg6jpgInmi6noj5zljZVcclxuICogQHByb3Age29iamVjdH0gZGF0YSDnrZvpgInmlbDmja5cclxuICogQHByb3Age251bWJlcn0gZmlsdGVySW5kZXgg562b6YCJ6YCJ5Lit6aG5aW5kZXhcclxuICovXHJcblxyXG5jb25zdCBJbmRleCA9ICh7IGluZGV4OiBpbmRleFN0b3JlLCBvblN1Ym1pdCA9IG5vb3AsIGlzU2hvd0RlZmF1bHQgPSBmYWxzZSB9KSA9PiB7XHJcblxyXG4gIGNvbnN0IHRpdGxlID0gKG5hbWUgPSAn5a+86IiqJykgPT4gPHNwYW4+e25hbWV9PC9zcGFuPjtcclxuICAvLyDpgInkuK3poblpbmRleFxyXG4gIGNvbnN0IG5ld0ZpbHRlckRhdGEgPSBmaWx0ZXJEYXRhLnNsaWNlKCk7XHJcbiAgaWYgKCBpc1Nob3dEZWZhdWx0ICkge1xyXG4gICAgbmV3RmlsdGVyRGF0YS5zcGxpY2UoMSwgMCwge1xyXG4gICAgICBsYWJlbDogJ+aOqOiNkCcsIC8vIOm7mOiupOaZuuiDveaOkuW6j1xyXG4gICAgICB0eXBlOiAnc2VxdWVuY2UnLFxyXG4gICAgICBpc0FjdGl2ZTogZmFsc2UsXHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGNvbnN0IFtkYXRhU291cmNlLCBzZXREYXRhU291cmNlXSA9IHVzZVN0YXRlKGRlZXBDbG9uZShuZXdGaWx0ZXJEYXRhKSk7XHJcblxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICAvLyBmaXg6IOmAieS4reWtkOiPnOWNleaXtu+8jHN1YkluZGV45b2i5aaCYS9i77yM5LiL5qCH5peg5rOV55u05o6l5L2/55SoXHJcbiAgICBjb25zdCBhY3RpdmVJbmRleCA9IGluZGV4U3RvcmUudG9wTWVudUluZGV4WzBdIHx8IDA7XHJcbiAgICBuZXdGaWx0ZXJEYXRhWzBdLmlzQWN0aXZlID0gZmFsc2U7XHJcbiAgICBuZXdGaWx0ZXJEYXRhW2FjdGl2ZUluZGV4XS5pc0FjdGl2ZSA9IHRydWU7XHJcblxyXG4gICAgbmV3RmlsdGVyRGF0YVtuZXdGaWx0ZXJEYXRhLmxlbmd0aCAtIDJdLmNoaWxkcmVuID0gW1xyXG4gICAgICB7XHJcbiAgICAgICAgbGFiZWw6ICfkuI3pmZAnLFxyXG4gICAgICAgIHZhbHVlOiAnJyxcclxuICAgICAgICBpc0FjdGl2ZTogdHJ1ZSxcclxuICAgICAgfSxcclxuICAgICAgLi4uaW5kZXhTdG9yZT8udGhyZWFkVHlwZWxpc3Q/LnNsaWNlKCksXHJcbiAgICBdO1xyXG4gICAgc2V0RGF0YVNvdXJjZShkZWVwQ2xvbmUobmV3RmlsdGVyRGF0YSkpO1xyXG4gIH0sIFtpbmRleFN0b3JlPy50aHJlYWRUeXBlbGlzdD8ubGVuZ3RoXSk7XHJcblxyXG4gIC8vIOeCueWHu+etm+mAiemhue+8jOiOt+WPluebruagh+WAvFxyXG4gIGNvbnN0IG9uQ2xpY2sgPSAoc3ViSW5kZXgsIGluZGV4KSA9PiB7XHJcbiAgICBpbmRleFN0b3JlLnRvcE1lbnVJbmRleCA9IHN1YkluZGV4XHJcblxyXG4gICAgY29uc3QgbmV3RGF0YVNvdXJjZSA9IGRlZXBDbG9uZShuZXdGaWx0ZXJEYXRhKTtcclxuXHJcbiAgICAvLyDmuIXpmaTjgIzmiYDmnInjgI3pgInpobnpgInkuK3nirbmgIFcclxuICAgIG5ld0RhdGFTb3VyY2VbMF0uaXNBY3RpdmUgPSBmYWxzZVxyXG5cclxuICAgIGlmIChgJHtpbmRleH1gICE9PSAnLTEnICYmIGAke3N1YkluZGV4fWAuaW5kZXhPZignLycpICE9PSAtMSkgeyAvLyDngrnlh7vkuoznuqfoj5zljZVcclxuICAgICAgLy8g6I635Y+W5LqM57qn6I+c5Y2V55qE5LiL5qCHXHJcbiAgICAgIGNvbnN0IGkgPSBwYXJzZUludChzdWJJbmRleC5zcGxpdCgnLycpWzFdKVxyXG4gICAgICAvLyDoi6XlvZPliY3kuoznuqfoj5zljZXkuI3mmK/pgInkuK3nirbmgIHvvIzlhYjmuIXnqbrkuYvliY3mk43kvZzvvIzlho3otYvlgLxcclxuICAgICAgY29uc3Qgc3ViSW5kZXhJdGVtcyA9IG5ld0RhdGFTb3VyY2VbaW5kZXhdPy5jaGlsZHJlbi5tYXAoaXRlbSA9PiB7XHJcbiAgICAgICAgaXRlbS5pc0FjdGl2ZSA9IGZhbHNlXHJcbiAgICAgICAgcmV0dXJuIGl0ZW1cclxuICAgICAgfSlcclxuICAgICAgc3ViSW5kZXhJdGVtc1tpXS5pc0FjdGl2ZSA9IHRydWU7XHJcblxyXG4gICAgICBjb25zdCBpbmRleEl0ZW0gPSBuZXdEYXRhU291cmNlW2luZGV4XTtcclxuICAgICAgaW5kZXhJdGVtLmlzQWN0aXZlID0gdHJ1ZTtcclxuICAgIH0gZWxzZSBpZiAoYCR7aW5kZXh9YCA9PT0gJy0xJykgeyAvLyDngrnlh7vkuIDnuqfoj5zljZVcclxuICAgICAgICAvLyDoi6XlvZPliY3kuIDnuqfoj5zljZXkuI3mmK/pgInkuK3nirbmgIHvvIzlhYjmuIXnqbrkuYvliY3mk43kvZzvvIzlho3otYvlgLxcclxuICAgICAgY29uc3QgaW5kZXhJdGVtcyA9IG5ld0RhdGFTb3VyY2UubWFwKGl0ZW0gPT4ge1xyXG4gICAgICAgIGlmICghaXRlbS5jaGlsZHJlbj8ubGVuZ3RoKSB7XHJcbiAgICAgICAgICBpdGVtLmlzQWN0aXZlID0gZmFsc2VcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGl0ZW1cclxuICAgICAgfSlcclxuICAgICAgaW5kZXhJdGVtc1tzdWJJbmRleF0uaXNBY3RpdmUgPSB0cnVlO1xyXG4gICAgfSBlbHNlIGlmKGlzTmFOKGluZGV4KSkge1xyXG4gICAgICBuZXdEYXRhU291cmNlLm1hcChpdGVtID0+IHtcclxuICAgICAgICBpZiAoIWl0ZW0uY2hpbGRyZW4/Lmxlbmd0aCkge1xyXG4gICAgICAgICAgaXRlbS5pc0FjdGl2ZSA9IGZhbHNlXHJcbiAgICAgICAgfVxyXG4gICAgICB9KVxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHJlc3VsdCA9IGhhbmRsZVJlc3VsdChuZXdEYXRhU291cmNlKVxyXG4gICAgb25TdWJtaXQocmVzdWx0KVxyXG4gICAgc2V0RGF0YVNvdXJjZShuZXdEYXRhU291cmNlKTtcclxuICB9O1xyXG5cclxuICAvLyDmoLnmja5pc0FjdGl2ZeS4unRydWXnmoTpgInpobnvvIznu4Too4Xlj4LmlbBcclxuICBjb25zdCBoYW5kbGVSZXN1bHQgPSAoZGF0YSkgPT4ge1xyXG4gICAgY29uc3QgcmVzdWx0ID0ge1xyXG4gICAgICBzZXF1ZW5jZTogMCxcclxuICAgICAgZmlsdGVyOiB7XHJcbiAgICAgICAgc29ydDogMSxcclxuICAgICAgICBhdHRlbnRpb246IDAsXHJcbiAgICAgICAgdHlwZXM6IFtdLFxyXG4gICAgICAgIGVzc2VuY2U6IDBcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgZGF0YS5mb3JFYWNoKGl0ZW0gPT4ge1xyXG4gICAgICBpZiAoaXRlbS50eXBlID09PSAnc2VxdWVuY2UnKSB7XHJcbiAgICAgICAgcmVzdWx0WydzZXF1ZW5jZSddID0gaXRlbS5pc0FjdGl2ZSA/ICcxJyA6ICcwJ1xyXG4gICAgICB9IGVsc2UgaWYgKGl0ZW0uY2hpbGRyZW4/Lmxlbmd0aCkge1xyXG4gICAgICAgIGl0ZW0uY2hpbGRyZW4uZm9yRWFjaChzdWIgPT4ge1xyXG4gICAgICAgICAgaWYgKHN1Yi5pc0FjdGl2ZSAmJiBzdWIudmFsdWUpIHtcclxuICAgICAgICAgICAgaWYgKGl0ZW0udHlwZSA9PT0gJ3R5cGVzJyAmJiBzdWIudmFsdWUpIHtcclxuICAgICAgICAgICAgICByZXN1bHQuZmlsdGVyW2l0ZW0udHlwZV0gPSBbc3ViLnZhbHVlXVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIHJlc3VsdC5maWx0ZXJbaXRlbS50eXBlXSA9IHN1Yi52YWx1ZVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgICAgfSBlbHNlIGlmIChpdGVtLnR5cGUgIT09ICdhbGwnKSB7XHJcbiAgICAgICAgcmVzdWx0LmZpbHRlcltpdGVtLnR5cGVdID0gaXRlbS5pc0FjdGl2ZSA/ICcxJyA6ICcwJ1xyXG4gICAgICB9XHJcbiAgICB9KVxyXG4gICAgcmV0dXJuIHJlc3VsdFxyXG4gIH1cclxuXHJcbiAgY29uc3QgcmVzZXRMaW5lID0gKHN1YkluZGV4KSA9PiB7XHJcbiAgICBkYXRhU291cmNlLm1hcCgoaXRlbSwgaW5kZXgpID0+IHtcclxuICAgICAgaWYgKGAke2luZGV4fWAgPT09IGAke3N1YkluZGV4fWApIHtcclxuICAgICAgICBpdGVtLmlzQWN0aXZlID0gdHJ1ZVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGl0ZW0uaXNBY3RpdmUgPSBmYWxzZVxyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiBpdGVtO1xyXG4gICAgfSlcclxuICB9XHJcblxyXG4gIGNvbnN0IHN1YkFjdGl2ZUluZGV4ID0gdXNlTWVtbygoKSA9PiB7XHJcbiAgICBpZiAoaW5kZXhTdG9yZS50b3BNZW51SW5kZXguaW5kZXhPZignLycpICE9PSAtMSkge1xyXG4gICAgICBjb25zdCBhcnIgPSBpbmRleFN0b3JlLnRvcE1lbnVJbmRleC5zcGxpdCgnLycpXHJcbiAgICAgIGNvbnN0IHN1YkluZGV4ID0gYXJyWzBdXHJcbiAgICAgIHJlc2V0TGluZShzdWJJbmRleClcclxuICAgICAgcmV0dXJuIHN1YkluZGV4XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXNldExpbmUoaW5kZXhTdG9yZS50b3BNZW51SW5kZXgpXHJcbiAgICB9XHJcbiAgfSwgW2luZGV4U3RvcmUudG9wTWVudUluZGV4XSlcclxuXHJcbiAgcmV0dXJuIChcclxuICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZXMuY29udGFpbmVyfT5cclxuICAgICAgey8qIOiPnOWNlSAqL31cclxuICAgICAgPE1lbnUgbW9kZT1cImhvcml6b250YWxcIiBtZW51VHJpZ2dlcj1cImhvdmVyXCIgZGVmYXVsdEFjdGl2ZXM9e1tgJHtpbmRleFN0b3JlLnRvcE1lbnVJbmRleH1gXX0gZGVmYXVsdFN1Ym1lbnVBY3RpdmVzPXtbYCR7c3ViQWN0aXZlSW5kZXh9YF19PlxyXG4gICAgICAgIHtcclxuICAgICAgICAgIGRhdGFTb3VyY2U/Lm1hcCgoaXRlbSwgaW5kZXgpID0+IChcclxuICAgICAgICAgICAgaXRlbS5jaGlsZHJlbiA/IChcclxuICAgICAgICAgICAgICAgIDxNZW51LlN1Yk1lbnVcclxuICAgICAgICAgICAgICAgICAga2V5PXtpbmRleH1cclxuICAgICAgICAgICAgICAgICAgaW5kZXg9e2Ake2luZGV4fWB9XHJcbiAgICAgICAgICAgICAgICAgIHRpdGxlPXt0aXRsZShpdGVtLmxhYmVsKX1cclxuICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgcGFkZGluZzogJzNweCAxMHB4JywgaGVpZ2h0OiAnNTVweCcgfX1cclxuICAgICAgICAgICAgICAgICAgb25DbGljaz17b25DbGlja31cclxuICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGl0ZW0uY2hpbGRyZW4ubWFwKChzZWNvbmRJdGVtLCBzZWNvbmRJbmRleCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgICAgICAgICAgICAgPE1lbnUuSXRlbVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRpdmlkZWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2Ake2luZGV4fS8ke3NlY29uZEluZGV4fWB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXg9e2Ake2luZGV4fS8ke3NlY29uZEluZGV4fWB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgcGFkZGluZzogJzEwcHggMjBweCcgfX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXtvbkNsaWNrfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAge3NlY29uZEl0ZW0ubGFiZWx9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvTWVudS5JdGVtPlxyXG4gICAgICAgICAgICAgICAgICAgICl9KVxyXG4gICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICA8L01lbnUuU3ViTWVudT5cclxuICAgICAgICAgICAgKSA6IChcclxuICAgICAgICAgICAgICAgIDxNZW51Lkl0ZW0gb25DbGljaz17b25DbGlja30ga2V5PXtpbmRleH0gaW5kZXg9e2Ake2luZGV4fWB9IHN0eWxlPXtpbmRleCA9PT0gMCA/IHtwYWRkaW5nOiAnMCAxMHB4IDAgMCd9IDogeyBwYWRkaW5nOiAnMCAxMHB4JyB9fT5cclxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlcy5sYWJlbH0+XHJcbiAgICAgICAgICAgICAgICAgICAgeyBpdGVtLmxhYmVsIH1cclxuICAgICAgICAgICAgICAgICAgICB7IGl0ZW0uaXNBY3RpdmUgJiYgPGRpdiBjbGFzc05hbWU9e3N0eWxlcy5saW5lfT48L2Rpdj4gfVxyXG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDwvTWVudS5JdGVtPlxyXG4gICAgICAgICAgICApXHJcbiAgICAgICAgICApKVxyXG4gICAgICAgIH1cclxuICAgICAgPC9NZW51PlxyXG4gICAgPC9kaXY+XHJcbiAgKTtcclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGluamVjdCgnaW5kZXgnKShvYnNlcnZlcihJbmRleCkpOyIsImZ1bmN0aW9uIHIoZSl7dmFyIHQsZixuPVwiXCI7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGV8fFwibnVtYmVyXCI9PXR5cGVvZiBlKW4rPWU7ZWxzZSBpZihcIm9iamVjdFwiPT10eXBlb2YgZSlpZihBcnJheS5pc0FycmF5KGUpKWZvcih0PTA7dDxlLmxlbmd0aDt0KyspZVt0XSYmKGY9cihlW3RdKSkmJihuJiYobis9XCIgXCIpLG4rPWYpO2Vsc2UgZm9yKHQgaW4gZSllW3RdJiYobiYmKG4rPVwiIFwiKSxuKz10KTtyZXR1cm4gbn1leHBvcnQgZnVuY3Rpb24gY2xzeCgpe2Zvcih2YXIgZSx0LGY9MCxuPVwiXCI7Zjxhcmd1bWVudHMubGVuZ3RoOykoZT1hcmd1bWVudHNbZisrXSkmJih0PXIoZSkpJiYobiYmKG4rPVwiIFwiKSxuKz10KTtyZXR1cm4gbn1leHBvcnQgZGVmYXVsdCBjbHN4OyIsImV4cG9ydCBkZWZhdWx0ICEhKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5kb2N1bWVudCAmJiB3aW5kb3cuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCk7IiwiaW1wb3J0IGNhblVzZURPTSBmcm9tICcuL2NhblVzZURPTSc7XG52YXIgc2l6ZTtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHNjcm9sbGJhclNpemUocmVjYWxjKSB7XG4gIGlmICghc2l6ZSAmJiBzaXplICE9PSAwIHx8IHJlY2FsYykge1xuICAgIGlmIChjYW5Vc2VET00pIHtcbiAgICAgIHZhciBzY3JvbGxEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIHNjcm9sbERpdi5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XG4gICAgICBzY3JvbGxEaXYuc3R5bGUudG9wID0gJy05OTk5cHgnO1xuICAgICAgc2Nyb2xsRGl2LnN0eWxlLndpZHRoID0gJzUwcHgnO1xuICAgICAgc2Nyb2xsRGl2LnN0eWxlLmhlaWdodCA9ICc1MHB4JztcbiAgICAgIHNjcm9sbERpdi5zdHlsZS5vdmVyZmxvdyA9ICdzY3JvbGwnO1xuICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChzY3JvbGxEaXYpO1xuICAgICAgc2l6ZSA9IHNjcm9sbERpdi5vZmZzZXRXaWR0aCAtIHNjcm9sbERpdi5jbGllbnRXaWR0aDtcbiAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoc2Nyb2xsRGl2KTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gc2l6ZTtcbn0iLCIvKipcbiAqIENvcHlyaWdodCAoYykgMjAxMy1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cbmZ1bmN0aW9uIGNvbXBvbmVudFdpbGxNb3VudCgpIHtcbiAgLy8gQ2FsbCB0aGlzLmNvbnN0cnVjdG9yLmdEU0ZQIHRvIHN1cHBvcnQgc3ViLWNsYXNzZXMuXG4gIHZhciBzdGF0ZSA9IHRoaXMuY29uc3RydWN0b3IuZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzKHRoaXMucHJvcHMsIHRoaXMuc3RhdGUpO1xuICBpZiAoc3RhdGUgIT09IG51bGwgJiYgc3RhdGUgIT09IHVuZGVmaW5lZCkge1xuICAgIHRoaXMuc2V0U3RhdGUoc3RhdGUpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV4dFByb3BzKSB7XG4gIC8vIENhbGwgdGhpcy5jb25zdHJ1Y3Rvci5nRFNGUCB0byBzdXBwb3J0IHN1Yi1jbGFzc2VzLlxuICAvLyBVc2UgdGhlIHNldFN0YXRlKCkgdXBkYXRlciB0byBlbnN1cmUgc3RhdGUgaXNuJ3Qgc3RhbGUgaW4gY2VydGFpbiBlZGdlIGNhc2VzLlxuICBmdW5jdGlvbiB1cGRhdGVyKHByZXZTdGF0ZSkge1xuICAgIHZhciBzdGF0ZSA9IHRoaXMuY29uc3RydWN0b3IuZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzKG5leHRQcm9wcywgcHJldlN0YXRlKTtcbiAgICByZXR1cm4gc3RhdGUgIT09IG51bGwgJiYgc3RhdGUgIT09IHVuZGVmaW5lZCA/IHN0YXRlIDogbnVsbDtcbiAgfVxuICAvLyBCaW5kaW5nIFwidGhpc1wiIGlzIGltcG9ydGFudCBmb3Igc2hhbGxvdyByZW5kZXJlciBzdXBwb3J0LlxuICB0aGlzLnNldFN0YXRlKHVwZGF0ZXIuYmluZCh0aGlzKSk7XG59XG5cbmZ1bmN0aW9uIGNvbXBvbmVudFdpbGxVcGRhdGUobmV4dFByb3BzLCBuZXh0U3RhdGUpIHtcbiAgdHJ5IHtcbiAgICB2YXIgcHJldlByb3BzID0gdGhpcy5wcm9wcztcbiAgICB2YXIgcHJldlN0YXRlID0gdGhpcy5zdGF0ZTtcbiAgICB0aGlzLnByb3BzID0gbmV4dFByb3BzO1xuICAgIHRoaXMuc3RhdGUgPSBuZXh0U3RhdGU7XG4gICAgdGhpcy5fX3JlYWN0SW50ZXJuYWxTbmFwc2hvdEZsYWcgPSB0cnVlO1xuICAgIHRoaXMuX19yZWFjdEludGVybmFsU25hcHNob3QgPSB0aGlzLmdldFNuYXBzaG90QmVmb3JlVXBkYXRlKFxuICAgICAgcHJldlByb3BzLFxuICAgICAgcHJldlN0YXRlXG4gICAgKTtcbiAgfSBmaW5hbGx5IHtcbiAgICB0aGlzLnByb3BzID0gcHJldlByb3BzO1xuICAgIHRoaXMuc3RhdGUgPSBwcmV2U3RhdGU7XG4gIH1cbn1cblxuLy8gUmVhY3QgbWF5IHdhcm4gYWJvdXQgY1dNL2NXUlAvY1dVIG1ldGhvZHMgYmVpbmcgZGVwcmVjYXRlZC5cbi8vIEFkZCBhIGZsYWcgdG8gc3VwcHJlc3MgdGhlc2Ugd2FybmluZ3MgZm9yIHRoaXMgc3BlY2lhbCBjYXNlLlxuY29tcG9uZW50V2lsbE1vdW50Ll9fc3VwcHJlc3NEZXByZWNhdGlvbldhcm5pbmcgPSB0cnVlO1xuY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcy5fX3N1cHByZXNzRGVwcmVjYXRpb25XYXJuaW5nID0gdHJ1ZTtcbmNvbXBvbmVudFdpbGxVcGRhdGUuX19zdXBwcmVzc0RlcHJlY2F0aW9uV2FybmluZyA9IHRydWU7XG5cbmZ1bmN0aW9uIHBvbHlmaWxsKENvbXBvbmVudCkge1xuICB2YXIgcHJvdG90eXBlID0gQ29tcG9uZW50LnByb3RvdHlwZTtcblxuICBpZiAoIXByb3RvdHlwZSB8fCAhcHJvdG90eXBlLmlzUmVhY3RDb21wb25lbnQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0NhbiBvbmx5IHBvbHlmaWxsIGNsYXNzIGNvbXBvbmVudHMnKTtcbiAgfVxuXG4gIGlmIChcbiAgICB0eXBlb2YgQ29tcG9uZW50LmdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyAhPT0gJ2Z1bmN0aW9uJyAmJlxuICAgIHR5cGVvZiBwcm90b3R5cGUuZ2V0U25hcHNob3RCZWZvcmVVcGRhdGUgIT09ICdmdW5jdGlvbidcbiAgKSB7XG4gICAgcmV0dXJuIENvbXBvbmVudDtcbiAgfVxuXG4gIC8vIElmIG5ldyBjb21wb25lbnQgQVBJcyBhcmUgZGVmaW5lZCwgXCJ1bnNhZmVcIiBsaWZlY3ljbGVzIHdvbid0IGJlIGNhbGxlZC5cbiAgLy8gRXJyb3IgaWYgYW55IG9mIHRoZXNlIGxpZmVjeWNsZXMgYXJlIHByZXNlbnQsXG4gIC8vIEJlY2F1c2UgdGhleSB3b3VsZCB3b3JrIGRpZmZlcmVudGx5IGJldHdlZW4gb2xkZXIgYW5kIG5ld2VyICgxNi4zKykgdmVyc2lvbnMgb2YgUmVhY3QuXG4gIHZhciBmb3VuZFdpbGxNb3VudE5hbWUgPSBudWxsO1xuICB2YXIgZm91bmRXaWxsUmVjZWl2ZVByb3BzTmFtZSA9IG51bGw7XG4gIHZhciBmb3VuZFdpbGxVcGRhdGVOYW1lID0gbnVsbDtcbiAgaWYgKHR5cGVvZiBwcm90b3R5cGUuY29tcG9uZW50V2lsbE1vdW50ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgZm91bmRXaWxsTW91bnROYW1lID0gJ2NvbXBvbmVudFdpbGxNb3VudCc7XG4gIH0gZWxzZSBpZiAodHlwZW9mIHByb3RvdHlwZS5VTlNBRkVfY29tcG9uZW50V2lsbE1vdW50ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgZm91bmRXaWxsTW91bnROYW1lID0gJ1VOU0FGRV9jb21wb25lbnRXaWxsTW91bnQnO1xuICB9XG4gIGlmICh0eXBlb2YgcHJvdG90eXBlLmNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMgPT09ICdmdW5jdGlvbicpIHtcbiAgICBmb3VuZFdpbGxSZWNlaXZlUHJvcHNOYW1lID0gJ2NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMnO1xuICB9IGVsc2UgaWYgKHR5cGVvZiBwcm90b3R5cGUuVU5TQUZFX2NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMgPT09ICdmdW5jdGlvbicpIHtcbiAgICBmb3VuZFdpbGxSZWNlaXZlUHJvcHNOYW1lID0gJ1VOU0FGRV9jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzJztcbiAgfVxuICBpZiAodHlwZW9mIHByb3RvdHlwZS5jb21wb25lbnRXaWxsVXBkYXRlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgZm91bmRXaWxsVXBkYXRlTmFtZSA9ICdjb21wb25lbnRXaWxsVXBkYXRlJztcbiAgfSBlbHNlIGlmICh0eXBlb2YgcHJvdG90eXBlLlVOU0FGRV9jb21wb25lbnRXaWxsVXBkYXRlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgZm91bmRXaWxsVXBkYXRlTmFtZSA9ICdVTlNBRkVfY29tcG9uZW50V2lsbFVwZGF0ZSc7XG4gIH1cbiAgaWYgKFxuICAgIGZvdW5kV2lsbE1vdW50TmFtZSAhPT0gbnVsbCB8fFxuICAgIGZvdW5kV2lsbFJlY2VpdmVQcm9wc05hbWUgIT09IG51bGwgfHxcbiAgICBmb3VuZFdpbGxVcGRhdGVOYW1lICE9PSBudWxsXG4gICkge1xuICAgIHZhciBjb21wb25lbnROYW1lID0gQ29tcG9uZW50LmRpc3BsYXlOYW1lIHx8IENvbXBvbmVudC5uYW1lO1xuICAgIHZhciBuZXdBcGlOYW1lID1cbiAgICAgIHR5cGVvZiBDb21wb25lbnQuZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzID09PSAnZnVuY3Rpb24nXG4gICAgICAgID8gJ2dldERlcml2ZWRTdGF0ZUZyb21Qcm9wcygpJ1xuICAgICAgICA6ICdnZXRTbmFwc2hvdEJlZm9yZVVwZGF0ZSgpJztcblxuICAgIHRocm93IEVycm9yKFxuICAgICAgJ1Vuc2FmZSBsZWdhY3kgbGlmZWN5Y2xlcyB3aWxsIG5vdCBiZSBjYWxsZWQgZm9yIGNvbXBvbmVudHMgdXNpbmcgbmV3IGNvbXBvbmVudCBBUElzLlxcblxcbicgK1xuICAgICAgICBjb21wb25lbnROYW1lICtcbiAgICAgICAgJyB1c2VzICcgK1xuICAgICAgICBuZXdBcGlOYW1lICtcbiAgICAgICAgJyBidXQgYWxzbyBjb250YWlucyB0aGUgZm9sbG93aW5nIGxlZ2FjeSBsaWZlY3ljbGVzOicgK1xuICAgICAgICAoZm91bmRXaWxsTW91bnROYW1lICE9PSBudWxsID8gJ1xcbiAgJyArIGZvdW5kV2lsbE1vdW50TmFtZSA6ICcnKSArXG4gICAgICAgIChmb3VuZFdpbGxSZWNlaXZlUHJvcHNOYW1lICE9PSBudWxsXG4gICAgICAgICAgPyAnXFxuICAnICsgZm91bmRXaWxsUmVjZWl2ZVByb3BzTmFtZVxuICAgICAgICAgIDogJycpICtcbiAgICAgICAgKGZvdW5kV2lsbFVwZGF0ZU5hbWUgIT09IG51bGwgPyAnXFxuICAnICsgZm91bmRXaWxsVXBkYXRlTmFtZSA6ICcnKSArXG4gICAgICAgICdcXG5cXG5UaGUgYWJvdmUgbGlmZWN5Y2xlcyBzaG91bGQgYmUgcmVtb3ZlZC4gTGVhcm4gbW9yZSBhYm91dCB0aGlzIHdhcm5pbmcgaGVyZTpcXG4nICtcbiAgICAgICAgJ2h0dHBzOi8vZmIubWUvcmVhY3QtYXN5bmMtY29tcG9uZW50LWxpZmVjeWNsZS1ob29rcydcbiAgICApO1xuICB9XG5cbiAgLy8gUmVhY3QgPD0gMTYuMiBkb2VzIG5vdCBzdXBwb3J0IHN0YXRpYyBnZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMuXG4gIC8vIEFzIGEgd29ya2Fyb3VuZCwgdXNlIGNXTSBhbmQgY1dSUCB0byBpbnZva2UgdGhlIG5ldyBzdGF0aWMgbGlmZWN5Y2xlLlxuICAvLyBOZXdlciB2ZXJzaW9ucyBvZiBSZWFjdCB3aWxsIGlnbm9yZSB0aGVzZSBsaWZlY3ljbGVzIGlmIGdEU0ZQIGV4aXN0cy5cbiAgaWYgKHR5cGVvZiBDb21wb25lbnQuZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgcHJvdG90eXBlLmNvbXBvbmVudFdpbGxNb3VudCA9IGNvbXBvbmVudFdpbGxNb3VudDtcbiAgICBwcm90b3R5cGUuY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyA9IGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHM7XG4gIH1cblxuICAvLyBSZWFjdCA8PSAxNi4yIGRvZXMgbm90IHN1cHBvcnQgZ2V0U25hcHNob3RCZWZvcmVVcGRhdGUuXG4gIC8vIEFzIGEgd29ya2Fyb3VuZCwgdXNlIGNXVSB0byBpbnZva2UgdGhlIG5ldyBsaWZlY3ljbGUuXG4gIC8vIE5ld2VyIHZlcnNpb25zIG9mIFJlYWN0IHdpbGwgaWdub3JlIHRoYXQgbGlmZWN5Y2xlIGlmIGdTQlUgZXhpc3RzLlxuICBpZiAodHlwZW9mIHByb3RvdHlwZS5nZXRTbmFwc2hvdEJlZm9yZVVwZGF0ZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGlmICh0eXBlb2YgcHJvdG90eXBlLmNvbXBvbmVudERpZFVwZGF0ZSAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAnQ2Fubm90IHBvbHlmaWxsIGdldFNuYXBzaG90QmVmb3JlVXBkYXRlKCkgZm9yIGNvbXBvbmVudHMgdGhhdCBkbyBub3QgZGVmaW5lIGNvbXBvbmVudERpZFVwZGF0ZSgpIG9uIHRoZSBwcm90b3R5cGUnXG4gICAgICApO1xuICAgIH1cblxuICAgIHByb3RvdHlwZS5jb21wb25lbnRXaWxsVXBkYXRlID0gY29tcG9uZW50V2lsbFVwZGF0ZTtcblxuICAgIHZhciBjb21wb25lbnREaWRVcGRhdGUgPSBwcm90b3R5cGUuY29tcG9uZW50RGlkVXBkYXRlO1xuXG4gICAgcHJvdG90eXBlLmNvbXBvbmVudERpZFVwZGF0ZSA9IGZ1bmN0aW9uIGNvbXBvbmVudERpZFVwZGF0ZVBvbHlmaWxsKFxuICAgICAgcHJldlByb3BzLFxuICAgICAgcHJldlN0YXRlLFxuICAgICAgbWF5YmVTbmFwc2hvdFxuICAgICkge1xuICAgICAgLy8gMTYuMysgd2lsbCBub3QgZXhlY3V0ZSBvdXIgd2lsbC11cGRhdGUgbWV0aG9kO1xuICAgICAgLy8gSXQgd2lsbCBwYXNzIGEgc25hcHNob3QgdmFsdWUgdG8gZGlkLXVwZGF0ZSB0aG91Z2guXG4gICAgICAvLyBPbGRlciB2ZXJzaW9ucyB3aWxsIHJlcXVpcmUgb3VyIHBvbHlmaWxsZWQgd2lsbC11cGRhdGUgdmFsdWUuXG4gICAgICAvLyBXZSBuZWVkIHRvIGhhbmRsZSBib3RoIGNhc2VzLCBidXQgY2FuJ3QganVzdCBjaGVjayBmb3IgdGhlIHByZXNlbmNlIG9mIFwibWF5YmVTbmFwc2hvdFwiLFxuICAgICAgLy8gQmVjYXVzZSBmb3IgPD0gMTUueCB2ZXJzaW9ucyB0aGlzIG1pZ2h0IGJlIGEgXCJwcmV2Q29udGV4dFwiIG9iamVjdC5cbiAgICAgIC8vIFdlIGFsc28gY2FuJ3QganVzdCBjaGVjayBcIl9fcmVhY3RJbnRlcm5hbFNuYXBzaG90XCIsXG4gICAgICAvLyBCZWNhdXNlIGdldC1zbmFwc2hvdCBtaWdodCByZXR1cm4gYSBmYWxzeSB2YWx1ZS5cbiAgICAgIC8vIFNvIGNoZWNrIGZvciB0aGUgZXhwbGljaXQgX19yZWFjdEludGVybmFsU25hcHNob3RGbGFnIGZsYWcgdG8gZGV0ZXJtaW5lIGJlaGF2aW9yLlxuICAgICAgdmFyIHNuYXBzaG90ID0gdGhpcy5fX3JlYWN0SW50ZXJuYWxTbmFwc2hvdEZsYWdcbiAgICAgICAgPyB0aGlzLl9fcmVhY3RJbnRlcm5hbFNuYXBzaG90XG4gICAgICAgIDogbWF5YmVTbmFwc2hvdDtcblxuICAgICAgY29tcG9uZW50RGlkVXBkYXRlLmNhbGwodGhpcywgcHJldlByb3BzLCBwcmV2U3RhdGUsIHNuYXBzaG90KTtcbiAgICB9O1xuICB9XG5cbiAgcmV0dXJuIENvbXBvbmVudDtcbn1cblxuZXhwb3J0IHsgcG9seWZpbGwgfTtcbiIsImltcG9ydCBfY2xhc3NDYWxsQ2hlY2sgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2tcIjtcbmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3NcIjtcbmltcG9ydCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuXCI7XG5pbXBvcnQgX2dldFByb3RvdHlwZU9mIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2dldFByb3RvdHlwZU9mXCI7XG5pbXBvcnQgX2Fzc2VydFRoaXNJbml0aWFsaXplZCBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9hc3NlcnRUaGlzSW5pdGlhbGl6ZWRcIjtcbmltcG9ydCBfaW5oZXJpdHMgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHNcIjtcbmltcG9ydCBfZGVmaW5lUHJvcGVydHkgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZGVmaW5lUHJvcGVydHlcIjtcblxudmFyIF9jbGFzcywgX3RlbXA7XG5cbmZ1bmN0aW9uIG93bktleXMob2JqZWN0LCBlbnVtZXJhYmxlT25seSkgeyB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iamVjdCk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBzeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhvYmplY3QpOyBpZiAoZW51bWVyYWJsZU9ubHkpIHN5bWJvbHMgPSBzeW1ib2xzLmZpbHRlcihmdW5jdGlvbiAoc3ltKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgc3ltKS5lbnVtZXJhYmxlOyB9KTsga2V5cy5wdXNoLmFwcGx5KGtleXMsIHN5bWJvbHMpOyB9IHJldHVybiBrZXlzOyB9XG5cbmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV0gIT0gbnVsbCA/IGFyZ3VtZW50c1tpXSA6IHt9OyBpZiAoaSAlIDIpIHsgb3duS2V5cyhzb3VyY2UsIHRydWUpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTsgfSk7IH0gZWxzZSBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMpIHsgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpKTsgfSBlbHNlIHsgb3duS2V5cyhzb3VyY2UpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBrZXkpKTsgfSk7IH0gfSByZXR1cm4gdGFyZ2V0OyB9XG5cbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHBvbHlmaWxsIH0gZnJvbSAncmVhY3QtbGlmZWN5Y2xlcy1jb21wYXQnO1xuLyoqXG4gKiBUaGlzIEhPQyBkZWNvcmF0ZXMgYSB2aXJ0dWFsaXplZCBjb21wb25lbnQgYW5kIHJlc3BvbmRzIHRvIGFycm93LWtleSBldmVudHMgYnkgc2Nyb2xsaW5nIG9uZSByb3cgb3IgY29sdW1uIGF0IGEgdGltZS5cbiAqL1xuXG52YXIgQXJyb3dLZXlTdGVwcGVyID0gKF90ZW1wID0gX2NsYXNzID1cbi8qI19fUFVSRV9fKi9cbmZ1bmN0aW9uIChfUmVhY3QkUHVyZUNvbXBvbmVudCkge1xuICBfaW5oZXJpdHMoQXJyb3dLZXlTdGVwcGVyLCBfUmVhY3QkUHVyZUNvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gQXJyb3dLZXlTdGVwcGVyKCkge1xuICAgIHZhciBfZ2V0UHJvdG90eXBlT2YyO1xuXG4gICAgdmFyIF90aGlzO1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEFycm93S2V5U3RlcHBlcik7XG5cbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuXG4gICAgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoX2dldFByb3RvdHlwZU9mMiA9IF9nZXRQcm90b3R5cGVPZihBcnJvd0tleVN0ZXBwZXIpKS5jYWxsLmFwcGx5KF9nZXRQcm90b3R5cGVPZjIsIFt0aGlzXS5jb25jYXQoYXJncykpKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJzdGF0ZVwiLCB7XG4gICAgICBzY3JvbGxUb0NvbHVtbjogMCxcbiAgICAgIHNjcm9sbFRvUm93OiAwLFxuICAgICAgaW5zdGFuY2VQcm9wczoge1xuICAgICAgICBwcmV2U2Nyb2xsVG9Db2x1bW46IDAsXG4gICAgICAgIHByZXZTY3JvbGxUb1JvdzogMFxuICAgICAgfVxuICAgIH0pO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcIl9jb2x1bW5TdGFydEluZGV4XCIsIDApO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcIl9jb2x1bW5TdG9wSW5kZXhcIiwgMCk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwiX3Jvd1N0YXJ0SW5kZXhcIiwgMCk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwiX3Jvd1N0b3BJbmRleFwiLCAwKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJfb25LZXlEb3duXCIsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgdmFyIF90aGlzJHByb3BzID0gX3RoaXMucHJvcHMsXG4gICAgICAgICAgY29sdW1uQ291bnQgPSBfdGhpcyRwcm9wcy5jb2x1bW5Db3VudCxcbiAgICAgICAgICBkaXNhYmxlZCA9IF90aGlzJHByb3BzLmRpc2FibGVkLFxuICAgICAgICAgIG1vZGUgPSBfdGhpcyRwcm9wcy5tb2RlLFxuICAgICAgICAgIHJvd0NvdW50ID0gX3RoaXMkcHJvcHMucm93Q291bnQ7XG5cbiAgICAgIGlmIChkaXNhYmxlZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHZhciBfdGhpcyRfZ2V0U2Nyb2xsU3RhdGUgPSBfdGhpcy5fZ2V0U2Nyb2xsU3RhdGUoKSxcbiAgICAgICAgICBzY3JvbGxUb0NvbHVtblByZXZpb3VzID0gX3RoaXMkX2dldFNjcm9sbFN0YXRlLnNjcm9sbFRvQ29sdW1uLFxuICAgICAgICAgIHNjcm9sbFRvUm93UHJldmlvdXMgPSBfdGhpcyRfZ2V0U2Nyb2xsU3RhdGUuc2Nyb2xsVG9Sb3c7XG5cbiAgICAgIHZhciBfdGhpcyRfZ2V0U2Nyb2xsU3RhdGUyID0gX3RoaXMuX2dldFNjcm9sbFN0YXRlKCksXG4gICAgICAgICAgc2Nyb2xsVG9Db2x1bW4gPSBfdGhpcyRfZ2V0U2Nyb2xsU3RhdGUyLnNjcm9sbFRvQ29sdW1uLFxuICAgICAgICAgIHNjcm9sbFRvUm93ID0gX3RoaXMkX2dldFNjcm9sbFN0YXRlMi5zY3JvbGxUb1JvdzsgLy8gVGhlIGFib3ZlIGNhc2VzIGFsbCBwcmV2ZW50IGRlZmF1bHQgZXZlbnQgZXZlbnQgYmVoYXZpb3IuXG4gICAgICAvLyBUaGlzIGlzIHRvIGtlZXAgdGhlIGdyaWQgZnJvbSBzY3JvbGxpbmcgYWZ0ZXIgdGhlIHNuYXAtdG8gdXBkYXRlLlxuXG5cbiAgICAgIHN3aXRjaCAoZXZlbnQua2V5KSB7XG4gICAgICAgIGNhc2UgJ0Fycm93RG93bic6XG4gICAgICAgICAgc2Nyb2xsVG9Sb3cgPSBtb2RlID09PSAnY2VsbHMnID8gTWF0aC5taW4oc2Nyb2xsVG9Sb3cgKyAxLCByb3dDb3VudCAtIDEpIDogTWF0aC5taW4oX3RoaXMuX3Jvd1N0b3BJbmRleCArIDEsIHJvd0NvdW50IC0gMSk7XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSAnQXJyb3dMZWZ0JzpcbiAgICAgICAgICBzY3JvbGxUb0NvbHVtbiA9IG1vZGUgPT09ICdjZWxscycgPyBNYXRoLm1heChzY3JvbGxUb0NvbHVtbiAtIDEsIDApIDogTWF0aC5tYXgoX3RoaXMuX2NvbHVtblN0YXJ0SW5kZXggLSAxLCAwKTtcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlICdBcnJvd1JpZ2h0JzpcbiAgICAgICAgICBzY3JvbGxUb0NvbHVtbiA9IG1vZGUgPT09ICdjZWxscycgPyBNYXRoLm1pbihzY3JvbGxUb0NvbHVtbiArIDEsIGNvbHVtbkNvdW50IC0gMSkgOiBNYXRoLm1pbihfdGhpcy5fY29sdW1uU3RvcEluZGV4ICsgMSwgY29sdW1uQ291bnQgLSAxKTtcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlICdBcnJvd1VwJzpcbiAgICAgICAgICBzY3JvbGxUb1JvdyA9IG1vZGUgPT09ICdjZWxscycgPyBNYXRoLm1heChzY3JvbGxUb1JvdyAtIDEsIDApIDogTWF0aC5tYXgoX3RoaXMuX3Jvd1N0YXJ0SW5kZXggLSAxLCAwKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cblxuICAgICAgaWYgKHNjcm9sbFRvQ29sdW1uICE9PSBzY3JvbGxUb0NvbHVtblByZXZpb3VzIHx8IHNjcm9sbFRvUm93ICE9PSBzY3JvbGxUb1Jvd1ByZXZpb3VzKSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgICAgX3RoaXMuX3VwZGF0ZVNjcm9sbFN0YXRlKHtcbiAgICAgICAgICBzY3JvbGxUb0NvbHVtbjogc2Nyb2xsVG9Db2x1bW4sXG4gICAgICAgICAgc2Nyb2xsVG9Sb3c6IHNjcm9sbFRvUm93XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcIl9vblNlY3Rpb25SZW5kZXJlZFwiLCBmdW5jdGlvbiAoX3JlZikge1xuICAgICAgdmFyIGNvbHVtblN0YXJ0SW5kZXggPSBfcmVmLmNvbHVtblN0YXJ0SW5kZXgsXG4gICAgICAgICAgY29sdW1uU3RvcEluZGV4ID0gX3JlZi5jb2x1bW5TdG9wSW5kZXgsXG4gICAgICAgICAgcm93U3RhcnRJbmRleCA9IF9yZWYucm93U3RhcnRJbmRleCxcbiAgICAgICAgICByb3dTdG9wSW5kZXggPSBfcmVmLnJvd1N0b3BJbmRleDtcbiAgICAgIF90aGlzLl9jb2x1bW5TdGFydEluZGV4ID0gY29sdW1uU3RhcnRJbmRleDtcbiAgICAgIF90aGlzLl9jb2x1bW5TdG9wSW5kZXggPSBjb2x1bW5TdG9wSW5kZXg7XG4gICAgICBfdGhpcy5fcm93U3RhcnRJbmRleCA9IHJvd1N0YXJ0SW5kZXg7XG4gICAgICBfdGhpcy5fcm93U3RvcEluZGV4ID0gcm93U3RvcEluZGV4O1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKEFycm93S2V5U3RlcHBlciwgW3tcbiAgICBrZXk6IFwic2V0U2Nyb2xsSW5kZXhlc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRTY3JvbGxJbmRleGVzKF9yZWYyKSB7XG4gICAgICB2YXIgc2Nyb2xsVG9Db2x1bW4gPSBfcmVmMi5zY3JvbGxUb0NvbHVtbixcbiAgICAgICAgICBzY3JvbGxUb1JvdyA9IF9yZWYyLnNjcm9sbFRvUm93O1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIHNjcm9sbFRvUm93OiBzY3JvbGxUb1JvdyxcbiAgICAgICAgc2Nyb2xsVG9Db2x1bW46IHNjcm9sbFRvQ29sdW1uXG4gICAgICB9KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwicmVuZGVyXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIHZhciBfdGhpcyRwcm9wczIgPSB0aGlzLnByb3BzLFxuICAgICAgICAgIGNsYXNzTmFtZSA9IF90aGlzJHByb3BzMi5jbGFzc05hbWUsXG4gICAgICAgICAgY2hpbGRyZW4gPSBfdGhpcyRwcm9wczIuY2hpbGRyZW47XG5cbiAgICAgIHZhciBfdGhpcyRfZ2V0U2Nyb2xsU3RhdGUzID0gdGhpcy5fZ2V0U2Nyb2xsU3RhdGUoKSxcbiAgICAgICAgICBzY3JvbGxUb0NvbHVtbiA9IF90aGlzJF9nZXRTY3JvbGxTdGF0ZTMuc2Nyb2xsVG9Db2x1bW4sXG4gICAgICAgICAgc2Nyb2xsVG9Sb3cgPSBfdGhpcyRfZ2V0U2Nyb2xsU3RhdGUzLnNjcm9sbFRvUm93O1xuXG4gICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lLFxuICAgICAgICBvbktleURvd246IHRoaXMuX29uS2V5RG93blxuICAgICAgfSwgY2hpbGRyZW4oe1xuICAgICAgICBvblNlY3Rpb25SZW5kZXJlZDogdGhpcy5fb25TZWN0aW9uUmVuZGVyZWQsXG4gICAgICAgIHNjcm9sbFRvQ29sdW1uOiBzY3JvbGxUb0NvbHVtbixcbiAgICAgICAgc2Nyb2xsVG9Sb3c6IHNjcm9sbFRvUm93XG4gICAgICB9KSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIl9nZXRTY3JvbGxTdGF0ZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfZ2V0U2Nyb2xsU3RhdGUoKSB7XG4gICAgICByZXR1cm4gdGhpcy5wcm9wcy5pc0NvbnRyb2xsZWQgPyB0aGlzLnByb3BzIDogdGhpcy5zdGF0ZTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiX3VwZGF0ZVNjcm9sbFN0YXRlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF91cGRhdGVTY3JvbGxTdGF0ZShfcmVmMykge1xuICAgICAgdmFyIHNjcm9sbFRvQ29sdW1uID0gX3JlZjMuc2Nyb2xsVG9Db2x1bW4sXG4gICAgICAgICAgc2Nyb2xsVG9Sb3cgPSBfcmVmMy5zY3JvbGxUb1JvdztcbiAgICAgIHZhciBfdGhpcyRwcm9wczMgPSB0aGlzLnByb3BzLFxuICAgICAgICAgIGlzQ29udHJvbGxlZCA9IF90aGlzJHByb3BzMy5pc0NvbnRyb2xsZWQsXG4gICAgICAgICAgb25TY3JvbGxUb0NoYW5nZSA9IF90aGlzJHByb3BzMy5vblNjcm9sbFRvQ2hhbmdlO1xuXG4gICAgICBpZiAodHlwZW9mIG9uU2Nyb2xsVG9DaGFuZ2UgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgb25TY3JvbGxUb0NoYW5nZSh7XG4gICAgICAgICAgc2Nyb2xsVG9Db2x1bW46IHNjcm9sbFRvQ29sdW1uLFxuICAgICAgICAgIHNjcm9sbFRvUm93OiBzY3JvbGxUb1Jvd1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgaWYgKCFpc0NvbnRyb2xsZWQpIHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgc2Nyb2xsVG9Db2x1bW46IHNjcm9sbFRvQ29sdW1uLFxuICAgICAgICAgIHNjcm9sbFRvUm93OiBzY3JvbGxUb1Jvd1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH1dLCBbe1xuICAgIGtleTogXCJnZXREZXJpdmVkU3RhdGVGcm9tUHJvcHNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzKG5leHRQcm9wcywgcHJldlN0YXRlKSB7XG4gICAgICBpZiAobmV4dFByb3BzLmlzQ29udHJvbGxlZCkge1xuICAgICAgICByZXR1cm4ge307XG4gICAgICB9XG5cbiAgICAgIGlmIChuZXh0UHJvcHMuc2Nyb2xsVG9Db2x1bW4gIT09IHByZXZTdGF0ZS5pbnN0YW5jZVByb3BzLnByZXZTY3JvbGxUb0NvbHVtbiB8fCBuZXh0UHJvcHMuc2Nyb2xsVG9Sb3cgIT09IHByZXZTdGF0ZS5pbnN0YW5jZVByb3BzLnByZXZTY3JvbGxUb1Jvdykge1xuICAgICAgICByZXR1cm4gX29iamVjdFNwcmVhZCh7fSwgcHJldlN0YXRlLCB7XG4gICAgICAgICAgc2Nyb2xsVG9Db2x1bW46IG5leHRQcm9wcy5zY3JvbGxUb0NvbHVtbixcbiAgICAgICAgICBzY3JvbGxUb1JvdzogbmV4dFByb3BzLnNjcm9sbFRvUm93LFxuICAgICAgICAgIGluc3RhbmNlUHJvcHM6IHtcbiAgICAgICAgICAgIHByZXZTY3JvbGxUb0NvbHVtbjogbmV4dFByb3BzLnNjcm9sbFRvQ29sdW1uLFxuICAgICAgICAgICAgcHJldlNjcm9sbFRvUm93OiBuZXh0UHJvcHMuc2Nyb2xsVG9Sb3dcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4ge307XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIEFycm93S2V5U3RlcHBlcjtcbn0oUmVhY3QuUHVyZUNvbXBvbmVudCksIF9kZWZpbmVQcm9wZXJ0eShfY2xhc3MsIFwicHJvcFR5cGVzXCIsIHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAncHJvZHVjdGlvbicgPyBudWxsIDoge1xuICBcImNoaWxkcmVuXCI6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsXG4gIFwiY2xhc3NOYW1lXCI6IFByb3BUeXBlcy5zdHJpbmcsXG4gIFwiY29sdW1uQ291bnRcIjogUHJvcFR5cGVzLm51bWJlci5pc1JlcXVpcmVkLFxuICBcImRpc2FibGVkXCI6IFByb3BUeXBlcy5ib29sLmlzUmVxdWlyZWQsXG4gIFwiaXNDb250cm9sbGVkXCI6IFByb3BUeXBlcy5ib29sLmlzUmVxdWlyZWQsXG4gIFwibW9kZVwiOiBQcm9wVHlwZXMub25lT2YoW1wiY2VsbHNcIiwgXCJlZGdlc1wiXSkuaXNSZXF1aXJlZCxcbiAgXCJvblNjcm9sbFRvQ2hhbmdlXCI6IFByb3BUeXBlcy5mdW5jLFxuICBcInJvd0NvdW50XCI6IFByb3BUeXBlcy5udW1iZXIuaXNSZXF1aXJlZCxcbiAgXCJzY3JvbGxUb0NvbHVtblwiOiBQcm9wVHlwZXMubnVtYmVyLmlzUmVxdWlyZWQsXG4gIFwic2Nyb2xsVG9Sb3dcIjogUHJvcFR5cGVzLm51bWJlci5pc1JlcXVpcmVkXG59KSwgX3RlbXApO1xuXG5fZGVmaW5lUHJvcGVydHkoQXJyb3dLZXlTdGVwcGVyLCBcImRlZmF1bHRQcm9wc1wiLCB7XG4gIGRpc2FibGVkOiBmYWxzZSxcbiAgaXNDb250cm9sbGVkOiBmYWxzZSxcbiAgbW9kZTogJ2VkZ2VzJyxcbiAgc2Nyb2xsVG9Db2x1bW46IDAsXG4gIHNjcm9sbFRvUm93OiAwXG59KTtcblxucG9seWZpbGwoQXJyb3dLZXlTdGVwcGVyKTtcbmV4cG9ydCBkZWZhdWx0IEFycm93S2V5U3RlcHBlcjtcbmltcG9ydCB7IGJwZnJwdF9wcm9wdHlwZV9SZW5kZXJlZFNlY3Rpb24gfSBmcm9tIFwiLi4vR3JpZFwiO1xuaW1wb3J0IHsgYnBmcnB0X3Byb3B0eXBlX1Njcm9sbEluZGljZXMgfSBmcm9tIFwiLi90eXBlc1wiO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tIFwicHJvcC10eXBlc1wiOyIsImV4cG9ydCB7IGRlZmF1bHQgfSBmcm9tICcuL0Fycm93S2V5U3RlcHBlcic7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEFycm93S2V5U3RlcHBlciB9IGZyb20gJy4vQXJyb3dLZXlTdGVwcGVyJztcbmltcG9ydCB7IGJwZnJwdF9wcm9wdHlwZV9TY3JvbGxJbmRpY2VzIH0gZnJvbSBcIi4vdHlwZXNcIjtcbmV4cG9ydCB7IGJwZnJwdF9wcm9wdHlwZV9TY3JvbGxJbmRpY2VzIH07IiwidmFyIGJwZnJwdF9wcm9wdHlwZV9TY3JvbGxJbmRpY2VzID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdwcm9kdWN0aW9uJyA/IG51bGwgOiB7XG4gIFwic2Nyb2xsVG9Db2x1bW5cIjogUHJvcFR5cGVzLm51bWJlci5pc1JlcXVpcmVkLFxuICBcInNjcm9sbFRvUm93XCI6IFByb3BUeXBlcy5udW1iZXIuaXNSZXF1aXJlZFxufTtcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSBcInByb3AtdHlwZXNcIjtcbmV4cG9ydCB7IGJwZnJwdF9wcm9wdHlwZV9TY3JvbGxJbmRpY2VzIH07IiwiaW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVja1wiO1xuaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzc1wiO1xuaW1wb3J0IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm5cIjtcbmltcG9ydCBfZ2V0UHJvdG90eXBlT2YgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZ2V0UHJvdG90eXBlT2ZcIjtcbmltcG9ydCBfYXNzZXJ0VGhpc0luaXRpYWxpemVkIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2Fzc2VydFRoaXNJbml0aWFsaXplZFwiO1xuaW1wb3J0IF9pbmhlcml0cyBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9pbmhlcml0c1wiO1xuaW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9kZWZpbmVQcm9wZXJ0eVwiO1xuXG52YXIgX2NsYXNzLCBfdGVtcDtcblxuZnVuY3Rpb24gb3duS2V5cyhvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7IHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7IGlmIChlbnVtZXJhYmxlT25seSkgc3ltYm9scyA9IHN5bWJvbHMuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBzeW0pLmVudW1lcmFibGU7IH0pOyBrZXlzLnB1c2guYXBwbHkoa2V5cywgc3ltYm9scyk7IH0gcmV0dXJuIGtleXM7IH1cblxuZnVuY3Rpb24gX29iamVjdFNwcmVhZCh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXSAhPSBudWxsID8gYXJndW1lbnRzW2ldIDoge307IGlmIChpICUgMikgeyBvd25LZXlzKHNvdXJjZSwgdHJ1ZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pOyB9KTsgfSBlbHNlIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycykgeyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpOyB9IGVsc2UgeyBvd25LZXlzKHNvdXJjZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpOyB9KTsgfSB9IHJldHVybiB0YXJnZXQ7IH1cblxuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IGNyZWF0ZURldGVjdEVsZW1lbnRSZXNpemUgZnJvbSAnLi4vdmVuZG9yL2RldGVjdEVsZW1lbnRSZXNpemUnO1xudmFyIEF1dG9TaXplciA9IChfdGVtcCA9IF9jbGFzcyA9XG4vKiNfX1BVUkVfXyovXG5mdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuICBfaW5oZXJpdHMoQXV0b1NpemVyLCBfUmVhY3QkQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBBdXRvU2l6ZXIoKSB7XG4gICAgdmFyIF9nZXRQcm90b3R5cGVPZjI7XG5cbiAgICB2YXIgX3RoaXM7XG5cbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQXV0b1NpemVyKTtcblxuICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICB9XG5cbiAgICBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChfZ2V0UHJvdG90eXBlT2YyID0gX2dldFByb3RvdHlwZU9mKEF1dG9TaXplcikpLmNhbGwuYXBwbHkoX2dldFByb3RvdHlwZU9mMiwgW3RoaXNdLmNvbmNhdChhcmdzKSkpO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcInN0YXRlXCIsIHtcbiAgICAgIGhlaWdodDogX3RoaXMucHJvcHMuZGVmYXVsdEhlaWdodCB8fCAwLFxuICAgICAgd2lkdGg6IF90aGlzLnByb3BzLmRlZmF1bHRXaWR0aCB8fCAwXG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwiX3BhcmVudE5vZGVcIiwgdm9pZCAwKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJfYXV0b1NpemVyXCIsIHZvaWQgMCk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwiX3dpbmRvd1wiLCB2b2lkIDApO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcIl9kZXRlY3RFbGVtZW50UmVzaXplXCIsIHZvaWQgMCk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwiX29uUmVzaXplXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfdGhpcyRwcm9wcyA9IF90aGlzLnByb3BzLFxuICAgICAgICAgIGRpc2FibGVIZWlnaHQgPSBfdGhpcyRwcm9wcy5kaXNhYmxlSGVpZ2h0LFxuICAgICAgICAgIGRpc2FibGVXaWR0aCA9IF90aGlzJHByb3BzLmRpc2FibGVXaWR0aCxcbiAgICAgICAgICBvblJlc2l6ZSA9IF90aGlzJHByb3BzLm9uUmVzaXplO1xuXG4gICAgICBpZiAoX3RoaXMuX3BhcmVudE5vZGUpIHtcbiAgICAgICAgLy8gR3VhcmQgYWdhaW5zdCBBdXRvU2l6ZXIgY29tcG9uZW50IGJlaW5nIHJlbW92ZWQgZnJvbSB0aGUgRE9NIGltbWVkaWF0ZWx5IGFmdGVyIGJlaW5nIGFkZGVkLlxuICAgICAgICAvLyBUaGlzIGNhbiByZXN1bHQgaW4gaW52YWxpZCBzdHlsZSB2YWx1ZXMgd2hpY2ggY2FuIHJlc3VsdCBpbiBOYU4gdmFsdWVzIGlmIHdlIGRvbid0IGhhbmRsZSB0aGVtLlxuICAgICAgICAvLyBTZWUgaXNzdWUgIzE1MCBmb3IgbW9yZSBjb250ZXh0LlxuICAgICAgICB2YXIgaGVpZ2h0ID0gX3RoaXMuX3BhcmVudE5vZGUub2Zmc2V0SGVpZ2h0IHx8IDA7XG4gICAgICAgIHZhciB3aWR0aCA9IF90aGlzLl9wYXJlbnROb2RlLm9mZnNldFdpZHRoIHx8IDA7XG4gICAgICAgIHZhciB3aW4gPSBfdGhpcy5fd2luZG93IHx8IHdpbmRvdztcbiAgICAgICAgdmFyIHN0eWxlID0gd2luLmdldENvbXB1dGVkU3R5bGUoX3RoaXMuX3BhcmVudE5vZGUpIHx8IHt9O1xuICAgICAgICB2YXIgcGFkZGluZ0xlZnQgPSBwYXJzZUludChzdHlsZS5wYWRkaW5nTGVmdCwgMTApIHx8IDA7XG4gICAgICAgIHZhciBwYWRkaW5nUmlnaHQgPSBwYXJzZUludChzdHlsZS5wYWRkaW5nUmlnaHQsIDEwKSB8fCAwO1xuICAgICAgICB2YXIgcGFkZGluZ1RvcCA9IHBhcnNlSW50KHN0eWxlLnBhZGRpbmdUb3AsIDEwKSB8fCAwO1xuICAgICAgICB2YXIgcGFkZGluZ0JvdHRvbSA9IHBhcnNlSW50KHN0eWxlLnBhZGRpbmdCb3R0b20sIDEwKSB8fCAwO1xuICAgICAgICB2YXIgbmV3SGVpZ2h0ID0gaGVpZ2h0IC0gcGFkZGluZ1RvcCAtIHBhZGRpbmdCb3R0b207XG4gICAgICAgIHZhciBuZXdXaWR0aCA9IHdpZHRoIC0gcGFkZGluZ0xlZnQgLSBwYWRkaW5nUmlnaHQ7XG5cbiAgICAgICAgaWYgKCFkaXNhYmxlSGVpZ2h0ICYmIF90aGlzLnN0YXRlLmhlaWdodCAhPT0gbmV3SGVpZ2h0IHx8ICFkaXNhYmxlV2lkdGggJiYgX3RoaXMuc3RhdGUud2lkdGggIT09IG5ld1dpZHRoKSB7XG4gICAgICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgaGVpZ2h0OiBoZWlnaHQgLSBwYWRkaW5nVG9wIC0gcGFkZGluZ0JvdHRvbSxcbiAgICAgICAgICAgIHdpZHRoOiB3aWR0aCAtIHBhZGRpbmdMZWZ0IC0gcGFkZGluZ1JpZ2h0XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBvblJlc2l6ZSh7XG4gICAgICAgICAgICBoZWlnaHQ6IGhlaWdodCxcbiAgICAgICAgICAgIHdpZHRoOiB3aWR0aFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwiX3NldFJlZlwiLCBmdW5jdGlvbiAoYXV0b1NpemVyKSB7XG4gICAgICBfdGhpcy5fYXV0b1NpemVyID0gYXV0b1NpemVyO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKEF1dG9TaXplciwgW3tcbiAgICBrZXk6IFwiY29tcG9uZW50RGlkTW91bnRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgICB2YXIgbm9uY2UgPSB0aGlzLnByb3BzLm5vbmNlO1xuXG4gICAgICBpZiAodGhpcy5fYXV0b1NpemVyICYmIHRoaXMuX2F1dG9TaXplci5wYXJlbnROb2RlICYmIHRoaXMuX2F1dG9TaXplci5wYXJlbnROb2RlLm93bmVyRG9jdW1lbnQgJiYgdGhpcy5fYXV0b1NpemVyLnBhcmVudE5vZGUub3duZXJEb2N1bWVudC5kZWZhdWx0VmlldyAmJiB0aGlzLl9hdXRvU2l6ZXIucGFyZW50Tm9kZSBpbnN0YW5jZW9mIHRoaXMuX2F1dG9TaXplci5wYXJlbnROb2RlLm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcuSFRNTEVsZW1lbnQpIHtcbiAgICAgICAgLy8gRGVsYXkgYWNjZXNzIG9mIHBhcmVudE5vZGUgdW50aWwgbW91bnQuXG4gICAgICAgIC8vIFRoaXMgaGFuZGxlcyBlZGdlLWNhc2VzIHdoZXJlIHRoZSBjb21wb25lbnQgaGFzIGFscmVhZHkgYmVlbiB1bm1vdW50ZWQgYmVmb3JlIGl0cyByZWYgaGFzIGJlZW4gc2V0LFxuICAgICAgICAvLyBBcyB3ZWxsIGFzIGxpYnJhcmllcyBsaWtlIHJlYWN0LWxpdGUgd2hpY2ggaGF2ZSBhIHNsaWdodGx5IGRpZmZlcmVudCBsaWZlY3ljbGUuXG4gICAgICAgIHRoaXMuX3BhcmVudE5vZGUgPSB0aGlzLl9hdXRvU2l6ZXIucGFyZW50Tm9kZTtcbiAgICAgICAgdGhpcy5fd2luZG93ID0gdGhpcy5fYXV0b1NpemVyLnBhcmVudE5vZGUub3duZXJEb2N1bWVudC5kZWZhdWx0VmlldzsgLy8gRGVmZXIgcmVxdWlyaW5nIHJlc2l6ZSBoYW5kbGVyIGluIG9yZGVyIHRvIHN1cHBvcnQgc2VydmVyLXNpZGUgcmVuZGVyaW5nLlxuICAgICAgICAvLyBTZWUgaXNzdWUgIzQxXG5cbiAgICAgICAgdGhpcy5fZGV0ZWN0RWxlbWVudFJlc2l6ZSA9IGNyZWF0ZURldGVjdEVsZW1lbnRSZXNpemUobm9uY2UsIHRoaXMuX3dpbmRvdyk7XG5cbiAgICAgICAgdGhpcy5fZGV0ZWN0RWxlbWVudFJlc2l6ZS5hZGRSZXNpemVMaXN0ZW5lcih0aGlzLl9wYXJlbnROb2RlLCB0aGlzLl9vblJlc2l6ZSk7XG5cbiAgICAgICAgdGhpcy5fb25SZXNpemUoKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiY29tcG9uZW50V2lsbFVubW91bnRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgICBpZiAodGhpcy5fZGV0ZWN0RWxlbWVudFJlc2l6ZSAmJiB0aGlzLl9wYXJlbnROb2RlKSB7XG4gICAgICAgIHRoaXMuX2RldGVjdEVsZW1lbnRSZXNpemUucmVtb3ZlUmVzaXplTGlzdGVuZXIodGhpcy5fcGFyZW50Tm9kZSwgdGhpcy5fb25SZXNpemUpO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJyZW5kZXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgdmFyIF90aGlzJHByb3BzMiA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgY2hpbGRyZW4gPSBfdGhpcyRwcm9wczIuY2hpbGRyZW4sXG4gICAgICAgICAgY2xhc3NOYW1lID0gX3RoaXMkcHJvcHMyLmNsYXNzTmFtZSxcbiAgICAgICAgICBkaXNhYmxlSGVpZ2h0ID0gX3RoaXMkcHJvcHMyLmRpc2FibGVIZWlnaHQsXG4gICAgICAgICAgZGlzYWJsZVdpZHRoID0gX3RoaXMkcHJvcHMyLmRpc2FibGVXaWR0aCxcbiAgICAgICAgICBzdHlsZSA9IF90aGlzJHByb3BzMi5zdHlsZTtcbiAgICAgIHZhciBfdGhpcyRzdGF0ZSA9IHRoaXMuc3RhdGUsXG4gICAgICAgICAgaGVpZ2h0ID0gX3RoaXMkc3RhdGUuaGVpZ2h0LFxuICAgICAgICAgIHdpZHRoID0gX3RoaXMkc3RhdGUud2lkdGg7IC8vIE91dGVyIGRpdiBzaG91bGQgbm90IGZvcmNlIHdpZHRoL2hlaWdodCBzaW5jZSB0aGF0IG1heSBwcmV2ZW50IGNvbnRhaW5lcnMgZnJvbSBzaHJpbmtpbmcuXG4gICAgICAvLyBJbm5lciBjb21wb25lbnQgc2hvdWxkIG92ZXJmbG93IGFuZCB1c2UgY2FsY3VsYXRlZCB3aWR0aC9oZWlnaHQuXG4gICAgICAvLyBTZWUgaXNzdWUgIzY4IGZvciBtb3JlIGluZm9ybWF0aW9uLlxuXG4gICAgICB2YXIgb3V0ZXJTdHlsZSA9IHtcbiAgICAgICAgb3ZlcmZsb3c6ICd2aXNpYmxlJ1xuICAgICAgfTtcbiAgICAgIHZhciBjaGlsZFBhcmFtcyA9IHt9O1xuXG4gICAgICBpZiAoIWRpc2FibGVIZWlnaHQpIHtcbiAgICAgICAgb3V0ZXJTdHlsZS5oZWlnaHQgPSAwO1xuICAgICAgICBjaGlsZFBhcmFtcy5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgICB9XG5cbiAgICAgIGlmICghZGlzYWJsZVdpZHRoKSB7XG4gICAgICAgIG91dGVyU3R5bGUud2lkdGggPSAwO1xuICAgICAgICBjaGlsZFBhcmFtcy53aWR0aCA9IHdpZHRoO1xuICAgICAgfVxuICAgICAgLyoqXG4gICAgICAgKiBUT0RPOiBBdm9pZCByZW5kZXJpbmcgY2hpbGRyZW4gYmVmb3JlIHRoZSBpbml0aWFsIG1lYXN1cmVtZW50cyBoYXZlIGJlZW4gY29sbGVjdGVkLlxuICAgICAgICogQXQgYmVzdCB0aGlzIHdvdWxkIGp1c3QgYmUgd2FzdGluZyBjeWNsZXMuXG4gICAgICAgKiBBZGQgdGhpcyBjaGVjayBpbnRvIHZlcnNpb24gMTAgdGhvdWdoIGFzIGl0IGNvdWxkIGJyZWFrIHRvbyBtYW55IHJlZiBjYWxsYmFja3MgaW4gdmVyc2lvbiA5LlxuICAgICAgICogTm90ZSB0aGF0IGlmIGRlZmF1bHQgd2lkdGgvaGVpZ2h0IHByb3BzIHdlcmUgcHJvdmlkZWQgdGhpcyB3b3VsZCBzdGlsbCB3b3JrIHdpdGggU1NSLlxuICAgICAgaWYgKFxuICAgICAgICBoZWlnaHQgIT09IDAgJiZcbiAgICAgICAgd2lkdGggIT09IDBcbiAgICAgICkge1xuICAgICAgICBjaGlsZCA9IGNoaWxkcmVuKHsgaGVpZ2h0LCB3aWR0aCB9KVxuICAgICAgfVxuICAgICAgKi9cblxuXG4gICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lLFxuICAgICAgICByZWY6IHRoaXMuX3NldFJlZixcbiAgICAgICAgc3R5bGU6IF9vYmplY3RTcHJlYWQoe30sIG91dGVyU3R5bGUsIHt9LCBzdHlsZSlcbiAgICAgIH0sIGNoaWxkcmVuKGNoaWxkUGFyYW1zKSk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIEF1dG9TaXplcjtcbn0oUmVhY3QuQ29tcG9uZW50KSwgX2RlZmluZVByb3BlcnR5KF9jbGFzcywgXCJwcm9wVHlwZXNcIiwgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdwcm9kdWN0aW9uJyA/IG51bGwgOiB7XG4gIC8qKiBGdW5jdGlvbiByZXNwb25zaWJsZSBmb3IgcmVuZGVyaW5nIGNoaWxkcmVuLiovXG4gIFwiY2hpbGRyZW5cIjogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcblxuICAvKiogT3B0aW9uYWwgY3VzdG9tIENTUyBjbGFzcyBuYW1lIHRvIGF0dGFjaCB0byByb290IEF1dG9TaXplciBlbGVtZW50LiAgKi9cbiAgXCJjbGFzc05hbWVcIjogUHJvcFR5cGVzLnN0cmluZyxcblxuICAvKiogRGVmYXVsdCBoZWlnaHQgdG8gdXNlIGZvciBpbml0aWFsIHJlbmRlcjsgdXNlZnVsIGZvciBTU1IgKi9cbiAgXCJkZWZhdWx0SGVpZ2h0XCI6IFByb3BUeXBlcy5udW1iZXIsXG5cbiAgLyoqIERlZmF1bHQgd2lkdGggdG8gdXNlIGZvciBpbml0aWFsIHJlbmRlcjsgdXNlZnVsIGZvciBTU1IgKi9cbiAgXCJkZWZhdWx0V2lkdGhcIjogUHJvcFR5cGVzLm51bWJlcixcblxuICAvKiogRGlzYWJsZSBkeW5hbWljIDpoZWlnaHQgcHJvcGVydHkgKi9cbiAgXCJkaXNhYmxlSGVpZ2h0XCI6IFByb3BUeXBlcy5ib29sLmlzUmVxdWlyZWQsXG5cbiAgLyoqIERpc2FibGUgZHluYW1pYyA6d2lkdGggcHJvcGVydHkgKi9cbiAgXCJkaXNhYmxlV2lkdGhcIjogUHJvcFR5cGVzLmJvb2wuaXNSZXF1aXJlZCxcblxuICAvKiogTm9uY2Ugb2YgdGhlIGlubGluZWQgc3R5bGVzaGVldCBmb3IgQ29udGVudCBTZWN1cml0eSBQb2xpY3kgKi9cbiAgXCJub25jZVwiOiBQcm9wVHlwZXMuc3RyaW5nLFxuXG4gIC8qKiBDYWxsYmFjayB0byBiZSBpbnZva2VkIG9uLXJlc2l6ZSAqL1xuICBcIm9uUmVzaXplXCI6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsXG5cbiAgLyoqIE9wdGlvbmFsIGlubGluZSBzdHlsZSAqL1xuICBcInN0eWxlXCI6IFByb3BUeXBlcy5vYmplY3Rcbn0pLCBfdGVtcCk7XG5cbl9kZWZpbmVQcm9wZXJ0eShBdXRvU2l6ZXIsIFwiZGVmYXVsdFByb3BzXCIsIHtcbiAgb25SZXNpemU6IGZ1bmN0aW9uIG9uUmVzaXplKCkge30sXG4gIGRpc2FibGVIZWlnaHQ6IGZhbHNlLFxuICBkaXNhYmxlV2lkdGg6IGZhbHNlLFxuICBzdHlsZToge31cbn0pO1xuXG5leHBvcnQgeyBBdXRvU2l6ZXIgYXMgZGVmYXVsdCB9O1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tIFwicHJvcC10eXBlc1wiOyIsImV4cG9ydCB7IGRlZmF1bHQgfSBmcm9tICcuL0F1dG9TaXplcic7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEF1dG9TaXplciB9IGZyb20gJy4vQXV0b1NpemVyJzsiLCJpbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrXCI7XG5pbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzXCI7XG5pbXBvcnQgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4gZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVyblwiO1xuaW1wb3J0IF9nZXRQcm90b3R5cGVPZiBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9nZXRQcm90b3R5cGVPZlwiO1xuaW1wb3J0IF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvYXNzZXJ0VGhpc0luaXRpYWxpemVkXCI7XG5pbXBvcnQgX2luaGVyaXRzIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2luaGVyaXRzXCI7XG5pbXBvcnQgX2RlZmluZVByb3BlcnR5IGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2RlZmluZVByb3BlcnR5XCI7XG5cbnZhciBfY2xhc3MsIF90ZW1wO1xuXG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBmaW5kRE9NTm9kZSB9IGZyb20gJ3JlYWN0LWRvbSc7XG5cbi8qKlxuICogV3JhcHMgYSBjZWxsIGFuZCBtZWFzdXJlcyBpdHMgcmVuZGVyZWQgY29udGVudC5cbiAqIE1lYXN1cmVtZW50cyBhcmUgc3RvcmVkIGluIGEgcGVyLWNlbGwgY2FjaGUuXG4gKiBDYWNoZWQtY29udGVudCBpcyBub3QgYmUgcmUtbWVhc3VyZWQuXG4gKi9cbnZhciBDZWxsTWVhc3VyZXIgPSAoX3RlbXAgPSBfY2xhc3MgPVxuLyojX19QVVJFX18qL1xuZnVuY3Rpb24gKF9SZWFjdCRQdXJlQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0cyhDZWxsTWVhc3VyZXIsIF9SZWFjdCRQdXJlQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBDZWxsTWVhc3VyZXIoKSB7XG4gICAgdmFyIF9nZXRQcm90b3R5cGVPZjI7XG5cbiAgICB2YXIgX3RoaXM7XG5cbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQ2VsbE1lYXN1cmVyKTtcblxuICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICB9XG5cbiAgICBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChfZ2V0UHJvdG90eXBlT2YyID0gX2dldFByb3RvdHlwZU9mKENlbGxNZWFzdXJlcikpLmNhbGwuYXBwbHkoX2dldFByb3RvdHlwZU9mMiwgW3RoaXNdLmNvbmNhdChhcmdzKSkpO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcIl9jaGlsZFwiLCB2b2lkIDApO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcIl9tZWFzdXJlXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfdGhpcyRwcm9wcyA9IF90aGlzLnByb3BzLFxuICAgICAgICAgIGNhY2hlID0gX3RoaXMkcHJvcHMuY2FjaGUsXG4gICAgICAgICAgX3RoaXMkcHJvcHMkY29sdW1uSW5kID0gX3RoaXMkcHJvcHMuY29sdW1uSW5kZXgsXG4gICAgICAgICAgY29sdW1uSW5kZXggPSBfdGhpcyRwcm9wcyRjb2x1bW5JbmQgPT09IHZvaWQgMCA/IDAgOiBfdGhpcyRwcm9wcyRjb2x1bW5JbmQsXG4gICAgICAgICAgcGFyZW50ID0gX3RoaXMkcHJvcHMucGFyZW50LFxuICAgICAgICAgIF90aGlzJHByb3BzJHJvd0luZGV4ID0gX3RoaXMkcHJvcHMucm93SW5kZXgsXG4gICAgICAgICAgcm93SW5kZXggPSBfdGhpcyRwcm9wcyRyb3dJbmRleCA9PT0gdm9pZCAwID8gX3RoaXMucHJvcHMuaW5kZXggfHwgMCA6IF90aGlzJHByb3BzJHJvd0luZGV4O1xuXG4gICAgICB2YXIgX3RoaXMkX2dldENlbGxNZWFzdXJlID0gX3RoaXMuX2dldENlbGxNZWFzdXJlbWVudHMoKSxcbiAgICAgICAgICBoZWlnaHQgPSBfdGhpcyRfZ2V0Q2VsbE1lYXN1cmUuaGVpZ2h0LFxuICAgICAgICAgIHdpZHRoID0gX3RoaXMkX2dldENlbGxNZWFzdXJlLndpZHRoO1xuXG4gICAgICBpZiAoaGVpZ2h0ICE9PSBjYWNoZS5nZXRIZWlnaHQocm93SW5kZXgsIGNvbHVtbkluZGV4KSB8fCB3aWR0aCAhPT0gY2FjaGUuZ2V0V2lkdGgocm93SW5kZXgsIGNvbHVtbkluZGV4KSkge1xuICAgICAgICBjYWNoZS5zZXQocm93SW5kZXgsIGNvbHVtbkluZGV4LCB3aWR0aCwgaGVpZ2h0KTtcblxuICAgICAgICBpZiAocGFyZW50ICYmIHR5cGVvZiBwYXJlbnQucmVjb21wdXRlR3JpZFNpemUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICBwYXJlbnQucmVjb21wdXRlR3JpZFNpemUoe1xuICAgICAgICAgICAgY29sdW1uSW5kZXg6IGNvbHVtbkluZGV4LFxuICAgICAgICAgICAgcm93SW5kZXg6IHJvd0luZGV4XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJfcmVnaXN0ZXJDaGlsZFwiLCBmdW5jdGlvbiAoZWxlbWVudCkge1xuICAgICAgaWYgKGVsZW1lbnQgJiYgIShlbGVtZW50IGluc3RhbmNlb2YgRWxlbWVudCkpIHtcbiAgICAgICAgY29uc29sZS53YXJuKCdDZWxsTWVhc3VyZXIgcmVnaXN0ZXJDaGlsZCBleHBlY3RzIHRvIGJlIHBhc3NlZCBFbGVtZW50IG9yIG51bGwnKTtcbiAgICAgIH1cblxuICAgICAgX3RoaXMuX2NoaWxkID0gZWxlbWVudDtcblxuICAgICAgaWYgKGVsZW1lbnQpIHtcbiAgICAgICAgX3RoaXMuX21heWJlTWVhc3VyZUNlbGwoKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhDZWxsTWVhc3VyZXIsIFt7XG4gICAga2V5OiBcImNvbXBvbmVudERpZE1vdW50XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgICAgdGhpcy5fbWF5YmVNZWFzdXJlQ2VsbCgpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJjb21wb25lbnREaWRVcGRhdGVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50RGlkVXBkYXRlKCkge1xuICAgICAgdGhpcy5fbWF5YmVNZWFzdXJlQ2VsbCgpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJyZW5kZXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgdmFyIGNoaWxkcmVuID0gdGhpcy5wcm9wcy5jaGlsZHJlbjtcbiAgICAgIHJldHVybiB0eXBlb2YgY2hpbGRyZW4gPT09ICdmdW5jdGlvbicgPyBjaGlsZHJlbih7XG4gICAgICAgIG1lYXN1cmU6IHRoaXMuX21lYXN1cmUsXG4gICAgICAgIHJlZ2lzdGVyQ2hpbGQ6IHRoaXMuX3JlZ2lzdGVyQ2hpbGRcbiAgICAgIH0pIDogY2hpbGRyZW47XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIl9nZXRDZWxsTWVhc3VyZW1lbnRzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9nZXRDZWxsTWVhc3VyZW1lbnRzKCkge1xuICAgICAgdmFyIGNhY2hlID0gdGhpcy5wcm9wcy5jYWNoZTtcbiAgICAgIHZhciBub2RlID0gdGhpcy5fY2hpbGQgfHwgZmluZERPTU5vZGUodGhpcyk7IC8vIFRPRE8gQ2hlY2sgZm9yIGEgYmFkIGNvbWJpbmF0aW9uIG9mIGZpeGVkV2lkdGggYW5kIG1pc3NpbmcgbnVtZXJpYyB3aWR0aCBvciB2aWNlIHZlcnNhIHdpdGggaGVpZ2h0XG5cbiAgICAgIGlmIChub2RlICYmIG5vZGUub3duZXJEb2N1bWVudCAmJiBub2RlLm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcgJiYgbm9kZSBpbnN0YW5jZW9mIG5vZGUub3duZXJEb2N1bWVudC5kZWZhdWx0Vmlldy5IVE1MRWxlbWVudCkge1xuICAgICAgICB2YXIgc3R5bGVXaWR0aCA9IG5vZGUuc3R5bGUud2lkdGg7XG4gICAgICAgIHZhciBzdHlsZUhlaWdodCA9IG5vZGUuc3R5bGUuaGVpZ2h0OyAvLyBJZiB3ZSBhcmUgcmUtbWVhc3VyaW5nIGEgY2VsbCB0aGF0IGhhcyBhbHJlYWR5IGJlZW4gbWVhc3VyZWQsXG4gICAgICAgIC8vIEl0IHdpbGwgaGF2ZSBhIGhhcmQtY29kZWQgd2lkdGgvaGVpZ2h0IGZyb20gdGhlIHByZXZpb3VzIG1lYXN1cmVtZW50LlxuICAgICAgICAvLyBUaGUgZmFjdCB0aGF0IHdlIGFyZSBtZWFzdXJpbmcgaW5kaWNhdGVzIHRoaXMgbWVhc3VyZW1lbnQgaXMgcHJvYmFibHkgc3RhbGUsXG4gICAgICAgIC8vIFNvIGV4cGxpY2l0bHkgY2xlYXIgaXQgb3V0IChlZyBzZXQgdG8gXCJhdXRvXCIpIHNvIHdlIGNhbiByZWNhbGN1bGF0ZS5cbiAgICAgICAgLy8gU2VlIGlzc3VlICM1OTMgZm9yIG1vcmUgaW5mby5cbiAgICAgICAgLy8gRXZlbiBpZiB3ZSBhcmUgbWVhc3VyaW5nIGluaXRpYWxseS0gaWYgd2UncmUgaW5zaWRlIG9mIGEgTXVsdGlHcmlkIGNvbXBvbmVudCxcbiAgICAgICAgLy8gRXhwbGljaXRseSBjbGVhciB3aWR0aC9oZWlnaHQgYmVmb3JlIG1lYXN1cmluZyB0byBhdm9pZCBiZWluZyB0YWludGVkIGJ5IGFub3RoZXIgR3JpZC5cbiAgICAgICAgLy8gZWcgdG9wL2xlZnQgR3JpZCByZW5kZXJzIGJlZm9yZSBib3R0b20vcmlnaHQgR3JpZFxuICAgICAgICAvLyBTaW5jZSB0aGUgQ2VsbE1lYXN1cmVyQ2FjaGUgaXMgc2hhcmVkIGJldHdlZW4gdGhlbSB0aGlzIHRhaW50cyBkZXJpdmVkIGNlbGwgc2l6ZSB2YWx1ZXMuXG5cbiAgICAgICAgaWYgKCFjYWNoZS5oYXNGaXhlZFdpZHRoKCkpIHtcbiAgICAgICAgICBub2RlLnN0eWxlLndpZHRoID0gJ2F1dG8nO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFjYWNoZS5oYXNGaXhlZEhlaWdodCgpKSB7XG4gICAgICAgICAgbm9kZS5zdHlsZS5oZWlnaHQgPSAnYXV0byc7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgaGVpZ2h0ID0gTWF0aC5jZWlsKG5vZGUub2Zmc2V0SGVpZ2h0KTtcbiAgICAgICAgdmFyIHdpZHRoID0gTWF0aC5jZWlsKG5vZGUub2Zmc2V0V2lkdGgpOyAvLyBSZXNldCBhZnRlciBtZWFzdXJpbmcgdG8gYXZvaWQgYnJlYWtpbmcgc3R5bGVzOyBzZWUgIzY2MFxuXG4gICAgICAgIGlmIChzdHlsZVdpZHRoKSB7XG4gICAgICAgICAgbm9kZS5zdHlsZS53aWR0aCA9IHN0eWxlV2lkdGg7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc3R5bGVIZWlnaHQpIHtcbiAgICAgICAgICBub2RlLnN0eWxlLmhlaWdodCA9IHN0eWxlSGVpZ2h0O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBoZWlnaHQ6IGhlaWdodCxcbiAgICAgICAgICB3aWR0aDogd2lkdGhcbiAgICAgICAgfTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgaGVpZ2h0OiAwLFxuICAgICAgICAgIHdpZHRoOiAwXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIl9tYXliZU1lYXN1cmVDZWxsXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9tYXliZU1lYXN1cmVDZWxsKCkge1xuICAgICAgdmFyIF90aGlzJHByb3BzMiA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgY2FjaGUgPSBfdGhpcyRwcm9wczIuY2FjaGUsXG4gICAgICAgICAgX3RoaXMkcHJvcHMyJGNvbHVtbkluID0gX3RoaXMkcHJvcHMyLmNvbHVtbkluZGV4LFxuICAgICAgICAgIGNvbHVtbkluZGV4ID0gX3RoaXMkcHJvcHMyJGNvbHVtbkluID09PSB2b2lkIDAgPyAwIDogX3RoaXMkcHJvcHMyJGNvbHVtbkluLFxuICAgICAgICAgIHBhcmVudCA9IF90aGlzJHByb3BzMi5wYXJlbnQsXG4gICAgICAgICAgX3RoaXMkcHJvcHMyJHJvd0luZGV4ID0gX3RoaXMkcHJvcHMyLnJvd0luZGV4LFxuICAgICAgICAgIHJvd0luZGV4ID0gX3RoaXMkcHJvcHMyJHJvd0luZGV4ID09PSB2b2lkIDAgPyB0aGlzLnByb3BzLmluZGV4IHx8IDAgOiBfdGhpcyRwcm9wczIkcm93SW5kZXg7XG5cbiAgICAgIGlmICghY2FjaGUuaGFzKHJvd0luZGV4LCBjb2x1bW5JbmRleCkpIHtcbiAgICAgICAgdmFyIF90aGlzJF9nZXRDZWxsTWVhc3VyZTIgPSB0aGlzLl9nZXRDZWxsTWVhc3VyZW1lbnRzKCksXG4gICAgICAgICAgICBoZWlnaHQgPSBfdGhpcyRfZ2V0Q2VsbE1lYXN1cmUyLmhlaWdodCxcbiAgICAgICAgICAgIHdpZHRoID0gX3RoaXMkX2dldENlbGxNZWFzdXJlMi53aWR0aDtcblxuICAgICAgICBjYWNoZS5zZXQocm93SW5kZXgsIGNvbHVtbkluZGV4LCB3aWR0aCwgaGVpZ2h0KTsgLy8gSWYgc2l6ZSBoYXMgY2hhbmdlZCwgbGV0IEdyaWQga25vdyB0byByZS1yZW5kZXIuXG5cbiAgICAgICAgaWYgKHBhcmVudCAmJiB0eXBlb2YgcGFyZW50LmludmFsaWRhdGVDZWxsU2l6ZUFmdGVyUmVuZGVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgcGFyZW50LmludmFsaWRhdGVDZWxsU2l6ZUFmdGVyUmVuZGVyKHtcbiAgICAgICAgICAgIGNvbHVtbkluZGV4OiBjb2x1bW5JbmRleCxcbiAgICAgICAgICAgIHJvd0luZGV4OiByb3dJbmRleFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIENlbGxNZWFzdXJlcjtcbn0oUmVhY3QuUHVyZUNvbXBvbmVudCksIF9kZWZpbmVQcm9wZXJ0eShfY2xhc3MsIFwicHJvcFR5cGVzXCIsIHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAncHJvZHVjdGlvbicgPyBudWxsIDoge1xuICBcImNhY2hlXCI6IGZ1bmN0aW9uIGNhY2hlKCkge1xuICAgIHJldHVybiAodHlwZW9mIGJwZnJwdF9wcm9wdHlwZV9DZWxsTWVhc3VyZUNhY2hlID09PSBcImZ1bmN0aW9uXCIgPyBicGZycHRfcHJvcHR5cGVfQ2VsbE1lYXN1cmVDYWNoZS5pc1JlcXVpcmVkID8gYnBmcnB0X3Byb3B0eXBlX0NlbGxNZWFzdXJlQ2FjaGUuaXNSZXF1aXJlZCA6IGJwZnJwdF9wcm9wdHlwZV9DZWxsTWVhc3VyZUNhY2hlIDogUHJvcFR5cGVzLnNoYXBlKGJwZnJwdF9wcm9wdHlwZV9DZWxsTWVhc3VyZUNhY2hlKS5pc1JlcXVpcmVkKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICB9LFxuICBcImNoaWxkcmVuXCI6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5mdW5jLCBQcm9wVHlwZXMubm9kZV0pLmlzUmVxdWlyZWQsXG4gIFwiY29sdW1uSW5kZXhcIjogUHJvcFR5cGVzLm51bWJlcixcbiAgXCJpbmRleFwiOiBQcm9wVHlwZXMubnVtYmVyLFxuICBcInBhcmVudFwiOiBQcm9wVHlwZXMuc2hhcGUoe1xuICAgIGludmFsaWRhdGVDZWxsU2l6ZUFmdGVyUmVuZGVyOiBQcm9wVHlwZXMuZnVuYyxcbiAgICByZWNvbXB1dGVHcmlkU2l6ZTogUHJvcFR5cGVzLmZ1bmNcbiAgfSkuaXNSZXF1aXJlZCxcbiAgXCJyb3dJbmRleFwiOiBQcm9wVHlwZXMubnVtYmVyXG59KSwgX3RlbXApOyAvLyBVc2VkIGZvciBERVYgbW9kZSB3YXJuaW5nIGNoZWNrXG5cbl9kZWZpbmVQcm9wZXJ0eShDZWxsTWVhc3VyZXIsIFwiX19pbnRlcm5hbENlbGxNZWFzdXJlckZsYWdcIiwgZmFsc2UpO1xuXG5leHBvcnQgeyBDZWxsTWVhc3VyZXIgYXMgZGVmYXVsdCB9O1xuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICBDZWxsTWVhc3VyZXIuX19pbnRlcm5hbENlbGxNZWFzdXJlckZsYWcgPSB0cnVlO1xufVxuXG5pbXBvcnQgeyBicGZycHRfcHJvcHR5cGVfQ2VsbE1lYXN1cmVDYWNoZSB9IGZyb20gXCIuL3R5cGVzXCI7XG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gXCJwcm9wLXR5cGVzXCI7IiwiaW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVja1wiO1xuaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzc1wiO1xuaW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9kZWZpbmVQcm9wZXJ0eVwiO1xuZXhwb3J0IHZhciBERUZBVUxUX0hFSUdIVCA9IDMwO1xuZXhwb3J0IHZhciBERUZBVUxUX1dJRFRIID0gMTAwOyAvLyBFbmFibGVzIG1vcmUgaW50ZWxsaWdlbnQgbWFwcGluZyBvZiBhIGdpdmVuIGNvbHVtbiBhbmQgcm93IGluZGV4IHRvIGFuIGl0ZW0gSUQuXG4vLyBUaGlzIHByZXZlbnRzIGEgY2VsbCBjYWNoZSBmcm9tIGJlaW5nIGludmFsaWRhdGVkIHdoZW4gaXRzIHBhcmVudCBjb2xsZWN0aW9uIGlzIG1vZGlmaWVkLlxuXG4vKipcbiAqIENhY2hlcyBtZWFzdXJlbWVudHMgZm9yIGEgZ2l2ZW4gY2VsbC5cbiAqL1xudmFyIENlbGxNZWFzdXJlckNhY2hlID1cbi8qI19fUFVSRV9fKi9cbmZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gQ2VsbE1lYXN1cmVyQ2FjaGUoKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIHZhciBwYXJhbXMgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9O1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIENlbGxNZWFzdXJlckNhY2hlKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9jZWxsSGVpZ2h0Q2FjaGVcIiwge30pO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiX2NlbGxXaWR0aENhY2hlXCIsIHt9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9jb2x1bW5XaWR0aENhY2hlXCIsIHt9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9yb3dIZWlnaHRDYWNoZVwiLCB7fSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJfZGVmYXVsdEhlaWdodFwiLCB2b2lkIDApO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiX2RlZmF1bHRXaWR0aFwiLCB2b2lkIDApO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiX21pbkhlaWdodFwiLCB2b2lkIDApO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiX21pbldpZHRoXCIsIHZvaWQgMCk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJfa2V5TWFwcGVyXCIsIHZvaWQgMCk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJfaGFzRml4ZWRIZWlnaHRcIiwgdm9pZCAwKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9oYXNGaXhlZFdpZHRoXCIsIHZvaWQgMCk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJfY29sdW1uQ291bnRcIiwgMCk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJfcm93Q291bnRcIiwgMCk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJjb2x1bW5XaWR0aFwiLCBmdW5jdGlvbiAoX3JlZikge1xuICAgICAgdmFyIGluZGV4ID0gX3JlZi5pbmRleDtcblxuICAgICAgdmFyIGtleSA9IF90aGlzLl9rZXlNYXBwZXIoMCwgaW5kZXgpO1xuXG4gICAgICByZXR1cm4gX3RoaXMuX2NvbHVtbldpZHRoQ2FjaGVba2V5XSAhPT0gdW5kZWZpbmVkID8gX3RoaXMuX2NvbHVtbldpZHRoQ2FjaGVba2V5XSA6IF90aGlzLl9kZWZhdWx0V2lkdGg7XG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJyb3dIZWlnaHRcIiwgZnVuY3Rpb24gKF9yZWYyKSB7XG4gICAgICB2YXIgaW5kZXggPSBfcmVmMi5pbmRleDtcblxuICAgICAgdmFyIGtleSA9IF90aGlzLl9rZXlNYXBwZXIoaW5kZXgsIDApO1xuXG4gICAgICByZXR1cm4gX3RoaXMuX3Jvd0hlaWdodENhY2hlW2tleV0gIT09IHVuZGVmaW5lZCA/IF90aGlzLl9yb3dIZWlnaHRDYWNoZVtrZXldIDogX3RoaXMuX2RlZmF1bHRIZWlnaHQ7XG4gICAgfSk7XG5cbiAgICB2YXIgZGVmYXVsdEhlaWdodCA9IHBhcmFtcy5kZWZhdWx0SGVpZ2h0LFxuICAgICAgICBkZWZhdWx0V2lkdGggPSBwYXJhbXMuZGVmYXVsdFdpZHRoLFxuICAgICAgICBmaXhlZEhlaWdodCA9IHBhcmFtcy5maXhlZEhlaWdodCxcbiAgICAgICAgZml4ZWRXaWR0aCA9IHBhcmFtcy5maXhlZFdpZHRoLFxuICAgICAgICBrZXlNYXBwZXIgPSBwYXJhbXMua2V5TWFwcGVyLFxuICAgICAgICBtaW5IZWlnaHQgPSBwYXJhbXMubWluSGVpZ2h0LFxuICAgICAgICBtaW5XaWR0aCA9IHBhcmFtcy5taW5XaWR0aDtcbiAgICB0aGlzLl9oYXNGaXhlZEhlaWdodCA9IGZpeGVkSGVpZ2h0ID09PSB0cnVlO1xuICAgIHRoaXMuX2hhc0ZpeGVkV2lkdGggPSBmaXhlZFdpZHRoID09PSB0cnVlO1xuICAgIHRoaXMuX21pbkhlaWdodCA9IG1pbkhlaWdodCB8fCAwO1xuICAgIHRoaXMuX21pbldpZHRoID0gbWluV2lkdGggfHwgMDtcbiAgICB0aGlzLl9rZXlNYXBwZXIgPSBrZXlNYXBwZXIgfHwgZGVmYXVsdEtleU1hcHBlcjtcbiAgICB0aGlzLl9kZWZhdWx0SGVpZ2h0ID0gTWF0aC5tYXgodGhpcy5fbWluSGVpZ2h0LCB0eXBlb2YgZGVmYXVsdEhlaWdodCA9PT0gJ251bWJlcicgPyBkZWZhdWx0SGVpZ2h0IDogREVGQVVMVF9IRUlHSFQpO1xuICAgIHRoaXMuX2RlZmF1bHRXaWR0aCA9IE1hdGgubWF4KHRoaXMuX21pbldpZHRoLCB0eXBlb2YgZGVmYXVsdFdpZHRoID09PSAnbnVtYmVyJyA/IGRlZmF1bHRXaWR0aCA6IERFRkFVTFRfV0lEVEgpO1xuXG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIGlmICh0aGlzLl9oYXNGaXhlZEhlaWdodCA9PT0gZmFsc2UgJiYgdGhpcy5faGFzRml4ZWRXaWR0aCA9PT0gZmFsc2UpIHtcbiAgICAgICAgY29uc29sZS53YXJuKFwiQ2VsbE1lYXN1cmVyQ2FjaGUgc2hvdWxkIG9ubHkgbWVhc3VyZSBhIGNlbGwncyB3aWR0aCBvciBoZWlnaHQuIFwiICsgJ1lvdSBoYXZlIGNvbmZpZ3VyZWQgQ2VsbE1lYXN1cmVyQ2FjaGUgdG8gbWVhc3VyZSBib3RoLiAnICsgJ1RoaXMgd2lsbCByZXN1bHQgaW4gcG9vciBwZXJmb3JtYW5jZS4nKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuX2hhc0ZpeGVkSGVpZ2h0ID09PSBmYWxzZSAmJiB0aGlzLl9kZWZhdWx0SGVpZ2h0ID09PSAwKSB7XG4gICAgICAgIGNvbnNvbGUud2FybignRml4ZWQgaGVpZ2h0IENlbGxNZWFzdXJlckNhY2hlIHNob3VsZCBzcGVjaWZ5IGEgOmRlZmF1bHRIZWlnaHQgZ3JlYXRlciB0aGFuIDAuICcgKyAnRmFpbGluZyB0byBkbyBzbyB3aWxsIGxlYWQgdG8gdW5uZWNlc3NhcnkgbGF5b3V0IGFuZCBwb29yIHBlcmZvcm1hbmNlLicpO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5faGFzRml4ZWRXaWR0aCA9PT0gZmFsc2UgJiYgdGhpcy5fZGVmYXVsdFdpZHRoID09PSAwKSB7XG4gICAgICAgIGNvbnNvbGUud2FybignRml4ZWQgd2lkdGggQ2VsbE1lYXN1cmVyQ2FjaGUgc2hvdWxkIHNwZWNpZnkgYSA6ZGVmYXVsdFdpZHRoIGdyZWF0ZXIgdGhhbiAwLiAnICsgJ0ZhaWxpbmcgdG8gZG8gc28gd2lsbCBsZWFkIHRvIHVubmVjZXNzYXJ5IGxheW91dCBhbmQgcG9vciBwZXJmb3JtYW5jZS4nKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoQ2VsbE1lYXN1cmVyQ2FjaGUsIFt7XG4gICAga2V5OiBcImNsZWFyXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNsZWFyKHJvd0luZGV4KSB7XG4gICAgICB2YXIgY29sdW1uSW5kZXggPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IDA7XG5cbiAgICAgIHZhciBrZXkgPSB0aGlzLl9rZXlNYXBwZXIocm93SW5kZXgsIGNvbHVtbkluZGV4KTtcblxuICAgICAgZGVsZXRlIHRoaXMuX2NlbGxIZWlnaHRDYWNoZVtrZXldO1xuICAgICAgZGVsZXRlIHRoaXMuX2NlbGxXaWR0aENhY2hlW2tleV07XG5cbiAgICAgIHRoaXMuX3VwZGF0ZUNhY2hlZENvbHVtbkFuZFJvd1NpemVzKHJvd0luZGV4LCBjb2x1bW5JbmRleCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImNsZWFyQWxsXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNsZWFyQWxsKCkge1xuICAgICAgdGhpcy5fY2VsbEhlaWdodENhY2hlID0ge307XG4gICAgICB0aGlzLl9jZWxsV2lkdGhDYWNoZSA9IHt9O1xuICAgICAgdGhpcy5fY29sdW1uV2lkdGhDYWNoZSA9IHt9O1xuICAgICAgdGhpcy5fcm93SGVpZ2h0Q2FjaGUgPSB7fTtcbiAgICAgIHRoaXMuX3Jvd0NvdW50ID0gMDtcbiAgICAgIHRoaXMuX2NvbHVtbkNvdW50ID0gMDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiaGFzRml4ZWRIZWlnaHRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gaGFzRml4ZWRIZWlnaHQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5faGFzRml4ZWRIZWlnaHQ7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImhhc0ZpeGVkV2lkdGhcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gaGFzRml4ZWRXaWR0aCgpIHtcbiAgICAgIHJldHVybiB0aGlzLl9oYXNGaXhlZFdpZHRoO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJnZXRIZWlnaHRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0SGVpZ2h0KHJvd0luZGV4KSB7XG4gICAgICB2YXIgY29sdW1uSW5kZXggPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IDA7XG5cbiAgICAgIGlmICh0aGlzLl9oYXNGaXhlZEhlaWdodCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmYXVsdEhlaWdodDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBfa2V5ID0gdGhpcy5fa2V5TWFwcGVyKHJvd0luZGV4LCBjb2x1bW5JbmRleCk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX2NlbGxIZWlnaHRDYWNoZVtfa2V5XSAhPT0gdW5kZWZpbmVkID8gTWF0aC5tYXgodGhpcy5fbWluSGVpZ2h0LCB0aGlzLl9jZWxsSGVpZ2h0Q2FjaGVbX2tleV0pIDogdGhpcy5fZGVmYXVsdEhlaWdodDtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZ2V0V2lkdGhcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0V2lkdGgocm93SW5kZXgpIHtcbiAgICAgIHZhciBjb2x1bW5JbmRleCA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogMDtcblxuICAgICAgaWYgKHRoaXMuX2hhc0ZpeGVkV2lkdGgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZmF1bHRXaWR0aDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBfa2V5MiA9IHRoaXMuX2tleU1hcHBlcihyb3dJbmRleCwgY29sdW1uSW5kZXgpO1xuXG4gICAgICAgIHJldHVybiB0aGlzLl9jZWxsV2lkdGhDYWNoZVtfa2V5Ml0gIT09IHVuZGVmaW5lZCA/IE1hdGgubWF4KHRoaXMuX21pbldpZHRoLCB0aGlzLl9jZWxsV2lkdGhDYWNoZVtfa2V5Ml0pIDogdGhpcy5fZGVmYXVsdFdpZHRoO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJoYXNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gaGFzKHJvd0luZGV4KSB7XG4gICAgICB2YXIgY29sdW1uSW5kZXggPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IDA7XG5cbiAgICAgIHZhciBrZXkgPSB0aGlzLl9rZXlNYXBwZXIocm93SW5kZXgsIGNvbHVtbkluZGV4KTtcblxuICAgICAgcmV0dXJuIHRoaXMuX2NlbGxIZWlnaHRDYWNoZVtrZXldICE9PSB1bmRlZmluZWQ7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInNldFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzZXQocm93SW5kZXgsIGNvbHVtbkluZGV4LCB3aWR0aCwgaGVpZ2h0KSB7XG4gICAgICB2YXIga2V5ID0gdGhpcy5fa2V5TWFwcGVyKHJvd0luZGV4LCBjb2x1bW5JbmRleCk7XG5cbiAgICAgIGlmIChjb2x1bW5JbmRleCA+PSB0aGlzLl9jb2x1bW5Db3VudCkge1xuICAgICAgICB0aGlzLl9jb2x1bW5Db3VudCA9IGNvbHVtbkluZGV4ICsgMTtcbiAgICAgIH1cblxuICAgICAgaWYgKHJvd0luZGV4ID49IHRoaXMuX3Jvd0NvdW50KSB7XG4gICAgICAgIHRoaXMuX3Jvd0NvdW50ID0gcm93SW5kZXggKyAxO1xuICAgICAgfSAvLyBTaXplIGlzIGNhY2hlZCBwZXIgY2VsbCBzbyB3ZSBkb24ndCBoYXZlIHRvIHJlLW1lYXN1cmUgaWYgY2VsbHMgYXJlIHJlLW9yZGVyZWQuXG5cblxuICAgICAgdGhpcy5fY2VsbEhlaWdodENhY2hlW2tleV0gPSBoZWlnaHQ7XG4gICAgICB0aGlzLl9jZWxsV2lkdGhDYWNoZVtrZXldID0gd2lkdGg7XG5cbiAgICAgIHRoaXMuX3VwZGF0ZUNhY2hlZENvbHVtbkFuZFJvd1NpemVzKHJvd0luZGV4LCBjb2x1bW5JbmRleCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIl91cGRhdGVDYWNoZWRDb2x1bW5BbmRSb3dTaXplc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfdXBkYXRlQ2FjaGVkQ29sdW1uQW5kUm93U2l6ZXMocm93SW5kZXgsIGNvbHVtbkluZGV4KSB7XG4gICAgICAvLyA6Y29sdW1uV2lkdGggYW5kIDpyb3dIZWlnaHQgYXJlIGRlcml2ZWQgYmFzZWQgb24gYWxsIGNlbGxzIGluIGEgY29sdW1uL3Jvdy5cbiAgICAgIC8vIFByZS1jYWNoZSB0aGVzZSBkZXJpdmVkIHZhbHVlcyBmb3IgZmFzdGVyIGxvb2t1cCBsYXRlci5cbiAgICAgIC8vIFJlYWRzIGFyZSBleHBlY3RlZCB0byBvY2N1ciBtb3JlIGZyZXF1ZW50bHkgdGhhbiB3cml0ZXMgaW4gdGhpcyBjYXNlLlxuICAgICAgLy8gT25seSB1cGRhdGUgbm9uLWZpeGVkIGRpbWVuc2lvbnMgdGhvdWdoIHRvIGF2b2lkIGRvaW5nIHVubmVjZXNzYXJ5IHdvcmsuXG4gICAgICBpZiAoIXRoaXMuX2hhc0ZpeGVkV2lkdGgpIHtcbiAgICAgICAgdmFyIGNvbHVtbldpZHRoID0gMDtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuX3Jvd0NvdW50OyBpKyspIHtcbiAgICAgICAgICBjb2x1bW5XaWR0aCA9IE1hdGgubWF4KGNvbHVtbldpZHRoLCB0aGlzLmdldFdpZHRoKGksIGNvbHVtbkluZGV4KSk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgY29sdW1uS2V5ID0gdGhpcy5fa2V5TWFwcGVyKDAsIGNvbHVtbkluZGV4KTtcblxuICAgICAgICB0aGlzLl9jb2x1bW5XaWR0aENhY2hlW2NvbHVtbktleV0gPSBjb2x1bW5XaWR0aDtcbiAgICAgIH1cblxuICAgICAgaWYgKCF0aGlzLl9oYXNGaXhlZEhlaWdodCkge1xuICAgICAgICB2YXIgcm93SGVpZ2h0ID0gMDtcblxuICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgdGhpcy5fY29sdW1uQ291bnQ7IF9pKyspIHtcbiAgICAgICAgICByb3dIZWlnaHQgPSBNYXRoLm1heChyb3dIZWlnaHQsIHRoaXMuZ2V0SGVpZ2h0KHJvd0luZGV4LCBfaSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHJvd0tleSA9IHRoaXMuX2tleU1hcHBlcihyb3dJbmRleCwgMCk7XG5cbiAgICAgICAgdGhpcy5fcm93SGVpZ2h0Q2FjaGVbcm93S2V5XSA9IHJvd0hlaWdodDtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZGVmYXVsdEhlaWdodFwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMuX2RlZmF1bHRIZWlnaHQ7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImRlZmF1bHRXaWR0aFwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMuX2RlZmF1bHRXaWR0aDtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gQ2VsbE1lYXN1cmVyQ2FjaGU7XG59KCk7XG5cbmV4cG9ydCB7IENlbGxNZWFzdXJlckNhY2hlIGFzIGRlZmF1bHQgfTtcblxuZnVuY3Rpb24gZGVmYXVsdEtleU1hcHBlcihyb3dJbmRleCwgY29sdW1uSW5kZXgpIHtcbiAgcmV0dXJuIFwiXCIuY29uY2F0KHJvd0luZGV4LCBcIi1cIikuY29uY2F0KGNvbHVtbkluZGV4KTtcbn1cblxuaW1wb3J0IHsgYnBmcnB0X3Byb3B0eXBlX0NlbGxNZWFzdXJlQ2FjaGUgfSBmcm9tIFwiLi90eXBlc1wiOyIsImltcG9ydCBDZWxsTWVhc3VyZXIgZnJvbSAnLi9DZWxsTWVhc3VyZXInO1xuaW1wb3J0IENlbGxNZWFzdXJlckNhY2hlIGZyb20gJy4vQ2VsbE1lYXN1cmVyQ2FjaGUnO1xuZXhwb3J0IGRlZmF1bHQgQ2VsbE1lYXN1cmVyO1xuZXhwb3J0IHsgQ2VsbE1lYXN1cmVyLCBDZWxsTWVhc3VyZXJDYWNoZSB9OyIsInZhciBicGZycHRfcHJvcHR5cGVfQ2VsbE1lYXN1cmVDYWNoZSA9IHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAncHJvZHVjdGlvbicgPyBudWxsIDoge1xuICBcImhhc0ZpeGVkV2lkdGhcIjogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcbiAgXCJoYXNGaXhlZEhlaWdodFwiOiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLFxuICBcImhhc1wiOiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLFxuICBcInNldFwiOiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLFxuICBcImdldEhlaWdodFwiOiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLFxuICBcImdldFdpZHRoXCI6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWRcbn07XG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gXCJwcm9wLXR5cGVzXCI7XG5leHBvcnQgeyBicGZycHRfcHJvcHR5cGVfQ2VsbE1lYXN1cmVDYWNoZSB9OyIsImltcG9ydCBfZXh0ZW5kcyBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9leHRlbmRzXCI7XG5pbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrXCI7XG5pbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzXCI7XG5pbXBvcnQgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4gZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVyblwiO1xuaW1wb3J0IF9nZXRQcm90b3R5cGVPZiBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9nZXRQcm90b3R5cGVPZlwiO1xuaW1wb3J0IF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvYXNzZXJ0VGhpc0luaXRpYWxpemVkXCI7XG5pbXBvcnQgX2luaGVyaXRzIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2luaGVyaXRzXCI7XG5pbXBvcnQgX2RlZmluZVByb3BlcnR5IGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2RlZmluZVByb3BlcnR5XCI7XG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IENvbGxlY3Rpb25WaWV3IGZyb20gJy4vQ29sbGVjdGlvblZpZXcnO1xuaW1wb3J0IF9jYWxjdWxhdGVTaXplQW5kUG9zaXRpb25EYXRhIGZyb20gJy4vdXRpbHMvY2FsY3VsYXRlU2l6ZUFuZFBvc2l0aW9uRGF0YSc7XG5pbXBvcnQgZ2V0VXBkYXRlZE9mZnNldEZvckluZGV4IGZyb20gJy4uL3V0aWxzL2dldFVwZGF0ZWRPZmZzZXRGb3JJbmRleCc7XG5cbi8qKlxuICogUmVuZGVycyBzY2F0dGVyZWQgb3Igbm9uLWxpbmVhciBkYXRhLlxuICogVW5saWtlIEdyaWQsIHdoaWNoIHJlbmRlcnMgY2hlY2tlcmJvYXJkIGRhdGEsIENvbGxlY3Rpb24gY2FuIHJlbmRlciBhcmJpdHJhcmlseSBwb3NpdGlvbmVkLSBldmVuIG92ZXJsYXBwaW5nLSBkYXRhLlxuICovXG52YXIgQ29sbGVjdGlvbiA9XG4vKiNfX1BVUkVfXyovXG5mdW5jdGlvbiAoX1JlYWN0JFB1cmVDb21wb25lbnQpIHtcbiAgX2luaGVyaXRzKENvbGxlY3Rpb24sIF9SZWFjdCRQdXJlQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBDb2xsZWN0aW9uKHByb3BzLCBjb250ZXh0KSB7XG4gICAgdmFyIF90aGlzO1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIENvbGxlY3Rpb24pO1xuXG4gICAgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfZ2V0UHJvdG90eXBlT2YoQ29sbGVjdGlvbikuY2FsbCh0aGlzLCBwcm9wcywgY29udGV4dCkpO1xuICAgIF90aGlzLl9jZWxsTWV0YWRhdGEgPSBbXTtcbiAgICBfdGhpcy5fbGFzdFJlbmRlcmVkQ2VsbEluZGljZXMgPSBbXTsgLy8gQ2VsbCBjYWNoZSBkdXJpbmcgc2Nyb2xsIChmb3IgcGVyZm9ybWFuY2UpXG5cbiAgICBfdGhpcy5fY2VsbENhY2hlID0gW107XG4gICAgX3RoaXMuX2lzU2Nyb2xsaW5nQ2hhbmdlID0gX3RoaXMuX2lzU2Nyb2xsaW5nQ2hhbmdlLmJpbmQoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcykpO1xuICAgIF90aGlzLl9zZXRDb2xsZWN0aW9uVmlld1JlZiA9IF90aGlzLl9zZXRDb2xsZWN0aW9uVmlld1JlZi5iaW5kKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKTtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoQ29sbGVjdGlvbiwgW3tcbiAgICBrZXk6IFwiZm9yY2VVcGRhdGVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZm9yY2VVcGRhdGUoKSB7XG4gICAgICBpZiAodGhpcy5fY29sbGVjdGlvblZpZXcgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICB0aGlzLl9jb2xsZWN0aW9uVmlldy5mb3JjZVVwZGF0ZSgpO1xuICAgICAgfVxuICAgIH1cbiAgICAvKiogU2VlIENvbGxlY3Rpb24jcmVjb21wdXRlQ2VsbFNpemVzQW5kUG9zaXRpb25zICovXG5cbiAgfSwge1xuICAgIGtleTogXCJyZWNvbXB1dGVDZWxsU2l6ZXNBbmRQb3NpdGlvbnNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVjb21wdXRlQ2VsbFNpemVzQW5kUG9zaXRpb25zKCkge1xuICAgICAgdGhpcy5fY2VsbENhY2hlID0gW107XG5cbiAgICAgIHRoaXMuX2NvbGxlY3Rpb25WaWV3LnJlY29tcHV0ZUNlbGxTaXplc0FuZFBvc2l0aW9ucygpO1xuICAgIH1cbiAgICAvKiogUmVhY3QgbGlmZWN5Y2xlIG1ldGhvZHMgKi9cblxuICB9LCB7XG4gICAga2V5OiBcInJlbmRlclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICB2YXIgcHJvcHMgPSBfZXh0ZW5kcyh7fSwgdGhpcy5wcm9wcyk7XG5cbiAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KENvbGxlY3Rpb25WaWV3LCBfZXh0ZW5kcyh7XG4gICAgICAgIGNlbGxMYXlvdXRNYW5hZ2VyOiB0aGlzLFxuICAgICAgICBpc1Njcm9sbGluZ0NoYW5nZTogdGhpcy5faXNTY3JvbGxpbmdDaGFuZ2UsXG4gICAgICAgIHJlZjogdGhpcy5fc2V0Q29sbGVjdGlvblZpZXdSZWZcbiAgICAgIH0sIHByb3BzKSk7XG4gICAgfVxuICAgIC8qKiBDZWxsTGF5b3V0TWFuYWdlciBpbnRlcmZhY2UgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImNhbGN1bGF0ZVNpemVBbmRQb3NpdGlvbkRhdGFcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gY2FsY3VsYXRlU2l6ZUFuZFBvc2l0aW9uRGF0YSgpIHtcbiAgICAgIHZhciBfdGhpcyRwcm9wcyA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgY2VsbENvdW50ID0gX3RoaXMkcHJvcHMuY2VsbENvdW50LFxuICAgICAgICAgIGNlbGxTaXplQW5kUG9zaXRpb25HZXR0ZXIgPSBfdGhpcyRwcm9wcy5jZWxsU2l6ZUFuZFBvc2l0aW9uR2V0dGVyLFxuICAgICAgICAgIHNlY3Rpb25TaXplID0gX3RoaXMkcHJvcHMuc2VjdGlvblNpemU7XG5cbiAgICAgIHZhciBkYXRhID0gX2NhbGN1bGF0ZVNpemVBbmRQb3NpdGlvbkRhdGEoe1xuICAgICAgICBjZWxsQ291bnQ6IGNlbGxDb3VudCxcbiAgICAgICAgY2VsbFNpemVBbmRQb3NpdGlvbkdldHRlcjogY2VsbFNpemVBbmRQb3NpdGlvbkdldHRlcixcbiAgICAgICAgc2VjdGlvblNpemU6IHNlY3Rpb25TaXplXG4gICAgICB9KTtcblxuICAgICAgdGhpcy5fY2VsbE1ldGFkYXRhID0gZGF0YS5jZWxsTWV0YWRhdGE7XG4gICAgICB0aGlzLl9zZWN0aW9uTWFuYWdlciA9IGRhdGEuc2VjdGlvbk1hbmFnZXI7XG4gICAgICB0aGlzLl9oZWlnaHQgPSBkYXRhLmhlaWdodDtcbiAgICAgIHRoaXMuX3dpZHRoID0gZGF0YS53aWR0aDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgbW9zdCByZWNlbnRseSByZW5kZXJlZCBzZXQgb2YgY2VsbCBpbmRpY2VzLlxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiZ2V0TGFzdFJlbmRlcmVkSW5kaWNlc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRMYXN0UmVuZGVyZWRJbmRpY2VzKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX2xhc3RSZW5kZXJlZENlbGxJbmRpY2VzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGVzIHRoZSBtaW5pbXVtIGFtb3VudCBvZiBjaGFuZ2UgZnJvbSB0aGUgY3VycmVudCBzY3JvbGwgcG9zaXRpb24gdG8gZW5zdXJlIHRoZSBzcGVjaWZpZWQgY2VsbCBpcyAoZnVsbHkpIHZpc2libGUuXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJnZXRTY3JvbGxQb3NpdGlvbkZvckNlbGxcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0U2Nyb2xsUG9zaXRpb25Gb3JDZWxsKF9yZWYpIHtcbiAgICAgIHZhciBhbGlnbiA9IF9yZWYuYWxpZ24sXG4gICAgICAgICAgY2VsbEluZGV4ID0gX3JlZi5jZWxsSW5kZXgsXG4gICAgICAgICAgaGVpZ2h0ID0gX3JlZi5oZWlnaHQsXG4gICAgICAgICAgc2Nyb2xsTGVmdCA9IF9yZWYuc2Nyb2xsTGVmdCxcbiAgICAgICAgICBzY3JvbGxUb3AgPSBfcmVmLnNjcm9sbFRvcCxcbiAgICAgICAgICB3aWR0aCA9IF9yZWYud2lkdGg7XG4gICAgICB2YXIgY2VsbENvdW50ID0gdGhpcy5wcm9wcy5jZWxsQ291bnQ7XG5cbiAgICAgIGlmIChjZWxsSW5kZXggPj0gMCAmJiBjZWxsSW5kZXggPCBjZWxsQ291bnQpIHtcbiAgICAgICAgdmFyIGNlbGxNZXRhZGF0YSA9IHRoaXMuX2NlbGxNZXRhZGF0YVtjZWxsSW5kZXhdO1xuICAgICAgICBzY3JvbGxMZWZ0ID0gZ2V0VXBkYXRlZE9mZnNldEZvckluZGV4KHtcbiAgICAgICAgICBhbGlnbjogYWxpZ24sXG4gICAgICAgICAgY2VsbE9mZnNldDogY2VsbE1ldGFkYXRhLngsXG4gICAgICAgICAgY2VsbFNpemU6IGNlbGxNZXRhZGF0YS53aWR0aCxcbiAgICAgICAgICBjb250YWluZXJTaXplOiB3aWR0aCxcbiAgICAgICAgICBjdXJyZW50T2Zmc2V0OiBzY3JvbGxMZWZ0LFxuICAgICAgICAgIHRhcmdldEluZGV4OiBjZWxsSW5kZXhcbiAgICAgICAgfSk7XG4gICAgICAgIHNjcm9sbFRvcCA9IGdldFVwZGF0ZWRPZmZzZXRGb3JJbmRleCh7XG4gICAgICAgICAgYWxpZ246IGFsaWduLFxuICAgICAgICAgIGNlbGxPZmZzZXQ6IGNlbGxNZXRhZGF0YS55LFxuICAgICAgICAgIGNlbGxTaXplOiBjZWxsTWV0YWRhdGEuaGVpZ2h0LFxuICAgICAgICAgIGNvbnRhaW5lclNpemU6IGhlaWdodCxcbiAgICAgICAgICBjdXJyZW50T2Zmc2V0OiBzY3JvbGxUb3AsXG4gICAgICAgICAgdGFyZ2V0SW5kZXg6IGNlbGxJbmRleFxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc2Nyb2xsTGVmdDogc2Nyb2xsTGVmdCxcbiAgICAgICAgc2Nyb2xsVG9wOiBzY3JvbGxUb3BcbiAgICAgIH07XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImdldFRvdGFsU2l6ZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRUb3RhbFNpemUoKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBoZWlnaHQ6IHRoaXMuX2hlaWdodCxcbiAgICAgICAgd2lkdGg6IHRoaXMuX3dpZHRoXG4gICAgICB9O1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJjZWxsUmVuZGVyZXJzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNlbGxSZW5kZXJlcnMoX3JlZjIpIHtcbiAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICB2YXIgaGVpZ2h0ID0gX3JlZjIuaGVpZ2h0LFxuICAgICAgICAgIGlzU2Nyb2xsaW5nID0gX3JlZjIuaXNTY3JvbGxpbmcsXG4gICAgICAgICAgd2lkdGggPSBfcmVmMi53aWR0aCxcbiAgICAgICAgICB4ID0gX3JlZjIueCxcbiAgICAgICAgICB5ID0gX3JlZjIueTtcbiAgICAgIHZhciBfdGhpcyRwcm9wczIgPSB0aGlzLnByb3BzLFxuICAgICAgICAgIGNlbGxHcm91cFJlbmRlcmVyID0gX3RoaXMkcHJvcHMyLmNlbGxHcm91cFJlbmRlcmVyLFxuICAgICAgICAgIGNlbGxSZW5kZXJlciA9IF90aGlzJHByb3BzMi5jZWxsUmVuZGVyZXI7IC8vIFN0b3JlIGZvciBsYXRlciBjYWxscyB0byBnZXRMYXN0UmVuZGVyZWRJbmRpY2VzKClcblxuICAgICAgdGhpcy5fbGFzdFJlbmRlcmVkQ2VsbEluZGljZXMgPSB0aGlzLl9zZWN0aW9uTWFuYWdlci5nZXRDZWxsSW5kaWNlcyh7XG4gICAgICAgIGhlaWdodDogaGVpZ2h0LFxuICAgICAgICB3aWR0aDogd2lkdGgsXG4gICAgICAgIHg6IHgsXG4gICAgICAgIHk6IHlcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGNlbGxHcm91cFJlbmRlcmVyKHtcbiAgICAgICAgY2VsbENhY2hlOiB0aGlzLl9jZWxsQ2FjaGUsXG4gICAgICAgIGNlbGxSZW5kZXJlcjogY2VsbFJlbmRlcmVyLFxuICAgICAgICBjZWxsU2l6ZUFuZFBvc2l0aW9uR2V0dGVyOiBmdW5jdGlvbiBjZWxsU2l6ZUFuZFBvc2l0aW9uR2V0dGVyKF9yZWYzKSB7XG4gICAgICAgICAgdmFyIGluZGV4ID0gX3JlZjMuaW5kZXg7XG4gICAgICAgICAgcmV0dXJuIF90aGlzMi5fc2VjdGlvbk1hbmFnZXIuZ2V0Q2VsbE1ldGFkYXRhKHtcbiAgICAgICAgICAgIGluZGV4OiBpbmRleFxuICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICBpbmRpY2VzOiB0aGlzLl9sYXN0UmVuZGVyZWRDZWxsSW5kaWNlcyxcbiAgICAgICAgaXNTY3JvbGxpbmc6IGlzU2Nyb2xsaW5nXG4gICAgICB9KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiX2lzU2Nyb2xsaW5nQ2hhbmdlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9pc1Njcm9sbGluZ0NoYW5nZShpc1Njcm9sbGluZykge1xuICAgICAgaWYgKCFpc1Njcm9sbGluZykge1xuICAgICAgICB0aGlzLl9jZWxsQ2FjaGUgPSBbXTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiX3NldENvbGxlY3Rpb25WaWV3UmVmXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9zZXRDb2xsZWN0aW9uVmlld1JlZihyZWYpIHtcbiAgICAgIHRoaXMuX2NvbGxlY3Rpb25WaWV3ID0gcmVmO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBDb2xsZWN0aW9uO1xufShSZWFjdC5QdXJlQ29tcG9uZW50KTtcblxuX2RlZmluZVByb3BlcnR5KENvbGxlY3Rpb24sIFwiZGVmYXVsdFByb3BzXCIsIHtcbiAgJ2FyaWEtbGFiZWwnOiAnZ3JpZCcsXG4gIGNlbGxHcm91cFJlbmRlcmVyOiBkZWZhdWx0Q2VsbEdyb3VwUmVuZGVyZXJcbn0pO1xuXG5leHBvcnQgeyBDb2xsZWN0aW9uIGFzIGRlZmF1bHQgfTtcbkNvbGxlY3Rpb24ucHJvcFR5cGVzID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8ge1xuICAnYXJpYS1sYWJlbCc6IFByb3BUeXBlcy5zdHJpbmcsXG5cbiAgLyoqXG4gICAqIE51bWJlciBvZiBjZWxscyBpbiBDb2xsZWN0aW9uLlxuICAgKi9cbiAgY2VsbENvdW50OiBQcm9wVHlwZXMubnVtYmVyLmlzUmVxdWlyZWQsXG5cbiAgLyoqXG4gICAqIFJlc3BvbnNpYmxlIGZvciByZW5kZXJpbmcgYSBncm91cCBvZiBjZWxscyBnaXZlbiB0aGVpciBpbmRpY2VzLlxuICAgKiBTaG91bGQgaW1wbGVtZW50IHRoZSBmb2xsb3dpbmcgaW50ZXJmYWNlOiAoe1xuICAgKiAgIGNlbGxTaXplQW5kUG9zaXRpb25HZXR0ZXI6RnVuY3Rpb24sXG4gICAqICAgaW5kaWNlczogQXJyYXk8bnVtYmVyPixcbiAgICogICBjZWxsUmVuZGVyZXI6IEZ1bmN0aW9uXG4gICAqIH0pOiBBcnJheTxQcm9wVHlwZXMubm9kZT5cbiAgICovXG4gIGNlbGxHcm91cFJlbmRlcmVyOiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLFxuXG4gIC8qKlxuICAgKiBSZXNwb25zaWJsZSBmb3IgcmVuZGVyaW5nIGEgY2VsbCBnaXZlbiBhbiByb3cgYW5kIGNvbHVtbiBpbmRleC5cbiAgICogU2hvdWxkIGltcGxlbWVudCB0aGUgZm9sbG93aW5nIGludGVyZmFjZTogKHsgaW5kZXg6IG51bWJlciwga2V5OiBzdHJpbmcsIHN0eWxlOiBvYmplY3QgfSk6IFByb3BUeXBlcy5lbGVtZW50XG4gICAqL1xuICBjZWxsUmVuZGVyZXI6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsXG5cbiAgLyoqXG4gICAqIENhbGxiYWNrIHJlc3BvbnNpYmxlIGZvciByZXR1cm5pbmcgc2l6ZSBhbmQgb2Zmc2V0L3Bvc2l0aW9uIGluZm9ybWF0aW9uIGZvciBhIGdpdmVuIGNlbGwgKGluZGV4KS5cbiAgICogKHsgaW5kZXg6IG51bWJlciB9KTogeyBoZWlnaHQ6IG51bWJlciwgd2lkdGg6IG51bWJlciwgeDogbnVtYmVyLCB5OiBudW1iZXIgfVxuICAgKi9cbiAgY2VsbFNpemVBbmRQb3NpdGlvbkdldHRlcjogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcblxuICAvKipcbiAgICogT3B0aW9uYWxseSBvdmVycmlkZSB0aGUgc2l6ZSBvZiB0aGUgc2VjdGlvbnMgYSBDb2xsZWN0aW9uJ3MgY2VsbHMgYXJlIHNwbGl0IGludG8uXG4gICAqL1xuICBzZWN0aW9uU2l6ZTogUHJvcFR5cGVzLm51bWJlclxufSA6IHt9O1xuXG5mdW5jdGlvbiBkZWZhdWx0Q2VsbEdyb3VwUmVuZGVyZXIoX3JlZjQpIHtcbiAgdmFyIGNlbGxDYWNoZSA9IF9yZWY0LmNlbGxDYWNoZSxcbiAgICAgIGNlbGxSZW5kZXJlciA9IF9yZWY0LmNlbGxSZW5kZXJlcixcbiAgICAgIGNlbGxTaXplQW5kUG9zaXRpb25HZXR0ZXIgPSBfcmVmNC5jZWxsU2l6ZUFuZFBvc2l0aW9uR2V0dGVyLFxuICAgICAgaW5kaWNlcyA9IF9yZWY0LmluZGljZXMsXG4gICAgICBpc1Njcm9sbGluZyA9IF9yZWY0LmlzU2Nyb2xsaW5nO1xuICByZXR1cm4gaW5kaWNlcy5tYXAoZnVuY3Rpb24gKGluZGV4KSB7XG4gICAgdmFyIGNlbGxNZXRhZGF0YSA9IGNlbGxTaXplQW5kUG9zaXRpb25HZXR0ZXIoe1xuICAgICAgaW5kZXg6IGluZGV4XG4gICAgfSk7XG4gICAgdmFyIGNlbGxSZW5kZXJlclByb3BzID0ge1xuICAgICAgaW5kZXg6IGluZGV4LFxuICAgICAgaXNTY3JvbGxpbmc6IGlzU2Nyb2xsaW5nLFxuICAgICAga2V5OiBpbmRleCxcbiAgICAgIHN0eWxlOiB7XG4gICAgICAgIGhlaWdodDogY2VsbE1ldGFkYXRhLmhlaWdodCxcbiAgICAgICAgbGVmdDogY2VsbE1ldGFkYXRhLngsXG4gICAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICAgICAgICB0b3A6IGNlbGxNZXRhZGF0YS55LFxuICAgICAgICB3aWR0aDogY2VsbE1ldGFkYXRhLndpZHRoXG4gICAgICB9XG4gICAgfTsgLy8gQXZvaWQgcmUtY3JlYXRpbmcgY2VsbHMgd2hpbGUgc2Nyb2xsaW5nLlxuICAgIC8vIFRoaXMgY2FuIGxlYWQgdG8gdGhlIHNhbWUgY2VsbCBiZWluZyBjcmVhdGVkIG1hbnkgdGltZXMgYW5kIGNhbiBjYXVzZSBwZXJmb3JtYW5jZSBpc3N1ZXMgZm9yIFwiaGVhdnlcIiBjZWxscy5cbiAgICAvLyBJZiBhIHNjcm9sbCBpcyBpbiBwcm9ncmVzcy0gY2FjaGUgYW5kIHJldXNlIGNlbGxzLlxuICAgIC8vIFRoaXMgY2FjaGUgd2lsbCBiZSB0aHJvd24gYXdheSBvbmNlIHNjcm9sbGluZyBjb21wbGV0cy5cblxuICAgIGlmIChpc1Njcm9sbGluZykge1xuICAgICAgaWYgKCEoaW5kZXggaW4gY2VsbENhY2hlKSkge1xuICAgICAgICBjZWxsQ2FjaGVbaW5kZXhdID0gY2VsbFJlbmRlcmVyKGNlbGxSZW5kZXJlclByb3BzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGNlbGxDYWNoZVtpbmRleF07XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBjZWxsUmVuZGVyZXIoY2VsbFJlbmRlcmVyUHJvcHMpO1xuICAgIH1cbiAgfSkuZmlsdGVyKGZ1bmN0aW9uIChyZW5kZXJlZENlbGwpIHtcbiAgICByZXR1cm4gISFyZW5kZXJlZENlbGw7XG4gIH0pO1xufVxuXG5pbXBvcnQgeyBicGZycHRfcHJvcHR5cGVfU2Nyb2xsUG9zaXRpb24gfSBmcm9tIFwiLi90eXBlc1wiO1xuaW1wb3J0IHsgYnBmcnB0X3Byb3B0eXBlX1NpemVJbmZvIH0gZnJvbSBcIi4vdHlwZXNcIjsiLCJpbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrXCI7XG5pbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzXCI7XG5pbXBvcnQgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4gZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVyblwiO1xuaW1wb3J0IF9nZXRQcm90b3R5cGVPZiBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9nZXRQcm90b3R5cGVPZlwiO1xuaW1wb3J0IF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvYXNzZXJ0VGhpc0luaXRpYWxpemVkXCI7XG5pbXBvcnQgX2luaGVyaXRzIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2luaGVyaXRzXCI7XG5pbXBvcnQgX2RlZmluZVByb3BlcnR5IGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2RlZmluZVByb3BlcnR5XCI7XG5cbmZ1bmN0aW9uIG93bktleXMob2JqZWN0LCBlbnVtZXJhYmxlT25seSkgeyB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iamVjdCk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBzeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhvYmplY3QpOyBpZiAoZW51bWVyYWJsZU9ubHkpIHN5bWJvbHMgPSBzeW1ib2xzLmZpbHRlcihmdW5jdGlvbiAoc3ltKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgc3ltKS5lbnVtZXJhYmxlOyB9KTsga2V5cy5wdXNoLmFwcGx5KGtleXMsIHN5bWJvbHMpOyB9IHJldHVybiBrZXlzOyB9XG5cbmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV0gIT0gbnVsbCA/IGFyZ3VtZW50c1tpXSA6IHt9OyBpZiAoaSAlIDIpIHsgb3duS2V5cyhzb3VyY2UsIHRydWUpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTsgfSk7IH0gZWxzZSBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMpIHsgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpKTsgfSBlbHNlIHsgb3duS2V5cyhzb3VyY2UpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBrZXkpKTsgfSk7IH0gfSByZXR1cm4gdGFyZ2V0OyB9XG5cbmltcG9ydCBjbHN4IGZyb20gJ2Nsc3gnO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHBvbHlmaWxsIH0gZnJvbSAncmVhY3QtbGlmZWN5Y2xlcy1jb21wYXQnO1xuaW1wb3J0IGNyZWF0ZUNhbGxiYWNrTWVtb2l6ZXIgZnJvbSAnLi4vdXRpbHMvY3JlYXRlQ2FsbGJhY2tNZW1vaXplcic7XG5pbXBvcnQgZ2V0U2Nyb2xsYmFyU2l6ZSBmcm9tICdkb20taGVscGVycy9zY3JvbGxiYXJTaXplJzsgLy8gQFRPRE8gTWVyZ2UgQ29sbGVjdGlvbiBhbmQgQ29sbGVjdGlvblZpZXdcblxuLyoqXG4gKiBTcGVjaWZpZXMgdGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgZHVyaW5nIHdoaWNoIHRvIGRpc2FibGUgcG9pbnRlciBldmVudHMgd2hpbGUgYSBzY3JvbGwgaXMgaW4gcHJvZ3Jlc3MuXG4gKiBUaGlzIGltcHJvdmVzIHBlcmZvcm1hbmNlIGFuZCBtYWtlcyBzY3JvbGxpbmcgc21vb3RoZXIuXG4gKi9cblxudmFyIElTX1NDUk9MTElOR19USU1FT1VUID0gMTUwO1xuLyoqXG4gKiBDb250cm9scyB3aGV0aGVyIHRoZSBHcmlkIHVwZGF0ZXMgdGhlIERPTSBlbGVtZW50J3Mgc2Nyb2xsTGVmdC9zY3JvbGxUb3AgYmFzZWQgb24gdGhlIGN1cnJlbnQgc3RhdGUgb3IganVzdCBvYnNlcnZlcyBpdC5cbiAqIFRoaXMgcHJldmVudHMgR3JpZCBmcm9tIGludGVycnVwdGluZyBtb3VzZS13aGVlbCBhbmltYXRpb25zIChzZWUgaXNzdWUgIzIpLlxuICovXG5cbnZhciBTQ1JPTExfUE9TSVRJT05fQ0hBTkdFX1JFQVNPTlMgPSB7XG4gIE9CU0VSVkVEOiAnb2JzZXJ2ZWQnLFxuICBSRVFVRVNURUQ6ICdyZXF1ZXN0ZWQnXG59O1xuLyoqXG4gKiBNb25pdG9ycyBjaGFuZ2VzIGluIHByb3BlcnRpZXMgKGVnLiBjZWxsQ291bnQpIGFuZCBzdGF0ZSAoZWcuIHNjcm9sbCBvZmZzZXRzKSB0byBkZXRlcm1pbmUgd2hlbiByZW5kZXJpbmcgbmVlZHMgdG8gb2NjdXIuXG4gKiBUaGlzIGNvbXBvbmVudCBkb2VzIG5vdCByZW5kZXIgYW55IHZpc2libGUgY29udGVudCBpdHNlbGY7IGl0IGRlZmVycyB0byB0aGUgc3BlY2lmaWVkIDpjZWxsTGF5b3V0TWFuYWdlci5cbiAqL1xuXG52YXIgQ29sbGVjdGlvblZpZXcgPVxuLyojX19QVVJFX18qL1xuZnVuY3Rpb24gKF9SZWFjdCRQdXJlQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0cyhDb2xsZWN0aW9uVmlldywgX1JlYWN0JFB1cmVDb21wb25lbnQpO1xuXG4gIC8vIEludm9rZXMgY2FsbGJhY2tzIG9ubHkgd2hlbiB0aGVpciB2YWx1ZXMgaGF2ZSBjaGFuZ2VkLlxuICBmdW5jdGlvbiBDb2xsZWN0aW9uVmlldygpIHtcbiAgICB2YXIgX2dldFByb3RvdHlwZU9mMjtcblxuICAgIHZhciBfdGhpcztcblxuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDb2xsZWN0aW9uVmlldyk7XG5cbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuXG4gICAgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoX2dldFByb3RvdHlwZU9mMiA9IF9nZXRQcm90b3R5cGVPZihDb2xsZWN0aW9uVmlldykpLmNhbGwuYXBwbHkoX2dldFByb3RvdHlwZU9mMiwgW3RoaXNdLmNvbmNhdChhcmdzKSkpOyAvLyBJZiB0aGlzIGNvbXBvbmVudCBpcyBiZWluZyByZW5kZXJlZCBzZXJ2ZXItc2lkZSwgZ2V0U2Nyb2xsYmFyU2l6ZSgpIHdpbGwgcmV0dXJuIHVuZGVmaW5lZC5cbiAgICAvLyBXZSBoYW5kbGUgdGhpcyBjYXNlIGluIGNvbXBvbmVudERpZE1vdW50KClcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJzdGF0ZVwiLCB7XG4gICAgICBpc1Njcm9sbGluZzogZmFsc2UsXG4gICAgICBzY3JvbGxMZWZ0OiAwLFxuICAgICAgc2Nyb2xsVG9wOiAwXG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwiX2NhbGN1bGF0ZVNpemVBbmRQb3NpdGlvbkRhdGFPbk5leHRVcGRhdGVcIiwgZmFsc2UpO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcIl9vblNlY3Rpb25SZW5kZXJlZE1lbW9pemVyXCIsIGNyZWF0ZUNhbGxiYWNrTWVtb2l6ZXIoKSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwiX29uU2Nyb2xsTWVtb2l6ZXJcIiwgY3JlYXRlQ2FsbGJhY2tNZW1vaXplcihmYWxzZSkpO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcIl9pbnZva2VPblNlY3Rpb25SZW5kZXJlZEhlbHBlclwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX3RoaXMkcHJvcHMgPSBfdGhpcy5wcm9wcyxcbiAgICAgICAgICBjZWxsTGF5b3V0TWFuYWdlciA9IF90aGlzJHByb3BzLmNlbGxMYXlvdXRNYW5hZ2VyLFxuICAgICAgICAgIG9uU2VjdGlvblJlbmRlcmVkID0gX3RoaXMkcHJvcHMub25TZWN0aW9uUmVuZGVyZWQ7XG5cbiAgICAgIF90aGlzLl9vblNlY3Rpb25SZW5kZXJlZE1lbW9pemVyKHtcbiAgICAgICAgY2FsbGJhY2s6IG9uU2VjdGlvblJlbmRlcmVkLFxuICAgICAgICBpbmRpY2VzOiB7XG4gICAgICAgICAgaW5kaWNlczogY2VsbExheW91dE1hbmFnZXIuZ2V0TGFzdFJlbmRlcmVkSW5kaWNlcygpXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcIl9zZXRTY3JvbGxpbmdDb250YWluZXJSZWZcIiwgZnVuY3Rpb24gKHJlZikge1xuICAgICAgX3RoaXMuX3Njcm9sbGluZ0NvbnRhaW5lciA9IHJlZjtcbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJfdXBkYXRlU2Nyb2xsUG9zaXRpb25Gb3JTY3JvbGxUb0NlbGxcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF90aGlzJHByb3BzMiA9IF90aGlzLnByb3BzLFxuICAgICAgICAgIGNlbGxMYXlvdXRNYW5hZ2VyID0gX3RoaXMkcHJvcHMyLmNlbGxMYXlvdXRNYW5hZ2VyLFxuICAgICAgICAgIGhlaWdodCA9IF90aGlzJHByb3BzMi5oZWlnaHQsXG4gICAgICAgICAgc2Nyb2xsVG9BbGlnbm1lbnQgPSBfdGhpcyRwcm9wczIuc2Nyb2xsVG9BbGlnbm1lbnQsXG4gICAgICAgICAgc2Nyb2xsVG9DZWxsID0gX3RoaXMkcHJvcHMyLnNjcm9sbFRvQ2VsbCxcbiAgICAgICAgICB3aWR0aCA9IF90aGlzJHByb3BzMi53aWR0aDtcbiAgICAgIHZhciBfdGhpcyRzdGF0ZSA9IF90aGlzLnN0YXRlLFxuICAgICAgICAgIHNjcm9sbExlZnQgPSBfdGhpcyRzdGF0ZS5zY3JvbGxMZWZ0LFxuICAgICAgICAgIHNjcm9sbFRvcCA9IF90aGlzJHN0YXRlLnNjcm9sbFRvcDtcblxuICAgICAgaWYgKHNjcm9sbFRvQ2VsbCA+PSAwKSB7XG4gICAgICAgIHZhciBzY3JvbGxQb3NpdGlvbiA9IGNlbGxMYXlvdXRNYW5hZ2VyLmdldFNjcm9sbFBvc2l0aW9uRm9yQ2VsbCh7XG4gICAgICAgICAgYWxpZ246IHNjcm9sbFRvQWxpZ25tZW50LFxuICAgICAgICAgIGNlbGxJbmRleDogc2Nyb2xsVG9DZWxsLFxuICAgICAgICAgIGhlaWdodDogaGVpZ2h0LFxuICAgICAgICAgIHNjcm9sbExlZnQ6IHNjcm9sbExlZnQsXG4gICAgICAgICAgc2Nyb2xsVG9wOiBzY3JvbGxUb3AsXG4gICAgICAgICAgd2lkdGg6IHdpZHRoXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmIChzY3JvbGxQb3NpdGlvbi5zY3JvbGxMZWZ0ICE9PSBzY3JvbGxMZWZ0IHx8IHNjcm9sbFBvc2l0aW9uLnNjcm9sbFRvcCAhPT0gc2Nyb2xsVG9wKSB7XG4gICAgICAgICAgX3RoaXMuX3NldFNjcm9sbFBvc2l0aW9uKHNjcm9sbFBvc2l0aW9uKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcIl9vblNjcm9sbFwiLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIC8vIEluIGNlcnRhaW4gZWRnZS1jYXNlcyBSZWFjdCBkaXNwYXRjaGVzIGFuIG9uU2Nyb2xsIGV2ZW50IHdpdGggYW4gaW52YWxpZCB0YXJnZXQuc2Nyb2xsTGVmdCAvIHRhcmdldC5zY3JvbGxUb3AuXG4gICAgICAvLyBUaGlzIGludmFsaWQgZXZlbnQgY2FuIGJlIGRldGVjdGVkIGJ5IGNvbXBhcmluZyBldmVudC50YXJnZXQgdG8gdGhpcyBjb21wb25lbnQncyBzY3JvbGxhYmxlIERPTSBlbGVtZW50LlxuICAgICAgLy8gU2VlIGlzc3VlICM0MDQgZm9yIG1vcmUgaW5mb3JtYXRpb24uXG4gICAgICBpZiAoZXZlbnQudGFyZ2V0ICE9PSBfdGhpcy5fc2Nyb2xsaW5nQ29udGFpbmVyKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH0gLy8gUHJldmVudCBwb2ludGVyIGV2ZW50cyBmcm9tIGludGVycnVwdGluZyBhIHNtb290aCBzY3JvbGxcblxuXG4gICAgICBfdGhpcy5fZW5hYmxlUG9pbnRlckV2ZW50c0FmdGVyRGVsYXkoKTsgLy8gV2hlbiB0aGlzIGNvbXBvbmVudCBpcyBzaHJ1bmsgZHJhc3RpY2FsbHksIFJlYWN0IGRpc3BhdGNoZXMgYSBzZXJpZXMgb2YgYmFjay10by1iYWNrIHNjcm9sbCBldmVudHMsXG4gICAgICAvLyBHcmFkdWFsbHkgY29udmVyZ2luZyBvbiBhIHNjcm9sbFRvcCB0aGF0IGlzIHdpdGhpbiB0aGUgYm91bmRzIG9mIHRoZSBuZXcsIHNtYWxsZXIgaGVpZ2h0LlxuICAgICAgLy8gVGhpcyBjYXVzZXMgYSBzZXJpZXMgb2YgcmFwaWQgcmVuZGVycyB0aGF0IGlzIHNsb3cgZm9yIGxvbmcgbGlzdHMuXG4gICAgICAvLyBXZSBjYW4gYXZvaWQgdGhhdCBieSBkb2luZyBzb21lIHNpbXBsZSBib3VuZHMgY2hlY2tpbmcgdG8gZW5zdXJlIHRoYXQgc2Nyb2xsVG9wIG5ldmVyIGV4Y2VlZHMgdGhlIHRvdGFsIGhlaWdodC5cblxuXG4gICAgICB2YXIgX3RoaXMkcHJvcHMzID0gX3RoaXMucHJvcHMsXG4gICAgICAgICAgY2VsbExheW91dE1hbmFnZXIgPSBfdGhpcyRwcm9wczMuY2VsbExheW91dE1hbmFnZXIsXG4gICAgICAgICAgaGVpZ2h0ID0gX3RoaXMkcHJvcHMzLmhlaWdodCxcbiAgICAgICAgICBpc1Njcm9sbGluZ0NoYW5nZSA9IF90aGlzJHByb3BzMy5pc1Njcm9sbGluZ0NoYW5nZSxcbiAgICAgICAgICB3aWR0aCA9IF90aGlzJHByb3BzMy53aWR0aDtcbiAgICAgIHZhciBzY3JvbGxiYXJTaXplID0gX3RoaXMuX3Njcm9sbGJhclNpemU7XG5cbiAgICAgIHZhciBfY2VsbExheW91dE1hbmFnZXIkZ2UgPSBjZWxsTGF5b3V0TWFuYWdlci5nZXRUb3RhbFNpemUoKSxcbiAgICAgICAgICB0b3RhbEhlaWdodCA9IF9jZWxsTGF5b3V0TWFuYWdlciRnZS5oZWlnaHQsXG4gICAgICAgICAgdG90YWxXaWR0aCA9IF9jZWxsTGF5b3V0TWFuYWdlciRnZS53aWR0aDtcblxuICAgICAgdmFyIHNjcm9sbExlZnQgPSBNYXRoLm1heCgwLCBNYXRoLm1pbih0b3RhbFdpZHRoIC0gd2lkdGggKyBzY3JvbGxiYXJTaXplLCBldmVudC50YXJnZXQuc2Nyb2xsTGVmdCkpO1xuICAgICAgdmFyIHNjcm9sbFRvcCA9IE1hdGgubWF4KDAsIE1hdGgubWluKHRvdGFsSGVpZ2h0IC0gaGVpZ2h0ICsgc2Nyb2xsYmFyU2l6ZSwgZXZlbnQudGFyZ2V0LnNjcm9sbFRvcCkpOyAvLyBDZXJ0YWluIGRldmljZXMgKGxpa2UgQXBwbGUgdG91Y2hwYWQpIHJhcGlkLWZpcmUgZHVwbGljYXRlIGV2ZW50cy5cbiAgICAgIC8vIERvbid0IGZvcmNlIGEgcmUtcmVuZGVyIGlmIHRoaXMgaXMgdGhlIGNhc2UuXG4gICAgICAvLyBUaGUgbW91c2UgbWF5IG1vdmUgZmFzdGVyIHRoZW4gdGhlIGFuaW1hdGlvbiBmcmFtZSBkb2VzLlxuICAgICAgLy8gVXNlIHJlcXVlc3RBbmltYXRpb25GcmFtZSB0byBhdm9pZCBvdmVyLXVwZGF0aW5nLlxuXG4gICAgICBpZiAoX3RoaXMuc3RhdGUuc2Nyb2xsTGVmdCAhPT0gc2Nyb2xsTGVmdCB8fCBfdGhpcy5zdGF0ZS5zY3JvbGxUb3AgIT09IHNjcm9sbFRvcCkge1xuICAgICAgICAvLyBCcm93c2VycyB3aXRoIGNhbmNlbGFibGUgc2Nyb2xsIGV2ZW50cyAoZWcuIEZpcmVmb3gpIGludGVycnVwdCBzY3JvbGxpbmcgYW5pbWF0aW9ucyBpZiBzY3JvbGxUb3Avc2Nyb2xsTGVmdCBpcyBzZXQuXG4gICAgICAgIC8vIE90aGVyIGJyb3dzZXJzIChlZy4gU2FmYXJpKSBkb24ndCBzY3JvbGwgYXMgd2VsbCB3aXRob3V0IHRoZSBoZWxwIHVuZGVyIGNlcnRhaW4gY29uZGl0aW9ucyAoRE9NIG9yIHN0eWxlIGNoYW5nZXMgZHVyaW5nIHNjcm9sbGluZykuXG4gICAgICAgIC8vIEFsbCB0aGluZ3MgY29uc2lkZXJlZCwgdGhpcyBzZWVtcyB0byBiZSB0aGUgYmVzdCBjdXJyZW50IHdvcmsgYXJvdW5kIHRoYXQgSSdtIGF3YXJlIG9mLlxuICAgICAgICAvLyBGb3IgbW9yZSBpbmZvcm1hdGlvbiBzZWUgaHR0cHM6Ly9naXRodWIuY29tL2J2YXVnaG4vcmVhY3QtdmlydHVhbGl6ZWQvcHVsbC8xMjRcbiAgICAgICAgdmFyIHNjcm9sbFBvc2l0aW9uQ2hhbmdlUmVhc29uID0gZXZlbnQuY2FuY2VsYWJsZSA/IFNDUk9MTF9QT1NJVElPTl9DSEFOR0VfUkVBU09OUy5PQlNFUlZFRCA6IFNDUk9MTF9QT1NJVElPTl9DSEFOR0VfUkVBU09OUy5SRVFVRVNURUQ7IC8vIFN5bmNocm9ub3VzbHkgc2V0IDppc1Njcm9sbGluZyB0aGUgZmlyc3QgdGltZSAoc2luY2UgX3NldE5leHRTdGF0ZSB3aWxsIHJlc2NoZWR1bGUgaXRzIGFuaW1hdGlvbiBmcmFtZSBlYWNoIHRpbWUgaXQncyBjYWxsZWQpXG5cbiAgICAgICAgaWYgKCFfdGhpcy5zdGF0ZS5pc1Njcm9sbGluZykge1xuICAgICAgICAgIGlzU2Nyb2xsaW5nQ2hhbmdlKHRydWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIGlzU2Nyb2xsaW5nOiB0cnVlLFxuICAgICAgICAgIHNjcm9sbExlZnQ6IHNjcm9sbExlZnQsXG4gICAgICAgICAgc2Nyb2xsUG9zaXRpb25DaGFuZ2VSZWFzb246IHNjcm9sbFBvc2l0aW9uQ2hhbmdlUmVhc29uLFxuICAgICAgICAgIHNjcm9sbFRvcDogc2Nyb2xsVG9wXG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBfdGhpcy5faW52b2tlT25TY3JvbGxNZW1vaXplcih7XG4gICAgICAgIHNjcm9sbExlZnQ6IHNjcm9sbExlZnQsXG4gICAgICAgIHNjcm9sbFRvcDogc2Nyb2xsVG9wLFxuICAgICAgICB0b3RhbFdpZHRoOiB0b3RhbFdpZHRoLFxuICAgICAgICB0b3RhbEhlaWdodDogdG90YWxIZWlnaHRcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgX3RoaXMuX3Njcm9sbGJhclNpemUgPSBnZXRTY3JvbGxiYXJTaXplKCk7XG5cbiAgICBpZiAoX3RoaXMuX3Njcm9sbGJhclNpemUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgX3RoaXMuX3Njcm9sbGJhclNpemVNZWFzdXJlZCA9IGZhbHNlO1xuICAgICAgX3RoaXMuX3Njcm9sbGJhclNpemUgPSAwO1xuICAgIH0gZWxzZSB7XG4gICAgICBfdGhpcy5fc2Nyb2xsYmFyU2l6ZU1lYXN1cmVkID0gdHJ1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cbiAgLyoqXG4gICAqIEZvcmNlZCByZWNvbXB1dGUgb2YgY2VsbCBzaXplcyBhbmQgcG9zaXRpb25zLlxuICAgKiBUaGlzIGZ1bmN0aW9uIHNob3VsZCBiZSBjYWxsZWQgaWYgY2VsbCBzaXplcyBoYXZlIGNoYW5nZWQgYnV0IG5vdGhpbmcgZWxzZSBoYXMuXG4gICAqIFNpbmNlIGNlbGwgcG9zaXRpb25zIGFyZSBjYWxjdWxhdGVkIGJ5IGNhbGxiYWNrcywgdGhlIGNvbGxlY3Rpb24gdmlldyBoYXMgbm8gd2F5IG9mIGRldGVjdGluZyB3aGVuIHRoZSB1bmRlcmx5aW5nIGRhdGEgaGFzIGNoYW5nZWQuXG4gICAqL1xuXG5cbiAgX2NyZWF0ZUNsYXNzKENvbGxlY3Rpb25WaWV3LCBbe1xuICAgIGtleTogXCJyZWNvbXB1dGVDZWxsU2l6ZXNBbmRQb3NpdGlvbnNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVjb21wdXRlQ2VsbFNpemVzQW5kUG9zaXRpb25zKCkge1xuICAgICAgdGhpcy5fY2FsY3VsYXRlU2l6ZUFuZFBvc2l0aW9uRGF0YU9uTmV4dFVwZGF0ZSA9IHRydWU7XG4gICAgICB0aGlzLmZvcmNlVXBkYXRlKCk7XG4gICAgfVxuICAgIC8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gQ29tcG9uZW50IGxpZmVjeWNsZSBtZXRob2RzIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogVGhpcyBtZXRob2QgdXBkYXRlcyBzY3JvbGxMZWZ0L3Njcm9sbFRvcCBpbiBzdGF0ZSBmb3IgdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOlxuICAgICAqIDEpIEVtcHR5IGNvbnRlbnQgKDAgcm93cyBvciBjb2x1bW5zKVxuICAgICAqIDIpIE5ldyBzY3JvbGwgcHJvcHMgb3ZlcnJpZGluZyB0aGUgY3VycmVudCBzdGF0ZVxuICAgICAqIDMpIENlbGxzLWNvdW50IG9yIGNlbGxzLXNpemUgaGFzIGNoYW5nZWQsIG1ha2luZyBwcmV2aW91cyBzY3JvbGwgb2Zmc2V0cyBpbnZhbGlkXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJjb21wb25lbnREaWRNb3VudFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICAgIHZhciBfdGhpcyRwcm9wczQgPSB0aGlzLnByb3BzLFxuICAgICAgICAgIGNlbGxMYXlvdXRNYW5hZ2VyID0gX3RoaXMkcHJvcHM0LmNlbGxMYXlvdXRNYW5hZ2VyLFxuICAgICAgICAgIHNjcm9sbExlZnQgPSBfdGhpcyRwcm9wczQuc2Nyb2xsTGVmdCxcbiAgICAgICAgICBzY3JvbGxUb0NlbGwgPSBfdGhpcyRwcm9wczQuc2Nyb2xsVG9DZWxsLFxuICAgICAgICAgIHNjcm9sbFRvcCA9IF90aGlzJHByb3BzNC5zY3JvbGxUb3A7IC8vIElmIHRoaXMgY29tcG9uZW50IHdhcyBmaXJzdCByZW5kZXJlZCBzZXJ2ZXItc2lkZSwgc2Nyb2xsYmFyIHNpemUgd2lsbCBiZSB1bmRlZmluZWQuXG4gICAgICAvLyBJbiB0aGF0IGV2ZW50IHdlIG5lZWQgdG8gcmVtZWFzdXJlLlxuXG4gICAgICBpZiAoIXRoaXMuX3Njcm9sbGJhclNpemVNZWFzdXJlZCkge1xuICAgICAgICB0aGlzLl9zY3JvbGxiYXJTaXplID0gZ2V0U2Nyb2xsYmFyU2l6ZSgpO1xuICAgICAgICB0aGlzLl9zY3JvbGxiYXJTaXplTWVhc3VyZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLnNldFN0YXRlKHt9KTtcbiAgICAgIH1cblxuICAgICAgaWYgKHNjcm9sbFRvQ2VsbCA+PSAwKSB7XG4gICAgICAgIHRoaXMuX3VwZGF0ZVNjcm9sbFBvc2l0aW9uRm9yU2Nyb2xsVG9DZWxsKCk7XG4gICAgICB9IGVsc2UgaWYgKHNjcm9sbExlZnQgPj0gMCB8fCBzY3JvbGxUb3AgPj0gMCkge1xuICAgICAgICB0aGlzLl9zZXRTY3JvbGxQb3NpdGlvbih7XG4gICAgICAgICAgc2Nyb2xsTGVmdDogc2Nyb2xsTGVmdCxcbiAgICAgICAgICBzY3JvbGxUb3A6IHNjcm9sbFRvcFxuICAgICAgICB9KTtcbiAgICAgIH0gLy8gVXBkYXRlIG9uU2VjdGlvblJlbmRlcmVkIGNhbGxiYWNrLlxuXG5cbiAgICAgIHRoaXMuX2ludm9rZU9uU2VjdGlvblJlbmRlcmVkSGVscGVyKCk7XG5cbiAgICAgIHZhciBfY2VsbExheW91dE1hbmFnZXIkZ2UyID0gY2VsbExheW91dE1hbmFnZXIuZ2V0VG90YWxTaXplKCksXG4gICAgICAgICAgdG90YWxIZWlnaHQgPSBfY2VsbExheW91dE1hbmFnZXIkZ2UyLmhlaWdodCxcbiAgICAgICAgICB0b3RhbFdpZHRoID0gX2NlbGxMYXlvdXRNYW5hZ2VyJGdlMi53aWR0aDsgLy8gSW5pdGlhbGl6ZSBvblNjcm9sbCBjYWxsYmFjay5cblxuXG4gICAgICB0aGlzLl9pbnZva2VPblNjcm9sbE1lbW9pemVyKHtcbiAgICAgICAgc2Nyb2xsTGVmdDogc2Nyb2xsTGVmdCB8fCAwLFxuICAgICAgICBzY3JvbGxUb3A6IHNjcm9sbFRvcCB8fCAwLFxuICAgICAgICB0b3RhbEhlaWdodDogdG90YWxIZWlnaHQsXG4gICAgICAgIHRvdGFsV2lkdGg6IHRvdGFsV2lkdGhcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJjb21wb25lbnREaWRVcGRhdGVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50RGlkVXBkYXRlKHByZXZQcm9wcywgcHJldlN0YXRlKSB7XG4gICAgICB2YXIgX3RoaXMkcHJvcHM1ID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICBoZWlnaHQgPSBfdGhpcyRwcm9wczUuaGVpZ2h0LFxuICAgICAgICAgIHNjcm9sbFRvQWxpZ25tZW50ID0gX3RoaXMkcHJvcHM1LnNjcm9sbFRvQWxpZ25tZW50LFxuICAgICAgICAgIHNjcm9sbFRvQ2VsbCA9IF90aGlzJHByb3BzNS5zY3JvbGxUb0NlbGwsXG4gICAgICAgICAgd2lkdGggPSBfdGhpcyRwcm9wczUud2lkdGg7XG4gICAgICB2YXIgX3RoaXMkc3RhdGUyID0gdGhpcy5zdGF0ZSxcbiAgICAgICAgICBzY3JvbGxMZWZ0ID0gX3RoaXMkc3RhdGUyLnNjcm9sbExlZnQsXG4gICAgICAgICAgc2Nyb2xsUG9zaXRpb25DaGFuZ2VSZWFzb24gPSBfdGhpcyRzdGF0ZTIuc2Nyb2xsUG9zaXRpb25DaGFuZ2VSZWFzb24sXG4gICAgICAgICAgc2Nyb2xsVG9wID0gX3RoaXMkc3RhdGUyLnNjcm9sbFRvcDsgLy8gTWFrZSBzdXJlIHJlcXVlc3RlZCBjaGFuZ2VzIHRvIDpzY3JvbGxMZWZ0IG9yIDpzY3JvbGxUb3AgZ2V0IGFwcGxpZWQuXG4gICAgICAvLyBBc3NpZ25pbmcgdG8gc2Nyb2xsTGVmdC9zY3JvbGxUb3AgdGVsbHMgdGhlIGJyb3dzZXIgdG8gaW50ZXJydXB0IGFueSBydW5uaW5nIHNjcm9sbCBhbmltYXRpb25zLFxuICAgICAgLy8gQW5kIHRvIGRpc2NhcmQgYW55IHBlbmRpbmcgYXN5bmMgY2hhbmdlcyB0byB0aGUgc2Nyb2xsIHBvc2l0aW9uIHRoYXQgbWF5IGhhdmUgaGFwcGVuZWQgaW4gdGhlIG1lYW50aW1lIChlLmcuIG9uIGEgc2VwYXJhdGUgc2Nyb2xsaW5nIHRocmVhZCkuXG4gICAgICAvLyBTbyB3ZSBvbmx5IHNldCB0aGVzZSB3aGVuIHdlIHJlcXVpcmUgYW4gYWRqdXN0bWVudCBvZiB0aGUgc2Nyb2xsIHBvc2l0aW9uLlxuICAgICAgLy8gU2VlIGlzc3VlICMyIGZvciBtb3JlIGluZm9ybWF0aW9uLlxuXG4gICAgICBpZiAoc2Nyb2xsUG9zaXRpb25DaGFuZ2VSZWFzb24gPT09IFNDUk9MTF9QT1NJVElPTl9DSEFOR0VfUkVBU09OUy5SRVFVRVNURUQpIHtcbiAgICAgICAgaWYgKHNjcm9sbExlZnQgPj0gMCAmJiBzY3JvbGxMZWZ0ICE9PSBwcmV2U3RhdGUuc2Nyb2xsTGVmdCAmJiBzY3JvbGxMZWZ0ICE9PSB0aGlzLl9zY3JvbGxpbmdDb250YWluZXIuc2Nyb2xsTGVmdCkge1xuICAgICAgICAgIHRoaXMuX3Njcm9sbGluZ0NvbnRhaW5lci5zY3JvbGxMZWZ0ID0gc2Nyb2xsTGVmdDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzY3JvbGxUb3AgPj0gMCAmJiBzY3JvbGxUb3AgIT09IHByZXZTdGF0ZS5zY3JvbGxUb3AgJiYgc2Nyb2xsVG9wICE9PSB0aGlzLl9zY3JvbGxpbmdDb250YWluZXIuc2Nyb2xsVG9wKSB7XG4gICAgICAgICAgdGhpcy5fc2Nyb2xsaW5nQ29udGFpbmVyLnNjcm9sbFRvcCA9IHNjcm9sbFRvcDtcbiAgICAgICAgfVxuICAgICAgfSAvLyBVcGRhdGUgc2Nyb2xsIG9mZnNldHMgaWYgdGhlIGN1cnJlbnQgOnNjcm9sbFRvQ2VsbCB2YWx1ZXMgcmVxdWlyZXMgaXRcblxuXG4gICAgICBpZiAoaGVpZ2h0ICE9PSBwcmV2UHJvcHMuaGVpZ2h0IHx8IHNjcm9sbFRvQWxpZ25tZW50ICE9PSBwcmV2UHJvcHMuc2Nyb2xsVG9BbGlnbm1lbnQgfHwgc2Nyb2xsVG9DZWxsICE9PSBwcmV2UHJvcHMuc2Nyb2xsVG9DZWxsIHx8IHdpZHRoICE9PSBwcmV2UHJvcHMud2lkdGgpIHtcbiAgICAgICAgdGhpcy5fdXBkYXRlU2Nyb2xsUG9zaXRpb25Gb3JTY3JvbGxUb0NlbGwoKTtcbiAgICAgIH0gLy8gVXBkYXRlIG9uUm93c1JlbmRlcmVkIGNhbGxiYWNrIGlmIHN0YXJ0L3N0b3AgaW5kaWNlcyBoYXZlIGNoYW5nZWRcblxuXG4gICAgICB0aGlzLl9pbnZva2VPblNlY3Rpb25SZW5kZXJlZEhlbHBlcigpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJjb21wb25lbnRXaWxsVW5tb3VudFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICAgIGlmICh0aGlzLl9kaXNhYmxlUG9pbnRlckV2ZW50c1RpbWVvdXRJZCkge1xuICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5fZGlzYWJsZVBvaW50ZXJFdmVudHNUaW1lb3V0SWQpO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJyZW5kZXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgdmFyIF90aGlzJHByb3BzNiA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgYXV0b0hlaWdodCA9IF90aGlzJHByb3BzNi5hdXRvSGVpZ2h0LFxuICAgICAgICAgIGNlbGxDb3VudCA9IF90aGlzJHByb3BzNi5jZWxsQ291bnQsXG4gICAgICAgICAgY2VsbExheW91dE1hbmFnZXIgPSBfdGhpcyRwcm9wczYuY2VsbExheW91dE1hbmFnZXIsXG4gICAgICAgICAgY2xhc3NOYW1lID0gX3RoaXMkcHJvcHM2LmNsYXNzTmFtZSxcbiAgICAgICAgICBoZWlnaHQgPSBfdGhpcyRwcm9wczYuaGVpZ2h0LFxuICAgICAgICAgIGhvcml6b250YWxPdmVyc2NhblNpemUgPSBfdGhpcyRwcm9wczYuaG9yaXpvbnRhbE92ZXJzY2FuU2l6ZSxcbiAgICAgICAgICBpZCA9IF90aGlzJHByb3BzNi5pZCxcbiAgICAgICAgICBub0NvbnRlbnRSZW5kZXJlciA9IF90aGlzJHByb3BzNi5ub0NvbnRlbnRSZW5kZXJlcixcbiAgICAgICAgICBzdHlsZSA9IF90aGlzJHByb3BzNi5zdHlsZSxcbiAgICAgICAgICB2ZXJ0aWNhbE92ZXJzY2FuU2l6ZSA9IF90aGlzJHByb3BzNi52ZXJ0aWNhbE92ZXJzY2FuU2l6ZSxcbiAgICAgICAgICB3aWR0aCA9IF90aGlzJHByb3BzNi53aWR0aDtcbiAgICAgIHZhciBfdGhpcyRzdGF0ZTMgPSB0aGlzLnN0YXRlLFxuICAgICAgICAgIGlzU2Nyb2xsaW5nID0gX3RoaXMkc3RhdGUzLmlzU2Nyb2xsaW5nLFxuICAgICAgICAgIHNjcm9sbExlZnQgPSBfdGhpcyRzdGF0ZTMuc2Nyb2xsTGVmdCxcbiAgICAgICAgICBzY3JvbGxUb3AgPSBfdGhpcyRzdGF0ZTMuc2Nyb2xsVG9wOyAvLyBNZW1vaXphdGlvbiByZXNldFxuXG4gICAgICBpZiAodGhpcy5fbGFzdFJlbmRlcmVkQ2VsbENvdW50ICE9PSBjZWxsQ291bnQgfHwgdGhpcy5fbGFzdFJlbmRlcmVkQ2VsbExheW91dE1hbmFnZXIgIT09IGNlbGxMYXlvdXRNYW5hZ2VyIHx8IHRoaXMuX2NhbGN1bGF0ZVNpemVBbmRQb3NpdGlvbkRhdGFPbk5leHRVcGRhdGUpIHtcbiAgICAgICAgdGhpcy5fbGFzdFJlbmRlcmVkQ2VsbENvdW50ID0gY2VsbENvdW50O1xuICAgICAgICB0aGlzLl9sYXN0UmVuZGVyZWRDZWxsTGF5b3V0TWFuYWdlciA9IGNlbGxMYXlvdXRNYW5hZ2VyO1xuICAgICAgICB0aGlzLl9jYWxjdWxhdGVTaXplQW5kUG9zaXRpb25EYXRhT25OZXh0VXBkYXRlID0gZmFsc2U7XG4gICAgICAgIGNlbGxMYXlvdXRNYW5hZ2VyLmNhbGN1bGF0ZVNpemVBbmRQb3NpdGlvbkRhdGEoKTtcbiAgICAgIH1cblxuICAgICAgdmFyIF9jZWxsTGF5b3V0TWFuYWdlciRnZTMgPSBjZWxsTGF5b3V0TWFuYWdlci5nZXRUb3RhbFNpemUoKSxcbiAgICAgICAgICB0b3RhbEhlaWdodCA9IF9jZWxsTGF5b3V0TWFuYWdlciRnZTMuaGVpZ2h0LFxuICAgICAgICAgIHRvdGFsV2lkdGggPSBfY2VsbExheW91dE1hbmFnZXIkZ2UzLndpZHRoOyAvLyBTYWZlbHkgZXhwYW5kIHRoZSByZW5kZXJlZCBhcmVhIGJ5IHRoZSBzcGVjaWZpZWQgb3ZlcnNjYW4gYW1vdW50XG5cblxuICAgICAgdmFyIGxlZnQgPSBNYXRoLm1heCgwLCBzY3JvbGxMZWZ0IC0gaG9yaXpvbnRhbE92ZXJzY2FuU2l6ZSk7XG4gICAgICB2YXIgdG9wID0gTWF0aC5tYXgoMCwgc2Nyb2xsVG9wIC0gdmVydGljYWxPdmVyc2NhblNpemUpO1xuICAgICAgdmFyIHJpZ2h0ID0gTWF0aC5taW4odG90YWxXaWR0aCwgc2Nyb2xsTGVmdCArIHdpZHRoICsgaG9yaXpvbnRhbE92ZXJzY2FuU2l6ZSk7XG4gICAgICB2YXIgYm90dG9tID0gTWF0aC5taW4odG90YWxIZWlnaHQsIHNjcm9sbFRvcCArIGhlaWdodCArIHZlcnRpY2FsT3ZlcnNjYW5TaXplKTtcbiAgICAgIHZhciBjaGlsZHJlblRvRGlzcGxheSA9IGhlaWdodCA+IDAgJiYgd2lkdGggPiAwID8gY2VsbExheW91dE1hbmFnZXIuY2VsbFJlbmRlcmVycyh7XG4gICAgICAgIGhlaWdodDogYm90dG9tIC0gdG9wLFxuICAgICAgICBpc1Njcm9sbGluZzogaXNTY3JvbGxpbmcsXG4gICAgICAgIHdpZHRoOiByaWdodCAtIGxlZnQsXG4gICAgICAgIHg6IGxlZnQsXG4gICAgICAgIHk6IHRvcFxuICAgICAgfSkgOiBbXTtcbiAgICAgIHZhciBjb2xsZWN0aW9uU3R5bGUgPSB7XG4gICAgICAgIGJveFNpemluZzogJ2JvcmRlci1ib3gnLFxuICAgICAgICBkaXJlY3Rpb246ICdsdHInLFxuICAgICAgICBoZWlnaHQ6IGF1dG9IZWlnaHQgPyAnYXV0bycgOiBoZWlnaHQsXG4gICAgICAgIHBvc2l0aW9uOiAncmVsYXRpdmUnLFxuICAgICAgICBXZWJraXRPdmVyZmxvd1Njcm9sbGluZzogJ3RvdWNoJyxcbiAgICAgICAgd2lkdGg6IHdpZHRoLFxuICAgICAgICB3aWxsQ2hhbmdlOiAndHJhbnNmb3JtJ1xuICAgICAgfTsgLy8gRm9yY2UgYnJvd3NlciB0byBoaWRlIHNjcm9sbGJhcnMgd2hlbiB3ZSBrbm93IHRoZXkgYXJlbid0IG5lY2Vzc2FyeS5cbiAgICAgIC8vIE90aGVyd2lzZSBvbmNlIHNjcm9sbGJhcnMgYXBwZWFyIHRoZXkgbWF5IG5vdCBkaXNhcHBlYXIgYWdhaW4uXG4gICAgICAvLyBGb3IgbW9yZSBpbmZvIHNlZSBpc3N1ZSAjMTE2XG5cbiAgICAgIHZhciB2ZXJ0aWNhbFNjcm9sbEJhclNpemUgPSB0b3RhbEhlaWdodCA+IGhlaWdodCA/IHRoaXMuX3Njcm9sbGJhclNpemUgOiAwO1xuICAgICAgdmFyIGhvcml6b250YWxTY3JvbGxCYXJTaXplID0gdG90YWxXaWR0aCA+IHdpZHRoID8gdGhpcy5fc2Nyb2xsYmFyU2l6ZSA6IDA7IC8vIEFsc28gZXhwbGljaXRseSBpbml0IHN0eWxlcyB0byAnYXV0bycgaWYgc2Nyb2xsYmFycyBhcmUgcmVxdWlyZWQuXG4gICAgICAvLyBUaGlzIHdvcmtzIGFyb3VuZCBhbiBvYnNjdXJlIGVkZ2UgY2FzZSB3aGVyZSBleHRlcm5hbCBDU1Mgc3R5bGVzIGhhdmUgbm90IHlldCBiZWVuIGxvYWRlZCxcbiAgICAgIC8vIEJ1dCBhbiBpbml0aWFsIHNjcm9sbCBpbmRleCBvZiBvZmZzZXQgaXMgc2V0IGFzIGFuIGV4dGVybmFsIHByb3AuXG4gICAgICAvLyBXaXRob3V0IHRoaXMgc3R5bGUsIEdyaWQgd291bGQgcmVuZGVyIHRoZSBjb3JyZWN0IHJhbmdlIG9mIGNlbGxzIGJ1dCB3b3VsZCBOT1QgdXBkYXRlIGl0cyBpbnRlcm5hbCBvZmZzZXQuXG4gICAgICAvLyBUaGlzIHdhcyBvcmlnaW5hbGx5IHJlcG9ydGVkIHZpYSBjbGF1ZGVyaWMvcmVhY3QtaW5maW5pdGUtY2FsZW5kYXIvaXNzdWVzLzIzXG5cbiAgICAgIGNvbGxlY3Rpb25TdHlsZS5vdmVyZmxvd1ggPSB0b3RhbFdpZHRoICsgdmVydGljYWxTY3JvbGxCYXJTaXplIDw9IHdpZHRoID8gJ2hpZGRlbicgOiAnYXV0byc7XG4gICAgICBjb2xsZWN0aW9uU3R5bGUub3ZlcmZsb3dZID0gdG90YWxIZWlnaHQgKyBob3Jpem9udGFsU2Nyb2xsQmFyU2l6ZSA8PSBoZWlnaHQgPyAnaGlkZGVuJyA6ICdhdXRvJztcbiAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgICAgcmVmOiB0aGlzLl9zZXRTY3JvbGxpbmdDb250YWluZXJSZWYsXG4gICAgICAgIFwiYXJpYS1sYWJlbFwiOiB0aGlzLnByb3BzWydhcmlhLWxhYmVsJ10sXG4gICAgICAgIGNsYXNzTmFtZTogY2xzeCgnUmVhY3RWaXJ0dWFsaXplZF9fQ29sbGVjdGlvbicsIGNsYXNzTmFtZSksXG4gICAgICAgIGlkOiBpZCxcbiAgICAgICAgb25TY3JvbGw6IHRoaXMuX29uU2Nyb2xsLFxuICAgICAgICByb2xlOiBcImdyaWRcIixcbiAgICAgICAgc3R5bGU6IF9vYmplY3RTcHJlYWQoe30sIGNvbGxlY3Rpb25TdHlsZSwge30sIHN0eWxlKSxcbiAgICAgICAgdGFiSW5kZXg6IDBcbiAgICAgIH0sIGNlbGxDb3VudCA+IDAgJiYgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICAgIGNsYXNzTmFtZTogXCJSZWFjdFZpcnR1YWxpemVkX19Db2xsZWN0aW9uX19pbm5lclNjcm9sbENvbnRhaW5lclwiLFxuICAgICAgICBzdHlsZToge1xuICAgICAgICAgIGhlaWdodDogdG90YWxIZWlnaHQsXG4gICAgICAgICAgbWF4SGVpZ2h0OiB0b3RhbEhlaWdodCxcbiAgICAgICAgICBtYXhXaWR0aDogdG90YWxXaWR0aCxcbiAgICAgICAgICBvdmVyZmxvdzogJ2hpZGRlbicsXG4gICAgICAgICAgcG9pbnRlckV2ZW50czogaXNTY3JvbGxpbmcgPyAnbm9uZScgOiAnJyxcbiAgICAgICAgICB3aWR0aDogdG90YWxXaWR0aFxuICAgICAgICB9XG4gICAgICB9LCBjaGlsZHJlblRvRGlzcGxheSksIGNlbGxDb3VudCA9PT0gMCAmJiBub0NvbnRlbnRSZW5kZXJlcigpKTtcbiAgICB9XG4gICAgLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBIZWxwZXIgbWV0aG9kcyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXG5cbiAgICAvKipcbiAgICAgKiBTZXRzIGFuIDppc1Njcm9sbGluZyBmbGFnIGZvciBhIHNtYWxsIHdpbmRvdyBvZiB0aW1lLlxuICAgICAqIFRoaXMgZmxhZyBpcyB1c2VkIHRvIGRpc2FibGUgcG9pbnRlciBldmVudHMgb24gdGhlIHNjcm9sbGFibGUgcG9ydGlvbiBvZiB0aGUgQ29sbGVjdGlvbi5cbiAgICAgKiBUaGlzIHByZXZlbnRzIGplcmt5L3N0dXR0ZXJ5IG1vdXNlLXdoZWVsIHNjcm9sbGluZy5cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcIl9lbmFibGVQb2ludGVyRXZlbnRzQWZ0ZXJEZWxheVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfZW5hYmxlUG9pbnRlckV2ZW50c0FmdGVyRGVsYXkoKSB7XG4gICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgaWYgKHRoaXMuX2Rpc2FibGVQb2ludGVyRXZlbnRzVGltZW91dElkKSB7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aGlzLl9kaXNhYmxlUG9pbnRlckV2ZW50c1RpbWVvdXRJZCk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuX2Rpc2FibGVQb2ludGVyRXZlbnRzVGltZW91dElkID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBpc1Njcm9sbGluZ0NoYW5nZSA9IF90aGlzMi5wcm9wcy5pc1Njcm9sbGluZ0NoYW5nZTtcbiAgICAgICAgaXNTY3JvbGxpbmdDaGFuZ2UoZmFsc2UpO1xuICAgICAgICBfdGhpczIuX2Rpc2FibGVQb2ludGVyRXZlbnRzVGltZW91dElkID0gbnVsbDtcblxuICAgICAgICBfdGhpczIuc2V0U3RhdGUoe1xuICAgICAgICAgIGlzU2Nyb2xsaW5nOiBmYWxzZVxuICAgICAgICB9KTtcbiAgICAgIH0sIElTX1NDUk9MTElOR19USU1FT1VUKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiX2ludm9rZU9uU2Nyb2xsTWVtb2l6ZXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gX2ludm9rZU9uU2Nyb2xsTWVtb2l6ZXIoX3JlZikge1xuICAgICAgdmFyIF90aGlzMyA9IHRoaXM7XG5cbiAgICAgIHZhciBzY3JvbGxMZWZ0ID0gX3JlZi5zY3JvbGxMZWZ0LFxuICAgICAgICAgIHNjcm9sbFRvcCA9IF9yZWYuc2Nyb2xsVG9wLFxuICAgICAgICAgIHRvdGFsSGVpZ2h0ID0gX3JlZi50b3RhbEhlaWdodCxcbiAgICAgICAgICB0b3RhbFdpZHRoID0gX3JlZi50b3RhbFdpZHRoO1xuXG4gICAgICB0aGlzLl9vblNjcm9sbE1lbW9pemVyKHtcbiAgICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uIGNhbGxiYWNrKF9yZWYyKSB7XG4gICAgICAgICAgdmFyIHNjcm9sbExlZnQgPSBfcmVmMi5zY3JvbGxMZWZ0LFxuICAgICAgICAgICAgICBzY3JvbGxUb3AgPSBfcmVmMi5zY3JvbGxUb3A7XG4gICAgICAgICAgdmFyIF90aGlzMyRwcm9wcyA9IF90aGlzMy5wcm9wcyxcbiAgICAgICAgICAgICAgaGVpZ2h0ID0gX3RoaXMzJHByb3BzLmhlaWdodCxcbiAgICAgICAgICAgICAgb25TY3JvbGwgPSBfdGhpczMkcHJvcHMub25TY3JvbGwsXG4gICAgICAgICAgICAgIHdpZHRoID0gX3RoaXMzJHByb3BzLndpZHRoO1xuICAgICAgICAgIG9uU2Nyb2xsKHtcbiAgICAgICAgICAgIGNsaWVudEhlaWdodDogaGVpZ2h0LFxuICAgICAgICAgICAgY2xpZW50V2lkdGg6IHdpZHRoLFxuICAgICAgICAgICAgc2Nyb2xsSGVpZ2h0OiB0b3RhbEhlaWdodCxcbiAgICAgICAgICAgIHNjcm9sbExlZnQ6IHNjcm9sbExlZnQsXG4gICAgICAgICAgICBzY3JvbGxUb3A6IHNjcm9sbFRvcCxcbiAgICAgICAgICAgIHNjcm9sbFdpZHRoOiB0b3RhbFdpZHRoXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIGluZGljZXM6IHtcbiAgICAgICAgICBzY3JvbGxMZWZ0OiBzY3JvbGxMZWZ0LFxuICAgICAgICAgIHNjcm9sbFRvcDogc2Nyb2xsVG9wXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJfc2V0U2Nyb2xsUG9zaXRpb25cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gX3NldFNjcm9sbFBvc2l0aW9uKF9yZWYzKSB7XG4gICAgICB2YXIgc2Nyb2xsTGVmdCA9IF9yZWYzLnNjcm9sbExlZnQsXG4gICAgICAgICAgc2Nyb2xsVG9wID0gX3JlZjMuc2Nyb2xsVG9wO1xuICAgICAgdmFyIG5ld1N0YXRlID0ge1xuICAgICAgICBzY3JvbGxQb3NpdGlvbkNoYW5nZVJlYXNvbjogU0NST0xMX1BPU0lUSU9OX0NIQU5HRV9SRUFTT05TLlJFUVVFU1RFRFxuICAgICAgfTtcblxuICAgICAgaWYgKHNjcm9sbExlZnQgPj0gMCkge1xuICAgICAgICBuZXdTdGF0ZS5zY3JvbGxMZWZ0ID0gc2Nyb2xsTGVmdDtcbiAgICAgIH1cblxuICAgICAgaWYgKHNjcm9sbFRvcCA+PSAwKSB7XG4gICAgICAgIG5ld1N0YXRlLnNjcm9sbFRvcCA9IHNjcm9sbFRvcDtcbiAgICAgIH1cblxuICAgICAgaWYgKHNjcm9sbExlZnQgPj0gMCAmJiBzY3JvbGxMZWZ0ICE9PSB0aGlzLnN0YXRlLnNjcm9sbExlZnQgfHwgc2Nyb2xsVG9wID49IDAgJiYgc2Nyb2xsVG9wICE9PSB0aGlzLnN0YXRlLnNjcm9sbFRvcCkge1xuICAgICAgICB0aGlzLnNldFN0YXRlKG5ld1N0YXRlKTtcbiAgICAgIH1cbiAgICB9XG4gIH1dLCBbe1xuICAgIGtleTogXCJnZXREZXJpdmVkU3RhdGVGcm9tUHJvcHNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzKG5leHRQcm9wcywgcHJldlN0YXRlKSB7XG4gICAgICBpZiAobmV4dFByb3BzLmNlbGxDb3VudCA9PT0gMCAmJiAocHJldlN0YXRlLnNjcm9sbExlZnQgIT09IDAgfHwgcHJldlN0YXRlLnNjcm9sbFRvcCAhPT0gMCkpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBzY3JvbGxMZWZ0OiAwLFxuICAgICAgICAgIHNjcm9sbFRvcDogMCxcbiAgICAgICAgICBzY3JvbGxQb3NpdGlvbkNoYW5nZVJlYXNvbjogU0NST0xMX1BPU0lUSU9OX0NIQU5HRV9SRUFTT05TLlJFUVVFU1RFRFxuICAgICAgICB9O1xuICAgICAgfSBlbHNlIGlmIChuZXh0UHJvcHMuc2Nyb2xsTGVmdCAhPT0gcHJldlN0YXRlLnNjcm9sbExlZnQgfHwgbmV4dFByb3BzLnNjcm9sbFRvcCAhPT0gcHJldlN0YXRlLnNjcm9sbFRvcCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHNjcm9sbExlZnQ6IG5leHRQcm9wcy5zY3JvbGxMZWZ0ICE9IG51bGwgPyBuZXh0UHJvcHMuc2Nyb2xsTGVmdCA6IHByZXZTdGF0ZS5zY3JvbGxMZWZ0LFxuICAgICAgICAgIHNjcm9sbFRvcDogbmV4dFByb3BzLnNjcm9sbFRvcCAhPSBudWxsID8gbmV4dFByb3BzLnNjcm9sbFRvcCA6IHByZXZTdGF0ZS5zY3JvbGxUb3AsXG4gICAgICAgICAgc2Nyb2xsUG9zaXRpb25DaGFuZ2VSZWFzb246IFNDUk9MTF9QT1NJVElPTl9DSEFOR0VfUkVBU09OUy5SRVFVRVNURURcbiAgICAgICAgfTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIENvbGxlY3Rpb25WaWV3O1xufShSZWFjdC5QdXJlQ29tcG9uZW50KTtcblxuX2RlZmluZVByb3BlcnR5KENvbGxlY3Rpb25WaWV3LCBcImRlZmF1bHRQcm9wc1wiLCB7XG4gICdhcmlhLWxhYmVsJzogJ2dyaWQnLFxuICBob3Jpem9udGFsT3ZlcnNjYW5TaXplOiAwLFxuICBub0NvbnRlbnRSZW5kZXJlcjogZnVuY3Rpb24gbm9Db250ZW50UmVuZGVyZXIoKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH0sXG4gIG9uU2Nyb2xsOiBmdW5jdGlvbiBvblNjcm9sbCgpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfSxcbiAgb25TZWN0aW9uUmVuZGVyZWQ6IGZ1bmN0aW9uIG9uU2VjdGlvblJlbmRlcmVkKCkge1xuICAgIHJldHVybiBudWxsO1xuICB9LFxuICBzY3JvbGxUb0FsaWdubWVudDogJ2F1dG8nLFxuICBzY3JvbGxUb0NlbGw6IC0xLFxuICBzdHlsZToge30sXG4gIHZlcnRpY2FsT3ZlcnNjYW5TaXplOiAwXG59KTtcblxuQ29sbGVjdGlvblZpZXcucHJvcFR5cGVzID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8ge1xuICAnYXJpYS1sYWJlbCc6IFByb3BUeXBlcy5zdHJpbmcsXG5cbiAgLyoqXG4gICAqIFJlbW92ZXMgZml4ZWQgaGVpZ2h0IGZyb20gdGhlIHNjcm9sbGluZ0NvbnRhaW5lciBzbyB0aGF0IHRoZSB0b3RhbCBoZWlnaHRcbiAgICogb2Ygcm93cyBjYW4gc3RyZXRjaCB0aGUgd2luZG93LiBJbnRlbmRlZCBmb3IgdXNlIHdpdGggV2luZG93U2Nyb2xsZXJcbiAgICovXG4gIGF1dG9IZWlnaHQ6IFByb3BUeXBlcy5ib29sLFxuXG4gIC8qKlxuICAgKiBOdW1iZXIgb2YgY2VsbHMgaW4gY29sbGVjdGlvbi5cbiAgICovXG4gIGNlbGxDb3VudDogUHJvcFR5cGVzLm51bWJlci5pc1JlcXVpcmVkLFxuXG4gIC8qKlxuICAgKiBDYWxjdWxhdGVzIGNlbGwgc2l6ZXMgYW5kIHBvc2l0aW9ucyBhbmQgbWFuYWdlcyByZW5kZXJpbmcgdGhlIGFwcHJvcHJpYXRlIGNlbGxzIGdpdmVuIGEgc3BlY2lmaWVkIHdpbmRvdy5cbiAgICovXG4gIGNlbGxMYXlvdXRNYW5hZ2VyOiBQcm9wVHlwZXMub2JqZWN0LmlzUmVxdWlyZWQsXG5cbiAgLyoqXG4gICAqIE9wdGlvbmFsIGN1c3RvbSBDU1MgY2xhc3MgbmFtZSB0byBhdHRhY2ggdG8gcm9vdCBDb2xsZWN0aW9uIGVsZW1lbnQuXG4gICAqL1xuICBjbGFzc05hbWU6IFByb3BUeXBlcy5zdHJpbmcsXG5cbiAgLyoqXG4gICAqIEhlaWdodCBvZiBDb2xsZWN0aW9uOyB0aGlzIHByb3BlcnR5IGRldGVybWluZXMgdGhlIG51bWJlciBvZiB2aXNpYmxlICh2cyB2aXJ0dWFsaXplZCkgcm93cy5cbiAgICovXG4gIGhlaWdodDogUHJvcFR5cGVzLm51bWJlci5pc1JlcXVpcmVkLFxuXG4gIC8qKlxuICAgKiBPcHRpb25hbCBjdXN0b20gaWQgdG8gYXR0YWNoIHRvIHJvb3QgQ29sbGVjdGlvbiBlbGVtZW50LlxuICAgKi9cbiAgaWQ6IFByb3BUeXBlcy5zdHJpbmcsXG5cbiAgLyoqXG4gICAqIEVuYWJsZXMgdGhlIGBDb2xsZWN0aW9uYCB0byBob3Jpb250YWxseSBcIm92ZXJzY2FuXCIgaXRzIGNvbnRlbnQgc2ltaWxhciB0byBob3cgYEdyaWRgIGRvZXMuXG4gICAqIFRoaXMgY2FuIHJlZHVjZSBmbGlja2VyIGFyb3VuZCB0aGUgZWRnZXMgd2hlbiBhIHVzZXIgc2Nyb2xscyBxdWlja2x5LlxuICAgKi9cbiAgaG9yaXpvbnRhbE92ZXJzY2FuU2l6ZTogUHJvcFR5cGVzLm51bWJlci5pc1JlcXVpcmVkLFxuICBpc1Njcm9sbGluZ0NoYW5nZTogUHJvcFR5cGVzLmZ1bmMsXG5cbiAgLyoqXG4gICAqIE9wdGlvbmFsIHJlbmRlcmVyIHRvIGJlIHVzZWQgaW4gcGxhY2Ugb2Ygcm93cyB3aGVuIGVpdGhlciA6cm93Q291bnQgb3IgOmNlbGxDb3VudCBpcyAwLlxuICAgKi9cbiAgbm9Db250ZW50UmVuZGVyZXI6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsXG5cbiAgLyoqXG4gICAqIENhbGxiYWNrIGludm9rZWQgd2hlbmV2ZXIgdGhlIHNjcm9sbCBvZmZzZXQgY2hhbmdlcyB3aXRoaW4gdGhlIGlubmVyIHNjcm9sbGFibGUgcmVnaW9uLlxuICAgKiBUaGlzIGNhbGxiYWNrIGNhbiBiZSB1c2VkIHRvIHN5bmMgc2Nyb2xsaW5nIGJldHdlZW4gbGlzdHMsIHRhYmxlcywgb3IgZ3JpZHMuXG4gICAqICh7IGNsaWVudEhlaWdodCwgY2xpZW50V2lkdGgsIHNjcm9sbEhlaWdodCwgc2Nyb2xsTGVmdCwgc2Nyb2xsVG9wLCBzY3JvbGxXaWR0aCB9KTogdm9pZFxuICAgKi9cbiAgb25TY3JvbGw6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsXG5cbiAgLyoqXG4gICAqIENhbGxiYWNrIGludm9rZWQgd2l0aCBpbmZvcm1hdGlvbiBhYm91dCB0aGUgc2VjdGlvbiBvZiB0aGUgQ29sbGVjdGlvbiB0aGF0IHdhcyBqdXN0IHJlbmRlcmVkLlxuICAgKiBUaGlzIGNhbGxiYWNrIGlzIHBhc3NlZCBhIG5hbWVkIDppbmRpY2VzIHBhcmFtZXRlciB3aGljaCBpcyBhbiBBcnJheSBvZiB0aGUgbW9zdCByZWNlbnRseSByZW5kZXJlZCBzZWN0aW9uIGluZGljZXMuXG4gICAqL1xuICBvblNlY3Rpb25SZW5kZXJlZDogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcblxuICAvKipcbiAgICogSG9yaXpvbnRhbCBvZmZzZXQuXG4gICAqL1xuICBzY3JvbGxMZWZ0OiBQcm9wVHlwZXMubnVtYmVyLFxuXG4gIC8qKlxuICAgKiBDb250cm9scyBzY3JvbGwtdG8tY2VsbCBiZWhhdmlvciBvZiB0aGUgR3JpZC5cbiAgICogVGhlIGRlZmF1bHQgKFwiYXV0b1wiKSBzY3JvbGxzIHRoZSBsZWFzdCBhbW91bnQgcG9zc2libGUgdG8gZW5zdXJlIHRoYXQgdGhlIHNwZWNpZmllZCBjZWxsIGlzIGZ1bGx5IHZpc2libGUuXG4gICAqIFVzZSBcInN0YXJ0XCIgdG8gYWxpZ24gY2VsbHMgdG8gdGhlIHRvcC9sZWZ0IG9mIHRoZSBHcmlkIGFuZCBcImVuZFwiIHRvIGFsaWduIGJvdHRvbS9yaWdodC5cbiAgICovXG4gIHNjcm9sbFRvQWxpZ25tZW50OiBQcm9wVHlwZXMub25lT2YoWydhdXRvJywgJ2VuZCcsICdzdGFydCcsICdjZW50ZXInXSkuaXNSZXF1aXJlZCxcblxuICAvKipcbiAgICogQ2VsbCBpbmRleCB0byBlbnN1cmUgdmlzaWJsZSAoYnkgZm9yY2VmdWxseSBzY3JvbGxpbmcgaWYgbmVjZXNzYXJ5KS5cbiAgICovXG4gIHNjcm9sbFRvQ2VsbDogUHJvcFR5cGVzLm51bWJlci5pc1JlcXVpcmVkLFxuXG4gIC8qKlxuICAgKiBWZXJ0aWNhbCBvZmZzZXQuXG4gICAqL1xuICBzY3JvbGxUb3A6IFByb3BUeXBlcy5udW1iZXIsXG5cbiAgLyoqXG4gICAqIE9wdGlvbmFsIGN1c3RvbSBpbmxpbmUgc3R5bGUgdG8gYXR0YWNoIHRvIHJvb3QgQ29sbGVjdGlvbiBlbGVtZW50LlxuICAgKi9cbiAgc3R5bGU6IFByb3BUeXBlcy5vYmplY3QsXG5cbiAgLyoqXG4gICAqIEVuYWJsZXMgdGhlIGBDb2xsZWN0aW9uYCB0byB2ZXJ0aWNhbGx5IFwib3ZlcnNjYW5cIiBpdHMgY29udGVudCBzaW1pbGFyIHRvIGhvdyBgR3JpZGAgZG9lcy5cbiAgICogVGhpcyBjYW4gcmVkdWNlIGZsaWNrZXIgYXJvdW5kIHRoZSBlZGdlcyB3aGVuIGEgdXNlciBzY3JvbGxzIHF1aWNrbHkuXG4gICAqL1xuICB2ZXJ0aWNhbE92ZXJzY2FuU2l6ZTogUHJvcFR5cGVzLm51bWJlci5pc1JlcXVpcmVkLFxuXG4gIC8qKlxuICAgKiBXaWR0aCBvZiBDb2xsZWN0aW9uOyB0aGlzIHByb3BlcnR5IGRldGVybWluZXMgdGhlIG51bWJlciBvZiB2aXNpYmxlICh2cyB2aXJ0dWFsaXplZCkgY29sdW1ucy5cbiAgICovXG4gIHdpZHRoOiBQcm9wVHlwZXMubnVtYmVyLmlzUmVxdWlyZWRcbn0gOiB7fTtcbnBvbHlmaWxsKENvbGxlY3Rpb25WaWV3KTtcbmV4cG9ydCBkZWZhdWx0IENvbGxlY3Rpb25WaWV3OyIsImltcG9ydCBfY2xhc3NDYWxsQ2hlY2sgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2tcIjtcbmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3NcIjtcblxuLyoqXG4gKiBBIHNlY3Rpb24gb2YgdGhlIFdpbmRvdy5cbiAqIFdpbmRvdyBTZWN0aW9ucyBhcmUgdXNlZCB0byBncm91cCBuZWFyYnkgY2VsbHMuXG4gKiBUaGlzIGVuYWJsZXMgdXMgdG8gbW9yZSBxdWlja2x5IGRldGVybWluZSB3aGljaCBjZWxscyB0byBkaXNwbGF5IGluIGEgZ2l2ZW4gcmVnaW9uIG9mIHRoZSBXaW5kb3cuXG4gKiBTZWN0aW9ucyBoYXZlIGEgZml4ZWQgc2l6ZSBhbmQgY29udGFpbiAwIHRvIG1hbnkgY2VsbHMgKHRyYWNrZWQgYnkgdGhlaXIgaW5kaWNlcykuXG4gKi9cbnZhciBTZWN0aW9uID1cbi8qI19fUFVSRV9fKi9cbmZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gU2VjdGlvbihfcmVmKSB7XG4gICAgdmFyIGhlaWdodCA9IF9yZWYuaGVpZ2h0LFxuICAgICAgICB3aWR0aCA9IF9yZWYud2lkdGgsXG4gICAgICAgIHggPSBfcmVmLngsXG4gICAgICAgIHkgPSBfcmVmLnk7XG5cbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgU2VjdGlvbik7XG5cbiAgICB0aGlzLmhlaWdodCA9IGhlaWdodDtcbiAgICB0aGlzLndpZHRoID0gd2lkdGg7XG4gICAgdGhpcy54ID0geDtcbiAgICB0aGlzLnkgPSB5O1xuICAgIHRoaXMuX2luZGV4TWFwID0ge307XG4gICAgdGhpcy5faW5kaWNlcyA9IFtdO1xuICB9XG4gIC8qKiBBZGQgYSBjZWxsIHRvIHRoaXMgc2VjdGlvbi4gKi9cblxuXG4gIF9jcmVhdGVDbGFzcyhTZWN0aW9uLCBbe1xuICAgIGtleTogXCJhZGRDZWxsSW5kZXhcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gYWRkQ2VsbEluZGV4KF9yZWYyKSB7XG4gICAgICB2YXIgaW5kZXggPSBfcmVmMi5pbmRleDtcblxuICAgICAgaWYgKCF0aGlzLl9pbmRleE1hcFtpbmRleF0pIHtcbiAgICAgICAgdGhpcy5faW5kZXhNYXBbaW5kZXhdID0gdHJ1ZTtcblxuICAgICAgICB0aGlzLl9pbmRpY2VzLnB1c2goaW5kZXgpO1xuICAgICAgfVxuICAgIH1cbiAgICAvKiogR2V0IGFsbCBjZWxsIGluZGljZXMgdGhhdCBoYXZlIGJlZW4gYWRkZWQgdG8gdGhpcyBzZWN0aW9uLiAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiZ2V0Q2VsbEluZGljZXNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0Q2VsbEluZGljZXMoKSB7XG4gICAgICByZXR1cm4gdGhpcy5faW5kaWNlcztcbiAgICB9XG4gICAgLyoqIEludGVuZGVkIGZvciBkZWJ1Z2dlci90ZXN0IHB1cnBvc2VzIG9ubHkgKi9cblxuICB9LCB7XG4gICAga2V5OiBcInRvU3RyaW5nXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHRvU3RyaW5nKCkge1xuICAgICAgcmV0dXJuIFwiXCIuY29uY2F0KHRoaXMueCwgXCIsXCIpLmNvbmNhdCh0aGlzLnksIFwiIFwiKS5jb25jYXQodGhpcy53aWR0aCwgXCJ4XCIpLmNvbmNhdCh0aGlzLmhlaWdodCk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIFNlY3Rpb247XG59KCk7XG5cbmV4cG9ydCB7IFNlY3Rpb24gYXMgZGVmYXVsdCB9O1xuaW1wb3J0IHsgYnBmcnB0X3Byb3B0eXBlX0luZGV4IH0gZnJvbSBcIi4vdHlwZXNcIjtcbmltcG9ydCB7IGJwZnJwdF9wcm9wdHlwZV9TaXplQW5kUG9zaXRpb25JbmZvIH0gZnJvbSBcIi4vdHlwZXNcIjsiLCJpbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrXCI7XG5pbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzXCI7XG5cbi8qKlxuICogV2luZG93IFNlY3Rpb25zIGFyZSB1c2VkIHRvIGdyb3VwIG5lYXJieSBjZWxscy5cbiAqIFRoaXMgZW5hYmxlcyB1cyB0byBtb3JlIHF1aWNrbHkgZGV0ZXJtaW5lIHdoaWNoIGNlbGxzIHRvIGRpc3BsYXkgaW4gYSBnaXZlbiByZWdpb24gb2YgdGhlIFdpbmRvdy5cbiAqIFxuICovXG5pbXBvcnQgU2VjdGlvbiBmcm9tICcuL1NlY3Rpb24nO1xudmFyIFNFQ1RJT05fU0laRSA9IDEwMDtcblxuLyoqXG4gKiBDb250YWlucyAwIHRvIG1hbnkgU2VjdGlvbnMuXG4gKiBHcm93cyAoYW5kIGFkZHMgU2VjdGlvbnMpIGR5bmFtaWNhbGx5IGFzIGNlbGxzIGFyZSByZWdpc3RlcmVkLlxuICogQXV0b21hdGljYWxseSBhZGRzIGNlbGxzIHRvIHRoZSBhcHByb3ByaWF0ZSBTZWN0aW9uKHMpLlxuICovXG52YXIgU2VjdGlvbk1hbmFnZXIgPVxuLyojX19QVVJFX18qL1xuZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBTZWN0aW9uTWFuYWdlcigpIHtcbiAgICB2YXIgc2VjdGlvblNpemUgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IFNFQ1RJT05fU0laRTtcblxuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBTZWN0aW9uTWFuYWdlcik7XG5cbiAgICB0aGlzLl9zZWN0aW9uU2l6ZSA9IHNlY3Rpb25TaXplO1xuICAgIHRoaXMuX2NlbGxNZXRhZGF0YSA9IFtdO1xuICAgIHRoaXMuX3NlY3Rpb25zID0ge307XG4gIH1cbiAgLyoqXG4gICAqIEdldHMgYWxsIGNlbGwgaW5kaWNlcyBjb250YWluZWQgaW4gdGhlIHNwZWNpZmllZCByZWdpb24uXG4gICAqIEEgcmVnaW9uIG1heSBlbmNvbXBhc3MgMSBvciBtb3JlIFNlY3Rpb25zLlxuICAgKi9cblxuXG4gIF9jcmVhdGVDbGFzcyhTZWN0aW9uTWFuYWdlciwgW3tcbiAgICBrZXk6IFwiZ2V0Q2VsbEluZGljZXNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0Q2VsbEluZGljZXMoX3JlZikge1xuICAgICAgdmFyIGhlaWdodCA9IF9yZWYuaGVpZ2h0LFxuICAgICAgICAgIHdpZHRoID0gX3JlZi53aWR0aCxcbiAgICAgICAgICB4ID0gX3JlZi54LFxuICAgICAgICAgIHkgPSBfcmVmLnk7XG4gICAgICB2YXIgaW5kaWNlcyA9IHt9O1xuICAgICAgdGhpcy5nZXRTZWN0aW9ucyh7XG4gICAgICAgIGhlaWdodDogaGVpZ2h0LFxuICAgICAgICB3aWR0aDogd2lkdGgsXG4gICAgICAgIHg6IHgsXG4gICAgICAgIHk6IHlcbiAgICAgIH0pLmZvckVhY2goZnVuY3Rpb24gKHNlY3Rpb24pIHtcbiAgICAgICAgcmV0dXJuIHNlY3Rpb24uZ2V0Q2VsbEluZGljZXMoKS5mb3JFYWNoKGZ1bmN0aW9uIChpbmRleCkge1xuICAgICAgICAgIGluZGljZXNbaW5kZXhdID0gaW5kZXg7XG4gICAgICAgIH0pO1xuICAgICAgfSk7IC8vIE9iamVjdCBrZXlzIGFyZSBzdHJpbmdzOyB0aGlzIGZ1bmN0aW9uIHJldHVybnMgbnVtYmVyc1xuXG4gICAgICByZXR1cm4gT2JqZWN0LmtleXMoaW5kaWNlcykubWFwKGZ1bmN0aW9uIChpbmRleCkge1xuICAgICAgICByZXR1cm4gaW5kaWNlc1tpbmRleF07XG4gICAgICB9KTtcbiAgICB9XG4gICAgLyoqIEdldCBzaXplIGFuZCBwb3NpdGlvbiBpbmZvcm1hdGlvbiBmb3IgdGhlIGNlbGwgc3BlY2lmaWVkLiAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiZ2V0Q2VsbE1ldGFkYXRhXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldENlbGxNZXRhZGF0YShfcmVmMikge1xuICAgICAgdmFyIGluZGV4ID0gX3JlZjIuaW5kZXg7XG4gICAgICByZXR1cm4gdGhpcy5fY2VsbE1ldGFkYXRhW2luZGV4XTtcbiAgICB9XG4gICAgLyoqIEdldCBhbGwgU2VjdGlvbnMgb3ZlcmxhcHBpbmcgdGhlIHNwZWNpZmllZCByZWdpb24uICovXG5cbiAgfSwge1xuICAgIGtleTogXCJnZXRTZWN0aW9uc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRTZWN0aW9ucyhfcmVmMykge1xuICAgICAgdmFyIGhlaWdodCA9IF9yZWYzLmhlaWdodCxcbiAgICAgICAgICB3aWR0aCA9IF9yZWYzLndpZHRoLFxuICAgICAgICAgIHggPSBfcmVmMy54LFxuICAgICAgICAgIHkgPSBfcmVmMy55O1xuICAgICAgdmFyIHNlY3Rpb25YU3RhcnQgPSBNYXRoLmZsb29yKHggLyB0aGlzLl9zZWN0aW9uU2l6ZSk7XG4gICAgICB2YXIgc2VjdGlvblhTdG9wID0gTWF0aC5mbG9vcigoeCArIHdpZHRoIC0gMSkgLyB0aGlzLl9zZWN0aW9uU2l6ZSk7XG4gICAgICB2YXIgc2VjdGlvbllTdGFydCA9IE1hdGguZmxvb3IoeSAvIHRoaXMuX3NlY3Rpb25TaXplKTtcbiAgICAgIHZhciBzZWN0aW9uWVN0b3AgPSBNYXRoLmZsb29yKCh5ICsgaGVpZ2h0IC0gMSkgLyB0aGlzLl9zZWN0aW9uU2l6ZSk7XG4gICAgICB2YXIgc2VjdGlvbnMgPSBbXTtcblxuICAgICAgZm9yICh2YXIgc2VjdGlvblggPSBzZWN0aW9uWFN0YXJ0OyBzZWN0aW9uWCA8PSBzZWN0aW9uWFN0b3A7IHNlY3Rpb25YKyspIHtcbiAgICAgICAgZm9yICh2YXIgc2VjdGlvblkgPSBzZWN0aW9uWVN0YXJ0OyBzZWN0aW9uWSA8PSBzZWN0aW9uWVN0b3A7IHNlY3Rpb25ZKyspIHtcbiAgICAgICAgICB2YXIga2V5ID0gXCJcIi5jb25jYXQoc2VjdGlvblgsIFwiLlwiKS5jb25jYXQoc2VjdGlvblkpO1xuXG4gICAgICAgICAgaWYgKCF0aGlzLl9zZWN0aW9uc1trZXldKSB7XG4gICAgICAgICAgICB0aGlzLl9zZWN0aW9uc1trZXldID0gbmV3IFNlY3Rpb24oe1xuICAgICAgICAgICAgICBoZWlnaHQ6IHRoaXMuX3NlY3Rpb25TaXplLFxuICAgICAgICAgICAgICB3aWR0aDogdGhpcy5fc2VjdGlvblNpemUsXG4gICAgICAgICAgICAgIHg6IHNlY3Rpb25YICogdGhpcy5fc2VjdGlvblNpemUsXG4gICAgICAgICAgICAgIHk6IHNlY3Rpb25ZICogdGhpcy5fc2VjdGlvblNpemVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHNlY3Rpb25zLnB1c2godGhpcy5fc2VjdGlvbnNba2V5XSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHNlY3Rpb25zO1xuICAgIH1cbiAgICAvKiogVG90YWwgbnVtYmVyIG9mIFNlY3Rpb25zIGJhc2VkIG9uIHRoZSBjdXJyZW50bHkgcmVnaXN0ZXJlZCBjZWxscy4gKi9cblxuICB9LCB7XG4gICAga2V5OiBcImdldFRvdGFsU2VjdGlvbkNvdW50XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldFRvdGFsU2VjdGlvbkNvdW50KCkge1xuICAgICAgcmV0dXJuIE9iamVjdC5rZXlzKHRoaXMuX3NlY3Rpb25zKS5sZW5ndGg7XG4gICAgfVxuICAgIC8qKiBJbnRlbmRlZCBmb3IgZGVidWdnZXIvdGVzdCBwdXJwb3NlcyBvbmx5ICovXG5cbiAgfSwge1xuICAgIGtleTogXCJ0b1N0cmluZ1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB0b1N0cmluZygpIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgIHJldHVybiBPYmplY3Qua2V5cyh0aGlzLl9zZWN0aW9ucykubWFwKGZ1bmN0aW9uIChpbmRleCkge1xuICAgICAgICByZXR1cm4gX3RoaXMuX3NlY3Rpb25zW2luZGV4XS50b1N0cmluZygpO1xuICAgICAgfSk7XG4gICAgfVxuICAgIC8qKiBBZGRzIGEgY2VsbCB0byB0aGUgYXBwcm9wcmlhdGUgU2VjdGlvbnMgYW5kIHJlZ2lzdGVycyBpdCBtZXRhZGF0YSBmb3IgbGF0ZXIgcmV0cmlldmFibGUuICovXG5cbiAgfSwge1xuICAgIGtleTogXCJyZWdpc3RlckNlbGxcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVnaXN0ZXJDZWxsKF9yZWY0KSB7XG4gICAgICB2YXIgY2VsbE1ldGFkYXR1bSA9IF9yZWY0LmNlbGxNZXRhZGF0dW0sXG4gICAgICAgICAgaW5kZXggPSBfcmVmNC5pbmRleDtcbiAgICAgIHRoaXMuX2NlbGxNZXRhZGF0YVtpbmRleF0gPSBjZWxsTWV0YWRhdHVtO1xuICAgICAgdGhpcy5nZXRTZWN0aW9ucyhjZWxsTWV0YWRhdHVtKS5mb3JFYWNoKGZ1bmN0aW9uIChzZWN0aW9uKSB7XG4gICAgICAgIHJldHVybiBzZWN0aW9uLmFkZENlbGxJbmRleCh7XG4gICAgICAgICAgaW5kZXg6IGluZGV4XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIFNlY3Rpb25NYW5hZ2VyO1xufSgpO1xuXG5leHBvcnQgeyBTZWN0aW9uTWFuYWdlciBhcyBkZWZhdWx0IH07XG5pbXBvcnQgeyBicGZycHRfcHJvcHR5cGVfSW5kZXggfSBmcm9tIFwiLi90eXBlc1wiO1xuaW1wb3J0IHsgYnBmcnB0X3Byb3B0eXBlX1NpemVBbmRQb3NpdGlvbkluZm8gfSBmcm9tIFwiLi90eXBlc1wiOyIsImltcG9ydCBDb2xsZWN0aW9uIGZyb20gJy4vQ29sbGVjdGlvbic7XG5leHBvcnQgZGVmYXVsdCBDb2xsZWN0aW9uO1xuZXhwb3J0IHsgQ29sbGVjdGlvbiB9OyIsInZhciBicGZycHRfcHJvcHR5cGVfSW5kZXggPSBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nID8gbnVsbCA6IHtcbiAgXCJpbmRleFwiOiBQcm9wVHlwZXMubnVtYmVyLmlzUmVxdWlyZWRcbn07XG52YXIgYnBmcnB0X3Byb3B0eXBlX1Bvc2l0aW9uSW5mbyA9IHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAncHJvZHVjdGlvbicgPyBudWxsIDoge1xuICBcInhcIjogUHJvcFR5cGVzLm51bWJlci5pc1JlcXVpcmVkLFxuICBcInlcIjogUHJvcFR5cGVzLm51bWJlci5pc1JlcXVpcmVkXG59O1xudmFyIGJwZnJwdF9wcm9wdHlwZV9TY3JvbGxQb3NpdGlvbiA9IHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAncHJvZHVjdGlvbicgPyBudWxsIDoge1xuICBcInNjcm9sbExlZnRcIjogUHJvcFR5cGVzLm51bWJlci5pc1JlcXVpcmVkLFxuICBcInNjcm9sbFRvcFwiOiBQcm9wVHlwZXMubnVtYmVyLmlzUmVxdWlyZWRcbn07XG52YXIgYnBmcnB0X3Byb3B0eXBlX1NpemVBbmRQb3NpdGlvbkluZm8gPSBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nID8gbnVsbCA6IHtcbiAgXCJoZWlnaHRcIjogUHJvcFR5cGVzLm51bWJlci5pc1JlcXVpcmVkLFxuICBcIndpZHRoXCI6IFByb3BUeXBlcy5udW1iZXIuaXNSZXF1aXJlZCxcbiAgXCJ4XCI6IFByb3BUeXBlcy5udW1iZXIuaXNSZXF1aXJlZCxcbiAgXCJ5XCI6IFByb3BUeXBlcy5udW1iZXIuaXNSZXF1aXJlZFxufTtcbnZhciBicGZycHRfcHJvcHR5cGVfU2l6ZUluZm8gPSBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nID8gbnVsbCA6IHtcbiAgXCJoZWlnaHRcIjogUHJvcFR5cGVzLm51bWJlci5pc1JlcXVpcmVkLFxuICBcIndpZHRoXCI6IFByb3BUeXBlcy5udW1iZXIuaXNSZXF1aXJlZFxufTtcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSBcInByb3AtdHlwZXNcIjtcbmV4cG9ydCB7IGJwZnJwdF9wcm9wdHlwZV9JbmRleCB9O1xuZXhwb3J0IHsgYnBmcnB0X3Byb3B0eXBlX1Bvc2l0aW9uSW5mbyB9O1xuZXhwb3J0IHsgYnBmcnB0X3Byb3B0eXBlX1Njcm9sbFBvc2l0aW9uIH07XG5leHBvcnQgeyBicGZycHRfcHJvcHR5cGVfU2l6ZUFuZFBvc2l0aW9uSW5mbyB9O1xuZXhwb3J0IHsgYnBmcnB0X3Byb3B0eXBlX1NpemVJbmZvIH07IiwiaW1wb3J0IFNlY3Rpb25NYW5hZ2VyIGZyb20gJy4uL1NlY3Rpb25NYW5hZ2VyJztcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNhbGN1bGF0ZVNpemVBbmRQb3NpdGlvbkRhdGEoX3JlZikge1xuICB2YXIgY2VsbENvdW50ID0gX3JlZi5jZWxsQ291bnQsXG4gICAgICBjZWxsU2l6ZUFuZFBvc2l0aW9uR2V0dGVyID0gX3JlZi5jZWxsU2l6ZUFuZFBvc2l0aW9uR2V0dGVyLFxuICAgICAgc2VjdGlvblNpemUgPSBfcmVmLnNlY3Rpb25TaXplO1xuICB2YXIgY2VsbE1ldGFkYXRhID0gW107XG4gIHZhciBzZWN0aW9uTWFuYWdlciA9IG5ldyBTZWN0aW9uTWFuYWdlcihzZWN0aW9uU2l6ZSk7XG4gIHZhciBoZWlnaHQgPSAwO1xuICB2YXIgd2lkdGggPSAwO1xuXG4gIGZvciAodmFyIGluZGV4ID0gMDsgaW5kZXggPCBjZWxsQ291bnQ7IGluZGV4KyspIHtcbiAgICB2YXIgY2VsbE1ldGFkYXR1bSA9IGNlbGxTaXplQW5kUG9zaXRpb25HZXR0ZXIoe1xuICAgICAgaW5kZXg6IGluZGV4XG4gICAgfSk7XG5cbiAgICBpZiAoY2VsbE1ldGFkYXR1bS5oZWlnaHQgPT0gbnVsbCB8fCBpc05hTihjZWxsTWV0YWRhdHVtLmhlaWdodCkgfHwgY2VsbE1ldGFkYXR1bS53aWR0aCA9PSBudWxsIHx8IGlzTmFOKGNlbGxNZXRhZGF0dW0ud2lkdGgpIHx8IGNlbGxNZXRhZGF0dW0ueCA9PSBudWxsIHx8IGlzTmFOKGNlbGxNZXRhZGF0dW0ueCkgfHwgY2VsbE1ldGFkYXR1bS55ID09IG51bGwgfHwgaXNOYU4oY2VsbE1ldGFkYXR1bS55KSkge1xuICAgICAgdGhyb3cgRXJyb3IoXCJJbnZhbGlkIG1ldGFkYXRhIHJldHVybmVkIGZvciBjZWxsIFwiLmNvbmNhdChpbmRleCwgXCI6XFxuICAgICAgICB4OlwiKS5jb25jYXQoY2VsbE1ldGFkYXR1bS54LCBcIiwgeTpcIikuY29uY2F0KGNlbGxNZXRhZGF0dW0ueSwgXCIsIHdpZHRoOlwiKS5jb25jYXQoY2VsbE1ldGFkYXR1bS53aWR0aCwgXCIsIGhlaWdodDpcIikuY29uY2F0KGNlbGxNZXRhZGF0dW0uaGVpZ2h0KSk7XG4gICAgfVxuXG4gICAgaGVpZ2h0ID0gTWF0aC5tYXgoaGVpZ2h0LCBjZWxsTWV0YWRhdHVtLnkgKyBjZWxsTWV0YWRhdHVtLmhlaWdodCk7XG4gICAgd2lkdGggPSBNYXRoLm1heCh3aWR0aCwgY2VsbE1ldGFkYXR1bS54ICsgY2VsbE1ldGFkYXR1bS53aWR0aCk7XG4gICAgY2VsbE1ldGFkYXRhW2luZGV4XSA9IGNlbGxNZXRhZGF0dW07XG4gICAgc2VjdGlvbk1hbmFnZXIucmVnaXN0ZXJDZWxsKHtcbiAgICAgIGNlbGxNZXRhZGF0dW06IGNlbGxNZXRhZGF0dW0sXG4gICAgICBpbmRleDogaW5kZXhcbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgY2VsbE1ldGFkYXRhOiBjZWxsTWV0YWRhdGEsXG4gICAgaGVpZ2h0OiBoZWlnaHQsXG4gICAgc2VjdGlvbk1hbmFnZXI6IHNlY3Rpb25NYW5hZ2VyLFxuICAgIHdpZHRoOiB3aWR0aFxuICB9O1xufSIsImltcG9ydCBfY2xhc3NDYWxsQ2hlY2sgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2tcIjtcbmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3NcIjtcbmltcG9ydCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuXCI7XG5pbXBvcnQgX2dldFByb3RvdHlwZU9mIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2dldFByb3RvdHlwZU9mXCI7XG5pbXBvcnQgX2Fzc2VydFRoaXNJbml0aWFsaXplZCBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9hc3NlcnRUaGlzSW5pdGlhbGl6ZWRcIjtcbmltcG9ydCBfaW5oZXJpdHMgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHNcIjtcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG4vKipcbiAqIEhpZ2gtb3JkZXIgY29tcG9uZW50IHRoYXQgYXV0by1jYWxjdWxhdGVzIGNvbHVtbi13aWR0aHMgZm9yIGBHcmlkYCBjZWxscy5cbiAqL1xuXG52YXIgQ29sdW1uU2l6ZXIgPVxuLyojX19QVVJFX18qL1xuZnVuY3Rpb24gKF9SZWFjdCRQdXJlQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0cyhDb2x1bW5TaXplciwgX1JlYWN0JFB1cmVDb21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIENvbHVtblNpemVyKHByb3BzLCBjb250ZXh0KSB7XG4gICAgdmFyIF90aGlzO1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIENvbHVtblNpemVyKTtcblxuICAgIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX2dldFByb3RvdHlwZU9mKENvbHVtblNpemVyKS5jYWxsKHRoaXMsIHByb3BzLCBjb250ZXh0KSk7XG4gICAgX3RoaXMuX3JlZ2lzdGVyQ2hpbGQgPSBfdGhpcy5fcmVnaXN0ZXJDaGlsZC5iaW5kKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKTtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoQ29sdW1uU2l6ZXIsIFt7XG4gICAga2V5OiBcImNvbXBvbmVudERpZFVwZGF0ZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnREaWRVcGRhdGUocHJldlByb3BzKSB7XG4gICAgICB2YXIgX3RoaXMkcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICAgIGNvbHVtbk1heFdpZHRoID0gX3RoaXMkcHJvcHMuY29sdW1uTWF4V2lkdGgsXG4gICAgICAgICAgY29sdW1uTWluV2lkdGggPSBfdGhpcyRwcm9wcy5jb2x1bW5NaW5XaWR0aCxcbiAgICAgICAgICBjb2x1bW5Db3VudCA9IF90aGlzJHByb3BzLmNvbHVtbkNvdW50LFxuICAgICAgICAgIHdpZHRoID0gX3RoaXMkcHJvcHMud2lkdGg7XG5cbiAgICAgIGlmIChjb2x1bW5NYXhXaWR0aCAhPT0gcHJldlByb3BzLmNvbHVtbk1heFdpZHRoIHx8IGNvbHVtbk1pbldpZHRoICE9PSBwcmV2UHJvcHMuY29sdW1uTWluV2lkdGggfHwgY29sdW1uQ291bnQgIT09IHByZXZQcm9wcy5jb2x1bW5Db3VudCB8fCB3aWR0aCAhPT0gcHJldlByb3BzLndpZHRoKSB7XG4gICAgICAgIGlmICh0aGlzLl9yZWdpc3RlcmVkQ2hpbGQpIHtcbiAgICAgICAgICB0aGlzLl9yZWdpc3RlcmVkQ2hpbGQucmVjb21wdXRlR3JpZFNpemUoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJyZW5kZXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgdmFyIF90aGlzJHByb3BzMiA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgY2hpbGRyZW4gPSBfdGhpcyRwcm9wczIuY2hpbGRyZW4sXG4gICAgICAgICAgY29sdW1uTWF4V2lkdGggPSBfdGhpcyRwcm9wczIuY29sdW1uTWF4V2lkdGgsXG4gICAgICAgICAgY29sdW1uTWluV2lkdGggPSBfdGhpcyRwcm9wczIuY29sdW1uTWluV2lkdGgsXG4gICAgICAgICAgY29sdW1uQ291bnQgPSBfdGhpcyRwcm9wczIuY29sdW1uQ291bnQsXG4gICAgICAgICAgd2lkdGggPSBfdGhpcyRwcm9wczIud2lkdGg7XG4gICAgICB2YXIgc2FmZUNvbHVtbk1pbldpZHRoID0gY29sdW1uTWluV2lkdGggfHwgMTtcbiAgICAgIHZhciBzYWZlQ29sdW1uTWF4V2lkdGggPSBjb2x1bW5NYXhXaWR0aCA/IE1hdGgubWluKGNvbHVtbk1heFdpZHRoLCB3aWR0aCkgOiB3aWR0aDtcbiAgICAgIHZhciBjb2x1bW5XaWR0aCA9IHdpZHRoIC8gY29sdW1uQ291bnQ7XG4gICAgICBjb2x1bW5XaWR0aCA9IE1hdGgubWF4KHNhZmVDb2x1bW5NaW5XaWR0aCwgY29sdW1uV2lkdGgpO1xuICAgICAgY29sdW1uV2lkdGggPSBNYXRoLm1pbihzYWZlQ29sdW1uTWF4V2lkdGgsIGNvbHVtbldpZHRoKTtcbiAgICAgIGNvbHVtbldpZHRoID0gTWF0aC5mbG9vcihjb2x1bW5XaWR0aCk7XG4gICAgICB2YXIgYWRqdXN0ZWRXaWR0aCA9IE1hdGgubWluKHdpZHRoLCBjb2x1bW5XaWR0aCAqIGNvbHVtbkNvdW50KTtcbiAgICAgIHJldHVybiBjaGlsZHJlbih7XG4gICAgICAgIGFkanVzdGVkV2lkdGg6IGFkanVzdGVkV2lkdGgsXG4gICAgICAgIGNvbHVtbldpZHRoOiBjb2x1bW5XaWR0aCxcbiAgICAgICAgZ2V0Q29sdW1uV2lkdGg6IGZ1bmN0aW9uIGdldENvbHVtbldpZHRoKCkge1xuICAgICAgICAgIHJldHVybiBjb2x1bW5XaWR0aDtcbiAgICAgICAgfSxcbiAgICAgICAgcmVnaXN0ZXJDaGlsZDogdGhpcy5fcmVnaXN0ZXJDaGlsZFxuICAgICAgfSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIl9yZWdpc3RlckNoaWxkXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9yZWdpc3RlckNoaWxkKGNoaWxkKSB7XG4gICAgICBpZiAoY2hpbGQgJiYgdHlwZW9mIGNoaWxkLnJlY29tcHV0ZUdyaWRTaXplICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRocm93IEVycm9yKCdVbmV4cGVjdGVkIGNoaWxkIHR5cGUgcmVnaXN0ZXJlZDsgb25seSBHcmlkL011bHRpR3JpZCBjaGlsZHJlbiBhcmUgc3VwcG9ydGVkLicpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLl9yZWdpc3RlcmVkQ2hpbGQgPSBjaGlsZDtcblxuICAgICAgaWYgKHRoaXMuX3JlZ2lzdGVyZWRDaGlsZCkge1xuICAgICAgICB0aGlzLl9yZWdpc3RlcmVkQ2hpbGQucmVjb21wdXRlR3JpZFNpemUoKTtcbiAgICAgIH1cbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gQ29sdW1uU2l6ZXI7XG59KFJlYWN0LlB1cmVDb21wb25lbnQpO1xuXG5leHBvcnQgeyBDb2x1bW5TaXplciBhcyBkZWZhdWx0IH07XG5Db2x1bW5TaXplci5wcm9wVHlwZXMgPSBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyB7XG4gIC8qKlxuICAgKiBGdW5jdGlvbiByZXNwb25zaWJsZSBmb3IgcmVuZGVyaW5nIGEgdmlydHVhbGl6ZWQgR3JpZC5cbiAgICogVGhpcyBmdW5jdGlvbiBzaG91bGQgaW1wbGVtZW50IHRoZSBmb2xsb3dpbmcgc2lnbmF0dXJlOlxuICAgKiAoeyBhZGp1c3RlZFdpZHRoLCBnZXRDb2x1bW5XaWR0aCwgcmVnaXN0ZXJDaGlsZCB9KSA9PiBQcm9wVHlwZXMuZWxlbWVudFxuICAgKlxuICAgKiBUaGUgc3BlY2lmaWVkIDpnZXRDb2x1bW5XaWR0aCBmdW5jdGlvbiBzaG91bGQgYmUgcGFzc2VkIHRvIHRoZSBHcmlkJ3MgOmNvbHVtbldpZHRoIHByb3BlcnR5LlxuICAgKiBUaGUgOnJlZ2lzdGVyQ2hpbGQgc2hvdWxkIGJlIHBhc3NlZCB0byB0aGUgR3JpZCdzIDpyZWYgcHJvcGVydHkuXG4gICAqIFRoZSA6YWRqdXN0ZWRXaWR0aCBwcm9wZXJ0eSBpcyBvcHRpb25hbDsgaXQgcmVmbGVjdHMgdGhlIGxlc3NlciBvZiB0aGUgb3ZlcmFsbCB3aWR0aCBvciB0aGUgd2lkdGggb2YgYWxsIGNvbHVtbnMuXG4gICAqL1xuICBjaGlsZHJlbjogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcblxuICAvKiogT3B0aW9uYWwgbWF4aW11bSBhbGxvd2VkIGNvbHVtbiB3aWR0aCAqL1xuICBjb2x1bW5NYXhXaWR0aDogUHJvcFR5cGVzLm51bWJlcixcblxuICAvKiogT3B0aW9uYWwgbWluaW11bSBhbGxvd2VkIGNvbHVtbiB3aWR0aCAqL1xuICBjb2x1bW5NaW5XaWR0aDogUHJvcFR5cGVzLm51bWJlcixcblxuICAvKiogTnVtYmVyIG9mIGNvbHVtbnMgaW4gR3JpZCBvciBUYWJsZSBjaGlsZCAqL1xuICBjb2x1bW5Db3VudDogUHJvcFR5cGVzLm51bWJlci5pc1JlcXVpcmVkLFxuXG4gIC8qKiBXaWR0aCBvZiBHcmlkIG9yIFRhYmxlIGNoaWxkICovXG4gIHdpZHRoOiBQcm9wVHlwZXMubnVtYmVyLmlzUmVxdWlyZWRcbn0gOiB7fTsiLCJpbXBvcnQgQ29sdW1uU2l6ZXIgZnJvbSAnLi9Db2x1bW5TaXplcic7XG5leHBvcnQgZGVmYXVsdCBDb2x1bW5TaXplcjtcbmV4cG9ydCB7IENvbHVtblNpemVyIH07IiwiaW1wb3J0IF9leHRlbmRzIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2V4dGVuZHNcIjtcbmltcG9ydCBfY2xhc3NDYWxsQ2hlY2sgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2tcIjtcbmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3NcIjtcbmltcG9ydCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuXCI7XG5pbXBvcnQgX2dldFByb3RvdHlwZU9mIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2dldFByb3RvdHlwZU9mXCI7XG5pbXBvcnQgX2Fzc2VydFRoaXNJbml0aWFsaXplZCBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9hc3NlcnRUaGlzSW5pdGlhbGl6ZWRcIjtcbmltcG9ydCBfaW5oZXJpdHMgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHNcIjtcbmltcG9ydCBfZGVmaW5lUHJvcGVydHkgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZGVmaW5lUHJvcGVydHlcIjtcblxudmFyIF9jbGFzcywgX3RlbXA7XG5cbmZ1bmN0aW9uIG93bktleXMob2JqZWN0LCBlbnVtZXJhYmxlT25seSkgeyB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iamVjdCk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBzeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhvYmplY3QpOyBpZiAoZW51bWVyYWJsZU9ubHkpIHN5bWJvbHMgPSBzeW1ib2xzLmZpbHRlcihmdW5jdGlvbiAoc3ltKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgc3ltKS5lbnVtZXJhYmxlOyB9KTsga2V5cy5wdXNoLmFwcGx5KGtleXMsIHN5bWJvbHMpOyB9IHJldHVybiBrZXlzOyB9XG5cbmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV0gIT0gbnVsbCA/IGFyZ3VtZW50c1tpXSA6IHt9OyBpZiAoaSAlIDIpIHsgb3duS2V5cyhzb3VyY2UsIHRydWUpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTsgfSk7IH0gZWxzZSBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMpIHsgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpKTsgfSBlbHNlIHsgb3duS2V5cyhzb3VyY2UpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBrZXkpKTsgfSk7IH0gfSByZXR1cm4gdGFyZ2V0OyB9XG5cbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBjbHN4IGZyb20gJ2Nsc3gnO1xuaW1wb3J0IGNhbGN1bGF0ZVNpemVBbmRQb3NpdGlvbkRhdGFBbmRVcGRhdGVTY3JvbGxPZmZzZXQgZnJvbSAnLi91dGlscy9jYWxjdWxhdGVTaXplQW5kUG9zaXRpb25EYXRhQW5kVXBkYXRlU2Nyb2xsT2Zmc2V0JztcbmltcG9ydCBTY2FsaW5nQ2VsbFNpemVBbmRQb3NpdGlvbk1hbmFnZXIgZnJvbSAnLi91dGlscy9TY2FsaW5nQ2VsbFNpemVBbmRQb3NpdGlvbk1hbmFnZXInO1xuaW1wb3J0IGNyZWF0ZUNhbGxiYWNrTWVtb2l6ZXIgZnJvbSAnLi4vdXRpbHMvY3JlYXRlQ2FsbGJhY2tNZW1vaXplcic7XG5pbXBvcnQgZGVmYXVsdE92ZXJzY2FuSW5kaWNlc0dldHRlciwgeyBTQ1JPTExfRElSRUNUSU9OX0JBQ0tXQVJELCBTQ1JPTExfRElSRUNUSU9OX0ZPUldBUkQgfSBmcm9tICcuL2RlZmF1bHRPdmVyc2NhbkluZGljZXNHZXR0ZXInO1xuaW1wb3J0IHVwZGF0ZVNjcm9sbEluZGV4SGVscGVyIGZyb20gJy4vdXRpbHMvdXBkYXRlU2Nyb2xsSW5kZXhIZWxwZXInO1xuaW1wb3J0IGRlZmF1bHRDZWxsUmFuZ2VSZW5kZXJlciBmcm9tICcuL2RlZmF1bHRDZWxsUmFuZ2VSZW5kZXJlcic7XG5pbXBvcnQgc2Nyb2xsYmFyU2l6ZSBmcm9tICdkb20taGVscGVycy9zY3JvbGxiYXJTaXplJztcbmltcG9ydCB7IHBvbHlmaWxsIH0gZnJvbSAncmVhY3QtbGlmZWN5Y2xlcy1jb21wYXQnO1xuaW1wb3J0IHsgcmVxdWVzdEFuaW1hdGlvblRpbWVvdXQsIGNhbmNlbEFuaW1hdGlvblRpbWVvdXQgfSBmcm9tICcuLi91dGlscy9yZXF1ZXN0QW5pbWF0aW9uVGltZW91dCc7XG4vKipcbiAqIFNwZWNpZmllcyB0aGUgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyBkdXJpbmcgd2hpY2ggdG8gZGlzYWJsZSBwb2ludGVyIGV2ZW50cyB3aGlsZSBhIHNjcm9sbCBpcyBpbiBwcm9ncmVzcy5cbiAqIFRoaXMgaW1wcm92ZXMgcGVyZm9ybWFuY2UgYW5kIG1ha2VzIHNjcm9sbGluZyBzbW9vdGhlci5cbiAqL1xuXG5leHBvcnQgdmFyIERFRkFVTFRfU0NST0xMSU5HX1JFU0VUX1RJTUVfSU5URVJWQUwgPSAxNTA7XG4vKipcbiAqIENvbnRyb2xzIHdoZXRoZXIgdGhlIEdyaWQgdXBkYXRlcyB0aGUgRE9NIGVsZW1lbnQncyBzY3JvbGxMZWZ0L3Njcm9sbFRvcCBiYXNlZCBvbiB0aGUgY3VycmVudCBzdGF0ZSBvciBqdXN0IG9ic2VydmVzIGl0LlxuICogVGhpcyBwcmV2ZW50cyBHcmlkIGZyb20gaW50ZXJydXB0aW5nIG1vdXNlLXdoZWVsIGFuaW1hdGlvbnMgKHNlZSBpc3N1ZSAjMikuXG4gKi9cblxudmFyIFNDUk9MTF9QT1NJVElPTl9DSEFOR0VfUkVBU09OUyA9IHtcbiAgT0JTRVJWRUQ6ICdvYnNlcnZlZCcsXG4gIFJFUVVFU1RFRDogJ3JlcXVlc3RlZCdcbn07XG5cbnZhciByZW5kZXJOdWxsID0gZnVuY3Rpb24gcmVuZGVyTnVsbCgpIHtcbiAgcmV0dXJuIG51bGw7XG59O1xuXG4vKipcbiAqIFJlbmRlcnMgdGFidWxhciBkYXRhIHdpdGggdmlydHVhbGl6YXRpb24gYWxvbmcgdGhlIHZlcnRpY2FsIGFuZCBob3Jpem9udGFsIGF4ZXMuXG4gKiBSb3cgaGVpZ2h0cyBhbmQgY29sdW1uIHdpZHRocyBtdXN0IGJlIGtub3duIGFoZWFkIG9mIHRpbWUgYW5kIHNwZWNpZmllZCBhcyBwcm9wZXJ0aWVzLlxuICovXG52YXIgR3JpZCA9IChfdGVtcCA9IF9jbGFzcyA9XG4vKiNfX1BVUkVfXyovXG5mdW5jdGlvbiAoX1JlYWN0JFB1cmVDb21wb25lbnQpIHtcbiAgX2luaGVyaXRzKEdyaWQsIF9SZWFjdCRQdXJlQ29tcG9uZW50KTtcblxuICAvLyBJbnZva2VzIG9uU2VjdGlvblJlbmRlcmVkIGNhbGxiYWNrIG9ubHkgd2hlbiBzdGFydC9zdG9wIHJvdyBvciBjb2x1bW4gaW5kaWNlcyBjaGFuZ2VcbiAgZnVuY3Rpb24gR3JpZChwcm9wcykge1xuICAgIHZhciBfdGhpcztcblxuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBHcmlkKTtcblxuICAgIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX2dldFByb3RvdHlwZU9mKEdyaWQpLmNhbGwodGhpcywgcHJvcHMpKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJfb25HcmlkUmVuZGVyZWRNZW1vaXplclwiLCBjcmVhdGVDYWxsYmFja01lbW9pemVyKCkpO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcIl9vblNjcm9sbE1lbW9pemVyXCIsIGNyZWF0ZUNhbGxiYWNrTWVtb2l6ZXIoZmFsc2UpKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJfZGVmZXJyZWRJbnZhbGlkYXRlQ29sdW1uSW5kZXhcIiwgbnVsbCk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwiX2RlZmVycmVkSW52YWxpZGF0ZVJvd0luZGV4XCIsIG51bGwpO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcIl9yZWNvbXB1dGVTY3JvbGxMZWZ0RmxhZ1wiLCBmYWxzZSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwiX3JlY29tcHV0ZVNjcm9sbFRvcEZsYWdcIiwgZmFsc2UpO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcIl9ob3Jpem9udGFsU2Nyb2xsQmFyU2l6ZVwiLCAwKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJfdmVydGljYWxTY3JvbGxCYXJTaXplXCIsIDApO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcIl9zY3JvbGxiYXJQcmVzZW5jZUNoYW5nZWRcIiwgZmFsc2UpO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcIl9zY3JvbGxpbmdDb250YWluZXJcIiwgdm9pZCAwKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJfY2hpbGRyZW5Ub0Rpc3BsYXlcIiwgdm9pZCAwKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJfY29sdW1uU3RhcnRJbmRleFwiLCB2b2lkIDApO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcIl9jb2x1bW5TdG9wSW5kZXhcIiwgdm9pZCAwKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJfcm93U3RhcnRJbmRleFwiLCB2b2lkIDApO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcIl9yb3dTdG9wSW5kZXhcIiwgdm9pZCAwKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJfcmVuZGVyZWRDb2x1bW5TdGFydEluZGV4XCIsIDApO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcIl9yZW5kZXJlZENvbHVtblN0b3BJbmRleFwiLCAwKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJfcmVuZGVyZWRSb3dTdGFydEluZGV4XCIsIDApO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcIl9yZW5kZXJlZFJvd1N0b3BJbmRleFwiLCAwKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJfaW5pdGlhbFNjcm9sbFRvcFwiLCB2b2lkIDApO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcIl9pbml0aWFsU2Nyb2xsTGVmdFwiLCB2b2lkIDApO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcIl9kaXNhYmxlUG9pbnRlckV2ZW50c1RpbWVvdXRJZFwiLCB2b2lkIDApO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcIl9zdHlsZUNhY2hlXCIsIHt9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJfY2VsbENhY2hlXCIsIHt9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJfZGVib3VuY2VTY3JvbGxFbmRlZENhbGxiYWNrXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIF90aGlzLl9kaXNhYmxlUG9pbnRlckV2ZW50c1RpbWVvdXRJZCA9IG51bGw7IC8vIGlzU2Nyb2xsaW5nIGlzIHVzZWQgdG8gZGV0ZXJtaW5lIGlmIHdlIHJlc2V0IHN0eWxlQ2FjaGVcblxuICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICBpc1Njcm9sbGluZzogZmFsc2UsXG4gICAgICAgIG5lZWRUb1Jlc2V0U3R5bGVDYWNoZTogZmFsc2VcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcIl9pbnZva2VPbkdyaWRSZW5kZXJlZEhlbHBlclwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgb25TZWN0aW9uUmVuZGVyZWQgPSBfdGhpcy5wcm9wcy5vblNlY3Rpb25SZW5kZXJlZDtcblxuICAgICAgX3RoaXMuX29uR3JpZFJlbmRlcmVkTWVtb2l6ZXIoe1xuICAgICAgICBjYWxsYmFjazogb25TZWN0aW9uUmVuZGVyZWQsXG4gICAgICAgIGluZGljZXM6IHtcbiAgICAgICAgICBjb2x1bW5PdmVyc2NhblN0YXJ0SW5kZXg6IF90aGlzLl9jb2x1bW5TdGFydEluZGV4LFxuICAgICAgICAgIGNvbHVtbk92ZXJzY2FuU3RvcEluZGV4OiBfdGhpcy5fY29sdW1uU3RvcEluZGV4LFxuICAgICAgICAgIGNvbHVtblN0YXJ0SW5kZXg6IF90aGlzLl9yZW5kZXJlZENvbHVtblN0YXJ0SW5kZXgsXG4gICAgICAgICAgY29sdW1uU3RvcEluZGV4OiBfdGhpcy5fcmVuZGVyZWRDb2x1bW5TdG9wSW5kZXgsXG4gICAgICAgICAgcm93T3ZlcnNjYW5TdGFydEluZGV4OiBfdGhpcy5fcm93U3RhcnRJbmRleCxcbiAgICAgICAgICByb3dPdmVyc2NhblN0b3BJbmRleDogX3RoaXMuX3Jvd1N0b3BJbmRleCxcbiAgICAgICAgICByb3dTdGFydEluZGV4OiBfdGhpcy5fcmVuZGVyZWRSb3dTdGFydEluZGV4LFxuICAgICAgICAgIHJvd1N0b3BJbmRleDogX3RoaXMuX3JlbmRlcmVkUm93U3RvcEluZGV4XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcIl9zZXRTY3JvbGxpbmdDb250YWluZXJSZWZcIiwgZnVuY3Rpb24gKHJlZikge1xuICAgICAgX3RoaXMuX3Njcm9sbGluZ0NvbnRhaW5lciA9IHJlZjtcbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJfb25TY3JvbGxcIiwgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAvLyBJbiBjZXJ0YWluIGVkZ2UtY2FzZXMgUmVhY3QgZGlzcGF0Y2hlcyBhbiBvblNjcm9sbCBldmVudCB3aXRoIGFuIGludmFsaWQgdGFyZ2V0LnNjcm9sbExlZnQgLyB0YXJnZXQuc2Nyb2xsVG9wLlxuICAgICAgLy8gVGhpcyBpbnZhbGlkIGV2ZW50IGNhbiBiZSBkZXRlY3RlZCBieSBjb21wYXJpbmcgZXZlbnQudGFyZ2V0IHRvIHRoaXMgY29tcG9uZW50J3Mgc2Nyb2xsYWJsZSBET00gZWxlbWVudC5cbiAgICAgIC8vIFNlZSBpc3N1ZSAjNDA0IGZvciBtb3JlIGluZm9ybWF0aW9uLlxuICAgICAgaWYgKGV2ZW50LnRhcmdldCA9PT0gX3RoaXMuX3Njcm9sbGluZ0NvbnRhaW5lcikge1xuICAgICAgICBfdGhpcy5oYW5kbGVTY3JvbGxFdmVudChldmVudC50YXJnZXQpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgdmFyIGNvbHVtblNpemVBbmRQb3NpdGlvbk1hbmFnZXIgPSBuZXcgU2NhbGluZ0NlbGxTaXplQW5kUG9zaXRpb25NYW5hZ2VyKHtcbiAgICAgIGNlbGxDb3VudDogcHJvcHMuY29sdW1uQ291bnQsXG4gICAgICBjZWxsU2l6ZUdldHRlcjogZnVuY3Rpb24gY2VsbFNpemVHZXR0ZXIocGFyYW1zKSB7XG4gICAgICAgIHJldHVybiBHcmlkLl93cmFwU2l6ZUdldHRlcihwcm9wcy5jb2x1bW5XaWR0aCkocGFyYW1zKTtcbiAgICAgIH0sXG4gICAgICBlc3RpbWF0ZWRDZWxsU2l6ZTogR3JpZC5fZ2V0RXN0aW1hdGVkQ29sdW1uU2l6ZShwcm9wcylcbiAgICB9KTtcbiAgICB2YXIgcm93U2l6ZUFuZFBvc2l0aW9uTWFuYWdlciA9IG5ldyBTY2FsaW5nQ2VsbFNpemVBbmRQb3NpdGlvbk1hbmFnZXIoe1xuICAgICAgY2VsbENvdW50OiBwcm9wcy5yb3dDb3VudCxcbiAgICAgIGNlbGxTaXplR2V0dGVyOiBmdW5jdGlvbiBjZWxsU2l6ZUdldHRlcihwYXJhbXMpIHtcbiAgICAgICAgcmV0dXJuIEdyaWQuX3dyYXBTaXplR2V0dGVyKHByb3BzLnJvd0hlaWdodCkocGFyYW1zKTtcbiAgICAgIH0sXG4gICAgICBlc3RpbWF0ZWRDZWxsU2l6ZTogR3JpZC5fZ2V0RXN0aW1hdGVkUm93U2l6ZShwcm9wcylcbiAgICB9KTtcbiAgICBfdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGluc3RhbmNlUHJvcHM6IHtcbiAgICAgICAgY29sdW1uU2l6ZUFuZFBvc2l0aW9uTWFuYWdlcjogY29sdW1uU2l6ZUFuZFBvc2l0aW9uTWFuYWdlcixcbiAgICAgICAgcm93U2l6ZUFuZFBvc2l0aW9uTWFuYWdlcjogcm93U2l6ZUFuZFBvc2l0aW9uTWFuYWdlcixcbiAgICAgICAgcHJldkNvbHVtbldpZHRoOiBwcm9wcy5jb2x1bW5XaWR0aCxcbiAgICAgICAgcHJldlJvd0hlaWdodDogcHJvcHMucm93SGVpZ2h0LFxuICAgICAgICBwcmV2Q29sdW1uQ291bnQ6IHByb3BzLmNvbHVtbkNvdW50LFxuICAgICAgICBwcmV2Um93Q291bnQ6IHByb3BzLnJvd0NvdW50LFxuICAgICAgICBwcmV2SXNTY3JvbGxpbmc6IHByb3BzLmlzU2Nyb2xsaW5nID09PSB0cnVlLFxuICAgICAgICBwcmV2U2Nyb2xsVG9Db2x1bW46IHByb3BzLnNjcm9sbFRvQ29sdW1uLFxuICAgICAgICBwcmV2U2Nyb2xsVG9Sb3c6IHByb3BzLnNjcm9sbFRvUm93LFxuICAgICAgICBzY3JvbGxiYXJTaXplOiAwLFxuICAgICAgICBzY3JvbGxiYXJTaXplTWVhc3VyZWQ6IGZhbHNlXG4gICAgICB9LFxuICAgICAgaXNTY3JvbGxpbmc6IGZhbHNlLFxuICAgICAgc2Nyb2xsRGlyZWN0aW9uSG9yaXpvbnRhbDogU0NST0xMX0RJUkVDVElPTl9GT1JXQVJELFxuICAgICAgc2Nyb2xsRGlyZWN0aW9uVmVydGljYWw6IFNDUk9MTF9ESVJFQ1RJT05fRk9SV0FSRCxcbiAgICAgIHNjcm9sbExlZnQ6IDAsXG4gICAgICBzY3JvbGxUb3A6IDAsXG4gICAgICBzY3JvbGxQb3NpdGlvbkNoYW5nZVJlYXNvbjogbnVsbCxcbiAgICAgIG5lZWRUb1Jlc2V0U3R5bGVDYWNoZTogZmFsc2VcbiAgICB9O1xuXG4gICAgaWYgKHByb3BzLnNjcm9sbFRvUm93ID4gMCkge1xuICAgICAgX3RoaXMuX2luaXRpYWxTY3JvbGxUb3AgPSBfdGhpcy5fZ2V0Q2FsY3VsYXRlZFNjcm9sbFRvcChwcm9wcywgX3RoaXMuc3RhdGUpO1xuICAgIH1cblxuICAgIGlmIChwcm9wcy5zY3JvbGxUb0NvbHVtbiA+IDApIHtcbiAgICAgIF90aGlzLl9pbml0aWFsU2Nyb2xsTGVmdCA9IF90aGlzLl9nZXRDYWxjdWxhdGVkU2Nyb2xsTGVmdChwcm9wcywgX3RoaXMuc3RhdGUpO1xuICAgIH1cblxuICAgIHJldHVybiBfdGhpcztcbiAgfVxuICAvKipcbiAgICogR2V0cyBvZmZzZXRzIGZvciBhIGdpdmVuIGNlbGwgYW5kIGFsaWdubWVudC5cbiAgICovXG5cblxuICBfY3JlYXRlQ2xhc3MoR3JpZCwgW3tcbiAgICBrZXk6IFwiZ2V0T2Zmc2V0Rm9yQ2VsbFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRPZmZzZXRGb3JDZWxsKCkge1xuICAgICAgdmFyIF9yZWYgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9LFxuICAgICAgICAgIF9yZWYkYWxpZ25tZW50ID0gX3JlZi5hbGlnbm1lbnQsXG4gICAgICAgICAgYWxpZ25tZW50ID0gX3JlZiRhbGlnbm1lbnQgPT09IHZvaWQgMCA/IHRoaXMucHJvcHMuc2Nyb2xsVG9BbGlnbm1lbnQgOiBfcmVmJGFsaWdubWVudCxcbiAgICAgICAgICBfcmVmJGNvbHVtbkluZGV4ID0gX3JlZi5jb2x1bW5JbmRleCxcbiAgICAgICAgICBjb2x1bW5JbmRleCA9IF9yZWYkY29sdW1uSW5kZXggPT09IHZvaWQgMCA/IHRoaXMucHJvcHMuc2Nyb2xsVG9Db2x1bW4gOiBfcmVmJGNvbHVtbkluZGV4LFxuICAgICAgICAgIF9yZWYkcm93SW5kZXggPSBfcmVmLnJvd0luZGV4LFxuICAgICAgICAgIHJvd0luZGV4ID0gX3JlZiRyb3dJbmRleCA9PT0gdm9pZCAwID8gdGhpcy5wcm9wcy5zY3JvbGxUb1JvdyA6IF9yZWYkcm93SW5kZXg7XG5cbiAgICAgIHZhciBvZmZzZXRQcm9wcyA9IF9vYmplY3RTcHJlYWQoe30sIHRoaXMucHJvcHMsIHtcbiAgICAgICAgc2Nyb2xsVG9BbGlnbm1lbnQ6IGFsaWdubWVudCxcbiAgICAgICAgc2Nyb2xsVG9Db2x1bW46IGNvbHVtbkluZGV4LFxuICAgICAgICBzY3JvbGxUb1Jvdzogcm93SW5kZXhcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4ge1xuICAgICAgICBzY3JvbGxMZWZ0OiB0aGlzLl9nZXRDYWxjdWxhdGVkU2Nyb2xsTGVmdChvZmZzZXRQcm9wcyksXG4gICAgICAgIHNjcm9sbFRvcDogdGhpcy5fZ2V0Q2FsY3VsYXRlZFNjcm9sbFRvcChvZmZzZXRQcm9wcylcbiAgICAgIH07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldHMgZXN0aW1hdGVkIHRvdGFsIHJvd3MnIGhlaWdodC5cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImdldFRvdGFsUm93c0hlaWdodFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRUb3RhbFJvd3NIZWlnaHQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5zdGF0ZS5pbnN0YW5jZVByb3BzLnJvd1NpemVBbmRQb3NpdGlvbk1hbmFnZXIuZ2V0VG90YWxTaXplKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldHMgZXN0aW1hdGVkIHRvdGFsIGNvbHVtbnMnIHdpZHRoLlxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiZ2V0VG90YWxDb2x1bW5zV2lkdGhcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0VG90YWxDb2x1bW5zV2lkdGgoKSB7XG4gICAgICByZXR1cm4gdGhpcy5zdGF0ZS5pbnN0YW5jZVByb3BzLmNvbHVtblNpemVBbmRQb3NpdGlvbk1hbmFnZXIuZ2V0VG90YWxTaXplKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGhhbmRsZXMgYSBzY3JvbGwgZXZlbnQgb3JpZ2luYXRpbmcgZnJvbSBhbiBleHRlcm5hbCBzY3JvbGwgY29udHJvbC5cbiAgICAgKiBJdCdzIGFuIGFkdmFuY2VkIG1ldGhvZCBhbmQgc2hvdWxkIHByb2JhYmx5IG5vdCBiZSB1c2VkIHVubGVzcyB5b3UncmUgaW1wbGVtZW50aW5nIGEgY3VzdG9tIHNjcm9sbC1iYXIgc29sdXRpb24uXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJoYW5kbGVTY3JvbGxFdmVudFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBoYW5kbGVTY3JvbGxFdmVudChfcmVmMikge1xuICAgICAgdmFyIF9yZWYyJHNjcm9sbExlZnQgPSBfcmVmMi5zY3JvbGxMZWZ0LFxuICAgICAgICAgIHNjcm9sbExlZnRQYXJhbSA9IF9yZWYyJHNjcm9sbExlZnQgPT09IHZvaWQgMCA/IDAgOiBfcmVmMiRzY3JvbGxMZWZ0LFxuICAgICAgICAgIF9yZWYyJHNjcm9sbFRvcCA9IF9yZWYyLnNjcm9sbFRvcCxcbiAgICAgICAgICBzY3JvbGxUb3BQYXJhbSA9IF9yZWYyJHNjcm9sbFRvcCA9PT0gdm9pZCAwID8gMCA6IF9yZWYyJHNjcm9sbFRvcDtcblxuICAgICAgLy8gT24gaU9TLCB3ZSBjYW4gYXJyaXZlIGF0IG5lZ2F0aXZlIG9mZnNldHMgYnkgc3dpcGluZyBwYXN0IHRoZSBzdGFydC5cbiAgICAgIC8vIFRvIHByZXZlbnQgZmxpY2tlciBoZXJlLCB3ZSBtYWtlIHBsYXlpbmcgaW4gdGhlIG5lZ2F0aXZlIG9mZnNldCB6b25lIGNhdXNlIG5vdGhpbmcgdG8gaGFwcGVuLlxuICAgICAgaWYgKHNjcm9sbFRvcFBhcmFtIDwgMCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9IC8vIFByZXZlbnQgcG9pbnRlciBldmVudHMgZnJvbSBpbnRlcnJ1cHRpbmcgYSBzbW9vdGggc2Nyb2xsXG5cblxuICAgICAgdGhpcy5fZGVib3VuY2VTY3JvbGxFbmRlZCgpO1xuXG4gICAgICB2YXIgX3RoaXMkcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICAgIGF1dG9IZWlnaHQgPSBfdGhpcyRwcm9wcy5hdXRvSGVpZ2h0LFxuICAgICAgICAgIGF1dG9XaWR0aCA9IF90aGlzJHByb3BzLmF1dG9XaWR0aCxcbiAgICAgICAgICBoZWlnaHQgPSBfdGhpcyRwcm9wcy5oZWlnaHQsXG4gICAgICAgICAgd2lkdGggPSBfdGhpcyRwcm9wcy53aWR0aDtcbiAgICAgIHZhciBpbnN0YW5jZVByb3BzID0gdGhpcy5zdGF0ZS5pbnN0YW5jZVByb3BzOyAvLyBXaGVuIHRoaXMgY29tcG9uZW50IGlzIHNocnVuayBkcmFzdGljYWxseSwgUmVhY3QgZGlzcGF0Y2hlcyBhIHNlcmllcyBvZiBiYWNrLXRvLWJhY2sgc2Nyb2xsIGV2ZW50cyxcbiAgICAgIC8vIEdyYWR1YWxseSBjb252ZXJnaW5nIG9uIGEgc2Nyb2xsVG9wIHRoYXQgaXMgd2l0aGluIHRoZSBib3VuZHMgb2YgdGhlIG5ldywgc21hbGxlciBoZWlnaHQuXG4gICAgICAvLyBUaGlzIGNhdXNlcyBhIHNlcmllcyBvZiByYXBpZCByZW5kZXJzIHRoYXQgaXMgc2xvdyBmb3IgbG9uZyBsaXN0cy5cbiAgICAgIC8vIFdlIGNhbiBhdm9pZCB0aGF0IGJ5IGRvaW5nIHNvbWUgc2ltcGxlIGJvdW5kcyBjaGVja2luZyB0byBlbnN1cmUgdGhhdCBzY3JvbGwgb2Zmc2V0cyBuZXZlciBleGNlZWQgdGhlaXIgYm91bmRzLlxuXG4gICAgICB2YXIgc2Nyb2xsYmFyU2l6ZSA9IGluc3RhbmNlUHJvcHMuc2Nyb2xsYmFyU2l6ZTtcbiAgICAgIHZhciB0b3RhbFJvd3NIZWlnaHQgPSBpbnN0YW5jZVByb3BzLnJvd1NpemVBbmRQb3NpdGlvbk1hbmFnZXIuZ2V0VG90YWxTaXplKCk7XG4gICAgICB2YXIgdG90YWxDb2x1bW5zV2lkdGggPSBpbnN0YW5jZVByb3BzLmNvbHVtblNpemVBbmRQb3NpdGlvbk1hbmFnZXIuZ2V0VG90YWxTaXplKCk7XG4gICAgICB2YXIgc2Nyb2xsTGVmdCA9IE1hdGgubWluKE1hdGgubWF4KDAsIHRvdGFsQ29sdW1uc1dpZHRoIC0gd2lkdGggKyBzY3JvbGxiYXJTaXplKSwgc2Nyb2xsTGVmdFBhcmFtKTtcbiAgICAgIHZhciBzY3JvbGxUb3AgPSBNYXRoLm1pbihNYXRoLm1heCgwLCB0b3RhbFJvd3NIZWlnaHQgLSBoZWlnaHQgKyBzY3JvbGxiYXJTaXplKSwgc2Nyb2xsVG9wUGFyYW0pOyAvLyBDZXJ0YWluIGRldmljZXMgKGxpa2UgQXBwbGUgdG91Y2hwYWQpIHJhcGlkLWZpcmUgZHVwbGljYXRlIGV2ZW50cy5cbiAgICAgIC8vIERvbid0IGZvcmNlIGEgcmUtcmVuZGVyIGlmIHRoaXMgaXMgdGhlIGNhc2UuXG4gICAgICAvLyBUaGUgbW91c2UgbWF5IG1vdmUgZmFzdGVyIHRoZW4gdGhlIGFuaW1hdGlvbiBmcmFtZSBkb2VzLlxuICAgICAgLy8gVXNlIHJlcXVlc3RBbmltYXRpb25GcmFtZSB0byBhdm9pZCBvdmVyLXVwZGF0aW5nLlxuXG4gICAgICBpZiAodGhpcy5zdGF0ZS5zY3JvbGxMZWZ0ICE9PSBzY3JvbGxMZWZ0IHx8IHRoaXMuc3RhdGUuc2Nyb2xsVG9wICE9PSBzY3JvbGxUb3ApIHtcbiAgICAgICAgLy8gVHJhY2sgc2Nyb2xsaW5nIGRpcmVjdGlvbiBzbyB3ZSBjYW4gbW9yZSBlZmZpY2llbnRseSBvdmVyc2NhbiByb3dzIHRvIHJlZHVjZSBlbXB0eSBzcGFjZSBhcm91bmQgdGhlIGVkZ2VzIHdoaWxlIHNjcm9sbGluZy5cbiAgICAgICAgLy8gRG9uJ3QgY2hhbmdlIGRpcmVjdGlvbiBmb3IgYW4gYXhpcyB1bmxlc3Mgc2Nyb2xsIG9mZnNldCBoYXMgY2hhbmdlZC5cbiAgICAgICAgdmFyIHNjcm9sbERpcmVjdGlvbkhvcml6b250YWwgPSBzY3JvbGxMZWZ0ICE9PSB0aGlzLnN0YXRlLnNjcm9sbExlZnQgPyBzY3JvbGxMZWZ0ID4gdGhpcy5zdGF0ZS5zY3JvbGxMZWZ0ID8gU0NST0xMX0RJUkVDVElPTl9GT1JXQVJEIDogU0NST0xMX0RJUkVDVElPTl9CQUNLV0FSRCA6IHRoaXMuc3RhdGUuc2Nyb2xsRGlyZWN0aW9uSG9yaXpvbnRhbDtcbiAgICAgICAgdmFyIHNjcm9sbERpcmVjdGlvblZlcnRpY2FsID0gc2Nyb2xsVG9wICE9PSB0aGlzLnN0YXRlLnNjcm9sbFRvcCA/IHNjcm9sbFRvcCA+IHRoaXMuc3RhdGUuc2Nyb2xsVG9wID8gU0NST0xMX0RJUkVDVElPTl9GT1JXQVJEIDogU0NST0xMX0RJUkVDVElPTl9CQUNLV0FSRCA6IHRoaXMuc3RhdGUuc2Nyb2xsRGlyZWN0aW9uVmVydGljYWw7XG4gICAgICAgIHZhciBuZXdTdGF0ZSA9IHtcbiAgICAgICAgICBpc1Njcm9sbGluZzogdHJ1ZSxcbiAgICAgICAgICBzY3JvbGxEaXJlY3Rpb25Ib3Jpem9udGFsOiBzY3JvbGxEaXJlY3Rpb25Ib3Jpem9udGFsLFxuICAgICAgICAgIHNjcm9sbERpcmVjdGlvblZlcnRpY2FsOiBzY3JvbGxEaXJlY3Rpb25WZXJ0aWNhbCxcbiAgICAgICAgICBzY3JvbGxQb3NpdGlvbkNoYW5nZVJlYXNvbjogU0NST0xMX1BPU0lUSU9OX0NIQU5HRV9SRUFTT05TLk9CU0VSVkVEXG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKCFhdXRvSGVpZ2h0KSB7XG4gICAgICAgICAgbmV3U3RhdGUuc2Nyb2xsVG9wID0gc2Nyb2xsVG9wO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFhdXRvV2lkdGgpIHtcbiAgICAgICAgICBuZXdTdGF0ZS5zY3JvbGxMZWZ0ID0gc2Nyb2xsTGVmdDtcbiAgICAgICAgfVxuXG4gICAgICAgIG5ld1N0YXRlLm5lZWRUb1Jlc2V0U3R5bGVDYWNoZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLnNldFN0YXRlKG5ld1N0YXRlKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5faW52b2tlT25TY3JvbGxNZW1vaXplcih7XG4gICAgICAgIHNjcm9sbExlZnQ6IHNjcm9sbExlZnQsXG4gICAgICAgIHNjcm9sbFRvcDogc2Nyb2xsVG9wLFxuICAgICAgICB0b3RhbENvbHVtbnNXaWR0aDogdG90YWxDb2x1bW5zV2lkdGgsXG4gICAgICAgIHRvdGFsUm93c0hlaWdodDogdG90YWxSb3dzSGVpZ2h0XG4gICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSW52YWxpZGF0ZSBHcmlkIHNpemUgYW5kIHJlY29tcHV0ZSB2aXNpYmxlIGNlbGxzLlxuICAgICAqIFRoaXMgaXMgYSBkZWZlcnJlZCB3cmFwcGVyIGZvciByZWNvbXB1dGVHcmlkU2l6ZSgpLlxuICAgICAqIEl0IHNldHMgYSBmbGFnIHRvIGJlIGV2YWx1YXRlZCBvbiBjRE0vY0RVIHRvIGF2b2lkIHVubmVjZXNzYXJ5IHJlbmRlcnMuXG4gICAgICogVGhpcyBtZXRob2QgaXMgaW50ZW5kZWQgZm9yIGFkdmFuY2VkIHVzZS1jYXNlcyBsaWtlIENlbGxNZWFzdXJlci5cbiAgICAgKi9cbiAgICAvLyBAVE9ETyAoYnZhdWdobikgQWRkIGF1dG9tYXRlZCB0ZXN0IGNvdmVyYWdlIGZvciB0aGlzLlxuXG4gIH0sIHtcbiAgICBrZXk6IFwiaW52YWxpZGF0ZUNlbGxTaXplQWZ0ZXJSZW5kZXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gaW52YWxpZGF0ZUNlbGxTaXplQWZ0ZXJSZW5kZXIoX3JlZjMpIHtcbiAgICAgIHZhciBjb2x1bW5JbmRleCA9IF9yZWYzLmNvbHVtbkluZGV4LFxuICAgICAgICAgIHJvd0luZGV4ID0gX3JlZjMucm93SW5kZXg7XG4gICAgICB0aGlzLl9kZWZlcnJlZEludmFsaWRhdGVDb2x1bW5JbmRleCA9IHR5cGVvZiB0aGlzLl9kZWZlcnJlZEludmFsaWRhdGVDb2x1bW5JbmRleCA9PT0gJ251bWJlcicgPyBNYXRoLm1pbih0aGlzLl9kZWZlcnJlZEludmFsaWRhdGVDb2x1bW5JbmRleCwgY29sdW1uSW5kZXgpIDogY29sdW1uSW5kZXg7XG4gICAgICB0aGlzLl9kZWZlcnJlZEludmFsaWRhdGVSb3dJbmRleCA9IHR5cGVvZiB0aGlzLl9kZWZlcnJlZEludmFsaWRhdGVSb3dJbmRleCA9PT0gJ251bWJlcicgPyBNYXRoLm1pbih0aGlzLl9kZWZlcnJlZEludmFsaWRhdGVSb3dJbmRleCwgcm93SW5kZXgpIDogcm93SW5kZXg7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFByZS1tZWFzdXJlIGFsbCBjb2x1bW5zIGFuZCByb3dzIGluIGEgR3JpZC5cbiAgICAgKiBUeXBpY2FsbHkgY2VsbHMgYXJlIG9ubHkgbWVhc3VyZWQgYXMgbmVlZGVkIGFuZCBlc3RpbWF0ZWQgc2l6ZXMgYXJlIHVzZWQgZm9yIGNlbGxzIHRoYXQgaGF2ZSBub3QgeWV0IGJlZW4gbWVhc3VyZWQuXG4gICAgICogVGhpcyBtZXRob2QgZW5zdXJlcyB0aGF0IHRoZSBuZXh0IGNhbGwgdG8gZ2V0VG90YWxTaXplKCkgcmV0dXJucyBhbiBleGFjdCBzaXplIChhcyBvcHBvc2VkIHRvIGp1c3QgYW4gZXN0aW1hdGVkIG9uZSkuXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJtZWFzdXJlQWxsQ2VsbHNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gbWVhc3VyZUFsbENlbGxzKCkge1xuICAgICAgdmFyIF90aGlzJHByb3BzMiA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgY29sdW1uQ291bnQgPSBfdGhpcyRwcm9wczIuY29sdW1uQ291bnQsXG4gICAgICAgICAgcm93Q291bnQgPSBfdGhpcyRwcm9wczIucm93Q291bnQ7XG4gICAgICB2YXIgaW5zdGFuY2VQcm9wcyA9IHRoaXMuc3RhdGUuaW5zdGFuY2VQcm9wcztcbiAgICAgIGluc3RhbmNlUHJvcHMuY29sdW1uU2l6ZUFuZFBvc2l0aW9uTWFuYWdlci5nZXRTaXplQW5kUG9zaXRpb25PZkNlbGwoY29sdW1uQ291bnQgLSAxKTtcbiAgICAgIGluc3RhbmNlUHJvcHMucm93U2l6ZUFuZFBvc2l0aW9uTWFuYWdlci5nZXRTaXplQW5kUG9zaXRpb25PZkNlbGwocm93Q291bnQgLSAxKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRm9yY2VkIHJlY29tcHV0ZSBvZiByb3cgaGVpZ2h0cyBhbmQgY29sdW1uIHdpZHRocy5cbiAgICAgKiBUaGlzIGZ1bmN0aW9uIHNob3VsZCBiZSBjYWxsZWQgaWYgZHluYW1pYyBjb2x1bW4gb3Igcm93IHNpemVzIGhhdmUgY2hhbmdlZCBidXQgbm90aGluZyBlbHNlIGhhcy5cbiAgICAgKiBTaW5jZSBHcmlkIG9ubHkgcmVjZWl2ZXMgOmNvbHVtbkNvdW50IGFuZCA6cm93Q291bnQgaXQgaGFzIG5vIHdheSBvZiBkZXRlY3Rpbmcgd2hlbiB0aGUgdW5kZXJseWluZyBkYXRhIGNoYW5nZXMuXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJyZWNvbXB1dGVHcmlkU2l6ZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZWNvbXB1dGVHcmlkU2l6ZSgpIHtcbiAgICAgIHZhciBfcmVmNCA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge30sXG4gICAgICAgICAgX3JlZjQkY29sdW1uSW5kZXggPSBfcmVmNC5jb2x1bW5JbmRleCxcbiAgICAgICAgICBjb2x1bW5JbmRleCA9IF9yZWY0JGNvbHVtbkluZGV4ID09PSB2b2lkIDAgPyAwIDogX3JlZjQkY29sdW1uSW5kZXgsXG4gICAgICAgICAgX3JlZjQkcm93SW5kZXggPSBfcmVmNC5yb3dJbmRleCxcbiAgICAgICAgICByb3dJbmRleCA9IF9yZWY0JHJvd0luZGV4ID09PSB2b2lkIDAgPyAwIDogX3JlZjQkcm93SW5kZXg7XG5cbiAgICAgIHZhciBfdGhpcyRwcm9wczMgPSB0aGlzLnByb3BzLFxuICAgICAgICAgIHNjcm9sbFRvQ29sdW1uID0gX3RoaXMkcHJvcHMzLnNjcm9sbFRvQ29sdW1uLFxuICAgICAgICAgIHNjcm9sbFRvUm93ID0gX3RoaXMkcHJvcHMzLnNjcm9sbFRvUm93O1xuICAgICAgdmFyIGluc3RhbmNlUHJvcHMgPSB0aGlzLnN0YXRlLmluc3RhbmNlUHJvcHM7XG4gICAgICBpbnN0YW5jZVByb3BzLmNvbHVtblNpemVBbmRQb3NpdGlvbk1hbmFnZXIucmVzZXRDZWxsKGNvbHVtbkluZGV4KTtcbiAgICAgIGluc3RhbmNlUHJvcHMucm93U2l6ZUFuZFBvc2l0aW9uTWFuYWdlci5yZXNldENlbGwocm93SW5kZXgpOyAvLyBDZWxsIHNpemVzIG1heSBiZSBkZXRlcm1pbmVkIGJ5IGEgZnVuY3Rpb24gcHJvcGVydHkuXG4gICAgICAvLyBJbiB0aGlzIGNhc2UgdGhlIGNEVSBoYW5kbGVyIGNhbid0IGtub3cgaWYgdGhleSBjaGFuZ2VkLlxuICAgICAgLy8gU3RvcmUgdGhpcyBmbGFnIHRvIGxldCB0aGUgbmV4dCBjRFUgcGFzcyBrbm93IGl0IG5lZWRzIHRvIHJlY29tcHV0ZSB0aGUgc2Nyb2xsIG9mZnNldC5cblxuICAgICAgdGhpcy5fcmVjb21wdXRlU2Nyb2xsTGVmdEZsYWcgPSBzY3JvbGxUb0NvbHVtbiA+PSAwICYmICh0aGlzLnN0YXRlLnNjcm9sbERpcmVjdGlvbkhvcml6b250YWwgPT09IFNDUk9MTF9ESVJFQ1RJT05fRk9SV0FSRCA/IGNvbHVtbkluZGV4IDw9IHNjcm9sbFRvQ29sdW1uIDogY29sdW1uSW5kZXggPj0gc2Nyb2xsVG9Db2x1bW4pO1xuICAgICAgdGhpcy5fcmVjb21wdXRlU2Nyb2xsVG9wRmxhZyA9IHNjcm9sbFRvUm93ID49IDAgJiYgKHRoaXMuc3RhdGUuc2Nyb2xsRGlyZWN0aW9uVmVydGljYWwgPT09IFNDUk9MTF9ESVJFQ1RJT05fRk9SV0FSRCA/IHJvd0luZGV4IDw9IHNjcm9sbFRvUm93IDogcm93SW5kZXggPj0gc2Nyb2xsVG9Sb3cpOyAvLyBDbGVhciBjZWxsIGNhY2hlIGluIGNhc2Ugd2UgYXJlIHNjcm9sbGluZztcbiAgICAgIC8vIEludmFsaWQgcm93IGhlaWdodHMgbGlrZWx5IG1lYW4gaW52YWxpZCBjYWNoZWQgY29udGVudCBhcyB3ZWxsLlxuXG4gICAgICB0aGlzLl9zdHlsZUNhY2hlID0ge307XG4gICAgICB0aGlzLl9jZWxsQ2FjaGUgPSB7fTtcbiAgICAgIHRoaXMuZm9yY2VVcGRhdGUoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRW5zdXJlIGNvbHVtbiBhbmQgcm93IGFyZSB2aXNpYmxlLlxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwic2Nyb2xsVG9DZWxsXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNjcm9sbFRvQ2VsbChfcmVmNSkge1xuICAgICAgdmFyIGNvbHVtbkluZGV4ID0gX3JlZjUuY29sdW1uSW5kZXgsXG4gICAgICAgICAgcm93SW5kZXggPSBfcmVmNS5yb3dJbmRleDtcbiAgICAgIHZhciBjb2x1bW5Db3VudCA9IHRoaXMucHJvcHMuY29sdW1uQ291bnQ7XG4gICAgICB2YXIgcHJvcHMgPSB0aGlzLnByb3BzOyAvLyBEb24ndCBhZGp1c3Qgc2Nyb2xsIG9mZnNldCBmb3Igc2luZ2xlLWNvbHVtbiBncmlkcyAoZWcgTGlzdCwgVGFibGUpLlxuICAgICAgLy8gVGhpcyBjYW4gY2F1c2UgYSBmdW5reSBzY3JvbGwgb2Zmc2V0IGJlY2F1c2Ugb2YgdGhlIHZlcnRpY2FsIHNjcm9sbGJhciB3aWR0aC5cblxuICAgICAgaWYgKGNvbHVtbkNvdW50ID4gMSAmJiBjb2x1bW5JbmRleCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHRoaXMuX3VwZGF0ZVNjcm9sbExlZnRGb3JTY3JvbGxUb0NvbHVtbihfb2JqZWN0U3ByZWFkKHt9LCBwcm9wcywge1xuICAgICAgICAgIHNjcm9sbFRvQ29sdW1uOiBjb2x1bW5JbmRleFxuICAgICAgICB9KSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChyb3dJbmRleCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHRoaXMuX3VwZGF0ZVNjcm9sbFRvcEZvclNjcm9sbFRvUm93KF9vYmplY3RTcHJlYWQoe30sIHByb3BzLCB7XG4gICAgICAgICAgc2Nyb2xsVG9Sb3c6IHJvd0luZGV4XG4gICAgICAgIH0pKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiY29tcG9uZW50RGlkTW91bnRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgICB2YXIgX3RoaXMkcHJvcHM0ID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICBnZXRTY3JvbGxiYXJTaXplID0gX3RoaXMkcHJvcHM0LmdldFNjcm9sbGJhclNpemUsXG4gICAgICAgICAgaGVpZ2h0ID0gX3RoaXMkcHJvcHM0LmhlaWdodCxcbiAgICAgICAgICBzY3JvbGxMZWZ0ID0gX3RoaXMkcHJvcHM0LnNjcm9sbExlZnQsXG4gICAgICAgICAgc2Nyb2xsVG9Db2x1bW4gPSBfdGhpcyRwcm9wczQuc2Nyb2xsVG9Db2x1bW4sXG4gICAgICAgICAgc2Nyb2xsVG9wID0gX3RoaXMkcHJvcHM0LnNjcm9sbFRvcCxcbiAgICAgICAgICBzY3JvbGxUb1JvdyA9IF90aGlzJHByb3BzNC5zY3JvbGxUb1JvdyxcbiAgICAgICAgICB3aWR0aCA9IF90aGlzJHByb3BzNC53aWR0aDtcbiAgICAgIHZhciBpbnN0YW5jZVByb3BzID0gdGhpcy5zdGF0ZS5pbnN0YW5jZVByb3BzOyAvLyBSZXNldCBpbml0aWFsIG9mZnNldHMgdG8gYmUgaWdub3JlZCBpbiBicm93c2VyXG5cbiAgICAgIHRoaXMuX2luaXRpYWxTY3JvbGxUb3AgPSAwO1xuICAgICAgdGhpcy5faW5pdGlhbFNjcm9sbExlZnQgPSAwOyAvLyBJZiBjZWxsIHNpemVzIGhhdmUgYmVlbiBpbnZhbGlkYXRlZCAoZWcgd2UgYXJlIHVzaW5nIENlbGxNZWFzdXJlcikgdGhlbiByZXNldCBjYWNoZWQgcG9zaXRpb25zLlxuICAgICAgLy8gV2UgbXVzdCBkbyB0aGlzIGF0IHRoZSBzdGFydCBvZiB0aGUgbWV0aG9kIGFzIHdlIG1heSBjYWxjdWxhdGUgYW5kIHVwZGF0ZSBzY3JvbGwgcG9zaXRpb24gYmVsb3cuXG5cbiAgICAgIHRoaXMuX2hhbmRsZUludmFsaWRhdGVkR3JpZFNpemUoKTsgLy8gSWYgdGhpcyBjb21wb25lbnQgd2FzIGZpcnN0IHJlbmRlcmVkIHNlcnZlci1zaWRlLCBzY3JvbGxiYXIgc2l6ZSB3aWxsIGJlIHVuZGVmaW5lZC5cbiAgICAgIC8vIEluIHRoYXQgZXZlbnQgd2UgbmVlZCB0byByZW1lYXN1cmUuXG5cblxuICAgICAgaWYgKCFpbnN0YW5jZVByb3BzLnNjcm9sbGJhclNpemVNZWFzdXJlZCkge1xuICAgICAgICB0aGlzLnNldFN0YXRlKGZ1bmN0aW9uIChwcmV2U3RhdGUpIHtcbiAgICAgICAgICB2YXIgc3RhdGVVcGRhdGUgPSBfb2JqZWN0U3ByZWFkKHt9LCBwcmV2U3RhdGUsIHtcbiAgICAgICAgICAgIG5lZWRUb1Jlc2V0U3R5bGVDYWNoZTogZmFsc2VcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIHN0YXRlVXBkYXRlLmluc3RhbmNlUHJvcHMuc2Nyb2xsYmFyU2l6ZSA9IGdldFNjcm9sbGJhclNpemUoKTtcbiAgICAgICAgICBzdGF0ZVVwZGF0ZS5pbnN0YW5jZVByb3BzLnNjcm9sbGJhclNpemVNZWFzdXJlZCA9IHRydWU7XG4gICAgICAgICAgcmV0dXJuIHN0YXRlVXBkYXRlO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgaWYgKHR5cGVvZiBzY3JvbGxMZWZ0ID09PSAnbnVtYmVyJyAmJiBzY3JvbGxMZWZ0ID49IDAgfHwgdHlwZW9mIHNjcm9sbFRvcCA9PT0gJ251bWJlcicgJiYgc2Nyb2xsVG9wID49IDApIHtcbiAgICAgICAgdmFyIHN0YXRlVXBkYXRlID0gR3JpZC5fZ2V0U2Nyb2xsVG9Qb3NpdGlvblN0YXRlVXBkYXRlKHtcbiAgICAgICAgICBwcmV2U3RhdGU6IHRoaXMuc3RhdGUsXG4gICAgICAgICAgc2Nyb2xsTGVmdDogc2Nyb2xsTGVmdCxcbiAgICAgICAgICBzY3JvbGxUb3A6IHNjcm9sbFRvcFxuICAgICAgICB9KTtcblxuICAgICAgICBpZiAoc3RhdGVVcGRhdGUpIHtcbiAgICAgICAgICBzdGF0ZVVwZGF0ZS5uZWVkVG9SZXNldFN0eWxlQ2FjaGUgPSBmYWxzZTtcbiAgICAgICAgICB0aGlzLnNldFN0YXRlKHN0YXRlVXBkYXRlKTtcbiAgICAgICAgfVxuICAgICAgfSAvLyByZWZzIGRvbid0IHdvcmsgaW4gYHJlYWN0LXRlc3QtcmVuZGVyZXJgXG5cblxuICAgICAgaWYgKHRoaXMuX3Njcm9sbGluZ0NvbnRhaW5lcikge1xuICAgICAgICAvLyBzZXR0aW5nIHRoZSByZWYncyBzY3JvbGxMZWZ0IGFuZCBzY3JvbGxUb3AuXG4gICAgICAgIC8vIFNvbWVob3cgaW4gTXVsdGlHcmlkIHRoZSBtYWluIGdyaWQgZG9lc24ndCB0cmlnZ2VyIGEgdXBkYXRlIG9uIG1vdW50LlxuICAgICAgICBpZiAodGhpcy5fc2Nyb2xsaW5nQ29udGFpbmVyLnNjcm9sbExlZnQgIT09IHRoaXMuc3RhdGUuc2Nyb2xsTGVmdCkge1xuICAgICAgICAgIHRoaXMuX3Njcm9sbGluZ0NvbnRhaW5lci5zY3JvbGxMZWZ0ID0gdGhpcy5zdGF0ZS5zY3JvbGxMZWZ0O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuX3Njcm9sbGluZ0NvbnRhaW5lci5zY3JvbGxUb3AgIT09IHRoaXMuc3RhdGUuc2Nyb2xsVG9wKSB7XG4gICAgICAgICAgdGhpcy5fc2Nyb2xsaW5nQ29udGFpbmVyLnNjcm9sbFRvcCA9IHRoaXMuc3RhdGUuc2Nyb2xsVG9wO1xuICAgICAgICB9XG4gICAgICB9IC8vIERvbid0IHVwZGF0ZSBzY3JvbGwgb2Zmc2V0IGlmIHRoZSBzaXplIGlzIDA7IHdlIGRvbid0IHJlbmRlciBhbnkgY2VsbHMgaW4gdGhpcyBjYXNlLlxuICAgICAgLy8gU2V0dGluZyBhIHN0YXRlIG1heSBjYXVzZSB1cyB0byBsYXRlciB0aGluZyB3ZSd2ZSB1cGRhdGVkIHRoZSBvZmZjZSB3aGVuIHdlIGhhdmVuJ3QuXG5cblxuICAgICAgdmFyIHNpemVJc0JpZ2dlclRoYW5aZXJvID0gaGVpZ2h0ID4gMCAmJiB3aWR0aCA+IDA7XG5cbiAgICAgIGlmIChzY3JvbGxUb0NvbHVtbiA+PSAwICYmIHNpemVJc0JpZ2dlclRoYW5aZXJvKSB7XG4gICAgICAgIHRoaXMuX3VwZGF0ZVNjcm9sbExlZnRGb3JTY3JvbGxUb0NvbHVtbigpO1xuICAgICAgfVxuXG4gICAgICBpZiAoc2Nyb2xsVG9Sb3cgPj0gMCAmJiBzaXplSXNCaWdnZXJUaGFuWmVybykge1xuICAgICAgICB0aGlzLl91cGRhdGVTY3JvbGxUb3BGb3JTY3JvbGxUb1JvdygpO1xuICAgICAgfSAvLyBVcGRhdGUgb25Sb3dzUmVuZGVyZWQgY2FsbGJhY2tcblxuXG4gICAgICB0aGlzLl9pbnZva2VPbkdyaWRSZW5kZXJlZEhlbHBlcigpOyAvLyBJbml0aWFsaXplIG9uU2Nyb2xsIGNhbGxiYWNrXG5cblxuICAgICAgdGhpcy5faW52b2tlT25TY3JvbGxNZW1vaXplcih7XG4gICAgICAgIHNjcm9sbExlZnQ6IHNjcm9sbExlZnQgfHwgMCxcbiAgICAgICAgc2Nyb2xsVG9wOiBzY3JvbGxUb3AgfHwgMCxcbiAgICAgICAgdG90YWxDb2x1bW5zV2lkdGg6IGluc3RhbmNlUHJvcHMuY29sdW1uU2l6ZUFuZFBvc2l0aW9uTWFuYWdlci5nZXRUb3RhbFNpemUoKSxcbiAgICAgICAgdG90YWxSb3dzSGVpZ2h0OiBpbnN0YW5jZVByb3BzLnJvd1NpemVBbmRQb3NpdGlvbk1hbmFnZXIuZ2V0VG90YWxTaXplKClcbiAgICAgIH0pO1xuXG4gICAgICB0aGlzLl9tYXliZUNhbGxPblNjcm9sbGJhclByZXNlbmNlQ2hhbmdlKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogVGhpcyBtZXRob2QgdXBkYXRlcyBzY3JvbGxMZWZ0L3Njcm9sbFRvcCBpbiBzdGF0ZSBmb3IgdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOlxuICAgICAqIDEpIE5ldyBzY3JvbGwtdG8tY2VsbCBwcm9wcyBoYXZlIGJlZW4gc2V0XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJjb21wb25lbnREaWRVcGRhdGVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50RGlkVXBkYXRlKHByZXZQcm9wcywgcHJldlN0YXRlKSB7XG4gICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgdmFyIF90aGlzJHByb3BzNSA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgYXV0b0hlaWdodCA9IF90aGlzJHByb3BzNS5hdXRvSGVpZ2h0LFxuICAgICAgICAgIGF1dG9XaWR0aCA9IF90aGlzJHByb3BzNS5hdXRvV2lkdGgsXG4gICAgICAgICAgY29sdW1uQ291bnQgPSBfdGhpcyRwcm9wczUuY29sdW1uQ291bnQsXG4gICAgICAgICAgaGVpZ2h0ID0gX3RoaXMkcHJvcHM1LmhlaWdodCxcbiAgICAgICAgICByb3dDb3VudCA9IF90aGlzJHByb3BzNS5yb3dDb3VudCxcbiAgICAgICAgICBzY3JvbGxUb0FsaWdubWVudCA9IF90aGlzJHByb3BzNS5zY3JvbGxUb0FsaWdubWVudCxcbiAgICAgICAgICBzY3JvbGxUb0NvbHVtbiA9IF90aGlzJHByb3BzNS5zY3JvbGxUb0NvbHVtbixcbiAgICAgICAgICBzY3JvbGxUb1JvdyA9IF90aGlzJHByb3BzNS5zY3JvbGxUb1JvdyxcbiAgICAgICAgICB3aWR0aCA9IF90aGlzJHByb3BzNS53aWR0aDtcbiAgICAgIHZhciBfdGhpcyRzdGF0ZSA9IHRoaXMuc3RhdGUsXG4gICAgICAgICAgc2Nyb2xsTGVmdCA9IF90aGlzJHN0YXRlLnNjcm9sbExlZnQsXG4gICAgICAgICAgc2Nyb2xsUG9zaXRpb25DaGFuZ2VSZWFzb24gPSBfdGhpcyRzdGF0ZS5zY3JvbGxQb3NpdGlvbkNoYW5nZVJlYXNvbixcbiAgICAgICAgICBzY3JvbGxUb3AgPSBfdGhpcyRzdGF0ZS5zY3JvbGxUb3AsXG4gICAgICAgICAgaW5zdGFuY2VQcm9wcyA9IF90aGlzJHN0YXRlLmluc3RhbmNlUHJvcHM7IC8vIElmIGNlbGwgc2l6ZXMgaGF2ZSBiZWVuIGludmFsaWRhdGVkIChlZyB3ZSBhcmUgdXNpbmcgQ2VsbE1lYXN1cmVyKSB0aGVuIHJlc2V0IGNhY2hlZCBwb3NpdGlvbnMuXG4gICAgICAvLyBXZSBtdXN0IGRvIHRoaXMgYXQgdGhlIHN0YXJ0IG9mIHRoZSBtZXRob2QgYXMgd2UgbWF5IGNhbGN1bGF0ZSBhbmQgdXBkYXRlIHNjcm9sbCBwb3NpdGlvbiBiZWxvdy5cblxuICAgICAgdGhpcy5faGFuZGxlSW52YWxpZGF0ZWRHcmlkU2l6ZSgpOyAvLyBIYW5kbGUgZWRnZSBjYXNlIHdoZXJlIGNvbHVtbiBvciByb3cgY291bnQgaGFzIG9ubHkganVzdCBpbmNyZWFzZWQgb3ZlciAwLlxuICAgICAgLy8gSW4gdGhpcyBjYXNlIHdlIG1heSBoYXZlIHRvIHJlc3RvcmUgYSBwcmV2aW91c2x5LXNwZWNpZmllZCBzY3JvbGwgb2Zmc2V0LlxuICAgICAgLy8gRm9yIG1vcmUgaW5mbyBzZWUgYnZhdWdobi9yZWFjdC12aXJ0dWFsaXplZC9pc3N1ZXMvMjE4XG5cblxuICAgICAgdmFyIGNvbHVtbk9yUm93Q291bnRKdXN0SW5jcmVhc2VkRnJvbVplcm8gPSBjb2x1bW5Db3VudCA+IDAgJiYgcHJldlByb3BzLmNvbHVtbkNvdW50ID09PSAwIHx8IHJvd0NvdW50ID4gMCAmJiBwcmV2UHJvcHMucm93Q291bnQgPT09IDA7IC8vIE1ha2Ugc3VyZSByZXF1ZXN0ZWQgY2hhbmdlcyB0byA6c2Nyb2xsTGVmdCBvciA6c2Nyb2xsVG9wIGdldCBhcHBsaWVkLlxuICAgICAgLy8gQXNzaWduaW5nIHRvIHNjcm9sbExlZnQvc2Nyb2xsVG9wIHRlbGxzIHRoZSBicm93c2VyIHRvIGludGVycnVwdCBhbnkgcnVubmluZyBzY3JvbGwgYW5pbWF0aW9ucyxcbiAgICAgIC8vIEFuZCB0byBkaXNjYXJkIGFueSBwZW5kaW5nIGFzeW5jIGNoYW5nZXMgdG8gdGhlIHNjcm9sbCBwb3NpdGlvbiB0aGF0IG1heSBoYXZlIGhhcHBlbmVkIGluIHRoZSBtZWFudGltZSAoZS5nLiBvbiBhIHNlcGFyYXRlIHNjcm9sbGluZyB0aHJlYWQpLlxuICAgICAgLy8gU28gd2Ugb25seSBzZXQgdGhlc2Ugd2hlbiB3ZSByZXF1aXJlIGFuIGFkanVzdG1lbnQgb2YgdGhlIHNjcm9sbCBwb3NpdGlvbi5cbiAgICAgIC8vIFNlZSBpc3N1ZSAjMiBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cblxuICAgICAgaWYgKHNjcm9sbFBvc2l0aW9uQ2hhbmdlUmVhc29uID09PSBTQ1JPTExfUE9TSVRJT05fQ0hBTkdFX1JFQVNPTlMuUkVRVUVTVEVEKSB7XG4gICAgICAgIC8vIEBUUklDS1kgOmF1dG9IZWlnaHQgYW5kIDphdXRvV2lkdGggcHJvcGVydGllcyBpbnN0cnVjdHMgR3JpZCB0byBsZWF2ZSA6c2Nyb2xsVG9wIGFuZCA6c2Nyb2xsTGVmdCBtYW5hZ2VtZW50IHRvIGFuIGV4dGVybmFsIEhPQyAoZWcgV2luZG93U2Nyb2xsZXIpLlxuICAgICAgICAvLyBJbiB0aGlzIGNhc2Ugd2Ugc2hvdWxkIGF2b2lkIGNoZWNraW5nIHNjcm9sbGluZ0NvbnRhaW5lci5zY3JvbGxUb3AgYW5kIHNjcm9sbGluZ0NvbnRhaW5lci5zY3JvbGxMZWZ0IHNpbmNlIGl0IGZvcmNlcyBsYXlvdXQvZmxvdy5cbiAgICAgICAgaWYgKCFhdXRvV2lkdGggJiYgc2Nyb2xsTGVmdCA+PSAwICYmIChzY3JvbGxMZWZ0ICE9PSB0aGlzLl9zY3JvbGxpbmdDb250YWluZXIuc2Nyb2xsTGVmdCB8fCBjb2x1bW5PclJvd0NvdW50SnVzdEluY3JlYXNlZEZyb21aZXJvKSkge1xuICAgICAgICAgIHRoaXMuX3Njcm9sbGluZ0NvbnRhaW5lci5zY3JvbGxMZWZ0ID0gc2Nyb2xsTGVmdDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghYXV0b0hlaWdodCAmJiBzY3JvbGxUb3AgPj0gMCAmJiAoc2Nyb2xsVG9wICE9PSB0aGlzLl9zY3JvbGxpbmdDb250YWluZXIuc2Nyb2xsVG9wIHx8IGNvbHVtbk9yUm93Q291bnRKdXN0SW5jcmVhc2VkRnJvbVplcm8pKSB7XG4gICAgICAgICAgdGhpcy5fc2Nyb2xsaW5nQ29udGFpbmVyLnNjcm9sbFRvcCA9IHNjcm9sbFRvcDtcbiAgICAgICAgfVxuICAgICAgfSAvLyBTcGVjaWFsIGNhc2Ugd2hlcmUgdGhlIHByZXZpb3VzIHNpemUgd2FzIDA6XG4gICAgICAvLyBJbiB0aGlzIGNhc2Ugd2UgZG9uJ3Qgc2hvdyBhbnkgd2luZG93ZWQgY2VsbHMgYXQgYWxsLlxuICAgICAgLy8gU28gd2Ugc2hvdWxkIGFsd2F5cyByZWNhbGN1bGF0ZSBvZmZzZXQgYWZ0ZXJ3YXJkcy5cblxuXG4gICAgICB2YXIgc2l6ZUp1c3RJbmNyZWFzZWRGcm9tWmVybyA9IChwcmV2UHJvcHMud2lkdGggPT09IDAgfHwgcHJldlByb3BzLmhlaWdodCA9PT0gMCkgJiYgaGVpZ2h0ID4gMCAmJiB3aWR0aCA+IDA7IC8vIFVwZGF0ZSBzY3JvbGwgb2Zmc2V0cyBpZiB0aGUgY3VycmVudCA6c2Nyb2xsVG9Db2x1bW4gb3IgOnNjcm9sbFRvUm93IHZhbHVlcyByZXF1aXJlcyBpdFxuICAgICAgLy8gQFRPRE8gRG8gd2UgYWxzbyBuZWVkIHRoaXMgY2hlY2sgb3IgY2FuIHRoZSBvbmUgaW4gY29tcG9uZW50V2lsbFVwZGF0ZSgpIHN1ZmZpY2U/XG5cbiAgICAgIGlmICh0aGlzLl9yZWNvbXB1dGVTY3JvbGxMZWZ0RmxhZykge1xuICAgICAgICB0aGlzLl9yZWNvbXB1dGVTY3JvbGxMZWZ0RmxhZyA9IGZhbHNlO1xuXG4gICAgICAgIHRoaXMuX3VwZGF0ZVNjcm9sbExlZnRGb3JTY3JvbGxUb0NvbHVtbih0aGlzLnByb3BzKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHVwZGF0ZVNjcm9sbEluZGV4SGVscGVyKHtcbiAgICAgICAgICBjZWxsU2l6ZUFuZFBvc2l0aW9uTWFuYWdlcjogaW5zdGFuY2VQcm9wcy5jb2x1bW5TaXplQW5kUG9zaXRpb25NYW5hZ2VyLFxuICAgICAgICAgIHByZXZpb3VzQ2VsbHNDb3VudDogcHJldlByb3BzLmNvbHVtbkNvdW50LFxuICAgICAgICAgIHByZXZpb3VzQ2VsbFNpemU6IHByZXZQcm9wcy5jb2x1bW5XaWR0aCxcbiAgICAgICAgICBwcmV2aW91c1Njcm9sbFRvQWxpZ25tZW50OiBwcmV2UHJvcHMuc2Nyb2xsVG9BbGlnbm1lbnQsXG4gICAgICAgICAgcHJldmlvdXNTY3JvbGxUb0luZGV4OiBwcmV2UHJvcHMuc2Nyb2xsVG9Db2x1bW4sXG4gICAgICAgICAgcHJldmlvdXNTaXplOiBwcmV2UHJvcHMud2lkdGgsXG4gICAgICAgICAgc2Nyb2xsT2Zmc2V0OiBzY3JvbGxMZWZ0LFxuICAgICAgICAgIHNjcm9sbFRvQWxpZ25tZW50OiBzY3JvbGxUb0FsaWdubWVudCxcbiAgICAgICAgICBzY3JvbGxUb0luZGV4OiBzY3JvbGxUb0NvbHVtbixcbiAgICAgICAgICBzaXplOiB3aWR0aCxcbiAgICAgICAgICBzaXplSnVzdEluY3JlYXNlZEZyb21aZXJvOiBzaXplSnVzdEluY3JlYXNlZEZyb21aZXJvLFxuICAgICAgICAgIHVwZGF0ZVNjcm9sbEluZGV4Q2FsbGJhY2s6IGZ1bmN0aW9uIHVwZGF0ZVNjcm9sbEluZGV4Q2FsbGJhY2soKSB7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXMyLl91cGRhdGVTY3JvbGxMZWZ0Rm9yU2Nyb2xsVG9Db2x1bW4oX3RoaXMyLnByb3BzKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5fcmVjb21wdXRlU2Nyb2xsVG9wRmxhZykge1xuICAgICAgICB0aGlzLl9yZWNvbXB1dGVTY3JvbGxUb3BGbGFnID0gZmFsc2U7XG5cbiAgICAgICAgdGhpcy5fdXBkYXRlU2Nyb2xsVG9wRm9yU2Nyb2xsVG9Sb3codGhpcy5wcm9wcyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB1cGRhdGVTY3JvbGxJbmRleEhlbHBlcih7XG4gICAgICAgICAgY2VsbFNpemVBbmRQb3NpdGlvbk1hbmFnZXI6IGluc3RhbmNlUHJvcHMucm93U2l6ZUFuZFBvc2l0aW9uTWFuYWdlcixcbiAgICAgICAgICBwcmV2aW91c0NlbGxzQ291bnQ6IHByZXZQcm9wcy5yb3dDb3VudCxcbiAgICAgICAgICBwcmV2aW91c0NlbGxTaXplOiBwcmV2UHJvcHMucm93SGVpZ2h0LFxuICAgICAgICAgIHByZXZpb3VzU2Nyb2xsVG9BbGlnbm1lbnQ6IHByZXZQcm9wcy5zY3JvbGxUb0FsaWdubWVudCxcbiAgICAgICAgICBwcmV2aW91c1Njcm9sbFRvSW5kZXg6IHByZXZQcm9wcy5zY3JvbGxUb1JvdyxcbiAgICAgICAgICBwcmV2aW91c1NpemU6IHByZXZQcm9wcy5oZWlnaHQsXG4gICAgICAgICAgc2Nyb2xsT2Zmc2V0OiBzY3JvbGxUb3AsXG4gICAgICAgICAgc2Nyb2xsVG9BbGlnbm1lbnQ6IHNjcm9sbFRvQWxpZ25tZW50LFxuICAgICAgICAgIHNjcm9sbFRvSW5kZXg6IHNjcm9sbFRvUm93LFxuICAgICAgICAgIHNpemU6IGhlaWdodCxcbiAgICAgICAgICBzaXplSnVzdEluY3JlYXNlZEZyb21aZXJvOiBzaXplSnVzdEluY3JlYXNlZEZyb21aZXJvLFxuICAgICAgICAgIHVwZGF0ZVNjcm9sbEluZGV4Q2FsbGJhY2s6IGZ1bmN0aW9uIHVwZGF0ZVNjcm9sbEluZGV4Q2FsbGJhY2soKSB7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXMyLl91cGRhdGVTY3JvbGxUb3BGb3JTY3JvbGxUb1JvdyhfdGhpczIucHJvcHMpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9IC8vIFVwZGF0ZSBvblJvd3NSZW5kZXJlZCBjYWxsYmFjayBpZiBzdGFydC9zdG9wIGluZGljZXMgaGF2ZSBjaGFuZ2VkXG5cblxuICAgICAgdGhpcy5faW52b2tlT25HcmlkUmVuZGVyZWRIZWxwZXIoKTsgLy8gQ2hhbmdlcyB0byA6c2Nyb2xsTGVmdCBvciA6c2Nyb2xsVG9wIHNob3VsZCBhbHNvIG5vdGlmeSA6b25TY3JvbGwgbGlzdGVuZXJzXG5cblxuICAgICAgaWYgKHNjcm9sbExlZnQgIT09IHByZXZTdGF0ZS5zY3JvbGxMZWZ0IHx8IHNjcm9sbFRvcCAhPT0gcHJldlN0YXRlLnNjcm9sbFRvcCkge1xuICAgICAgICB2YXIgdG90YWxSb3dzSGVpZ2h0ID0gaW5zdGFuY2VQcm9wcy5yb3dTaXplQW5kUG9zaXRpb25NYW5hZ2VyLmdldFRvdGFsU2l6ZSgpO1xuICAgICAgICB2YXIgdG90YWxDb2x1bW5zV2lkdGggPSBpbnN0YW5jZVByb3BzLmNvbHVtblNpemVBbmRQb3NpdGlvbk1hbmFnZXIuZ2V0VG90YWxTaXplKCk7XG5cbiAgICAgICAgdGhpcy5faW52b2tlT25TY3JvbGxNZW1vaXplcih7XG4gICAgICAgICAgc2Nyb2xsTGVmdDogc2Nyb2xsTGVmdCxcbiAgICAgICAgICBzY3JvbGxUb3A6IHNjcm9sbFRvcCxcbiAgICAgICAgICB0b3RhbENvbHVtbnNXaWR0aDogdG90YWxDb2x1bW5zV2lkdGgsXG4gICAgICAgICAgdG90YWxSb3dzSGVpZ2h0OiB0b3RhbFJvd3NIZWlnaHRcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuX21heWJlQ2FsbE9uU2Nyb2xsYmFyUHJlc2VuY2VDaGFuZ2UoKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiY29tcG9uZW50V2lsbFVubW91bnRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgICBpZiAodGhpcy5fZGlzYWJsZVBvaW50ZXJFdmVudHNUaW1lb3V0SWQpIHtcbiAgICAgICAgY2FuY2VsQW5pbWF0aW9uVGltZW91dCh0aGlzLl9kaXNhYmxlUG9pbnRlckV2ZW50c1RpbWVvdXRJZCk7XG4gICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIHVwZGF0ZXMgc2Nyb2xsTGVmdC9zY3JvbGxUb3AgaW4gc3RhdGUgZm9yIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczpcbiAgICAgKiAxKSBFbXB0eSBjb250ZW50ICgwIHJvd3Mgb3IgY29sdW1ucylcbiAgICAgKiAyKSBOZXcgc2Nyb2xsIHByb3BzIG92ZXJyaWRpbmcgdGhlIGN1cnJlbnQgc3RhdGVcbiAgICAgKiAzKSBDZWxscy1jb3VudCBvciBjZWxscy1zaXplIGhhcyBjaGFuZ2VkLCBtYWtpbmcgcHJldmlvdXMgc2Nyb2xsIG9mZnNldHMgaW52YWxpZFxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwicmVuZGVyXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIHZhciBfdGhpcyRwcm9wczYgPSB0aGlzLnByb3BzLFxuICAgICAgICAgIGF1dG9Db250YWluZXJXaWR0aCA9IF90aGlzJHByb3BzNi5hdXRvQ29udGFpbmVyV2lkdGgsXG4gICAgICAgICAgYXV0b0hlaWdodCA9IF90aGlzJHByb3BzNi5hdXRvSGVpZ2h0LFxuICAgICAgICAgIGF1dG9XaWR0aCA9IF90aGlzJHByb3BzNi5hdXRvV2lkdGgsXG4gICAgICAgICAgY2xhc3NOYW1lID0gX3RoaXMkcHJvcHM2LmNsYXNzTmFtZSxcbiAgICAgICAgICBjb250YWluZXJQcm9wcyA9IF90aGlzJHByb3BzNi5jb250YWluZXJQcm9wcyxcbiAgICAgICAgICBjb250YWluZXJSb2xlID0gX3RoaXMkcHJvcHM2LmNvbnRhaW5lclJvbGUsXG4gICAgICAgICAgY29udGFpbmVyU3R5bGUgPSBfdGhpcyRwcm9wczYuY29udGFpbmVyU3R5bGUsXG4gICAgICAgICAgaGVpZ2h0ID0gX3RoaXMkcHJvcHM2LmhlaWdodCxcbiAgICAgICAgICBpZCA9IF90aGlzJHByb3BzNi5pZCxcbiAgICAgICAgICBub0NvbnRlbnRSZW5kZXJlciA9IF90aGlzJHByb3BzNi5ub0NvbnRlbnRSZW5kZXJlcixcbiAgICAgICAgICByb2xlID0gX3RoaXMkcHJvcHM2LnJvbGUsXG4gICAgICAgICAgc3R5bGUgPSBfdGhpcyRwcm9wczYuc3R5bGUsXG4gICAgICAgICAgdGFiSW5kZXggPSBfdGhpcyRwcm9wczYudGFiSW5kZXgsXG4gICAgICAgICAgd2lkdGggPSBfdGhpcyRwcm9wczYud2lkdGg7XG4gICAgICB2YXIgX3RoaXMkc3RhdGUyID0gdGhpcy5zdGF0ZSxcbiAgICAgICAgICBpbnN0YW5jZVByb3BzID0gX3RoaXMkc3RhdGUyLmluc3RhbmNlUHJvcHMsXG4gICAgICAgICAgbmVlZFRvUmVzZXRTdHlsZUNhY2hlID0gX3RoaXMkc3RhdGUyLm5lZWRUb1Jlc2V0U3R5bGVDYWNoZTtcblxuICAgICAgdmFyIGlzU2Nyb2xsaW5nID0gdGhpcy5faXNTY3JvbGxpbmcoKTtcblxuICAgICAgdmFyIGdyaWRTdHlsZSA9IHtcbiAgICAgICAgYm94U2l6aW5nOiAnYm9yZGVyLWJveCcsXG4gICAgICAgIGRpcmVjdGlvbjogJ2x0cicsXG4gICAgICAgIGhlaWdodDogYXV0b0hlaWdodCA/ICdhdXRvJyA6IGhlaWdodCxcbiAgICAgICAgcG9zaXRpb246ICdyZWxhdGl2ZScsXG4gICAgICAgIHdpZHRoOiBhdXRvV2lkdGggPyAnYXV0bycgOiB3aWR0aCxcbiAgICAgICAgV2Via2l0T3ZlcmZsb3dTY3JvbGxpbmc6ICd0b3VjaCcsXG4gICAgICAgIHdpbGxDaGFuZ2U6ICd0cmFuc2Zvcm0nXG4gICAgICB9O1xuXG4gICAgICBpZiAobmVlZFRvUmVzZXRTdHlsZUNhY2hlKSB7XG4gICAgICAgIHRoaXMuX3N0eWxlQ2FjaGUgPSB7fTtcbiAgICAgIH0gLy8gY2FsY3VsYXRlIF9zdHlsZUNhY2hlIGhlcmVcbiAgICAgIC8vIGlmIHN0YXRlLmlzU2Nyb2xsaW5nIChub3QgZnJvbSBfaXNTY3JvbGxpbmcpIHRoZW4gcmVzZXRcblxuXG4gICAgICBpZiAoIXRoaXMuc3RhdGUuaXNTY3JvbGxpbmcpIHtcbiAgICAgICAgdGhpcy5fcmVzZXRTdHlsZUNhY2hlKCk7XG4gICAgICB9IC8vIGNhbGN1bGF0ZSBjaGlsZHJlbiB0byByZW5kZXIgaGVyZVxuXG5cbiAgICAgIHRoaXMuX2NhbGN1bGF0ZUNoaWxkcmVuVG9SZW5kZXIodGhpcy5wcm9wcywgdGhpcy5zdGF0ZSk7XG5cbiAgICAgIHZhciB0b3RhbENvbHVtbnNXaWR0aCA9IGluc3RhbmNlUHJvcHMuY29sdW1uU2l6ZUFuZFBvc2l0aW9uTWFuYWdlci5nZXRUb3RhbFNpemUoKTtcbiAgICAgIHZhciB0b3RhbFJvd3NIZWlnaHQgPSBpbnN0YW5jZVByb3BzLnJvd1NpemVBbmRQb3NpdGlvbk1hbmFnZXIuZ2V0VG90YWxTaXplKCk7IC8vIEZvcmNlIGJyb3dzZXIgdG8gaGlkZSBzY3JvbGxiYXJzIHdoZW4gd2Uga25vdyB0aGV5IGFyZW4ndCBuZWNlc3NhcnkuXG4gICAgICAvLyBPdGhlcndpc2Ugb25jZSBzY3JvbGxiYXJzIGFwcGVhciB0aGV5IG1heSBub3QgZGlzYXBwZWFyIGFnYWluLlxuICAgICAgLy8gRm9yIG1vcmUgaW5mbyBzZWUgaXNzdWUgIzExNlxuXG4gICAgICB2YXIgdmVydGljYWxTY3JvbGxCYXJTaXplID0gdG90YWxSb3dzSGVpZ2h0ID4gaGVpZ2h0ID8gaW5zdGFuY2VQcm9wcy5zY3JvbGxiYXJTaXplIDogMDtcbiAgICAgIHZhciBob3Jpem9udGFsU2Nyb2xsQmFyU2l6ZSA9IHRvdGFsQ29sdW1uc1dpZHRoID4gd2lkdGggPyBpbnN0YW5jZVByb3BzLnNjcm9sbGJhclNpemUgOiAwO1xuXG4gICAgICBpZiAoaG9yaXpvbnRhbFNjcm9sbEJhclNpemUgIT09IHRoaXMuX2hvcml6b250YWxTY3JvbGxCYXJTaXplIHx8IHZlcnRpY2FsU2Nyb2xsQmFyU2l6ZSAhPT0gdGhpcy5fdmVydGljYWxTY3JvbGxCYXJTaXplKSB7XG4gICAgICAgIHRoaXMuX2hvcml6b250YWxTY3JvbGxCYXJTaXplID0gaG9yaXpvbnRhbFNjcm9sbEJhclNpemU7XG4gICAgICAgIHRoaXMuX3ZlcnRpY2FsU2Nyb2xsQmFyU2l6ZSA9IHZlcnRpY2FsU2Nyb2xsQmFyU2l6ZTtcbiAgICAgICAgdGhpcy5fc2Nyb2xsYmFyUHJlc2VuY2VDaGFuZ2VkID0gdHJ1ZTtcbiAgICAgIH0gLy8gQWxzbyBleHBsaWNpdGx5IGluaXQgc3R5bGVzIHRvICdhdXRvJyBpZiBzY3JvbGxiYXJzIGFyZSByZXF1aXJlZC5cbiAgICAgIC8vIFRoaXMgd29ya3MgYXJvdW5kIGFuIG9ic2N1cmUgZWRnZSBjYXNlIHdoZXJlIGV4dGVybmFsIENTUyBzdHlsZXMgaGF2ZSBub3QgeWV0IGJlZW4gbG9hZGVkLFxuICAgICAgLy8gQnV0IGFuIGluaXRpYWwgc2Nyb2xsIGluZGV4IG9mIG9mZnNldCBpcyBzZXQgYXMgYW4gZXh0ZXJuYWwgcHJvcC5cbiAgICAgIC8vIFdpdGhvdXQgdGhpcyBzdHlsZSwgR3JpZCB3b3VsZCByZW5kZXIgdGhlIGNvcnJlY3QgcmFuZ2Ugb2YgY2VsbHMgYnV0IHdvdWxkIE5PVCB1cGRhdGUgaXRzIGludGVybmFsIG9mZnNldC5cbiAgICAgIC8vIFRoaXMgd2FzIG9yaWdpbmFsbHkgcmVwb3J0ZWQgdmlhIGNsYXVkZXJpYy9yZWFjdC1pbmZpbml0ZS1jYWxlbmRhci9pc3N1ZXMvMjNcblxuXG4gICAgICBncmlkU3R5bGUub3ZlcmZsb3dYID0gdG90YWxDb2x1bW5zV2lkdGggKyB2ZXJ0aWNhbFNjcm9sbEJhclNpemUgPD0gd2lkdGggPyAnaGlkZGVuJyA6ICdhdXRvJztcbiAgICAgIGdyaWRTdHlsZS5vdmVyZmxvd1kgPSB0b3RhbFJvd3NIZWlnaHQgKyBob3Jpem9udGFsU2Nyb2xsQmFyU2l6ZSA8PSBoZWlnaHQgPyAnaGlkZGVuJyA6ICdhdXRvJztcbiAgICAgIHZhciBjaGlsZHJlblRvRGlzcGxheSA9IHRoaXMuX2NoaWxkcmVuVG9EaXNwbGF5O1xuICAgICAgdmFyIHNob3dOb0NvbnRlbnRSZW5kZXJlciA9IGNoaWxkcmVuVG9EaXNwbGF5Lmxlbmd0aCA9PT0gMCAmJiBoZWlnaHQgPiAwICYmIHdpZHRoID4gMDtcbiAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIF9leHRlbmRzKHtcbiAgICAgICAgcmVmOiB0aGlzLl9zZXRTY3JvbGxpbmdDb250YWluZXJSZWZcbiAgICAgIH0sIGNvbnRhaW5lclByb3BzLCB7XG4gICAgICAgIFwiYXJpYS1sYWJlbFwiOiB0aGlzLnByb3BzWydhcmlhLWxhYmVsJ10sXG4gICAgICAgIFwiYXJpYS1yZWFkb25seVwiOiB0aGlzLnByb3BzWydhcmlhLXJlYWRvbmx5J10sXG4gICAgICAgIGNsYXNzTmFtZTogY2xzeCgnUmVhY3RWaXJ0dWFsaXplZF9fR3JpZCcsIGNsYXNzTmFtZSksXG4gICAgICAgIGlkOiBpZCxcbiAgICAgICAgb25TY3JvbGw6IHRoaXMuX29uU2Nyb2xsLFxuICAgICAgICByb2xlOiByb2xlLFxuICAgICAgICBzdHlsZTogX29iamVjdFNwcmVhZCh7fSwgZ3JpZFN0eWxlLCB7fSwgc3R5bGUpLFxuICAgICAgICB0YWJJbmRleDogdGFiSW5kZXhcbiAgICAgIH0pLCBjaGlsZHJlblRvRGlzcGxheS5sZW5ndGggPiAwICYmIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgICBjbGFzc05hbWU6IFwiUmVhY3RWaXJ0dWFsaXplZF9fR3JpZF9faW5uZXJTY3JvbGxDb250YWluZXJcIixcbiAgICAgICAgcm9sZTogY29udGFpbmVyUm9sZSxcbiAgICAgICAgc3R5bGU6IF9vYmplY3RTcHJlYWQoe1xuICAgICAgICAgIHdpZHRoOiBhdXRvQ29udGFpbmVyV2lkdGggPyAnYXV0bycgOiB0b3RhbENvbHVtbnNXaWR0aCxcbiAgICAgICAgICBoZWlnaHQ6IHRvdGFsUm93c0hlaWdodCxcbiAgICAgICAgICBtYXhXaWR0aDogdG90YWxDb2x1bW5zV2lkdGgsXG4gICAgICAgICAgbWF4SGVpZ2h0OiB0b3RhbFJvd3NIZWlnaHQsXG4gICAgICAgICAgb3ZlcmZsb3c6ICdoaWRkZW4nLFxuICAgICAgICAgIHBvaW50ZXJFdmVudHM6IGlzU2Nyb2xsaW5nID8gJ25vbmUnIDogJycsXG4gICAgICAgICAgcG9zaXRpb246ICdyZWxhdGl2ZSdcbiAgICAgICAgfSwgY29udGFpbmVyU3R5bGUpXG4gICAgICB9LCBjaGlsZHJlblRvRGlzcGxheSksIHNob3dOb0NvbnRlbnRSZW5kZXJlciAmJiBub0NvbnRlbnRSZW5kZXJlcigpKTtcbiAgICB9XG4gICAgLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBIZWxwZXIgbWV0aG9kcyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXG5cbiAgfSwge1xuICAgIGtleTogXCJfY2FsY3VsYXRlQ2hpbGRyZW5Ub1JlbmRlclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfY2FsY3VsYXRlQ2hpbGRyZW5Ub1JlbmRlcigpIHtcbiAgICAgIHZhciBwcm9wcyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogdGhpcy5wcm9wcztcbiAgICAgIHZhciBzdGF0ZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogdGhpcy5zdGF0ZTtcbiAgICAgIHZhciBjZWxsUmVuZGVyZXIgPSBwcm9wcy5jZWxsUmVuZGVyZXIsXG4gICAgICAgICAgY2VsbFJhbmdlUmVuZGVyZXIgPSBwcm9wcy5jZWxsUmFuZ2VSZW5kZXJlcixcbiAgICAgICAgICBjb2x1bW5Db3VudCA9IHByb3BzLmNvbHVtbkNvdW50LFxuICAgICAgICAgIGRlZmVycmVkTWVhc3VyZW1lbnRDYWNoZSA9IHByb3BzLmRlZmVycmVkTWVhc3VyZW1lbnRDYWNoZSxcbiAgICAgICAgICBoZWlnaHQgPSBwcm9wcy5oZWlnaHQsXG4gICAgICAgICAgb3ZlcnNjYW5Db2x1bW5Db3VudCA9IHByb3BzLm92ZXJzY2FuQ29sdW1uQ291bnQsXG4gICAgICAgICAgb3ZlcnNjYW5JbmRpY2VzR2V0dGVyID0gcHJvcHMub3ZlcnNjYW5JbmRpY2VzR2V0dGVyLFxuICAgICAgICAgIG92ZXJzY2FuUm93Q291bnQgPSBwcm9wcy5vdmVyc2NhblJvd0NvdW50LFxuICAgICAgICAgIHJvd0NvdW50ID0gcHJvcHMucm93Q291bnQsXG4gICAgICAgICAgd2lkdGggPSBwcm9wcy53aWR0aCxcbiAgICAgICAgICBpc1Njcm9sbGluZ09wdE91dCA9IHByb3BzLmlzU2Nyb2xsaW5nT3B0T3V0O1xuICAgICAgdmFyIHNjcm9sbERpcmVjdGlvbkhvcml6b250YWwgPSBzdGF0ZS5zY3JvbGxEaXJlY3Rpb25Ib3Jpem9udGFsLFxuICAgICAgICAgIHNjcm9sbERpcmVjdGlvblZlcnRpY2FsID0gc3RhdGUuc2Nyb2xsRGlyZWN0aW9uVmVydGljYWwsXG4gICAgICAgICAgaW5zdGFuY2VQcm9wcyA9IHN0YXRlLmluc3RhbmNlUHJvcHM7XG4gICAgICB2YXIgc2Nyb2xsVG9wID0gdGhpcy5faW5pdGlhbFNjcm9sbFRvcCA+IDAgPyB0aGlzLl9pbml0aWFsU2Nyb2xsVG9wIDogc3RhdGUuc2Nyb2xsVG9wO1xuICAgICAgdmFyIHNjcm9sbExlZnQgPSB0aGlzLl9pbml0aWFsU2Nyb2xsTGVmdCA+IDAgPyB0aGlzLl9pbml0aWFsU2Nyb2xsTGVmdCA6IHN0YXRlLnNjcm9sbExlZnQ7XG5cbiAgICAgIHZhciBpc1Njcm9sbGluZyA9IHRoaXMuX2lzU2Nyb2xsaW5nKHByb3BzLCBzdGF0ZSk7XG5cbiAgICAgIHRoaXMuX2NoaWxkcmVuVG9EaXNwbGF5ID0gW107IC8vIFJlbmRlciBvbmx5IGVub3VnaCBjb2x1bW5zIGFuZCByb3dzIHRvIGNvdmVyIHRoZSB2aXNpYmxlIGFyZWEgb2YgdGhlIGdyaWQuXG5cbiAgICAgIGlmIChoZWlnaHQgPiAwICYmIHdpZHRoID4gMCkge1xuICAgICAgICB2YXIgdmlzaWJsZUNvbHVtbkluZGljZXMgPSBpbnN0YW5jZVByb3BzLmNvbHVtblNpemVBbmRQb3NpdGlvbk1hbmFnZXIuZ2V0VmlzaWJsZUNlbGxSYW5nZSh7XG4gICAgICAgICAgY29udGFpbmVyU2l6ZTogd2lkdGgsXG4gICAgICAgICAgb2Zmc2V0OiBzY3JvbGxMZWZ0XG4gICAgICAgIH0pO1xuICAgICAgICB2YXIgdmlzaWJsZVJvd0luZGljZXMgPSBpbnN0YW5jZVByb3BzLnJvd1NpemVBbmRQb3NpdGlvbk1hbmFnZXIuZ2V0VmlzaWJsZUNlbGxSYW5nZSh7XG4gICAgICAgICAgY29udGFpbmVyU2l6ZTogaGVpZ2h0LFxuICAgICAgICAgIG9mZnNldDogc2Nyb2xsVG9wXG4gICAgICAgIH0pO1xuICAgICAgICB2YXIgaG9yaXpvbnRhbE9mZnNldEFkanVzdG1lbnQgPSBpbnN0YW5jZVByb3BzLmNvbHVtblNpemVBbmRQb3NpdGlvbk1hbmFnZXIuZ2V0T2Zmc2V0QWRqdXN0bWVudCh7XG4gICAgICAgICAgY29udGFpbmVyU2l6ZTogd2lkdGgsXG4gICAgICAgICAgb2Zmc2V0OiBzY3JvbGxMZWZ0XG4gICAgICAgIH0pO1xuICAgICAgICB2YXIgdmVydGljYWxPZmZzZXRBZGp1c3RtZW50ID0gaW5zdGFuY2VQcm9wcy5yb3dTaXplQW5kUG9zaXRpb25NYW5hZ2VyLmdldE9mZnNldEFkanVzdG1lbnQoe1xuICAgICAgICAgIGNvbnRhaW5lclNpemU6IGhlaWdodCxcbiAgICAgICAgICBvZmZzZXQ6IHNjcm9sbFRvcFxuICAgICAgICB9KTsgLy8gU3RvcmUgZm9yIF9pbnZva2VPbkdyaWRSZW5kZXJlZEhlbHBlcigpXG5cbiAgICAgICAgdGhpcy5fcmVuZGVyZWRDb2x1bW5TdGFydEluZGV4ID0gdmlzaWJsZUNvbHVtbkluZGljZXMuc3RhcnQ7XG4gICAgICAgIHRoaXMuX3JlbmRlcmVkQ29sdW1uU3RvcEluZGV4ID0gdmlzaWJsZUNvbHVtbkluZGljZXMuc3RvcDtcbiAgICAgICAgdGhpcy5fcmVuZGVyZWRSb3dTdGFydEluZGV4ID0gdmlzaWJsZVJvd0luZGljZXMuc3RhcnQ7XG4gICAgICAgIHRoaXMuX3JlbmRlcmVkUm93U3RvcEluZGV4ID0gdmlzaWJsZVJvd0luZGljZXMuc3RvcDtcbiAgICAgICAgdmFyIG92ZXJzY2FuQ29sdW1uSW5kaWNlcyA9IG92ZXJzY2FuSW5kaWNlc0dldHRlcih7XG4gICAgICAgICAgZGlyZWN0aW9uOiAnaG9yaXpvbnRhbCcsXG4gICAgICAgICAgY2VsbENvdW50OiBjb2x1bW5Db3VudCxcbiAgICAgICAgICBvdmVyc2NhbkNlbGxzQ291bnQ6IG92ZXJzY2FuQ29sdW1uQ291bnQsXG4gICAgICAgICAgc2Nyb2xsRGlyZWN0aW9uOiBzY3JvbGxEaXJlY3Rpb25Ib3Jpem9udGFsLFxuICAgICAgICAgIHN0YXJ0SW5kZXg6IHR5cGVvZiB2aXNpYmxlQ29sdW1uSW5kaWNlcy5zdGFydCA9PT0gJ251bWJlcicgPyB2aXNpYmxlQ29sdW1uSW5kaWNlcy5zdGFydCA6IDAsXG4gICAgICAgICAgc3RvcEluZGV4OiB0eXBlb2YgdmlzaWJsZUNvbHVtbkluZGljZXMuc3RvcCA9PT0gJ251bWJlcicgPyB2aXNpYmxlQ29sdW1uSW5kaWNlcy5zdG9wIDogLTFcbiAgICAgICAgfSk7XG4gICAgICAgIHZhciBvdmVyc2NhblJvd0luZGljZXMgPSBvdmVyc2NhbkluZGljZXNHZXR0ZXIoe1xuICAgICAgICAgIGRpcmVjdGlvbjogJ3ZlcnRpY2FsJyxcbiAgICAgICAgICBjZWxsQ291bnQ6IHJvd0NvdW50LFxuICAgICAgICAgIG92ZXJzY2FuQ2VsbHNDb3VudDogb3ZlcnNjYW5Sb3dDb3VudCxcbiAgICAgICAgICBzY3JvbGxEaXJlY3Rpb246IHNjcm9sbERpcmVjdGlvblZlcnRpY2FsLFxuICAgICAgICAgIHN0YXJ0SW5kZXg6IHR5cGVvZiB2aXNpYmxlUm93SW5kaWNlcy5zdGFydCA9PT0gJ251bWJlcicgPyB2aXNpYmxlUm93SW5kaWNlcy5zdGFydCA6IDAsXG4gICAgICAgICAgc3RvcEluZGV4OiB0eXBlb2YgdmlzaWJsZVJvd0luZGljZXMuc3RvcCA9PT0gJ251bWJlcicgPyB2aXNpYmxlUm93SW5kaWNlcy5zdG9wIDogLTFcbiAgICAgICAgfSk7IC8vIFN0b3JlIGZvciBfaW52b2tlT25HcmlkUmVuZGVyZWRIZWxwZXIoKVxuXG4gICAgICAgIHZhciBjb2x1bW5TdGFydEluZGV4ID0gb3ZlcnNjYW5Db2x1bW5JbmRpY2VzLm92ZXJzY2FuU3RhcnRJbmRleDtcbiAgICAgICAgdmFyIGNvbHVtblN0b3BJbmRleCA9IG92ZXJzY2FuQ29sdW1uSW5kaWNlcy5vdmVyc2NhblN0b3BJbmRleDtcbiAgICAgICAgdmFyIHJvd1N0YXJ0SW5kZXggPSBvdmVyc2NhblJvd0luZGljZXMub3ZlcnNjYW5TdGFydEluZGV4O1xuICAgICAgICB2YXIgcm93U3RvcEluZGV4ID0gb3ZlcnNjYW5Sb3dJbmRpY2VzLm92ZXJzY2FuU3RvcEluZGV4OyAvLyBBZHZhbmNlZCB1c2UtY2FzZXMgKGVnIENlbGxNZWFzdXJlcikgcmVxdWlyZSBiYXRjaGVkIG1lYXN1cmVtZW50cyB0byBkZXRlcm1pbmUgYWNjdXJhdGUgc2l6ZXMuXG5cbiAgICAgICAgaWYgKGRlZmVycmVkTWVhc3VyZW1lbnRDYWNoZSkge1xuICAgICAgICAgIC8vIElmIHJvd3MgaGF2ZSBhIGR5bmFtaWMgaGVpZ2h0LCBzY2FuIHRoZSByb3dzIHdlIGFyZSBhYm91dCB0byByZW5kZXIuXG4gICAgICAgICAgLy8gSWYgYW55IGhhdmUgbm90IHlldCBiZWVuIG1lYXN1cmVkLCB0aGVuIHdlIG5lZWQgdG8gcmVuZGVyIGFsbCBjb2x1bW5zIGluaXRpYWxseSxcbiAgICAgICAgICAvLyBCZWNhdXNlIHRoZSBoZWlnaHQgb2YgdGhlIHJvdyBpcyBlcXVhbCB0byB0aGUgdGFsbGVzdCBjZWxsIHdpdGhpbiB0aGF0IHJvdyxcbiAgICAgICAgICAvLyAoQW5kIHNvIHdlIGNhbid0IGtub3cgdGhlIGhlaWdodCB3aXRob3V0IG1lYXN1cmluZyBhbGwgY29sdW1uLWNlbGxzIGZpcnN0KS5cbiAgICAgICAgICBpZiAoIWRlZmVycmVkTWVhc3VyZW1lbnRDYWNoZS5oYXNGaXhlZEhlaWdodCgpKSB7XG4gICAgICAgICAgICBmb3IgKHZhciByb3dJbmRleCA9IHJvd1N0YXJ0SW5kZXg7IHJvd0luZGV4IDw9IHJvd1N0b3BJbmRleDsgcm93SW5kZXgrKykge1xuICAgICAgICAgICAgICBpZiAoIWRlZmVycmVkTWVhc3VyZW1lbnRDYWNoZS5oYXMocm93SW5kZXgsIDApKSB7XG4gICAgICAgICAgICAgICAgY29sdW1uU3RhcnRJbmRleCA9IDA7XG4gICAgICAgICAgICAgICAgY29sdW1uU3RvcEluZGV4ID0gY29sdW1uQ291bnQgLSAxO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSAvLyBJZiBjb2x1bW5zIGhhdmUgYSBkeW5hbWljIHdpZHRoLCBzY2FuIHRoZSBjb2x1bW5zIHdlIGFyZSBhYm91dCB0byByZW5kZXIuXG4gICAgICAgICAgLy8gSWYgYW55IGhhdmUgbm90IHlldCBiZWVuIG1lYXN1cmVkLCB0aGVuIHdlIG5lZWQgdG8gcmVuZGVyIGFsbCByb3dzIGluaXRpYWxseSxcbiAgICAgICAgICAvLyBCZWNhdXNlIHRoZSB3aWR0aCBvZiB0aGUgY29sdW1uIGlzIGVxdWFsIHRvIHRoZSB3aWRlc3QgY2VsbCB3aXRoaW4gdGhhdCBjb2x1bW4sXG4gICAgICAgICAgLy8gKEFuZCBzbyB3ZSBjYW4ndCBrbm93IHRoZSB3aWR0aCB3aXRob3V0IG1lYXN1cmluZyBhbGwgcm93LWNlbGxzIGZpcnN0KS5cblxuXG4gICAgICAgICAgaWYgKCFkZWZlcnJlZE1lYXN1cmVtZW50Q2FjaGUuaGFzRml4ZWRXaWR0aCgpKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBjb2x1bW5JbmRleCA9IGNvbHVtblN0YXJ0SW5kZXg7IGNvbHVtbkluZGV4IDw9IGNvbHVtblN0b3BJbmRleDsgY29sdW1uSW5kZXgrKykge1xuICAgICAgICAgICAgICBpZiAoIWRlZmVycmVkTWVhc3VyZW1lbnRDYWNoZS5oYXMoMCwgY29sdW1uSW5kZXgpKSB7XG4gICAgICAgICAgICAgICAgcm93U3RhcnRJbmRleCA9IDA7XG4gICAgICAgICAgICAgICAgcm93U3RvcEluZGV4ID0gcm93Q291bnQgLSAxO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fY2hpbGRyZW5Ub0Rpc3BsYXkgPSBjZWxsUmFuZ2VSZW5kZXJlcih7XG4gICAgICAgICAgY2VsbENhY2hlOiB0aGlzLl9jZWxsQ2FjaGUsXG4gICAgICAgICAgY2VsbFJlbmRlcmVyOiBjZWxsUmVuZGVyZXIsXG4gICAgICAgICAgY29sdW1uU2l6ZUFuZFBvc2l0aW9uTWFuYWdlcjogaW5zdGFuY2VQcm9wcy5jb2x1bW5TaXplQW5kUG9zaXRpb25NYW5hZ2VyLFxuICAgICAgICAgIGNvbHVtblN0YXJ0SW5kZXg6IGNvbHVtblN0YXJ0SW5kZXgsXG4gICAgICAgICAgY29sdW1uU3RvcEluZGV4OiBjb2x1bW5TdG9wSW5kZXgsXG4gICAgICAgICAgZGVmZXJyZWRNZWFzdXJlbWVudENhY2hlOiBkZWZlcnJlZE1lYXN1cmVtZW50Q2FjaGUsXG4gICAgICAgICAgaG9yaXpvbnRhbE9mZnNldEFkanVzdG1lbnQ6IGhvcml6b250YWxPZmZzZXRBZGp1c3RtZW50LFxuICAgICAgICAgIGlzU2Nyb2xsaW5nOiBpc1Njcm9sbGluZyxcbiAgICAgICAgICBpc1Njcm9sbGluZ09wdE91dDogaXNTY3JvbGxpbmdPcHRPdXQsXG4gICAgICAgICAgcGFyZW50OiB0aGlzLFxuICAgICAgICAgIHJvd1NpemVBbmRQb3NpdGlvbk1hbmFnZXI6IGluc3RhbmNlUHJvcHMucm93U2l6ZUFuZFBvc2l0aW9uTWFuYWdlcixcbiAgICAgICAgICByb3dTdGFydEluZGV4OiByb3dTdGFydEluZGV4LFxuICAgICAgICAgIHJvd1N0b3BJbmRleDogcm93U3RvcEluZGV4LFxuICAgICAgICAgIHNjcm9sbExlZnQ6IHNjcm9sbExlZnQsXG4gICAgICAgICAgc2Nyb2xsVG9wOiBzY3JvbGxUb3AsXG4gICAgICAgICAgc3R5bGVDYWNoZTogdGhpcy5fc3R5bGVDYWNoZSxcbiAgICAgICAgICB2ZXJ0aWNhbE9mZnNldEFkanVzdG1lbnQ6IHZlcnRpY2FsT2Zmc2V0QWRqdXN0bWVudCxcbiAgICAgICAgICB2aXNpYmxlQ29sdW1uSW5kaWNlczogdmlzaWJsZUNvbHVtbkluZGljZXMsXG4gICAgICAgICAgdmlzaWJsZVJvd0luZGljZXM6IHZpc2libGVSb3dJbmRpY2VzXG4gICAgICAgIH0pOyAvLyB1cGRhdGUgdGhlIGluZGljZXNcblxuICAgICAgICB0aGlzLl9jb2x1bW5TdGFydEluZGV4ID0gY29sdW1uU3RhcnRJbmRleDtcbiAgICAgICAgdGhpcy5fY29sdW1uU3RvcEluZGV4ID0gY29sdW1uU3RvcEluZGV4O1xuICAgICAgICB0aGlzLl9yb3dTdGFydEluZGV4ID0gcm93U3RhcnRJbmRleDtcbiAgICAgICAgdGhpcy5fcm93U3RvcEluZGV4ID0gcm93U3RvcEluZGV4O1xuICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXRzIGFuIDppc1Njcm9sbGluZyBmbGFnIGZvciBhIHNtYWxsIHdpbmRvdyBvZiB0aW1lLlxuICAgICAqIFRoaXMgZmxhZyBpcyB1c2VkIHRvIGRpc2FibGUgcG9pbnRlciBldmVudHMgb24gdGhlIHNjcm9sbGFibGUgcG9ydGlvbiBvZiB0aGUgR3JpZC5cbiAgICAgKiBUaGlzIHByZXZlbnRzIGplcmt5L3N0dXR0ZXJ5IG1vdXNlLXdoZWVsIHNjcm9sbGluZy5cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcIl9kZWJvdW5jZVNjcm9sbEVuZGVkXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9kZWJvdW5jZVNjcm9sbEVuZGVkKCkge1xuICAgICAgdmFyIHNjcm9sbGluZ1Jlc2V0VGltZUludGVydmFsID0gdGhpcy5wcm9wcy5zY3JvbGxpbmdSZXNldFRpbWVJbnRlcnZhbDtcblxuICAgICAgaWYgKHRoaXMuX2Rpc2FibGVQb2ludGVyRXZlbnRzVGltZW91dElkKSB7XG4gICAgICAgIGNhbmNlbEFuaW1hdGlvblRpbWVvdXQodGhpcy5fZGlzYWJsZVBvaW50ZXJFdmVudHNUaW1lb3V0SWQpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLl9kaXNhYmxlUG9pbnRlckV2ZW50c1RpbWVvdXRJZCA9IHJlcXVlc3RBbmltYXRpb25UaW1lb3V0KHRoaXMuX2RlYm91bmNlU2Nyb2xsRW5kZWRDYWxsYmFjaywgc2Nyb2xsaW5nUmVzZXRUaW1lSW50ZXJ2YWwpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJfaGFuZGxlSW52YWxpZGF0ZWRHcmlkU2l6ZVwiLFxuXG4gICAgLyoqXG4gICAgICogQ2hlY2sgZm9yIGJhdGNoZWQgQ2VsbE1lYXN1cmVyIHNpemUgaW52YWxpZGF0aW9ucy5cbiAgICAgKiBUaGlzIHdpbGwgb2NjdXIgdGhlIGZpcnN0IHRpbWUgb25lIG9yIG1vcmUgcHJldmlvdXNseSB1bm1lYXN1cmVkIGNlbGxzIGFyZSByZW5kZXJlZC5cbiAgICAgKi9cbiAgICB2YWx1ZTogZnVuY3Rpb24gX2hhbmRsZUludmFsaWRhdGVkR3JpZFNpemUoKSB7XG4gICAgICBpZiAodHlwZW9mIHRoaXMuX2RlZmVycmVkSW52YWxpZGF0ZUNvbHVtbkluZGV4ID09PSAnbnVtYmVyJyAmJiB0eXBlb2YgdGhpcy5fZGVmZXJyZWRJbnZhbGlkYXRlUm93SW5kZXggPT09ICdudW1iZXInKSB7XG4gICAgICAgIHZhciBjb2x1bW5JbmRleCA9IHRoaXMuX2RlZmVycmVkSW52YWxpZGF0ZUNvbHVtbkluZGV4O1xuICAgICAgICB2YXIgcm93SW5kZXggPSB0aGlzLl9kZWZlcnJlZEludmFsaWRhdGVSb3dJbmRleDtcbiAgICAgICAgdGhpcy5fZGVmZXJyZWRJbnZhbGlkYXRlQ29sdW1uSW5kZXggPSBudWxsO1xuICAgICAgICB0aGlzLl9kZWZlcnJlZEludmFsaWRhdGVSb3dJbmRleCA9IG51bGw7XG4gICAgICAgIHRoaXMucmVjb21wdXRlR3JpZFNpemUoe1xuICAgICAgICAgIGNvbHVtbkluZGV4OiBjb2x1bW5JbmRleCxcbiAgICAgICAgICByb3dJbmRleDogcm93SW5kZXhcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIl9pbnZva2VPblNjcm9sbE1lbW9pemVyXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9pbnZva2VPblNjcm9sbE1lbW9pemVyKF9yZWY2KSB7XG4gICAgICB2YXIgX3RoaXMzID0gdGhpcztcblxuICAgICAgdmFyIHNjcm9sbExlZnQgPSBfcmVmNi5zY3JvbGxMZWZ0LFxuICAgICAgICAgIHNjcm9sbFRvcCA9IF9yZWY2LnNjcm9sbFRvcCxcbiAgICAgICAgICB0b3RhbENvbHVtbnNXaWR0aCA9IF9yZWY2LnRvdGFsQ29sdW1uc1dpZHRoLFxuICAgICAgICAgIHRvdGFsUm93c0hlaWdodCA9IF9yZWY2LnRvdGFsUm93c0hlaWdodDtcblxuICAgICAgdGhpcy5fb25TY3JvbGxNZW1vaXplcih7XG4gICAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbiBjYWxsYmFjayhfcmVmNykge1xuICAgICAgICAgIHZhciBzY3JvbGxMZWZ0ID0gX3JlZjcuc2Nyb2xsTGVmdCxcbiAgICAgICAgICAgICAgc2Nyb2xsVG9wID0gX3JlZjcuc2Nyb2xsVG9wO1xuICAgICAgICAgIHZhciBfdGhpczMkcHJvcHMgPSBfdGhpczMucHJvcHMsXG4gICAgICAgICAgICAgIGhlaWdodCA9IF90aGlzMyRwcm9wcy5oZWlnaHQsXG4gICAgICAgICAgICAgIG9uU2Nyb2xsID0gX3RoaXMzJHByb3BzLm9uU2Nyb2xsLFxuICAgICAgICAgICAgICB3aWR0aCA9IF90aGlzMyRwcm9wcy53aWR0aDtcbiAgICAgICAgICBvblNjcm9sbCh7XG4gICAgICAgICAgICBjbGllbnRIZWlnaHQ6IGhlaWdodCxcbiAgICAgICAgICAgIGNsaWVudFdpZHRoOiB3aWR0aCxcbiAgICAgICAgICAgIHNjcm9sbEhlaWdodDogdG90YWxSb3dzSGVpZ2h0LFxuICAgICAgICAgICAgc2Nyb2xsTGVmdDogc2Nyb2xsTGVmdCxcbiAgICAgICAgICAgIHNjcm9sbFRvcDogc2Nyb2xsVG9wLFxuICAgICAgICAgICAgc2Nyb2xsV2lkdGg6IHRvdGFsQ29sdW1uc1dpZHRoXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIGluZGljZXM6IHtcbiAgICAgICAgICBzY3JvbGxMZWZ0OiBzY3JvbGxMZWZ0LFxuICAgICAgICAgIHNjcm9sbFRvcDogc2Nyb2xsVG9wXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJfaXNTY3JvbGxpbmdcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gX2lzU2Nyb2xsaW5nKCkge1xuICAgICAgdmFyIHByb3BzID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB0aGlzLnByb3BzO1xuICAgICAgdmFyIHN0YXRlID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB0aGlzLnN0YXRlO1xuICAgICAgLy8gSWYgaXNTY3JvbGxpbmcgaXMgZGVmaW5lZCBpbiBwcm9wcywgdXNlIGl0IHRvIG92ZXJyaWRlIHRoZSB2YWx1ZSBpbiBzdGF0ZVxuICAgICAgLy8gVGhpcyBpcyBhIHBlcmZvcm1hbmNlIG9wdGltaXphdGlvbiBmb3IgV2luZG93U2Nyb2xsZXIgKyBHcmlkXG4gICAgICByZXR1cm4gT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwocHJvcHMsICdpc1Njcm9sbGluZycpID8gQm9vbGVhbihwcm9wcy5pc1Njcm9sbGluZykgOiBCb29sZWFuKHN0YXRlLmlzU2Nyb2xsaW5nKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiX21heWJlQ2FsbE9uU2Nyb2xsYmFyUHJlc2VuY2VDaGFuZ2VcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gX21heWJlQ2FsbE9uU2Nyb2xsYmFyUHJlc2VuY2VDaGFuZ2UoKSB7XG4gICAgICBpZiAodGhpcy5fc2Nyb2xsYmFyUHJlc2VuY2VDaGFuZ2VkKSB7XG4gICAgICAgIHZhciBvblNjcm9sbGJhclByZXNlbmNlQ2hhbmdlID0gdGhpcy5wcm9wcy5vblNjcm9sbGJhclByZXNlbmNlQ2hhbmdlO1xuICAgICAgICB0aGlzLl9zY3JvbGxiYXJQcmVzZW5jZUNoYW5nZWQgPSBmYWxzZTtcbiAgICAgICAgb25TY3JvbGxiYXJQcmVzZW5jZUNoYW5nZSh7XG4gICAgICAgICAgaG9yaXpvbnRhbDogdGhpcy5faG9yaXpvbnRhbFNjcm9sbEJhclNpemUgPiAwLFxuICAgICAgICAgIHNpemU6IHRoaXMuc3RhdGUuaW5zdGFuY2VQcm9wcy5zY3JvbGxiYXJTaXplLFxuICAgICAgICAgIHZlcnRpY2FsOiB0aGlzLl92ZXJ0aWNhbFNjcm9sbEJhclNpemUgPiAwXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJzY3JvbGxUb1Bvc2l0aW9uXCIsXG5cbiAgICAvKipcbiAgICAgKiBTY3JvbGwgdG8gdGhlIHNwZWNpZmllZCBvZmZzZXQocykuXG4gICAgICogVXNlZnVsIGZvciBhbmltYXRpbmcgcG9zaXRpb24gY2hhbmdlcy5cbiAgICAgKi9cbiAgICB2YWx1ZTogZnVuY3Rpb24gc2Nyb2xsVG9Qb3NpdGlvbihfcmVmOCkge1xuICAgICAgdmFyIHNjcm9sbExlZnQgPSBfcmVmOC5zY3JvbGxMZWZ0LFxuICAgICAgICAgIHNjcm9sbFRvcCA9IF9yZWY4LnNjcm9sbFRvcDtcblxuICAgICAgdmFyIHN0YXRlVXBkYXRlID0gR3JpZC5fZ2V0U2Nyb2xsVG9Qb3NpdGlvblN0YXRlVXBkYXRlKHtcbiAgICAgICAgcHJldlN0YXRlOiB0aGlzLnN0YXRlLFxuICAgICAgICBzY3JvbGxMZWZ0OiBzY3JvbGxMZWZ0LFxuICAgICAgICBzY3JvbGxUb3A6IHNjcm9sbFRvcFxuICAgICAgfSk7XG5cbiAgICAgIGlmIChzdGF0ZVVwZGF0ZSkge1xuICAgICAgICBzdGF0ZVVwZGF0ZS5uZWVkVG9SZXNldFN0eWxlQ2FjaGUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZShzdGF0ZVVwZGF0ZSk7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIl9nZXRDYWxjdWxhdGVkU2Nyb2xsTGVmdFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfZ2V0Q2FsY3VsYXRlZFNjcm9sbExlZnQoKSB7XG4gICAgICB2YXIgcHJvcHMgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHRoaXMucHJvcHM7XG4gICAgICB2YXIgc3RhdGUgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHRoaXMuc3RhdGU7XG4gICAgICByZXR1cm4gR3JpZC5fZ2V0Q2FsY3VsYXRlZFNjcm9sbExlZnQocHJvcHMsIHN0YXRlKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiX3VwZGF0ZVNjcm9sbExlZnRGb3JTY3JvbGxUb0NvbHVtblwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfdXBkYXRlU2Nyb2xsTGVmdEZvclNjcm9sbFRvQ29sdW1uKCkge1xuICAgICAgdmFyIHByb3BzID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB0aGlzLnByb3BzO1xuICAgICAgdmFyIHN0YXRlID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB0aGlzLnN0YXRlO1xuXG4gICAgICB2YXIgc3RhdGVVcGRhdGUgPSBHcmlkLl9nZXRTY3JvbGxMZWZ0Rm9yU2Nyb2xsVG9Db2x1bW5TdGF0ZVVwZGF0ZShwcm9wcywgc3RhdGUpO1xuXG4gICAgICBpZiAoc3RhdGVVcGRhdGUpIHtcbiAgICAgICAgc3RhdGVVcGRhdGUubmVlZFRvUmVzZXRTdHlsZUNhY2hlID0gZmFsc2U7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoc3RhdGVVcGRhdGUpO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJfZ2V0Q2FsY3VsYXRlZFNjcm9sbFRvcFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfZ2V0Q2FsY3VsYXRlZFNjcm9sbFRvcCgpIHtcbiAgICAgIHZhciBwcm9wcyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogdGhpcy5wcm9wcztcbiAgICAgIHZhciBzdGF0ZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogdGhpcy5zdGF0ZTtcbiAgICAgIHJldHVybiBHcmlkLl9nZXRDYWxjdWxhdGVkU2Nyb2xsVG9wKHByb3BzLCBzdGF0ZSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIl9yZXNldFN0eWxlQ2FjaGVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gX3Jlc2V0U3R5bGVDYWNoZSgpIHtcbiAgICAgIHZhciBzdHlsZUNhY2hlID0gdGhpcy5fc3R5bGVDYWNoZTtcbiAgICAgIHZhciBjZWxsQ2FjaGUgPSB0aGlzLl9jZWxsQ2FjaGU7XG4gICAgICB2YXIgaXNTY3JvbGxpbmdPcHRPdXQgPSB0aGlzLnByb3BzLmlzU2Nyb2xsaW5nT3B0T3V0OyAvLyBSZXNldCBjZWxsIGFuZCBzdHlsZSBjYWNoZXMgb25jZSBzY3JvbGxpbmcgc3RvcHMuXG4gICAgICAvLyBUaGlzIG1ha2VzIEdyaWQgc2ltcGxlciB0byB1c2UgKHNpbmNlIGNlbGxzIGNvbW1vbmx5IGNoYW5nZSkuXG4gICAgICAvLyBBbmQgaXQga2VlcHMgdGhlIGNhY2hlcyBmcm9tIGdyb3dpbmcgdG9vIGxhcmdlLlxuICAgICAgLy8gUGVyZm9ybWFuY2UgaXMgbW9zdCBzZW5zaXRpdmUgd2hlbiBhIHVzZXIgaXMgc2Nyb2xsaW5nLlxuICAgICAgLy8gRG9uJ3QgY2xlYXIgdmlzaWJsZSBjZWxscyBmcm9tIGNlbGxDYWNoZSBpZiBpc1Njcm9sbGluZ09wdE91dCBpcyBzcGVjaWZpZWQuXG4gICAgICAvLyBUaGlzIGtlZXBzIHRoZSBjZWxsQ2FjaGUgdG8gYSByZXNvbmFibGUgc2l6ZS5cblxuICAgICAgdGhpcy5fY2VsbENhY2hlID0ge307XG4gICAgICB0aGlzLl9zdHlsZUNhY2hlID0ge307IC8vIENvcHkgb3ZlciB0aGUgdmlzaWJsZSBjZWxsIHN0eWxlcyBzbyBhdm9pZCB1bm5lY2Vzc2FyeSByZS1yZW5kZXIuXG5cbiAgICAgIGZvciAodmFyIHJvd0luZGV4ID0gdGhpcy5fcm93U3RhcnRJbmRleDsgcm93SW5kZXggPD0gdGhpcy5fcm93U3RvcEluZGV4OyByb3dJbmRleCsrKSB7XG4gICAgICAgIGZvciAodmFyIGNvbHVtbkluZGV4ID0gdGhpcy5fY29sdW1uU3RhcnRJbmRleDsgY29sdW1uSW5kZXggPD0gdGhpcy5fY29sdW1uU3RvcEluZGV4OyBjb2x1bW5JbmRleCsrKSB7XG4gICAgICAgICAgdmFyIGtleSA9IFwiXCIuY29uY2F0KHJvd0luZGV4LCBcIi1cIikuY29uY2F0KGNvbHVtbkluZGV4KTtcbiAgICAgICAgICB0aGlzLl9zdHlsZUNhY2hlW2tleV0gPSBzdHlsZUNhY2hlW2tleV07XG5cbiAgICAgICAgICBpZiAoaXNTY3JvbGxpbmdPcHRPdXQpIHtcbiAgICAgICAgICAgIHRoaXMuX2NlbGxDYWNoZVtrZXldID0gY2VsbENhY2hlW2tleV07XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIl91cGRhdGVTY3JvbGxUb3BGb3JTY3JvbGxUb1Jvd1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfdXBkYXRlU2Nyb2xsVG9wRm9yU2Nyb2xsVG9Sb3coKSB7XG4gICAgICB2YXIgcHJvcHMgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHRoaXMucHJvcHM7XG4gICAgICB2YXIgc3RhdGUgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHRoaXMuc3RhdGU7XG5cbiAgICAgIHZhciBzdGF0ZVVwZGF0ZSA9IEdyaWQuX2dldFNjcm9sbFRvcEZvclNjcm9sbFRvUm93U3RhdGVVcGRhdGUocHJvcHMsIHN0YXRlKTtcblxuICAgICAgaWYgKHN0YXRlVXBkYXRlKSB7XG4gICAgICAgIHN0YXRlVXBkYXRlLm5lZWRUb1Jlc2V0U3R5bGVDYWNoZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLnNldFN0YXRlKHN0YXRlVXBkYXRlKTtcbiAgICAgIH1cbiAgICB9XG4gIH1dLCBbe1xuICAgIGtleTogXCJnZXREZXJpdmVkU3RhdGVGcm9tUHJvcHNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzKG5leHRQcm9wcywgcHJldlN0YXRlKSB7XG4gICAgICB2YXIgbmV3U3RhdGUgPSB7fTtcblxuICAgICAgaWYgKG5leHRQcm9wcy5jb2x1bW5Db3VudCA9PT0gMCAmJiBwcmV2U3RhdGUuc2Nyb2xsTGVmdCAhPT0gMCB8fCBuZXh0UHJvcHMucm93Q291bnQgPT09IDAgJiYgcHJldlN0YXRlLnNjcm9sbFRvcCAhPT0gMCkge1xuICAgICAgICBuZXdTdGF0ZS5zY3JvbGxMZWZ0ID0gMDtcbiAgICAgICAgbmV3U3RhdGUuc2Nyb2xsVG9wID0gMDsgLy8gb25seSB1c2Ugc2Nyb2xse0xlZnQsVG9wfSBmcm9tIHByb3BzIGlmIHNjcm9sbFRve0NvbHVtbixSb3d9IGlzbid0IHNwZWNpZmllZFxuICAgICAgICAvLyBzY3JvbGxUb3tDb2x1bW4sUm93fSBzaG91bGQgb3ZlcnJpZGUgc2Nyb2xse0xlZnQsVG9wfVxuICAgICAgfSBlbHNlIGlmIChuZXh0UHJvcHMuc2Nyb2xsTGVmdCAhPT0gcHJldlN0YXRlLnNjcm9sbExlZnQgJiYgbmV4dFByb3BzLnNjcm9sbFRvQ29sdW1uIDwgMCB8fCBuZXh0UHJvcHMuc2Nyb2xsVG9wICE9PSBwcmV2U3RhdGUuc2Nyb2xsVG9wICYmIG5leHRQcm9wcy5zY3JvbGxUb1JvdyA8IDApIHtcbiAgICAgICAgT2JqZWN0LmFzc2lnbihuZXdTdGF0ZSwgR3JpZC5fZ2V0U2Nyb2xsVG9Qb3NpdGlvblN0YXRlVXBkYXRlKHtcbiAgICAgICAgICBwcmV2U3RhdGU6IHByZXZTdGF0ZSxcbiAgICAgICAgICBzY3JvbGxMZWZ0OiBuZXh0UHJvcHMuc2Nyb2xsTGVmdCxcbiAgICAgICAgICBzY3JvbGxUb3A6IG5leHRQcm9wcy5zY3JvbGxUb3BcbiAgICAgICAgfSkpO1xuICAgICAgfVxuXG4gICAgICB2YXIgaW5zdGFuY2VQcm9wcyA9IHByZXZTdGF0ZS5pbnN0YW5jZVByb3BzOyAvLyBJbml0aWFsbHkgd2Ugc2hvdWxkIG5vdCBjbGVhclN0eWxlQ2FjaGVcblxuICAgICAgbmV3U3RhdGUubmVlZFRvUmVzZXRTdHlsZUNhY2hlID0gZmFsc2U7XG5cbiAgICAgIGlmIChuZXh0UHJvcHMuY29sdW1uV2lkdGggIT09IGluc3RhbmNlUHJvcHMucHJldkNvbHVtbldpZHRoIHx8IG5leHRQcm9wcy5yb3dIZWlnaHQgIT09IGluc3RhbmNlUHJvcHMucHJldlJvd0hlaWdodCkge1xuICAgICAgICAvLyBSZXNldCBjYWNoZS4gc2V0IGl0IHRvIHt9IGluIHJlbmRlclxuICAgICAgICBuZXdTdGF0ZS5uZWVkVG9SZXNldFN0eWxlQ2FjaGUgPSB0cnVlO1xuICAgICAgfVxuXG4gICAgICBpbnN0YW5jZVByb3BzLmNvbHVtblNpemVBbmRQb3NpdGlvbk1hbmFnZXIuY29uZmlndXJlKHtcbiAgICAgICAgY2VsbENvdW50OiBuZXh0UHJvcHMuY29sdW1uQ291bnQsXG4gICAgICAgIGVzdGltYXRlZENlbGxTaXplOiBHcmlkLl9nZXRFc3RpbWF0ZWRDb2x1bW5TaXplKG5leHRQcm9wcyksXG4gICAgICAgIGNlbGxTaXplR2V0dGVyOiBHcmlkLl93cmFwU2l6ZUdldHRlcihuZXh0UHJvcHMuY29sdW1uV2lkdGgpXG4gICAgICB9KTtcbiAgICAgIGluc3RhbmNlUHJvcHMucm93U2l6ZUFuZFBvc2l0aW9uTWFuYWdlci5jb25maWd1cmUoe1xuICAgICAgICBjZWxsQ291bnQ6IG5leHRQcm9wcy5yb3dDb3VudCxcbiAgICAgICAgZXN0aW1hdGVkQ2VsbFNpemU6IEdyaWQuX2dldEVzdGltYXRlZFJvd1NpemUobmV4dFByb3BzKSxcbiAgICAgICAgY2VsbFNpemVHZXR0ZXI6IEdyaWQuX3dyYXBTaXplR2V0dGVyKG5leHRQcm9wcy5yb3dIZWlnaHQpXG4gICAgICB9KTtcblxuICAgICAgaWYgKGluc3RhbmNlUHJvcHMucHJldkNvbHVtbkNvdW50ID09PSAwIHx8IGluc3RhbmNlUHJvcHMucHJldlJvd0NvdW50ID09PSAwKSB7XG4gICAgICAgIGluc3RhbmNlUHJvcHMucHJldkNvbHVtbkNvdW50ID0gMDtcbiAgICAgICAgaW5zdGFuY2VQcm9wcy5wcmV2Um93Q291bnQgPSAwO1xuICAgICAgfSAvLyBJZiBzY3JvbGxpbmcgaXMgY29udHJvbGxlZCBvdXRzaWRlIHRoaXMgY29tcG9uZW50LCBjbGVhciBjYWNoZSB3aGVuIHNjcm9sbGluZyBzdG9wc1xuXG5cbiAgICAgIGlmIChuZXh0UHJvcHMuYXV0b0hlaWdodCAmJiBuZXh0UHJvcHMuaXNTY3JvbGxpbmcgPT09IGZhbHNlICYmIGluc3RhbmNlUHJvcHMucHJldklzU2Nyb2xsaW5nID09PSB0cnVlKSB7XG4gICAgICAgIE9iamVjdC5hc3NpZ24obmV3U3RhdGUsIHtcbiAgICAgICAgICBpc1Njcm9sbGluZzogZmFsc2VcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIHZhciBtYXliZVN0YXRlQTtcbiAgICAgIHZhciBtYXliZVN0YXRlQjtcbiAgICAgIGNhbGN1bGF0ZVNpemVBbmRQb3NpdGlvbkRhdGFBbmRVcGRhdGVTY3JvbGxPZmZzZXQoe1xuICAgICAgICBjZWxsQ291bnQ6IGluc3RhbmNlUHJvcHMucHJldkNvbHVtbkNvdW50LFxuICAgICAgICBjZWxsU2l6ZTogdHlwZW9mIGluc3RhbmNlUHJvcHMucHJldkNvbHVtbldpZHRoID09PSAnbnVtYmVyJyA/IGluc3RhbmNlUHJvcHMucHJldkNvbHVtbldpZHRoIDogbnVsbCxcbiAgICAgICAgY29tcHV0ZU1ldGFkYXRhQ2FsbGJhY2s6IGZ1bmN0aW9uIGNvbXB1dGVNZXRhZGF0YUNhbGxiYWNrKCkge1xuICAgICAgICAgIHJldHVybiBpbnN0YW5jZVByb3BzLmNvbHVtblNpemVBbmRQb3NpdGlvbk1hbmFnZXIucmVzZXRDZWxsKDApO1xuICAgICAgICB9LFxuICAgICAgICBjb21wdXRlTWV0YWRhdGFDYWxsYmFja1Byb3BzOiBuZXh0UHJvcHMsXG4gICAgICAgIG5leHRDZWxsc0NvdW50OiBuZXh0UHJvcHMuY29sdW1uQ291bnQsXG4gICAgICAgIG5leHRDZWxsU2l6ZTogdHlwZW9mIG5leHRQcm9wcy5jb2x1bW5XaWR0aCA9PT0gJ251bWJlcicgPyBuZXh0UHJvcHMuY29sdW1uV2lkdGggOiBudWxsLFxuICAgICAgICBuZXh0U2Nyb2xsVG9JbmRleDogbmV4dFByb3BzLnNjcm9sbFRvQ29sdW1uLFxuICAgICAgICBzY3JvbGxUb0luZGV4OiBpbnN0YW5jZVByb3BzLnByZXZTY3JvbGxUb0NvbHVtbixcbiAgICAgICAgdXBkYXRlU2Nyb2xsT2Zmc2V0Rm9yU2Nyb2xsVG9JbmRleDogZnVuY3Rpb24gdXBkYXRlU2Nyb2xsT2Zmc2V0Rm9yU2Nyb2xsVG9JbmRleCgpIHtcbiAgICAgICAgICBtYXliZVN0YXRlQSA9IEdyaWQuX2dldFNjcm9sbExlZnRGb3JTY3JvbGxUb0NvbHVtblN0YXRlVXBkYXRlKG5leHRQcm9wcywgcHJldlN0YXRlKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBjYWxjdWxhdGVTaXplQW5kUG9zaXRpb25EYXRhQW5kVXBkYXRlU2Nyb2xsT2Zmc2V0KHtcbiAgICAgICAgY2VsbENvdW50OiBpbnN0YW5jZVByb3BzLnByZXZSb3dDb3VudCxcbiAgICAgICAgY2VsbFNpemU6IHR5cGVvZiBpbnN0YW5jZVByb3BzLnByZXZSb3dIZWlnaHQgPT09ICdudW1iZXInID8gaW5zdGFuY2VQcm9wcy5wcmV2Um93SGVpZ2h0IDogbnVsbCxcbiAgICAgICAgY29tcHV0ZU1ldGFkYXRhQ2FsbGJhY2s6IGZ1bmN0aW9uIGNvbXB1dGVNZXRhZGF0YUNhbGxiYWNrKCkge1xuICAgICAgICAgIHJldHVybiBpbnN0YW5jZVByb3BzLnJvd1NpemVBbmRQb3NpdGlvbk1hbmFnZXIucmVzZXRDZWxsKDApO1xuICAgICAgICB9LFxuICAgICAgICBjb21wdXRlTWV0YWRhdGFDYWxsYmFja1Byb3BzOiBuZXh0UHJvcHMsXG4gICAgICAgIG5leHRDZWxsc0NvdW50OiBuZXh0UHJvcHMucm93Q291bnQsXG4gICAgICAgIG5leHRDZWxsU2l6ZTogdHlwZW9mIG5leHRQcm9wcy5yb3dIZWlnaHQgPT09ICdudW1iZXInID8gbmV4dFByb3BzLnJvd0hlaWdodCA6IG51bGwsXG4gICAgICAgIG5leHRTY3JvbGxUb0luZGV4OiBuZXh0UHJvcHMuc2Nyb2xsVG9Sb3csXG4gICAgICAgIHNjcm9sbFRvSW5kZXg6IGluc3RhbmNlUHJvcHMucHJldlNjcm9sbFRvUm93LFxuICAgICAgICB1cGRhdGVTY3JvbGxPZmZzZXRGb3JTY3JvbGxUb0luZGV4OiBmdW5jdGlvbiB1cGRhdGVTY3JvbGxPZmZzZXRGb3JTY3JvbGxUb0luZGV4KCkge1xuICAgICAgICAgIG1heWJlU3RhdGVCID0gR3JpZC5fZ2V0U2Nyb2xsVG9wRm9yU2Nyb2xsVG9Sb3dTdGF0ZVVwZGF0ZShuZXh0UHJvcHMsIHByZXZTdGF0ZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgaW5zdGFuY2VQcm9wcy5wcmV2Q29sdW1uQ291bnQgPSBuZXh0UHJvcHMuY29sdW1uQ291bnQ7XG4gICAgICBpbnN0YW5jZVByb3BzLnByZXZDb2x1bW5XaWR0aCA9IG5leHRQcm9wcy5jb2x1bW5XaWR0aDtcbiAgICAgIGluc3RhbmNlUHJvcHMucHJldklzU2Nyb2xsaW5nID0gbmV4dFByb3BzLmlzU2Nyb2xsaW5nID09PSB0cnVlO1xuICAgICAgaW5zdGFuY2VQcm9wcy5wcmV2Um93Q291bnQgPSBuZXh0UHJvcHMucm93Q291bnQ7XG4gICAgICBpbnN0YW5jZVByb3BzLnByZXZSb3dIZWlnaHQgPSBuZXh0UHJvcHMucm93SGVpZ2h0O1xuICAgICAgaW5zdGFuY2VQcm9wcy5wcmV2U2Nyb2xsVG9Db2x1bW4gPSBuZXh0UHJvcHMuc2Nyb2xsVG9Db2x1bW47XG4gICAgICBpbnN0YW5jZVByb3BzLnByZXZTY3JvbGxUb1JvdyA9IG5leHRQcm9wcy5zY3JvbGxUb1JvdzsgLy8gZ2V0dGluZyBzY3JvbGxCYXJTaXplIChtb3ZlZCBmcm9tIGNvbXBvbmVudFdpbGxNb3VudClcblxuICAgICAgaW5zdGFuY2VQcm9wcy5zY3JvbGxiYXJTaXplID0gbmV4dFByb3BzLmdldFNjcm9sbGJhclNpemUoKTtcblxuICAgICAgaWYgKGluc3RhbmNlUHJvcHMuc2Nyb2xsYmFyU2l6ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGluc3RhbmNlUHJvcHMuc2Nyb2xsYmFyU2l6ZU1lYXN1cmVkID0gZmFsc2U7XG4gICAgICAgIGluc3RhbmNlUHJvcHMuc2Nyb2xsYmFyU2l6ZSA9IDA7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpbnN0YW5jZVByb3BzLnNjcm9sbGJhclNpemVNZWFzdXJlZCA9IHRydWU7XG4gICAgICB9XG5cbiAgICAgIG5ld1N0YXRlLmluc3RhbmNlUHJvcHMgPSBpbnN0YW5jZVByb3BzO1xuICAgICAgcmV0dXJuIF9vYmplY3RTcHJlYWQoe30sIG5ld1N0YXRlLCB7fSwgbWF5YmVTdGF0ZUEsIHt9LCBtYXliZVN0YXRlQik7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIl9nZXRFc3RpbWF0ZWRDb2x1bW5TaXplXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9nZXRFc3RpbWF0ZWRDb2x1bW5TaXplKHByb3BzKSB7XG4gICAgICByZXR1cm4gdHlwZW9mIHByb3BzLmNvbHVtbldpZHRoID09PSAnbnVtYmVyJyA/IHByb3BzLmNvbHVtbldpZHRoIDogcHJvcHMuZXN0aW1hdGVkQ29sdW1uU2l6ZTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiX2dldEVzdGltYXRlZFJvd1NpemVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gX2dldEVzdGltYXRlZFJvd1NpemUocHJvcHMpIHtcbiAgICAgIHJldHVybiB0eXBlb2YgcHJvcHMucm93SGVpZ2h0ID09PSAnbnVtYmVyJyA/IHByb3BzLnJvd0hlaWdodCA6IHByb3BzLmVzdGltYXRlZFJvd1NpemU7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIl9nZXRTY3JvbGxUb1Bvc2l0aW9uU3RhdGVVcGRhdGVcIixcblxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgdXBkYXRlZCBzdGF0ZSBhZnRlciBzY3JvbGxpbmcgdG9cbiAgICAgKiBzY3JvbGxMZWZ0IGFuZCBzY3JvbGxUb3BcbiAgICAgKi9cbiAgICB2YWx1ZTogZnVuY3Rpb24gX2dldFNjcm9sbFRvUG9zaXRpb25TdGF0ZVVwZGF0ZShfcmVmOSkge1xuICAgICAgdmFyIHByZXZTdGF0ZSA9IF9yZWY5LnByZXZTdGF0ZSxcbiAgICAgICAgICBzY3JvbGxMZWZ0ID0gX3JlZjkuc2Nyb2xsTGVmdCxcbiAgICAgICAgICBzY3JvbGxUb3AgPSBfcmVmOS5zY3JvbGxUb3A7XG4gICAgICB2YXIgbmV3U3RhdGUgPSB7XG4gICAgICAgIHNjcm9sbFBvc2l0aW9uQ2hhbmdlUmVhc29uOiBTQ1JPTExfUE9TSVRJT05fQ0hBTkdFX1JFQVNPTlMuUkVRVUVTVEVEXG4gICAgICB9O1xuXG4gICAgICBpZiAodHlwZW9mIHNjcm9sbExlZnQgPT09ICdudW1iZXInICYmIHNjcm9sbExlZnQgPj0gMCkge1xuICAgICAgICBuZXdTdGF0ZS5zY3JvbGxEaXJlY3Rpb25Ib3Jpem9udGFsID0gc2Nyb2xsTGVmdCA+IHByZXZTdGF0ZS5zY3JvbGxMZWZ0ID8gU0NST0xMX0RJUkVDVElPTl9GT1JXQVJEIDogU0NST0xMX0RJUkVDVElPTl9CQUNLV0FSRDtcbiAgICAgICAgbmV3U3RhdGUuc2Nyb2xsTGVmdCA9IHNjcm9sbExlZnQ7XG4gICAgICB9XG5cbiAgICAgIGlmICh0eXBlb2Ygc2Nyb2xsVG9wID09PSAnbnVtYmVyJyAmJiBzY3JvbGxUb3AgPj0gMCkge1xuICAgICAgICBuZXdTdGF0ZS5zY3JvbGxEaXJlY3Rpb25WZXJ0aWNhbCA9IHNjcm9sbFRvcCA+IHByZXZTdGF0ZS5zY3JvbGxUb3AgPyBTQ1JPTExfRElSRUNUSU9OX0ZPUldBUkQgOiBTQ1JPTExfRElSRUNUSU9OX0JBQ0tXQVJEO1xuICAgICAgICBuZXdTdGF0ZS5zY3JvbGxUb3AgPSBzY3JvbGxUb3A7XG4gICAgICB9XG5cbiAgICAgIGlmICh0eXBlb2Ygc2Nyb2xsTGVmdCA9PT0gJ251bWJlcicgJiYgc2Nyb2xsTGVmdCA+PSAwICYmIHNjcm9sbExlZnQgIT09IHByZXZTdGF0ZS5zY3JvbGxMZWZ0IHx8IHR5cGVvZiBzY3JvbGxUb3AgPT09ICdudW1iZXInICYmIHNjcm9sbFRvcCA+PSAwICYmIHNjcm9sbFRvcCAhPT0gcHJldlN0YXRlLnNjcm9sbFRvcCkge1xuICAgICAgICByZXR1cm4gbmV3U3RhdGU7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB7fTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiX3dyYXBTaXplR2V0dGVyXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF93cmFwU2l6ZUdldHRlcih2YWx1ZSkge1xuICAgICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ2Z1bmN0aW9uJyA/IHZhbHVlIDogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICB9O1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJfZ2V0Q2FsY3VsYXRlZFNjcm9sbExlZnRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gX2dldENhbGN1bGF0ZWRTY3JvbGxMZWZ0KG5leHRQcm9wcywgcHJldlN0YXRlKSB7XG4gICAgICB2YXIgY29sdW1uQ291bnQgPSBuZXh0UHJvcHMuY29sdW1uQ291bnQsXG4gICAgICAgICAgaGVpZ2h0ID0gbmV4dFByb3BzLmhlaWdodCxcbiAgICAgICAgICBzY3JvbGxUb0FsaWdubWVudCA9IG5leHRQcm9wcy5zY3JvbGxUb0FsaWdubWVudCxcbiAgICAgICAgICBzY3JvbGxUb0NvbHVtbiA9IG5leHRQcm9wcy5zY3JvbGxUb0NvbHVtbixcbiAgICAgICAgICB3aWR0aCA9IG5leHRQcm9wcy53aWR0aDtcbiAgICAgIHZhciBzY3JvbGxMZWZ0ID0gcHJldlN0YXRlLnNjcm9sbExlZnQsXG4gICAgICAgICAgaW5zdGFuY2VQcm9wcyA9IHByZXZTdGF0ZS5pbnN0YW5jZVByb3BzO1xuXG4gICAgICBpZiAoY29sdW1uQ291bnQgPiAwKSB7XG4gICAgICAgIHZhciBmaW5hbENvbHVtbiA9IGNvbHVtbkNvdW50IC0gMTtcbiAgICAgICAgdmFyIHRhcmdldEluZGV4ID0gc2Nyb2xsVG9Db2x1bW4gPCAwID8gZmluYWxDb2x1bW4gOiBNYXRoLm1pbihmaW5hbENvbHVtbiwgc2Nyb2xsVG9Db2x1bW4pO1xuICAgICAgICB2YXIgdG90YWxSb3dzSGVpZ2h0ID0gaW5zdGFuY2VQcm9wcy5yb3dTaXplQW5kUG9zaXRpb25NYW5hZ2VyLmdldFRvdGFsU2l6ZSgpO1xuICAgICAgICB2YXIgc2Nyb2xsQmFyU2l6ZSA9IGluc3RhbmNlUHJvcHMuc2Nyb2xsYmFyU2l6ZU1lYXN1cmVkICYmIHRvdGFsUm93c0hlaWdodCA+IGhlaWdodCA/IGluc3RhbmNlUHJvcHMuc2Nyb2xsYmFyU2l6ZSA6IDA7XG4gICAgICAgIHJldHVybiBpbnN0YW5jZVByb3BzLmNvbHVtblNpemVBbmRQb3NpdGlvbk1hbmFnZXIuZ2V0VXBkYXRlZE9mZnNldEZvckluZGV4KHtcbiAgICAgICAgICBhbGlnbjogc2Nyb2xsVG9BbGlnbm1lbnQsXG4gICAgICAgICAgY29udGFpbmVyU2l6ZTogd2lkdGggLSBzY3JvbGxCYXJTaXplLFxuICAgICAgICAgIGN1cnJlbnRPZmZzZXQ6IHNjcm9sbExlZnQsXG4gICAgICAgICAgdGFyZ2V0SW5kZXg6IHRhcmdldEluZGV4XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gMDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiX2dldFNjcm9sbExlZnRGb3JTY3JvbGxUb0NvbHVtblN0YXRlVXBkYXRlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9nZXRTY3JvbGxMZWZ0Rm9yU2Nyb2xsVG9Db2x1bW5TdGF0ZVVwZGF0ZShuZXh0UHJvcHMsIHByZXZTdGF0ZSkge1xuICAgICAgdmFyIHNjcm9sbExlZnQgPSBwcmV2U3RhdGUuc2Nyb2xsTGVmdDtcblxuICAgICAgdmFyIGNhbGN1bGF0ZWRTY3JvbGxMZWZ0ID0gR3JpZC5fZ2V0Q2FsY3VsYXRlZFNjcm9sbExlZnQobmV4dFByb3BzLCBwcmV2U3RhdGUpO1xuXG4gICAgICBpZiAodHlwZW9mIGNhbGN1bGF0ZWRTY3JvbGxMZWZ0ID09PSAnbnVtYmVyJyAmJiBjYWxjdWxhdGVkU2Nyb2xsTGVmdCA+PSAwICYmIHNjcm9sbExlZnQgIT09IGNhbGN1bGF0ZWRTY3JvbGxMZWZ0KSB7XG4gICAgICAgIHJldHVybiBHcmlkLl9nZXRTY3JvbGxUb1Bvc2l0aW9uU3RhdGVVcGRhdGUoe1xuICAgICAgICAgIHByZXZTdGF0ZTogcHJldlN0YXRlLFxuICAgICAgICAgIHNjcm9sbExlZnQ6IGNhbGN1bGF0ZWRTY3JvbGxMZWZ0LFxuICAgICAgICAgIHNjcm9sbFRvcDogLTFcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB7fTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiX2dldENhbGN1bGF0ZWRTY3JvbGxUb3BcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gX2dldENhbGN1bGF0ZWRTY3JvbGxUb3AobmV4dFByb3BzLCBwcmV2U3RhdGUpIHtcbiAgICAgIHZhciBoZWlnaHQgPSBuZXh0UHJvcHMuaGVpZ2h0LFxuICAgICAgICAgIHJvd0NvdW50ID0gbmV4dFByb3BzLnJvd0NvdW50LFxuICAgICAgICAgIHNjcm9sbFRvQWxpZ25tZW50ID0gbmV4dFByb3BzLnNjcm9sbFRvQWxpZ25tZW50LFxuICAgICAgICAgIHNjcm9sbFRvUm93ID0gbmV4dFByb3BzLnNjcm9sbFRvUm93LFxuICAgICAgICAgIHdpZHRoID0gbmV4dFByb3BzLndpZHRoO1xuICAgICAgdmFyIHNjcm9sbFRvcCA9IHByZXZTdGF0ZS5zY3JvbGxUb3AsXG4gICAgICAgICAgaW5zdGFuY2VQcm9wcyA9IHByZXZTdGF0ZS5pbnN0YW5jZVByb3BzO1xuXG4gICAgICBpZiAocm93Q291bnQgPiAwKSB7XG4gICAgICAgIHZhciBmaW5hbFJvdyA9IHJvd0NvdW50IC0gMTtcbiAgICAgICAgdmFyIHRhcmdldEluZGV4ID0gc2Nyb2xsVG9Sb3cgPCAwID8gZmluYWxSb3cgOiBNYXRoLm1pbihmaW5hbFJvdywgc2Nyb2xsVG9Sb3cpO1xuICAgICAgICB2YXIgdG90YWxDb2x1bW5zV2lkdGggPSBpbnN0YW5jZVByb3BzLmNvbHVtblNpemVBbmRQb3NpdGlvbk1hbmFnZXIuZ2V0VG90YWxTaXplKCk7XG4gICAgICAgIHZhciBzY3JvbGxCYXJTaXplID0gaW5zdGFuY2VQcm9wcy5zY3JvbGxiYXJTaXplTWVhc3VyZWQgJiYgdG90YWxDb2x1bW5zV2lkdGggPiB3aWR0aCA/IGluc3RhbmNlUHJvcHMuc2Nyb2xsYmFyU2l6ZSA6IDA7XG4gICAgICAgIHJldHVybiBpbnN0YW5jZVByb3BzLnJvd1NpemVBbmRQb3NpdGlvbk1hbmFnZXIuZ2V0VXBkYXRlZE9mZnNldEZvckluZGV4KHtcbiAgICAgICAgICBhbGlnbjogc2Nyb2xsVG9BbGlnbm1lbnQsXG4gICAgICAgICAgY29udGFpbmVyU2l6ZTogaGVpZ2h0IC0gc2Nyb2xsQmFyU2l6ZSxcbiAgICAgICAgICBjdXJyZW50T2Zmc2V0OiBzY3JvbGxUb3AsXG4gICAgICAgICAgdGFyZ2V0SW5kZXg6IHRhcmdldEluZGV4XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gMDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiX2dldFNjcm9sbFRvcEZvclNjcm9sbFRvUm93U3RhdGVVcGRhdGVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gX2dldFNjcm9sbFRvcEZvclNjcm9sbFRvUm93U3RhdGVVcGRhdGUobmV4dFByb3BzLCBwcmV2U3RhdGUpIHtcbiAgICAgIHZhciBzY3JvbGxUb3AgPSBwcmV2U3RhdGUuc2Nyb2xsVG9wO1xuXG4gICAgICB2YXIgY2FsY3VsYXRlZFNjcm9sbFRvcCA9IEdyaWQuX2dldENhbGN1bGF0ZWRTY3JvbGxUb3AobmV4dFByb3BzLCBwcmV2U3RhdGUpO1xuXG4gICAgICBpZiAodHlwZW9mIGNhbGN1bGF0ZWRTY3JvbGxUb3AgPT09ICdudW1iZXInICYmIGNhbGN1bGF0ZWRTY3JvbGxUb3AgPj0gMCAmJiBzY3JvbGxUb3AgIT09IGNhbGN1bGF0ZWRTY3JvbGxUb3ApIHtcbiAgICAgICAgcmV0dXJuIEdyaWQuX2dldFNjcm9sbFRvUG9zaXRpb25TdGF0ZVVwZGF0ZSh7XG4gICAgICAgICAgcHJldlN0YXRlOiBwcmV2U3RhdGUsXG4gICAgICAgICAgc2Nyb2xsTGVmdDogLTEsXG4gICAgICAgICAgc2Nyb2xsVG9wOiBjYWxjdWxhdGVkU2Nyb2xsVG9wXG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4ge307XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIEdyaWQ7XG59KFJlYWN0LlB1cmVDb21wb25lbnQpLCBfZGVmaW5lUHJvcGVydHkoX2NsYXNzLCBcInByb3BUeXBlc1wiLCBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nID8gbnVsbCA6IHtcbiAgXCJhcmlhLWxhYmVsXCI6IFByb3BUeXBlcy5zdHJpbmcuaXNSZXF1aXJlZCxcbiAgXCJhcmlhLXJlYWRvbmx5XCI6IFByb3BUeXBlcy5ib29sLFxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIHdpZHRoIG9mIHRoZSBpbm5lciBzY3JvbGxhYmxlIGNvbnRhaW5lciB0byAnYXV0bycuXG4gICAqIFRoaXMgaXMgdXNlZnVsIGZvciBzaW5nbGUtY29sdW1uIEdyaWRzIHRvIGVuc3VyZSB0aGF0IHRoZSBjb2x1bW4gZG9lc24ndCBleHRlbmQgYmVsb3cgYSB2ZXJ0aWNhbCBzY3JvbGxiYXIuXG4gICAqL1xuICBcImF1dG9Db250YWluZXJXaWR0aFwiOiBQcm9wVHlwZXMuYm9vbC5pc1JlcXVpcmVkLFxuXG4gIC8qKlxuICAgKiBSZW1vdmVzIGZpeGVkIGhlaWdodCBmcm9tIHRoZSBzY3JvbGxpbmdDb250YWluZXIgc28gdGhhdCB0aGUgdG90YWwgaGVpZ2h0IG9mIHJvd3MgY2FuIHN0cmV0Y2ggdGhlIHdpbmRvdy5cbiAgICogSW50ZW5kZWQgZm9yIHVzZSB3aXRoIFdpbmRvd1Njcm9sbGVyXG4gICAqL1xuICBcImF1dG9IZWlnaHRcIjogUHJvcFR5cGVzLmJvb2wuaXNSZXF1aXJlZCxcblxuICAvKipcbiAgICogUmVtb3ZlcyBmaXhlZCB3aWR0aCBmcm9tIHRoZSBzY3JvbGxpbmdDb250YWluZXIgc28gdGhhdCB0aGUgdG90YWwgd2lkdGggb2Ygcm93cyBjYW4gc3RyZXRjaCB0aGUgd2luZG93LlxuICAgKiBJbnRlbmRlZCBmb3IgdXNlIHdpdGggV2luZG93U2Nyb2xsZXJcbiAgICovXG4gIFwiYXV0b1dpZHRoXCI6IFByb3BUeXBlcy5ib29sLmlzUmVxdWlyZWQsXG5cbiAgLyoqIFJlc3BvbnNpYmxlIGZvciByZW5kZXJpbmcgYSBjZWxsIGdpdmVuIGFuIHJvdyBhbmQgY29sdW1uIGluZGV4LiAgKi9cbiAgXCJjZWxsUmVuZGVyZXJcIjogZnVuY3Rpb24gY2VsbFJlbmRlcmVyKCkge1xuICAgIHJldHVybiAodHlwZW9mIGJwZnJwdF9wcm9wdHlwZV9DZWxsUmVuZGVyZXIgPT09IFwiZnVuY3Rpb25cIiA/IGJwZnJwdF9wcm9wdHlwZV9DZWxsUmVuZGVyZXIuaXNSZXF1aXJlZCA/IGJwZnJwdF9wcm9wdHlwZV9DZWxsUmVuZGVyZXIuaXNSZXF1aXJlZCA6IGJwZnJwdF9wcm9wdHlwZV9DZWxsUmVuZGVyZXIgOiBQcm9wVHlwZXMuc2hhcGUoYnBmcnB0X3Byb3B0eXBlX0NlbGxSZW5kZXJlcikuaXNSZXF1aXJlZCkuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfSxcblxuICAvKiogUmVzcG9uc2libGUgZm9yIHJlbmRlcmluZyBhIGdyb3VwIG9mIGNlbGxzIGdpdmVuIHRoZWlyIGluZGV4IHJhbmdlcy4gICovXG4gIFwiY2VsbFJhbmdlUmVuZGVyZXJcIjogZnVuY3Rpb24gY2VsbFJhbmdlUmVuZGVyZXIoKSB7XG4gICAgcmV0dXJuICh0eXBlb2YgYnBmcnB0X3Byb3B0eXBlX0NlbGxSYW5nZVJlbmRlcmVyID09PSBcImZ1bmN0aW9uXCIgPyBicGZycHRfcHJvcHR5cGVfQ2VsbFJhbmdlUmVuZGVyZXIuaXNSZXF1aXJlZCA/IGJwZnJwdF9wcm9wdHlwZV9DZWxsUmFuZ2VSZW5kZXJlci5pc1JlcXVpcmVkIDogYnBmcnB0X3Byb3B0eXBlX0NlbGxSYW5nZVJlbmRlcmVyIDogUHJvcFR5cGVzLnNoYXBlKGJwZnJwdF9wcm9wdHlwZV9DZWxsUmFuZ2VSZW5kZXJlcikuaXNSZXF1aXJlZCkuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfSxcblxuICAvKiogT3B0aW9uYWwgY3VzdG9tIENTUyBjbGFzcyBuYW1lIHRvIGF0dGFjaCB0byByb290IEdyaWQgZWxlbWVudC4gICovXG4gIFwiY2xhc3NOYW1lXCI6IFByb3BUeXBlcy5zdHJpbmcsXG5cbiAgLyoqIE51bWJlciBvZiBjb2x1bW5zIGluIGdyaWQuICAqL1xuICBcImNvbHVtbkNvdW50XCI6IFByb3BUeXBlcy5udW1iZXIuaXNSZXF1aXJlZCxcblxuICAvKiogRWl0aGVyIGEgZml4ZWQgY29sdW1uIHdpZHRoIChudW1iZXIpIG9yIGEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIHRoZSB3aWR0aCBvZiBhIGNvbHVtbiBnaXZlbiBpdHMgaW5kZXguICAqL1xuICBcImNvbHVtbldpZHRoXCI6IGZ1bmN0aW9uIGNvbHVtbldpZHRoKCkge1xuICAgIHJldHVybiAodHlwZW9mIGJwZnJwdF9wcm9wdHlwZV9DZWxsU2l6ZSA9PT0gXCJmdW5jdGlvblwiID8gYnBmcnB0X3Byb3B0eXBlX0NlbGxTaXplLmlzUmVxdWlyZWQgPyBicGZycHRfcHJvcHR5cGVfQ2VsbFNpemUuaXNSZXF1aXJlZCA6IGJwZnJwdF9wcm9wdHlwZV9DZWxsU2l6ZSA6IFByb3BUeXBlcy5zaGFwZShicGZycHRfcHJvcHR5cGVfQ2VsbFNpemUpLmlzUmVxdWlyZWQpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gIH0sXG5cbiAgLyoqIFVuZmlsdGVyZWQgcHJvcHMgZm9yIHRoZSBHcmlkIGNvbnRhaW5lci4gKi9cbiAgXCJjb250YWluZXJQcm9wc1wiOiBQcm9wVHlwZXMub2JqZWN0LFxuXG4gIC8qKiBBUklBIHJvbGUgZm9yIHRoZSBjZWxsLWNvbnRhaW5lci4gICovXG4gIFwiY29udGFpbmVyUm9sZVwiOiBQcm9wVHlwZXMuc3RyaW5nLmlzUmVxdWlyZWQsXG5cbiAgLyoqIE9wdGlvbmFsIGlubGluZSBzdHlsZSBhcHBsaWVkIHRvIGlubmVyIGNlbGwtY29udGFpbmVyICovXG4gIFwiY29udGFpbmVyU3R5bGVcIjogUHJvcFR5cGVzLm9iamVjdC5pc1JlcXVpcmVkLFxuXG4gIC8qKlxuICAgKiBJZiBDZWxsTWVhc3VyZXIgaXMgdXNlZCB0byBtZWFzdXJlIHRoaXMgR3JpZCdzIGNoaWxkcmVuLCB0aGlzIHNob3VsZCBiZSBhIHBvaW50ZXIgdG8gaXRzIENlbGxNZWFzdXJlckNhY2hlLlxuICAgKiBBIHNoYXJlZCBDZWxsTWVhc3VyZXJDYWNoZSByZWZlcmVuY2UgZW5hYmxlcyBHcmlkIGFuZCBDZWxsTWVhc3VyZXIgdG8gc2hhcmUgbWVhc3VyZW1lbnQgZGF0YS5cbiAgICovXG4gIFwiZGVmZXJyZWRNZWFzdXJlbWVudENhY2hlXCI6IFByb3BUeXBlcy5vYmplY3QsXG5cbiAgLyoqXG4gICAqIFVzZWQgdG8gZXN0aW1hdGUgdGhlIHRvdGFsIHdpZHRoIG9mIGEgR3JpZCBiZWZvcmUgYWxsIG9mIGl0cyBjb2x1bW5zIGhhdmUgYWN0dWFsbHkgYmVlbiBtZWFzdXJlZC5cbiAgICogVGhlIGVzdGltYXRlZCB0b3RhbCB3aWR0aCBpcyBhZGp1c3RlZCBhcyBjb2x1bW5zIGFyZSByZW5kZXJlZC5cbiAgICovXG4gIFwiZXN0aW1hdGVkQ29sdW1uU2l6ZVwiOiBQcm9wVHlwZXMubnVtYmVyLmlzUmVxdWlyZWQsXG5cbiAgLyoqXG4gICAqIFVzZWQgdG8gZXN0aW1hdGUgdGhlIHRvdGFsIGhlaWdodCBvZiBhIEdyaWQgYmVmb3JlIGFsbCBvZiBpdHMgcm93cyBoYXZlIGFjdHVhbGx5IGJlZW4gbWVhc3VyZWQuXG4gICAqIFRoZSBlc3RpbWF0ZWQgdG90YWwgaGVpZ2h0IGlzIGFkanVzdGVkIGFzIHJvd3MgYXJlIHJlbmRlcmVkLlxuICAgKi9cbiAgXCJlc3RpbWF0ZWRSb3dTaXplXCI6IFByb3BUeXBlcy5udW1iZXIuaXNSZXF1aXJlZCxcblxuICAvKiogRXhwb3NlZCBmb3IgdGVzdGluZyBwdXJwb3NlcyBvbmx5LiAgKi9cbiAgXCJnZXRTY3JvbGxiYXJTaXplXCI6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsXG5cbiAgLyoqIEhlaWdodCBvZiBHcmlkOyB0aGlzIHByb3BlcnR5IGRldGVybWluZXMgdGhlIG51bWJlciBvZiB2aXNpYmxlICh2cyB2aXJ0dWFsaXplZCkgcm93cy4gICovXG4gIFwiaGVpZ2h0XCI6IFByb3BUeXBlcy5udW1iZXIuaXNSZXF1aXJlZCxcblxuICAvKiogT3B0aW9uYWwgY3VzdG9tIGlkIHRvIGF0dGFjaCB0byByb290IEdyaWQgZWxlbWVudC4gICovXG4gIFwiaWRcIjogUHJvcFR5cGVzLnN0cmluZyxcblxuICAvKipcbiAgICogT3ZlcnJpZGUgaW50ZXJuYWwgaXMtc2Nyb2xsaW5nIHN0YXRlIHRyYWNraW5nLlxuICAgKiBUaGlzIHByb3BlcnR5IGlzIHByaW1hcmlseSBpbnRlbmRlZCBmb3IgdXNlIHdpdGggdGhlIFdpbmRvd1Njcm9sbGVyIGNvbXBvbmVudC5cbiAgICovXG4gIFwiaXNTY3JvbGxpbmdcIjogUHJvcFR5cGVzLmJvb2wsXG5cbiAgLyoqXG4gICAqIE9wdC1vdXQgb2YgaXNTY3JvbGxpbmcgcGFyYW0gcGFzc2VkIHRvIGNlbGxSYW5nZVJlbmRlcmVyLlxuICAgKiBUbyBhdm9pZCB0aGUgZXh0cmEgcmVuZGVyIHdoZW4gc2Nyb2xsIHN0b3BzLlxuICAgKi9cbiAgXCJpc1Njcm9sbGluZ09wdE91dFwiOiBQcm9wVHlwZXMuYm9vbC5pc1JlcXVpcmVkLFxuXG4gIC8qKiBPcHRpb25hbCByZW5kZXJlciB0byBiZSB1c2VkIGluIHBsYWNlIG9mIHJvd3Mgd2hlbiBlaXRoZXIgOnJvd0NvdW50IG9yIDpjb2x1bW5Db3VudCBpcyAwLiAgKi9cbiAgXCJub0NvbnRlbnRSZW5kZXJlclwiOiBmdW5jdGlvbiBub0NvbnRlbnRSZW5kZXJlcigpIHtcbiAgICByZXR1cm4gKHR5cGVvZiBicGZycHRfcHJvcHR5cGVfTm9Db250ZW50UmVuZGVyZXIgPT09IFwiZnVuY3Rpb25cIiA/IGJwZnJwdF9wcm9wdHlwZV9Ob0NvbnRlbnRSZW5kZXJlci5pc1JlcXVpcmVkID8gYnBmcnB0X3Byb3B0eXBlX05vQ29udGVudFJlbmRlcmVyLmlzUmVxdWlyZWQgOiBicGZycHRfcHJvcHR5cGVfTm9Db250ZW50UmVuZGVyZXIgOiBQcm9wVHlwZXMuc2hhcGUoYnBmcnB0X3Byb3B0eXBlX05vQ29udGVudFJlbmRlcmVyKS5pc1JlcXVpcmVkKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBDYWxsYmFjayBpbnZva2VkIHdoZW5ldmVyIHRoZSBzY3JvbGwgb2Zmc2V0IGNoYW5nZXMgd2l0aGluIHRoZSBpbm5lciBzY3JvbGxhYmxlIHJlZ2lvbi5cbiAgICogVGhpcyBjYWxsYmFjayBjYW4gYmUgdXNlZCB0byBzeW5jIHNjcm9sbGluZyBiZXR3ZWVuIGxpc3RzLCB0YWJsZXMsIG9yIGdyaWRzLlxuICAgKi9cbiAgXCJvblNjcm9sbFwiOiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLFxuXG4gIC8qKlxuICAgKiBDYWxsZWQgd2hlbmV2ZXIgYSBob3Jpem9udGFsIG9yIHZlcnRpY2FsIHNjcm9sbGJhciBpcyBhZGRlZCBvciByZW1vdmVkLlxuICAgKiBUaGlzIHByb3AgaXMgbm90IGludGVuZGVkIGZvciBlbmQtdXNlciB1c2U7XG4gICAqIEl0IGlzIHVzZWQgYnkgTXVsdGlHcmlkIHRvIHN1cHBvcnQgZml4ZWQtcm93L2ZpeGVkLWNvbHVtbiBzY3JvbGwgc3luY2luZy5cbiAgICovXG4gIFwib25TY3JvbGxiYXJQcmVzZW5jZUNoYW5nZVwiOiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLFxuXG4gIC8qKiBDYWxsYmFjayBpbnZva2VkIHdpdGggaW5mb3JtYXRpb24gYWJvdXQgdGhlIHNlY3Rpb24gb2YgdGhlIEdyaWQgdGhhdCB3YXMganVzdCByZW5kZXJlZC4gICovXG4gIFwib25TZWN0aW9uUmVuZGVyZWRcIjogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcblxuICAvKipcbiAgICogTnVtYmVyIG9mIGNvbHVtbnMgdG8gcmVuZGVyIGJlZm9yZS9hZnRlciB0aGUgdmlzaWJsZSBzZWN0aW9uIG9mIHRoZSBncmlkLlxuICAgKiBUaGVzZSBjb2x1bW5zIGNhbiBoZWxwIGZvciBzbW9vdGhlciBzY3JvbGxpbmcgb24gdG91Y2ggZGV2aWNlcyBvciBicm93c2VycyB0aGF0IHNlbmQgc2Nyb2xsIGV2ZW50cyBpbmZyZXF1ZW50bHkuXG4gICAqL1xuICBcIm92ZXJzY2FuQ29sdW1uQ291bnRcIjogUHJvcFR5cGVzLm51bWJlci5pc1JlcXVpcmVkLFxuXG4gIC8qKlxuICAgKiBDYWxjdWxhdGVzIHRoZSBudW1iZXIgb2YgY2VsbHMgdG8gb3ZlcnNjYW4gYmVmb3JlIGFuZCBhZnRlciBhIHNwZWNpZmllZCByYW5nZS5cbiAgICogVGhpcyBmdW5jdGlvbiBlbnN1cmVzIHRoYXQgb3ZlcnNjYW5uaW5nIGRvZXNuJ3QgZXhjZWVkIHRoZSBhdmFpbGFibGUgY2VsbHMuXG4gICAqL1xuICBcIm92ZXJzY2FuSW5kaWNlc0dldHRlclwiOiBmdW5jdGlvbiBvdmVyc2NhbkluZGljZXNHZXR0ZXIoKSB7XG4gICAgcmV0dXJuICh0eXBlb2YgYnBmcnB0X3Byb3B0eXBlX092ZXJzY2FuSW5kaWNlc0dldHRlciA9PT0gXCJmdW5jdGlvblwiID8gYnBmcnB0X3Byb3B0eXBlX092ZXJzY2FuSW5kaWNlc0dldHRlci5pc1JlcXVpcmVkID8gYnBmcnB0X3Byb3B0eXBlX092ZXJzY2FuSW5kaWNlc0dldHRlci5pc1JlcXVpcmVkIDogYnBmcnB0X3Byb3B0eXBlX092ZXJzY2FuSW5kaWNlc0dldHRlciA6IFByb3BUeXBlcy5zaGFwZShicGZycHRfcHJvcHR5cGVfT3ZlcnNjYW5JbmRpY2VzR2V0dGVyKS5pc1JlcXVpcmVkKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBOdW1iZXIgb2Ygcm93cyB0byByZW5kZXIgYWJvdmUvYmVsb3cgdGhlIHZpc2libGUgc2VjdGlvbiBvZiB0aGUgZ3JpZC5cbiAgICogVGhlc2Ugcm93cyBjYW4gaGVscCBmb3Igc21vb3RoZXIgc2Nyb2xsaW5nIG9uIHRvdWNoIGRldmljZXMgb3IgYnJvd3NlcnMgdGhhdCBzZW5kIHNjcm9sbCBldmVudHMgaW5mcmVxdWVudGx5LlxuICAgKi9cbiAgXCJvdmVyc2NhblJvd0NvdW50XCI6IFByb3BUeXBlcy5udW1iZXIuaXNSZXF1aXJlZCxcblxuICAvKiogQVJJQSByb2xlIGZvciB0aGUgZ3JpZCBlbGVtZW50LiAgKi9cbiAgXCJyb2xlXCI6IFByb3BUeXBlcy5zdHJpbmcuaXNSZXF1aXJlZCxcblxuICAvKipcbiAgICogRWl0aGVyIGEgZml4ZWQgcm93IGhlaWdodCAobnVtYmVyKSBvciBhIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyB0aGUgaGVpZ2h0IG9mIGEgcm93IGdpdmVuIGl0cyBpbmRleC5cbiAgICogU2hvdWxkIGltcGxlbWVudCB0aGUgZm9sbG93aW5nIGludGVyZmFjZTogKHsgaW5kZXg6IG51bWJlciB9KTogbnVtYmVyXG4gICAqL1xuICBcInJvd0hlaWdodFwiOiBmdW5jdGlvbiByb3dIZWlnaHQoKSB7XG4gICAgcmV0dXJuICh0eXBlb2YgYnBmcnB0X3Byb3B0eXBlX0NlbGxTaXplID09PSBcImZ1bmN0aW9uXCIgPyBicGZycHRfcHJvcHR5cGVfQ2VsbFNpemUuaXNSZXF1aXJlZCA/IGJwZnJwdF9wcm9wdHlwZV9DZWxsU2l6ZS5pc1JlcXVpcmVkIDogYnBmcnB0X3Byb3B0eXBlX0NlbGxTaXplIDogUHJvcFR5cGVzLnNoYXBlKGJwZnJwdF9wcm9wdHlwZV9DZWxsU2l6ZSkuaXNSZXF1aXJlZCkuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfSxcblxuICAvKiogTnVtYmVyIG9mIHJvd3MgaW4gZ3JpZC4gICovXG4gIFwicm93Q291bnRcIjogUHJvcFR5cGVzLm51bWJlci5pc1JlcXVpcmVkLFxuXG4gIC8qKiBXYWl0IHRoaXMgYW1vdW50IG9mIHRpbWUgYWZ0ZXIgdGhlIGxhc3Qgc2Nyb2xsIGV2ZW50IGJlZm9yZSByZXNldHRpbmcgR3JpZCBgcG9pbnRlci1ldmVudHNgLiAqL1xuICBcInNjcm9sbGluZ1Jlc2V0VGltZUludGVydmFsXCI6IFByb3BUeXBlcy5udW1iZXIuaXNSZXF1aXJlZCxcblxuICAvKiogSG9yaXpvbnRhbCBvZmZzZXQuICovXG4gIFwic2Nyb2xsTGVmdFwiOiBQcm9wVHlwZXMubnVtYmVyLFxuXG4gIC8qKlxuICAgKiBDb250cm9scyBzY3JvbGwtdG8tY2VsbCBiZWhhdmlvciBvZiB0aGUgR3JpZC5cbiAgICogVGhlIGRlZmF1bHQgKFwiYXV0b1wiKSBzY3JvbGxzIHRoZSBsZWFzdCBhbW91bnQgcG9zc2libGUgdG8gZW5zdXJlIHRoYXQgdGhlIHNwZWNpZmllZCBjZWxsIGlzIGZ1bGx5IHZpc2libGUuXG4gICAqIFVzZSBcInN0YXJ0XCIgdG8gYWxpZ24gY2VsbHMgdG8gdGhlIHRvcC9sZWZ0IG9mIHRoZSBHcmlkIGFuZCBcImVuZFwiIHRvIGFsaWduIGJvdHRvbS9yaWdodC5cbiAgICovXG4gIFwic2Nyb2xsVG9BbGlnbm1lbnRcIjogZnVuY3Rpb24gc2Nyb2xsVG9BbGlnbm1lbnQoKSB7XG4gICAgcmV0dXJuICh0eXBlb2YgYnBmcnB0X3Byb3B0eXBlX0FsaWdubWVudCA9PT0gXCJmdW5jdGlvblwiID8gYnBmcnB0X3Byb3B0eXBlX0FsaWdubWVudC5pc1JlcXVpcmVkID8gYnBmcnB0X3Byb3B0eXBlX0FsaWdubWVudC5pc1JlcXVpcmVkIDogYnBmcnB0X3Byb3B0eXBlX0FsaWdubWVudCA6IFByb3BUeXBlcy5zaGFwZShicGZycHRfcHJvcHR5cGVfQWxpZ25tZW50KS5pc1JlcXVpcmVkKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICB9LFxuXG4gIC8qKiBDb2x1bW4gaW5kZXggdG8gZW5zdXJlIHZpc2libGUgKGJ5IGZvcmNlZnVsbHkgc2Nyb2xsaW5nIGlmIG5lY2Vzc2FyeSkgKi9cbiAgXCJzY3JvbGxUb0NvbHVtblwiOiBQcm9wVHlwZXMubnVtYmVyLmlzUmVxdWlyZWQsXG5cbiAgLyoqIFZlcnRpY2FsIG9mZnNldC4gKi9cbiAgXCJzY3JvbGxUb3BcIjogUHJvcFR5cGVzLm51bWJlcixcblxuICAvKiogUm93IGluZGV4IHRvIGVuc3VyZSB2aXNpYmxlIChieSBmb3JjZWZ1bGx5IHNjcm9sbGluZyBpZiBuZWNlc3NhcnkpICovXG4gIFwic2Nyb2xsVG9Sb3dcIjogUHJvcFR5cGVzLm51bWJlci5pc1JlcXVpcmVkLFxuXG4gIC8qKiBPcHRpb25hbCBpbmxpbmUgc3R5bGUgKi9cbiAgXCJzdHlsZVwiOiBQcm9wVHlwZXMub2JqZWN0LmlzUmVxdWlyZWQsXG5cbiAgLyoqIFRhYiBpbmRleCBmb3IgZm9jdXMgKi9cbiAgXCJ0YWJJbmRleFwiOiBQcm9wVHlwZXMubnVtYmVyLFxuXG4gIC8qKiBXaWR0aCBvZiBHcmlkOyB0aGlzIHByb3BlcnR5IGRldGVybWluZXMgdGhlIG51bWJlciBvZiB2aXNpYmxlICh2cyB2aXJ0dWFsaXplZCkgY29sdW1ucy4gICovXG4gIFwid2lkdGhcIjogUHJvcFR5cGVzLm51bWJlci5pc1JlcXVpcmVkXG59KSwgX3RlbXApO1xuXG5fZGVmaW5lUHJvcGVydHkoR3JpZCwgXCJkZWZhdWx0UHJvcHNcIiwge1xuICAnYXJpYS1sYWJlbCc6ICdncmlkJyxcbiAgJ2FyaWEtcmVhZG9ubHknOiB0cnVlLFxuICBhdXRvQ29udGFpbmVyV2lkdGg6IGZhbHNlLFxuICBhdXRvSGVpZ2h0OiBmYWxzZSxcbiAgYXV0b1dpZHRoOiBmYWxzZSxcbiAgY2VsbFJhbmdlUmVuZGVyZXI6IGRlZmF1bHRDZWxsUmFuZ2VSZW5kZXJlcixcbiAgY29udGFpbmVyUm9sZTogJ3Jvd2dyb3VwJyxcbiAgY29udGFpbmVyU3R5bGU6IHt9LFxuICBlc3RpbWF0ZWRDb2x1bW5TaXplOiAxMDAsXG4gIGVzdGltYXRlZFJvd1NpemU6IDMwLFxuICBnZXRTY3JvbGxiYXJTaXplOiBzY3JvbGxiYXJTaXplLFxuICBub0NvbnRlbnRSZW5kZXJlcjogcmVuZGVyTnVsbCxcbiAgb25TY3JvbGw6IGZ1bmN0aW9uIG9uU2Nyb2xsKCkge30sXG4gIG9uU2Nyb2xsYmFyUHJlc2VuY2VDaGFuZ2U6IGZ1bmN0aW9uIG9uU2Nyb2xsYmFyUHJlc2VuY2VDaGFuZ2UoKSB7fSxcbiAgb25TZWN0aW9uUmVuZGVyZWQ6IGZ1bmN0aW9uIG9uU2VjdGlvblJlbmRlcmVkKCkge30sXG4gIG92ZXJzY2FuQ29sdW1uQ291bnQ6IDAsXG4gIG92ZXJzY2FuSW5kaWNlc0dldHRlcjogZGVmYXVsdE92ZXJzY2FuSW5kaWNlc0dldHRlcixcbiAgb3ZlcnNjYW5Sb3dDb3VudDogMTAsXG4gIHJvbGU6ICdncmlkJyxcbiAgc2Nyb2xsaW5nUmVzZXRUaW1lSW50ZXJ2YWw6IERFRkFVTFRfU0NST0xMSU5HX1JFU0VUX1RJTUVfSU5URVJWQUwsXG4gIHNjcm9sbFRvQWxpZ25tZW50OiAnYXV0bycsXG4gIHNjcm9sbFRvQ29sdW1uOiAtMSxcbiAgc2Nyb2xsVG9Sb3c6IC0xLFxuICBzdHlsZToge30sXG4gIHRhYkluZGV4OiAwLFxuICBpc1Njcm9sbGluZ09wdE91dDogZmFsc2Vcbn0pO1xuXG5wb2x5ZmlsbChHcmlkKTtcbmV4cG9ydCBkZWZhdWx0IEdyaWQ7XG5pbXBvcnQgeyBicGZycHRfcHJvcHR5cGVfQ2VsbFJlbmRlcmVyIH0gZnJvbSBcIi4vdHlwZXNcIjtcbmltcG9ydCB7IGJwZnJwdF9wcm9wdHlwZV9DZWxsUmFuZ2VSZW5kZXJlciB9IGZyb20gXCIuL3R5cGVzXCI7XG5pbXBvcnQgeyBicGZycHRfcHJvcHR5cGVfQ2VsbFBvc2l0aW9uIH0gZnJvbSBcIi4vdHlwZXNcIjtcbmltcG9ydCB7IGJwZnJwdF9wcm9wdHlwZV9DZWxsU2l6ZSB9IGZyb20gXCIuL3R5cGVzXCI7XG5pbXBvcnQgeyBicGZycHRfcHJvcHR5cGVfQ2VsbFNpemVHZXR0ZXIgfSBmcm9tIFwiLi90eXBlc1wiO1xuaW1wb3J0IHsgYnBmcnB0X3Byb3B0eXBlX05vQ29udGVudFJlbmRlcmVyIH0gZnJvbSBcIi4vdHlwZXNcIjtcbmltcG9ydCB7IGJwZnJwdF9wcm9wdHlwZV9TY3JvbGwgfSBmcm9tIFwiLi90eXBlc1wiO1xuaW1wb3J0IHsgYnBmcnB0X3Byb3B0eXBlX1Njcm9sbGJhclByZXNlbmNlQ2hhbmdlIH0gZnJvbSBcIi4vdHlwZXNcIjtcbmltcG9ydCB7IGJwZnJwdF9wcm9wdHlwZV9SZW5kZXJlZFNlY3Rpb24gfSBmcm9tIFwiLi90eXBlc1wiO1xuaW1wb3J0IHsgYnBmcnB0X3Byb3B0eXBlX092ZXJzY2FuSW5kaWNlc0dldHRlciB9IGZyb20gXCIuL3R5cGVzXCI7XG5pbXBvcnQgeyBicGZycHRfcHJvcHR5cGVfQWxpZ25tZW50IH0gZnJvbSBcIi4vdHlwZXNcIjtcbmltcG9ydCB7IGJwZnJwdF9wcm9wdHlwZV9DZWxsQ2FjaGUgfSBmcm9tIFwiLi90eXBlc1wiO1xuaW1wb3J0IHsgYnBmcnB0X3Byb3B0eXBlX1N0eWxlQ2FjaGUgfSBmcm9tIFwiLi90eXBlc1wiO1xuaW1wb3J0IHsgYnBmcnB0X3Byb3B0eXBlX0FuaW1hdGlvblRpbWVvdXRJZCB9IGZyb20gXCIuLi91dGlscy9yZXF1ZXN0QW5pbWF0aW9uVGltZW91dFwiO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tIFwicHJvcC10eXBlc1wiOyIsImV4cG9ydCB2YXIgU0NST0xMX0RJUkVDVElPTl9CQUNLV0FSRCA9IC0xO1xuZXhwb3J0IHZhciBTQ1JPTExfRElSRUNUSU9OX0ZPUldBUkQgPSAxO1xuZXhwb3J0IHZhciBTQ1JPTExfRElSRUNUSU9OX0hPUklaT05UQUwgPSAnaG9yaXpvbnRhbCc7XG5leHBvcnQgdmFyIFNDUk9MTF9ESVJFQ1RJT05fVkVSVElDQUwgPSAndmVydGljYWwnO1xuLyoqXG4gKiBDYWxjdWxhdGVzIHRoZSBudW1iZXIgb2YgY2VsbHMgdG8gb3ZlcnNjYW4gYmVmb3JlIGFuZCBhZnRlciBhIHNwZWNpZmllZCByYW5nZS5cbiAqIFRoaXMgZnVuY3Rpb24gZW5zdXJlcyB0aGF0IG92ZXJzY2FubmluZyBkb2Vzbid0IGV4Y2VlZCB0aGUgYXZhaWxhYmxlIGNlbGxzLlxuICovXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGRlZmF1bHRPdmVyc2NhbkluZGljZXNHZXR0ZXIoX3JlZikge1xuICB2YXIgY2VsbENvdW50ID0gX3JlZi5jZWxsQ291bnQsXG4gICAgICBvdmVyc2NhbkNlbGxzQ291bnQgPSBfcmVmLm92ZXJzY2FuQ2VsbHNDb3VudCxcbiAgICAgIHNjcm9sbERpcmVjdGlvbiA9IF9yZWYuc2Nyb2xsRGlyZWN0aW9uLFxuICAgICAgc3RhcnRJbmRleCA9IF9yZWYuc3RhcnRJbmRleCxcbiAgICAgIHN0b3BJbmRleCA9IF9yZWYuc3RvcEluZGV4O1xuICAvLyBNYWtlIHN1cmUgd2UgcmVuZGVyIGF0IGxlYXN0IDEgY2VsbCBleHRyYSBiZWZvcmUgYW5kIGFmdGVyIChleGNlcHQgbmVhciBib3VuZGFyaWVzKVxuICAvLyBUaGlzIGlzIG5lY2Vzc2FyeSBpbiBvcmRlciB0byBzdXBwb3J0IGtleWJvYXJkIG5hdmlnYXRpb24gKFRBQi9TSElGVCtUQUIpIGluIHNvbWUgY2FzZXNcbiAgLy8gRm9yIG1vcmUgaW5mbyBzZWUgaXNzdWVzICM2MjVcbiAgb3ZlcnNjYW5DZWxsc0NvdW50ID0gTWF0aC5tYXgoMSwgb3ZlcnNjYW5DZWxsc0NvdW50KTtcblxuICBpZiAoc2Nyb2xsRGlyZWN0aW9uID09PSBTQ1JPTExfRElSRUNUSU9OX0ZPUldBUkQpIHtcbiAgICByZXR1cm4ge1xuICAgICAgb3ZlcnNjYW5TdGFydEluZGV4OiBNYXRoLm1heCgwLCBzdGFydEluZGV4IC0gMSksXG4gICAgICBvdmVyc2NhblN0b3BJbmRleDogTWF0aC5taW4oY2VsbENvdW50IC0gMSwgc3RvcEluZGV4ICsgb3ZlcnNjYW5DZWxsc0NvdW50KVxuICAgIH07XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG92ZXJzY2FuU3RhcnRJbmRleDogTWF0aC5tYXgoMCwgc3RhcnRJbmRleCAtIG92ZXJzY2FuQ2VsbHNDb3VudCksXG4gICAgICBvdmVyc2NhblN0b3BJbmRleDogTWF0aC5taW4oY2VsbENvdW50IC0gMSwgc3RvcEluZGV4ICsgMSlcbiAgICB9O1xuICB9XG59XG5pbXBvcnQgeyBicGZycHRfcHJvcHR5cGVfT3ZlcnNjYW5JbmRpY2VzR2V0dGVyUGFyYW1zIH0gZnJvbSBcIi4vdHlwZXNcIjtcbmltcG9ydCB7IGJwZnJwdF9wcm9wdHlwZV9PdmVyc2NhbkluZGljZXMgfSBmcm9tIFwiLi90eXBlc1wiOyIsIi8qKlxuICogRGVmYXVsdCBpbXBsZW1lbnRhdGlvbiBvZiBjZWxsUmFuZ2VSZW5kZXJlciB1c2VkIGJ5IEdyaWQuXG4gKiBUaGlzIHJlbmRlcmVyIHN1cHBvcnRzIGNlbGwtY2FjaGluZyB3aGlsZSB0aGUgdXNlciBpcyBzY3JvbGxpbmcuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGRlZmF1bHRDZWxsUmFuZ2VSZW5kZXJlcihfcmVmKSB7XG4gIHZhciBjZWxsQ2FjaGUgPSBfcmVmLmNlbGxDYWNoZSxcbiAgICAgIGNlbGxSZW5kZXJlciA9IF9yZWYuY2VsbFJlbmRlcmVyLFxuICAgICAgY29sdW1uU2l6ZUFuZFBvc2l0aW9uTWFuYWdlciA9IF9yZWYuY29sdW1uU2l6ZUFuZFBvc2l0aW9uTWFuYWdlcixcbiAgICAgIGNvbHVtblN0YXJ0SW5kZXggPSBfcmVmLmNvbHVtblN0YXJ0SW5kZXgsXG4gICAgICBjb2x1bW5TdG9wSW5kZXggPSBfcmVmLmNvbHVtblN0b3BJbmRleCxcbiAgICAgIGRlZmVycmVkTWVhc3VyZW1lbnRDYWNoZSA9IF9yZWYuZGVmZXJyZWRNZWFzdXJlbWVudENhY2hlLFxuICAgICAgaG9yaXpvbnRhbE9mZnNldEFkanVzdG1lbnQgPSBfcmVmLmhvcml6b250YWxPZmZzZXRBZGp1c3RtZW50LFxuICAgICAgaXNTY3JvbGxpbmcgPSBfcmVmLmlzU2Nyb2xsaW5nLFxuICAgICAgaXNTY3JvbGxpbmdPcHRPdXQgPSBfcmVmLmlzU2Nyb2xsaW5nT3B0T3V0LFxuICAgICAgcGFyZW50ID0gX3JlZi5wYXJlbnQsXG4gICAgICByb3dTaXplQW5kUG9zaXRpb25NYW5hZ2VyID0gX3JlZi5yb3dTaXplQW5kUG9zaXRpb25NYW5hZ2VyLFxuICAgICAgcm93U3RhcnRJbmRleCA9IF9yZWYucm93U3RhcnRJbmRleCxcbiAgICAgIHJvd1N0b3BJbmRleCA9IF9yZWYucm93U3RvcEluZGV4LFxuICAgICAgc3R5bGVDYWNoZSA9IF9yZWYuc3R5bGVDYWNoZSxcbiAgICAgIHZlcnRpY2FsT2Zmc2V0QWRqdXN0bWVudCA9IF9yZWYudmVydGljYWxPZmZzZXRBZGp1c3RtZW50LFxuICAgICAgdmlzaWJsZUNvbHVtbkluZGljZXMgPSBfcmVmLnZpc2libGVDb2x1bW5JbmRpY2VzLFxuICAgICAgdmlzaWJsZVJvd0luZGljZXMgPSBfcmVmLnZpc2libGVSb3dJbmRpY2VzO1xuICB2YXIgcmVuZGVyZWRDZWxscyA9IFtdOyAvLyBCcm93c2VycyBoYXZlIG5hdGl2ZSBzaXplIGxpbWl0cyBmb3IgZWxlbWVudHMgKGVnIENocm9tZSAzM00gcGl4ZWxzLCBJRSAxLjVNIHBpeGVzKS5cbiAgLy8gVXNlciBjYW5ub3Qgc2Nyb2xsIGJleW9uZCB0aGVzZSBzaXplIGxpbWl0YXRpb25zLlxuICAvLyBJbiBvcmRlciB0byB3b3JrIGFyb3VuZCB0aGlzLCBTY2FsaW5nQ2VsbFNpemVBbmRQb3NpdGlvbk1hbmFnZXIgY29tcHJlc3NlcyBvZmZzZXRzLlxuICAvLyBXZSBzaG91bGQgbmV2ZXIgY2FjaGUgc3R5bGVzIGZvciBjb21wcmVzc2VkIG9mZnNldHMgdGhvdWdoIGFzIHRoaXMgY2FuIGxlYWQgdG8gYnVncy5cbiAgLy8gU2VlIGlzc3VlICM1NzYgZm9yIG1vcmUuXG5cbiAgdmFyIGFyZU9mZnNldHNBZGp1c3RlZCA9IGNvbHVtblNpemVBbmRQb3NpdGlvbk1hbmFnZXIuYXJlT2Zmc2V0c0FkanVzdGVkKCkgfHwgcm93U2l6ZUFuZFBvc2l0aW9uTWFuYWdlci5hcmVPZmZzZXRzQWRqdXN0ZWQoKTtcbiAgdmFyIGNhbkNhY2hlU3R5bGUgPSAhaXNTY3JvbGxpbmcgJiYgIWFyZU9mZnNldHNBZGp1c3RlZDtcblxuICBmb3IgKHZhciByb3dJbmRleCA9IHJvd1N0YXJ0SW5kZXg7IHJvd0luZGV4IDw9IHJvd1N0b3BJbmRleDsgcm93SW5kZXgrKykge1xuICAgIHZhciByb3dEYXR1bSA9IHJvd1NpemVBbmRQb3NpdGlvbk1hbmFnZXIuZ2V0U2l6ZUFuZFBvc2l0aW9uT2ZDZWxsKHJvd0luZGV4KTtcblxuICAgIGZvciAodmFyIGNvbHVtbkluZGV4ID0gY29sdW1uU3RhcnRJbmRleDsgY29sdW1uSW5kZXggPD0gY29sdW1uU3RvcEluZGV4OyBjb2x1bW5JbmRleCsrKSB7XG4gICAgICB2YXIgY29sdW1uRGF0dW0gPSBjb2x1bW5TaXplQW5kUG9zaXRpb25NYW5hZ2VyLmdldFNpemVBbmRQb3NpdGlvbk9mQ2VsbChjb2x1bW5JbmRleCk7XG4gICAgICB2YXIgaXNWaXNpYmxlID0gY29sdW1uSW5kZXggPj0gdmlzaWJsZUNvbHVtbkluZGljZXMuc3RhcnQgJiYgY29sdW1uSW5kZXggPD0gdmlzaWJsZUNvbHVtbkluZGljZXMuc3RvcCAmJiByb3dJbmRleCA+PSB2aXNpYmxlUm93SW5kaWNlcy5zdGFydCAmJiByb3dJbmRleCA8PSB2aXNpYmxlUm93SW5kaWNlcy5zdG9wO1xuICAgICAgdmFyIGtleSA9IFwiXCIuY29uY2F0KHJvd0luZGV4LCBcIi1cIikuY29uY2F0KGNvbHVtbkluZGV4KTtcbiAgICAgIHZhciBzdHlsZSA9IHZvaWQgMDsgLy8gQ2FjaGUgc3R5bGUgb2JqZWN0cyBzbyBzaGFsbG93LWNvbXBhcmUgZG9lc24ndCByZS1yZW5kZXIgdW5uZWNlc3NhcmlseS5cblxuICAgICAgaWYgKGNhbkNhY2hlU3R5bGUgJiYgc3R5bGVDYWNoZVtrZXldKSB7XG4gICAgICAgIHN0eWxlID0gc3R5bGVDYWNoZVtrZXldO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gSW4gZGVmZXJyZWQgbW9kZSwgY2VsbHMgd2lsbCBiZSBpbml0aWFsbHkgcmVuZGVyZWQgYmVmb3JlIHdlIGtub3cgdGhlaXIgc2l6ZS5cbiAgICAgICAgLy8gRG9uJ3QgaW50ZXJmZXJlIHdpdGggQ2VsbE1lYXN1cmVyJ3MgbWVhc3VyZW1lbnRzIGJ5IHNldHRpbmcgYW4gaW52YWxpZCBzaXplLlxuICAgICAgICBpZiAoZGVmZXJyZWRNZWFzdXJlbWVudENhY2hlICYmICFkZWZlcnJlZE1lYXN1cmVtZW50Q2FjaGUuaGFzKHJvd0luZGV4LCBjb2x1bW5JbmRleCkpIHtcbiAgICAgICAgICAvLyBQb3NpdGlvbiBub3QteWV0LW1lYXN1cmVkIGNlbGxzIGF0IHRvcC9sZWZ0IDAsMCxcbiAgICAgICAgICAvLyBBbmQgZ2l2ZSB0aGVtIHdpZHRoL2hlaWdodCBvZiAnYXV0bycgc28gdGhleSBjYW4gZ3JvdyBsYXJnZXIgdGhhbiB0aGUgcGFyZW50IEdyaWQgaWYgbmVjZXNzYXJ5LlxuICAgICAgICAgIC8vIFBvc2l0aW9uaW5nIHRoZW0gZnVydGhlciB0byB0aGUgcmlnaHQvYm90dG9tIGluZmx1ZW5jZXMgdGhlaXIgbWVhc3VyZWQgc2l6ZS5cbiAgICAgICAgICBzdHlsZSA9IHtcbiAgICAgICAgICAgIGhlaWdodDogJ2F1dG8nLFxuICAgICAgICAgICAgbGVmdDogMCxcbiAgICAgICAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICAgICAgICAgICAgdG9wOiAwLFxuICAgICAgICAgICAgd2lkdGg6ICdhdXRvJ1xuICAgICAgICAgIH07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc3R5bGUgPSB7XG4gICAgICAgICAgICBoZWlnaHQ6IHJvd0RhdHVtLnNpemUsXG4gICAgICAgICAgICBsZWZ0OiBjb2x1bW5EYXR1bS5vZmZzZXQgKyBob3Jpem9udGFsT2Zmc2V0QWRqdXN0bWVudCxcbiAgICAgICAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICAgICAgICAgICAgdG9wOiByb3dEYXR1bS5vZmZzZXQgKyB2ZXJ0aWNhbE9mZnNldEFkanVzdG1lbnQsXG4gICAgICAgICAgICB3aWR0aDogY29sdW1uRGF0dW0uc2l6ZVxuICAgICAgICAgIH07XG4gICAgICAgICAgc3R5bGVDYWNoZVtrZXldID0gc3R5bGU7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdmFyIGNlbGxSZW5kZXJlclBhcmFtcyA9IHtcbiAgICAgICAgY29sdW1uSW5kZXg6IGNvbHVtbkluZGV4LFxuICAgICAgICBpc1Njcm9sbGluZzogaXNTY3JvbGxpbmcsXG4gICAgICAgIGlzVmlzaWJsZTogaXNWaXNpYmxlLFxuICAgICAgICBrZXk6IGtleSxcbiAgICAgICAgcGFyZW50OiBwYXJlbnQsXG4gICAgICAgIHJvd0luZGV4OiByb3dJbmRleCxcbiAgICAgICAgc3R5bGU6IHN0eWxlXG4gICAgICB9O1xuICAgICAgdmFyIHJlbmRlcmVkQ2VsbCA9IHZvaWQgMDsgLy8gQXZvaWQgcmUtY3JlYXRpbmcgY2VsbHMgd2hpbGUgc2Nyb2xsaW5nLlxuICAgICAgLy8gVGhpcyBjYW4gbGVhZCB0byB0aGUgc2FtZSBjZWxsIGJlaW5nIGNyZWF0ZWQgbWFueSB0aW1lcyBhbmQgY2FuIGNhdXNlIHBlcmZvcm1hbmNlIGlzc3VlcyBmb3IgXCJoZWF2eVwiIGNlbGxzLlxuICAgICAgLy8gSWYgYSBzY3JvbGwgaXMgaW4gcHJvZ3Jlc3MtIGNhY2hlIGFuZCByZXVzZSBjZWxscy5cbiAgICAgIC8vIFRoaXMgY2FjaGUgd2lsbCBiZSB0aHJvd24gYXdheSBvbmNlIHNjcm9sbGluZyBjb21wbGV0ZXMuXG4gICAgICAvLyBIb3dldmVyIGlmIHdlIGFyZSBzY2FsaW5nIHNjcm9sbCBwb3NpdGlvbnMgYW5kIHNpemVzLCB3ZSBzaG91bGQgYWxzbyBhdm9pZCBjYWNoaW5nLlxuICAgICAgLy8gVGhpcyBpcyBiZWNhdXNlIHRoZSBvZmZzZXQgY2hhbmdlcyBzbGlnaHRseSBhcyBzY3JvbGwgcG9zaXRpb24gY2hhbmdlcyBhbmQgY2FjaGluZyBsZWFkcyB0byBzdGFsZSB2YWx1ZXMuXG4gICAgICAvLyBGb3IgbW9yZSBpbmZvIHJlZmVyIHRvIGlzc3VlICMzOTVcbiAgICAgIC8vXG4gICAgICAvLyBJZiBpc1Njcm9sbGluZ09wdE91dCBpcyBzcGVjaWZpZWQsIHdlIGFsd2F5cyBjYWNoZSBjZWxscy5cbiAgICAgIC8vIEZvciBtb3JlIGluZm8gcmVmZXIgdG8gaXNzdWUgIzEwMjhcblxuICAgICAgaWYgKChpc1Njcm9sbGluZ09wdE91dCB8fCBpc1Njcm9sbGluZykgJiYgIWhvcml6b250YWxPZmZzZXRBZGp1c3RtZW50ICYmICF2ZXJ0aWNhbE9mZnNldEFkanVzdG1lbnQpIHtcbiAgICAgICAgaWYgKCFjZWxsQ2FjaGVba2V5XSkge1xuICAgICAgICAgIGNlbGxDYWNoZVtrZXldID0gY2VsbFJlbmRlcmVyKGNlbGxSZW5kZXJlclBhcmFtcyk7XG4gICAgICAgIH1cblxuICAgICAgICByZW5kZXJlZENlbGwgPSBjZWxsQ2FjaGVba2V5XTsgLy8gSWYgdGhlIHVzZXIgaXMgbm8gbG9uZ2VyIHNjcm9sbGluZywgZG9uJ3QgY2FjaGUgY2VsbHMuXG4gICAgICAgIC8vIFRoaXMgbWFrZXMgZHluYW1pYyBjZWxsIGNvbnRlbnQgZGlmZmljdWx0IGZvciB1c2VycyBhbmQgd291bGQgYWxzbyBsZWFkIHRvIGEgaGVhdmllciBtZW1vcnkgZm9vdHByaW50LlxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVuZGVyZWRDZWxsID0gY2VsbFJlbmRlcmVyKGNlbGxSZW5kZXJlclBhcmFtcyk7XG4gICAgICB9XG5cbiAgICAgIGlmIChyZW5kZXJlZENlbGwgPT0gbnVsbCB8fCByZW5kZXJlZENlbGwgPT09IGZhbHNlKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICB3YXJuQWJvdXRNaXNzaW5nU3R5bGUocGFyZW50LCByZW5kZXJlZENlbGwpO1xuICAgICAgfVxuXG4gICAgICByZW5kZXJlZENlbGxzLnB1c2gocmVuZGVyZWRDZWxsKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gcmVuZGVyZWRDZWxscztcbn1cblxuZnVuY3Rpb24gd2FybkFib3V0TWlzc2luZ1N0eWxlKHBhcmVudCwgcmVuZGVyZWRDZWxsKSB7XG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgaWYgKHJlbmRlcmVkQ2VsbCkge1xuICAgICAgLy8gSWYgdGhlIGRpcmVjdCBjaGlsZCBpcyBhIENlbGxNZWFzdXJlciwgdGhlbiB3ZSBzaG91bGQgY2hlY2sgaXRzIGNoaWxkXG4gICAgICAvLyBTZWUgaXNzdWUgIzYxMVxuICAgICAgaWYgKHJlbmRlcmVkQ2VsbC50eXBlICYmIHJlbmRlcmVkQ2VsbC50eXBlLl9faW50ZXJuYWxDZWxsTWVhc3VyZXJGbGFnKSB7XG4gICAgICAgIHJlbmRlcmVkQ2VsbCA9IHJlbmRlcmVkQ2VsbC5wcm9wcy5jaGlsZHJlbjtcbiAgICAgIH1cblxuICAgICAgaWYgKHJlbmRlcmVkQ2VsbCAmJiByZW5kZXJlZENlbGwucHJvcHMgJiYgcmVuZGVyZWRDZWxsLnByb3BzLnN0eWxlID09PSB1bmRlZmluZWQgJiYgcGFyZW50Ll9fd2FybmVkQWJvdXRNaXNzaW5nU3R5bGUgIT09IHRydWUpIHtcbiAgICAgICAgcGFyZW50Ll9fd2FybmVkQWJvdXRNaXNzaW5nU3R5bGUgPSB0cnVlO1xuICAgICAgICBjb25zb2xlLndhcm4oJ1JlbmRlcmVkIGNlbGwgc2hvdWxkIGluY2x1ZGUgc3R5bGUgcHJvcGVydHkgZm9yIHBvc2l0aW9uaW5nLicpO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5pbXBvcnQgeyBicGZycHRfcHJvcHR5cGVfQ2VsbFJhbmdlUmVuZGVyZXJQYXJhbXMgfSBmcm9tIFwiLi90eXBlc1wiOyIsImV4cG9ydCB2YXIgU0NST0xMX0RJUkVDVElPTl9CQUNLV0FSRCA9IC0xO1xuZXhwb3J0IHZhciBTQ1JPTExfRElSRUNUSU9OX0ZPUldBUkQgPSAxO1xuZXhwb3J0IHZhciBTQ1JPTExfRElSRUNUSU9OX0hPUklaT05UQUwgPSAnaG9yaXpvbnRhbCc7XG5leHBvcnQgdmFyIFNDUk9MTF9ESVJFQ1RJT05fVkVSVElDQUwgPSAndmVydGljYWwnO1xuLyoqXG4gKiBDYWxjdWxhdGVzIHRoZSBudW1iZXIgb2YgY2VsbHMgdG8gb3ZlcnNjYW4gYmVmb3JlIGFuZCBhZnRlciBhIHNwZWNpZmllZCByYW5nZS5cbiAqIFRoaXMgZnVuY3Rpb24gZW5zdXJlcyB0aGF0IG92ZXJzY2FubmluZyBkb2Vzbid0IGV4Y2VlZCB0aGUgYXZhaWxhYmxlIGNlbGxzLlxuICovXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGRlZmF1bHRPdmVyc2NhbkluZGljZXNHZXR0ZXIoX3JlZikge1xuICB2YXIgY2VsbENvdW50ID0gX3JlZi5jZWxsQ291bnQsXG4gICAgICBvdmVyc2NhbkNlbGxzQ291bnQgPSBfcmVmLm92ZXJzY2FuQ2VsbHNDb3VudCxcbiAgICAgIHNjcm9sbERpcmVjdGlvbiA9IF9yZWYuc2Nyb2xsRGlyZWN0aW9uLFxuICAgICAgc3RhcnRJbmRleCA9IF9yZWYuc3RhcnRJbmRleCxcbiAgICAgIHN0b3BJbmRleCA9IF9yZWYuc3RvcEluZGV4O1xuXG4gIGlmIChzY3JvbGxEaXJlY3Rpb24gPT09IFNDUk9MTF9ESVJFQ1RJT05fRk9SV0FSRCkge1xuICAgIHJldHVybiB7XG4gICAgICBvdmVyc2NhblN0YXJ0SW5kZXg6IE1hdGgubWF4KDAsIHN0YXJ0SW5kZXgpLFxuICAgICAgb3ZlcnNjYW5TdG9wSW5kZXg6IE1hdGgubWluKGNlbGxDb3VudCAtIDEsIHN0b3BJbmRleCArIG92ZXJzY2FuQ2VsbHNDb3VudClcbiAgICB9O1xuICB9IGVsc2Uge1xuICAgIHJldHVybiB7XG4gICAgICBvdmVyc2NhblN0YXJ0SW5kZXg6IE1hdGgubWF4KDAsIHN0YXJ0SW5kZXggLSBvdmVyc2NhbkNlbGxzQ291bnQpLFxuICAgICAgb3ZlcnNjYW5TdG9wSW5kZXg6IE1hdGgubWluKGNlbGxDb3VudCAtIDEsIHN0b3BJbmRleClcbiAgICB9O1xuICB9XG59XG5pbXBvcnQgeyBicGZycHRfcHJvcHR5cGVfT3ZlcnNjYW5JbmRpY2VzR2V0dGVyUGFyYW1zIH0gZnJvbSBcIi4vdHlwZXNcIjtcbmltcG9ydCB7IGJwZnJwdF9wcm9wdHlwZV9PdmVyc2NhbkluZGljZXMgfSBmcm9tIFwiLi90eXBlc1wiOyIsImV4cG9ydCB7IGRlZmF1bHQgfSBmcm9tICcuL0dyaWQnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBHcmlkIH0gZnJvbSAnLi9HcmlkJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgYWNjZXNzaWJpbGl0eU92ZXJzY2FuSW5kaWNlc0dldHRlciB9IGZyb20gJy4vYWNjZXNzaWJpbGl0eU92ZXJzY2FuSW5kaWNlc0dldHRlcic7XG5leHBvcnQgeyBkZWZhdWx0IGFzIGRlZmF1bHRDZWxsUmFuZ2VSZW5kZXJlciB9IGZyb20gJy4vZGVmYXVsdENlbGxSYW5nZVJlbmRlcmVyJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgZGVmYXVsdE92ZXJzY2FuSW5kaWNlc0dldHRlciB9IGZyb20gJy4vZGVmYXVsdE92ZXJzY2FuSW5kaWNlc0dldHRlcic7XG5pbXBvcnQgeyBicGZycHRfcHJvcHR5cGVfTm9Db250ZW50UmVuZGVyZXIgfSBmcm9tIFwiLi90eXBlc1wiO1xuZXhwb3J0IHsgYnBmcnB0X3Byb3B0eXBlX05vQ29udGVudFJlbmRlcmVyIH07XG5pbXBvcnQgeyBicGZycHRfcHJvcHR5cGVfQWxpZ25tZW50IH0gZnJvbSBcIi4vdHlwZXNcIjtcbmV4cG9ydCB7IGJwZnJwdF9wcm9wdHlwZV9BbGlnbm1lbnQgfTtcbmltcG9ydCB7IGJwZnJwdF9wcm9wdHlwZV9DZWxsUG9zaXRpb24gfSBmcm9tIFwiLi90eXBlc1wiO1xuZXhwb3J0IHsgYnBmcnB0X3Byb3B0eXBlX0NlbGxQb3NpdGlvbiB9O1xuaW1wb3J0IHsgYnBmcnB0X3Byb3B0eXBlX0NlbGxTaXplIH0gZnJvbSBcIi4vdHlwZXNcIjtcbmV4cG9ydCB7IGJwZnJwdF9wcm9wdHlwZV9DZWxsU2l6ZSB9O1xuaW1wb3J0IHsgYnBmcnB0X3Byb3B0eXBlX092ZXJzY2FuSW5kaWNlc0dldHRlciB9IGZyb20gXCIuL3R5cGVzXCI7XG5leHBvcnQgeyBicGZycHRfcHJvcHR5cGVfT3ZlcnNjYW5JbmRpY2VzR2V0dGVyIH07XG5pbXBvcnQgeyBicGZycHRfcHJvcHR5cGVfUmVuZGVyZWRTZWN0aW9uIH0gZnJvbSBcIi4vdHlwZXNcIjtcbmV4cG9ydCB7IGJwZnJwdF9wcm9wdHlwZV9SZW5kZXJlZFNlY3Rpb24gfTtcbmltcG9ydCB7IGJwZnJwdF9wcm9wdHlwZV9DZWxsUmVuZGVyZXJQYXJhbXMgfSBmcm9tIFwiLi90eXBlc1wiO1xuZXhwb3J0IHsgYnBmcnB0X3Byb3B0eXBlX0NlbGxSZW5kZXJlclBhcmFtcyB9O1xuaW1wb3J0IHsgYnBmcnB0X3Byb3B0eXBlX1Njcm9sbCB9IGZyb20gXCIuL3R5cGVzXCI7XG5leHBvcnQgeyBicGZycHRfcHJvcHR5cGVfU2Nyb2xsIH07IiwiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFNjYWxpbmdDZWxsU2l6ZUFuZFBvc2l0aW9uTWFuYWdlciBmcm9tICcuL3V0aWxzL1NjYWxpbmdDZWxsU2l6ZUFuZFBvc2l0aW9uTWFuYWdlcic7XG52YXIgYnBmcnB0X3Byb3B0eXBlX0NlbGxQb3NpdGlvbiA9IHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAncHJvZHVjdGlvbicgPyBudWxsIDoge1xuICBcImNvbHVtbkluZGV4XCI6IFByb3BUeXBlcy5udW1iZXIuaXNSZXF1aXJlZCxcbiAgXCJyb3dJbmRleFwiOiBQcm9wVHlwZXMubnVtYmVyLmlzUmVxdWlyZWRcbn07XG52YXIgYnBmcnB0X3Byb3B0eXBlX0NlbGxSZW5kZXJlclBhcmFtcyA9IHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAncHJvZHVjdGlvbicgPyBudWxsIDoge1xuICBcImNvbHVtbkluZGV4XCI6IFByb3BUeXBlcy5udW1iZXIuaXNSZXF1aXJlZCxcbiAgXCJpc1Njcm9sbGluZ1wiOiBQcm9wVHlwZXMuYm9vbC5pc1JlcXVpcmVkLFxuICBcImlzVmlzaWJsZVwiOiBQcm9wVHlwZXMuYm9vbC5pc1JlcXVpcmVkLFxuICBcImtleVwiOiBQcm9wVHlwZXMuc3RyaW5nLmlzUmVxdWlyZWQsXG4gIFwicGFyZW50XCI6IFByb3BUeXBlcy5vYmplY3QuaXNSZXF1aXJlZCxcbiAgXCJyb3dJbmRleFwiOiBQcm9wVHlwZXMubnVtYmVyLmlzUmVxdWlyZWQsXG4gIFwic3R5bGVcIjogUHJvcFR5cGVzLm9iamVjdC5pc1JlcXVpcmVkXG59O1xudmFyIGJwZnJwdF9wcm9wdHlwZV9DZWxsUmVuZGVyZXIgPSBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nID8gbnVsbCA6IFByb3BUeXBlcy5mdW5jO1xudmFyIGJwZnJwdF9wcm9wdHlwZV9DZWxsQ2FjaGUgPSBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nID8gbnVsbCA6IFByb3BUeXBlcy5vYmplY3RPZihQcm9wVHlwZXMubm9kZS5pc1JlcXVpcmVkKTtcbnZhciBicGZycHRfcHJvcHR5cGVfU3R5bGVDYWNoZSA9IHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAncHJvZHVjdGlvbicgPyBudWxsIDogUHJvcFR5cGVzLm9iamVjdE9mKFByb3BUeXBlcy5vYmplY3QuaXNSZXF1aXJlZCk7XG52YXIgYnBmcnB0X3Byb3B0eXBlX0NlbGxSYW5nZVJlbmRlcmVyUGFyYW1zID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdwcm9kdWN0aW9uJyA/IG51bGwgOiB7XG4gIFwiY2VsbENhY2hlXCI6IFByb3BUeXBlcy5vYmplY3RPZihQcm9wVHlwZXMubm9kZS5pc1JlcXVpcmVkKS5pc1JlcXVpcmVkLFxuICBcImNlbGxSZW5kZXJlclwiOiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLFxuICBcImNvbHVtblNpemVBbmRQb3NpdGlvbk1hbmFnZXJcIjogZnVuY3Rpb24gY29sdW1uU2l6ZUFuZFBvc2l0aW9uTWFuYWdlcigpIHtcbiAgICByZXR1cm4gKHR5cGVvZiBTY2FsaW5nQ2VsbFNpemVBbmRQb3NpdGlvbk1hbmFnZXIgPT09IFwiZnVuY3Rpb25cIiA/IFByb3BUeXBlcy5pbnN0YW5jZU9mKFNjYWxpbmdDZWxsU2l6ZUFuZFBvc2l0aW9uTWFuYWdlcikuaXNSZXF1aXJlZCA6IFByb3BUeXBlcy5hbnkuaXNSZXF1aXJlZCkuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfSxcbiAgXCJjb2x1bW5TdGFydEluZGV4XCI6IFByb3BUeXBlcy5udW1iZXIuaXNSZXF1aXJlZCxcbiAgXCJjb2x1bW5TdG9wSW5kZXhcIjogUHJvcFR5cGVzLm51bWJlci5pc1JlcXVpcmVkLFxuICBcImRlZmVycmVkTWVhc3VyZW1lbnRDYWNoZVwiOiBQcm9wVHlwZXMub2JqZWN0LFxuICBcImhvcml6b250YWxPZmZzZXRBZGp1c3RtZW50XCI6IFByb3BUeXBlcy5udW1iZXIuaXNSZXF1aXJlZCxcbiAgXCJpc1Njcm9sbGluZ1wiOiBQcm9wVHlwZXMuYm9vbC5pc1JlcXVpcmVkLFxuICBcImlzU2Nyb2xsaW5nT3B0T3V0XCI6IFByb3BUeXBlcy5ib29sLmlzUmVxdWlyZWQsXG4gIFwicGFyZW50XCI6IFByb3BUeXBlcy5vYmplY3QuaXNSZXF1aXJlZCxcbiAgXCJyb3dTaXplQW5kUG9zaXRpb25NYW5hZ2VyXCI6IGZ1bmN0aW9uIHJvd1NpemVBbmRQb3NpdGlvbk1hbmFnZXIoKSB7XG4gICAgcmV0dXJuICh0eXBlb2YgU2NhbGluZ0NlbGxTaXplQW5kUG9zaXRpb25NYW5hZ2VyID09PSBcImZ1bmN0aW9uXCIgPyBQcm9wVHlwZXMuaW5zdGFuY2VPZihTY2FsaW5nQ2VsbFNpemVBbmRQb3NpdGlvbk1hbmFnZXIpLmlzUmVxdWlyZWQgOiBQcm9wVHlwZXMuYW55LmlzUmVxdWlyZWQpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gIH0sXG4gIFwicm93U3RhcnRJbmRleFwiOiBQcm9wVHlwZXMubnVtYmVyLmlzUmVxdWlyZWQsXG4gIFwicm93U3RvcEluZGV4XCI6IFByb3BUeXBlcy5udW1iZXIuaXNSZXF1aXJlZCxcbiAgXCJzY3JvbGxMZWZ0XCI6IFByb3BUeXBlcy5udW1iZXIuaXNSZXF1aXJlZCxcbiAgXCJzY3JvbGxUb3BcIjogUHJvcFR5cGVzLm51bWJlci5pc1JlcXVpcmVkLFxuICBcInN0eWxlQ2FjaGVcIjogUHJvcFR5cGVzLm9iamVjdE9mKFByb3BUeXBlcy5vYmplY3QuaXNSZXF1aXJlZCkuaXNSZXF1aXJlZCxcbiAgXCJ2ZXJ0aWNhbE9mZnNldEFkanVzdG1lbnRcIjogUHJvcFR5cGVzLm51bWJlci5pc1JlcXVpcmVkLFxuICBcInZpc2libGVDb2x1bW5JbmRpY2VzXCI6IFByb3BUeXBlcy5vYmplY3QuaXNSZXF1aXJlZCxcbiAgXCJ2aXNpYmxlUm93SW5kaWNlc1wiOiBQcm9wVHlwZXMub2JqZWN0LmlzUmVxdWlyZWRcbn07XG52YXIgYnBmcnB0X3Byb3B0eXBlX0NlbGxSYW5nZVJlbmRlcmVyID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdwcm9kdWN0aW9uJyA/IG51bGwgOiBQcm9wVHlwZXMuZnVuYztcbnZhciBicGZycHRfcHJvcHR5cGVfQ2VsbFNpemVHZXR0ZXIgPSBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nID8gbnVsbCA6IFByb3BUeXBlcy5mdW5jO1xudmFyIGJwZnJwdF9wcm9wdHlwZV9DZWxsU2l6ZSA9IHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAncHJvZHVjdGlvbicgPyBudWxsIDogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLmZ1bmMsIFByb3BUeXBlcy5udW1iZXJdKTtcbnZhciBicGZycHRfcHJvcHR5cGVfTm9Db250ZW50UmVuZGVyZXIgPSBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nID8gbnVsbCA6IFByb3BUeXBlcy5mdW5jO1xudmFyIGJwZnJwdF9wcm9wdHlwZV9TY3JvbGwgPSBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nID8gbnVsbCA6IHtcbiAgXCJjbGllbnRIZWlnaHRcIjogUHJvcFR5cGVzLm51bWJlci5pc1JlcXVpcmVkLFxuICBcImNsaWVudFdpZHRoXCI6IFByb3BUeXBlcy5udW1iZXIuaXNSZXF1aXJlZCxcbiAgXCJzY3JvbGxIZWlnaHRcIjogUHJvcFR5cGVzLm51bWJlci5pc1JlcXVpcmVkLFxuICBcInNjcm9sbExlZnRcIjogUHJvcFR5cGVzLm51bWJlci5pc1JlcXVpcmVkLFxuICBcInNjcm9sbFRvcFwiOiBQcm9wVHlwZXMubnVtYmVyLmlzUmVxdWlyZWQsXG4gIFwic2Nyb2xsV2lkdGhcIjogUHJvcFR5cGVzLm51bWJlci5pc1JlcXVpcmVkXG59O1xudmFyIGJwZnJwdF9wcm9wdHlwZV9TY3JvbGxiYXJQcmVzZW5jZUNoYW5nZSA9IHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAncHJvZHVjdGlvbicgPyBudWxsIDoge1xuICBcImhvcml6b250YWxcIjogUHJvcFR5cGVzLmJvb2wuaXNSZXF1aXJlZCxcbiAgXCJ2ZXJ0aWNhbFwiOiBQcm9wVHlwZXMuYm9vbC5pc1JlcXVpcmVkLFxuICBcInNpemVcIjogUHJvcFR5cGVzLm51bWJlci5pc1JlcXVpcmVkXG59O1xudmFyIGJwZnJwdF9wcm9wdHlwZV9SZW5kZXJlZFNlY3Rpb24gPSBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nID8gbnVsbCA6IHtcbiAgXCJjb2x1bW5PdmVyc2NhblN0YXJ0SW5kZXhcIjogUHJvcFR5cGVzLm51bWJlci5pc1JlcXVpcmVkLFxuICBcImNvbHVtbk92ZXJzY2FuU3RvcEluZGV4XCI6IFByb3BUeXBlcy5udW1iZXIuaXNSZXF1aXJlZCxcbiAgXCJjb2x1bW5TdGFydEluZGV4XCI6IFByb3BUeXBlcy5udW1iZXIuaXNSZXF1aXJlZCxcbiAgXCJjb2x1bW5TdG9wSW5kZXhcIjogUHJvcFR5cGVzLm51bWJlci5pc1JlcXVpcmVkLFxuICBcInJvd092ZXJzY2FuU3RhcnRJbmRleFwiOiBQcm9wVHlwZXMubnVtYmVyLmlzUmVxdWlyZWQsXG4gIFwicm93T3ZlcnNjYW5TdG9wSW5kZXhcIjogUHJvcFR5cGVzLm51bWJlci5pc1JlcXVpcmVkLFxuICBcInJvd1N0YXJ0SW5kZXhcIjogUHJvcFR5cGVzLm51bWJlci5pc1JlcXVpcmVkLFxuICBcInJvd1N0b3BJbmRleFwiOiBQcm9wVHlwZXMubnVtYmVyLmlzUmVxdWlyZWRcbn07XG52YXIgYnBmcnB0X3Byb3B0eXBlX092ZXJzY2FuSW5kaWNlc0dldHRlclBhcmFtcyA9IHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAncHJvZHVjdGlvbicgPyBudWxsIDoge1xuICAvLyBPbmUgb2YgU0NST0xMX0RJUkVDVElPTl9IT1JJWk9OVEFMIG9yIFNDUk9MTF9ESVJFQ1RJT05fVkVSVElDQUxcbiAgXCJkaXJlY3Rpb25cIjogUHJvcFR5cGVzLm9uZU9mKFtcImhvcml6b250YWxcIiwgXCJ2ZXJ0aWNhbFwiXSkuaXNSZXF1aXJlZCxcbiAgLy8gT25lIG9mIFNDUk9MTF9ESVJFQ1RJT05fQkFDS1dBUkQgb3IgU0NST0xMX0RJUkVDVElPTl9GT1JXQVJEXG4gIFwic2Nyb2xsRGlyZWN0aW9uXCI6IFByb3BUeXBlcy5vbmVPZihbLTEsIDFdKS5pc1JlcXVpcmVkLFxuICAvLyBOdW1iZXIgb2Ygcm93cyBvciBjb2x1bW5zIGluIHRoZSBjdXJyZW50IGF4aXNcbiAgXCJjZWxsQ291bnRcIjogUHJvcFR5cGVzLm51bWJlci5pc1JlcXVpcmVkLFxuICAvLyBNYXhpbXVtIG51bWJlciBvZiBjZWxscyB0byBvdmVyLXJlbmRlciBpbiBlaXRoZXIgZGlyZWN0aW9uXG4gIFwib3ZlcnNjYW5DZWxsc0NvdW50XCI6IFByb3BUeXBlcy5udW1iZXIuaXNSZXF1aXJlZCxcbiAgLy8gQmVnaW4gb2YgcmFuZ2Ugb2YgdmlzaWJsZSBjZWxsc1xuICBcInN0YXJ0SW5kZXhcIjogUHJvcFR5cGVzLm51bWJlci5pc1JlcXVpcmVkLFxuICAvLyBFbmQgb2YgcmFuZ2Ugb2YgdmlzaWJsZSBjZWxsc1xuICBcInN0b3BJbmRleFwiOiBQcm9wVHlwZXMubnVtYmVyLmlzUmVxdWlyZWRcbn07XG52YXIgYnBmcnB0X3Byb3B0eXBlX092ZXJzY2FuSW5kaWNlcyA9IHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAncHJvZHVjdGlvbicgPyBudWxsIDoge1xuICBcIm92ZXJzY2FuU3RhcnRJbmRleFwiOiBQcm9wVHlwZXMubnVtYmVyLmlzUmVxdWlyZWQsXG4gIFwib3ZlcnNjYW5TdG9wSW5kZXhcIjogUHJvcFR5cGVzLm51bWJlci5pc1JlcXVpcmVkXG59O1xudmFyIGJwZnJwdF9wcm9wdHlwZV9PdmVyc2NhbkluZGljZXNHZXR0ZXIgPSBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nID8gbnVsbCA6IFByb3BUeXBlcy5mdW5jO1xudmFyIGJwZnJwdF9wcm9wdHlwZV9BbGlnbm1lbnQgPSBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nID8gbnVsbCA6IFByb3BUeXBlcy5vbmVPZihbXCJhdXRvXCIsIFwiZW5kXCIsIFwic3RhcnRcIiwgXCJjZW50ZXJcIl0pO1xudmFyIGJwZnJwdF9wcm9wdHlwZV9WaXNpYmxlQ2VsbFJhbmdlID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdwcm9kdWN0aW9uJyA/IG51bGwgOiB7XG4gIFwic3RhcnRcIjogUHJvcFR5cGVzLm51bWJlcixcbiAgXCJzdG9wXCI6IFByb3BUeXBlcy5udW1iZXJcbn07XG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gXCJwcm9wLXR5cGVzXCI7XG5leHBvcnQgeyBicGZycHRfcHJvcHR5cGVfQ2VsbFBvc2l0aW9uIH07XG5leHBvcnQgeyBicGZycHRfcHJvcHR5cGVfQ2VsbFJlbmRlcmVyUGFyYW1zIH07XG5leHBvcnQgeyBicGZycHRfcHJvcHR5cGVfQ2VsbFJlbmRlcmVyIH07XG5leHBvcnQgeyBicGZycHRfcHJvcHR5cGVfQ2VsbENhY2hlIH07XG5leHBvcnQgeyBicGZycHRfcHJvcHR5cGVfU3R5bGVDYWNoZSB9O1xuZXhwb3J0IHsgYnBmcnB0X3Byb3B0eXBlX0NlbGxSYW5nZVJlbmRlcmVyUGFyYW1zIH07XG5leHBvcnQgeyBicGZycHRfcHJvcHR5cGVfQ2VsbFJhbmdlUmVuZGVyZXIgfTtcbmV4cG9ydCB7IGJwZnJwdF9wcm9wdHlwZV9DZWxsU2l6ZUdldHRlciB9O1xuZXhwb3J0IHsgYnBmcnB0X3Byb3B0eXBlX0NlbGxTaXplIH07XG5leHBvcnQgeyBicGZycHRfcHJvcHR5cGVfTm9Db250ZW50UmVuZGVyZXIgfTtcbmV4cG9ydCB7IGJwZnJwdF9wcm9wdHlwZV9TY3JvbGwgfTtcbmV4cG9ydCB7IGJwZnJwdF9wcm9wdHlwZV9TY3JvbGxiYXJQcmVzZW5jZUNoYW5nZSB9O1xuZXhwb3J0IHsgYnBmcnB0X3Byb3B0eXBlX1JlbmRlcmVkU2VjdGlvbiB9O1xuZXhwb3J0IHsgYnBmcnB0X3Byb3B0eXBlX092ZXJzY2FuSW5kaWNlc0dldHRlclBhcmFtcyB9O1xuZXhwb3J0IHsgYnBmcnB0X3Byb3B0eXBlX092ZXJzY2FuSW5kaWNlcyB9O1xuZXhwb3J0IHsgYnBmcnB0X3Byb3B0eXBlX092ZXJzY2FuSW5kaWNlc0dldHRlciB9O1xuZXhwb3J0IHsgYnBmcnB0X3Byb3B0eXBlX0FsaWdubWVudCB9O1xuZXhwb3J0IHsgYnBmcnB0X3Byb3B0eXBlX1Zpc2libGVDZWxsUmFuZ2UgfTsiLCJpbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrXCI7XG5pbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzXCI7XG5pbXBvcnQgX2RlZmluZVByb3BlcnR5IGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2RlZmluZVByb3BlcnR5XCI7XG5cbi8qKlxuICogSnVzdC1pbi10aW1lIGNhbGN1bGF0ZXMgYW5kIGNhY2hlcyBzaXplIGFuZCBwb3NpdGlvbiBpbmZvcm1hdGlvbiBmb3IgYSBjb2xsZWN0aW9uIG9mIGNlbGxzLlxuICovXG52YXIgQ2VsbFNpemVBbmRQb3NpdGlvbk1hbmFnZXIgPVxuLyojX19QVVJFX18qL1xuZnVuY3Rpb24gKCkge1xuICAvLyBDYWNoZSBvZiBzaXplIGFuZCBwb3NpdGlvbiBkYXRhIGZvciBjZWxscywgbWFwcGVkIGJ5IGNlbGwgaW5kZXguXG4gIC8vIE5vdGUgdGhhdCBpbnZhbGlkIHZhbHVlcyBtYXkgZXhpc3QgaW4gdGhpcyBtYXAgc28gb25seSByZWx5IG9uIGNlbGxzIHVwIHRvIHRoaXMuX2xhc3RNZWFzdXJlZEluZGV4XG4gIC8vIE1lYXN1cmVtZW50cyBmb3IgY2VsbHMgdXAgdG8gdGhpcyBpbmRleCBjYW4gYmUgdHJ1c3RlZDsgY2VsbHMgYWZ0ZXJ3YXJkIHNob3VsZCBiZSBlc3RpbWF0ZWQuXG4gIC8vIFVzZWQgaW4gZGVmZXJyZWQgbW9kZSB0byB0cmFjayB3aGljaCBjZWxscyBoYXZlIGJlZW4gcXVldWVkIGZvciBtZWFzdXJlbWVudC5cbiAgZnVuY3Rpb24gQ2VsbFNpemVBbmRQb3NpdGlvbk1hbmFnZXIoX3JlZikge1xuICAgIHZhciBjZWxsQ291bnQgPSBfcmVmLmNlbGxDb3VudCxcbiAgICAgICAgY2VsbFNpemVHZXR0ZXIgPSBfcmVmLmNlbGxTaXplR2V0dGVyLFxuICAgICAgICBlc3RpbWF0ZWRDZWxsU2l6ZSA9IF9yZWYuZXN0aW1hdGVkQ2VsbFNpemU7XG5cbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQ2VsbFNpemVBbmRQb3NpdGlvbk1hbmFnZXIpO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiX2NlbGxTaXplQW5kUG9zaXRpb25EYXRhXCIsIHt9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9sYXN0TWVhc3VyZWRJbmRleFwiLCAtMSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJfbGFzdEJhdGNoZWRJbmRleFwiLCAtMSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJfY2VsbENvdW50XCIsIHZvaWQgMCk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJfY2VsbFNpemVHZXR0ZXJcIiwgdm9pZCAwKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9lc3RpbWF0ZWRDZWxsU2l6ZVwiLCB2b2lkIDApO1xuXG4gICAgdGhpcy5fY2VsbFNpemVHZXR0ZXIgPSBjZWxsU2l6ZUdldHRlcjtcbiAgICB0aGlzLl9jZWxsQ291bnQgPSBjZWxsQ291bnQ7XG4gICAgdGhpcy5fZXN0aW1hdGVkQ2VsbFNpemUgPSBlc3RpbWF0ZWRDZWxsU2l6ZTtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhDZWxsU2l6ZUFuZFBvc2l0aW9uTWFuYWdlciwgW3tcbiAgICBrZXk6IFwiYXJlT2Zmc2V0c0FkanVzdGVkXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGFyZU9mZnNldHNBZGp1c3RlZCgpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiY29uZmlndXJlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbmZpZ3VyZShfcmVmMikge1xuICAgICAgdmFyIGNlbGxDb3VudCA9IF9yZWYyLmNlbGxDb3VudCxcbiAgICAgICAgICBlc3RpbWF0ZWRDZWxsU2l6ZSA9IF9yZWYyLmVzdGltYXRlZENlbGxTaXplLFxuICAgICAgICAgIGNlbGxTaXplR2V0dGVyID0gX3JlZjIuY2VsbFNpemVHZXR0ZXI7XG4gICAgICB0aGlzLl9jZWxsQ291bnQgPSBjZWxsQ291bnQ7XG4gICAgICB0aGlzLl9lc3RpbWF0ZWRDZWxsU2l6ZSA9IGVzdGltYXRlZENlbGxTaXplO1xuICAgICAgdGhpcy5fY2VsbFNpemVHZXR0ZXIgPSBjZWxsU2l6ZUdldHRlcjtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZ2V0Q2VsbENvdW50XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldENlbGxDb3VudCgpIHtcbiAgICAgIHJldHVybiB0aGlzLl9jZWxsQ291bnQ7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImdldEVzdGltYXRlZENlbGxTaXplXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldEVzdGltYXRlZENlbGxTaXplKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX2VzdGltYXRlZENlbGxTaXplO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJnZXRMYXN0TWVhc3VyZWRJbmRleFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRMYXN0TWVhc3VyZWRJbmRleCgpIHtcbiAgICAgIHJldHVybiB0aGlzLl9sYXN0TWVhc3VyZWRJbmRleDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZ2V0T2Zmc2V0QWRqdXN0bWVudFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRPZmZzZXRBZGp1c3RtZW50KCkge1xuICAgICAgcmV0dXJuIDA7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIHJldHVybnMgdGhlIHNpemUgYW5kIHBvc2l0aW9uIGZvciB0aGUgY2VsbCBhdCB0aGUgc3BlY2lmaWVkIGluZGV4LlxuICAgICAqIEl0IGp1c3QtaW4tdGltZSBjYWxjdWxhdGVzIChvciB1c2VkIGNhY2hlZCB2YWx1ZXMpIGZvciBjZWxscyBsZWFkaW5nIHVwIHRvIHRoZSBpbmRleC5cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImdldFNpemVBbmRQb3NpdGlvbk9mQ2VsbFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRTaXplQW5kUG9zaXRpb25PZkNlbGwoaW5kZXgpIHtcbiAgICAgIGlmIChpbmRleCA8IDAgfHwgaW5kZXggPj0gdGhpcy5fY2VsbENvdW50KSB7XG4gICAgICAgIHRocm93IEVycm9yKFwiUmVxdWVzdGVkIGluZGV4IFwiLmNvbmNhdChpbmRleCwgXCIgaXMgb3V0c2lkZSBvZiByYW5nZSAwLi5cIikuY29uY2F0KHRoaXMuX2NlbGxDb3VudCkpO1xuICAgICAgfVxuXG4gICAgICBpZiAoaW5kZXggPiB0aGlzLl9sYXN0TWVhc3VyZWRJbmRleCkge1xuICAgICAgICB2YXIgbGFzdE1lYXN1cmVkQ2VsbFNpemVBbmRQb3NpdGlvbiA9IHRoaXMuZ2V0U2l6ZUFuZFBvc2l0aW9uT2ZMYXN0TWVhc3VyZWRDZWxsKCk7XG4gICAgICAgIHZhciBvZmZzZXQgPSBsYXN0TWVhc3VyZWRDZWxsU2l6ZUFuZFBvc2l0aW9uLm9mZnNldCArIGxhc3RNZWFzdXJlZENlbGxTaXplQW5kUG9zaXRpb24uc2l6ZTtcblxuICAgICAgICBmb3IgKHZhciBpID0gdGhpcy5fbGFzdE1lYXN1cmVkSW5kZXggKyAxOyBpIDw9IGluZGV4OyBpKyspIHtcbiAgICAgICAgICB2YXIgc2l6ZSA9IHRoaXMuX2NlbGxTaXplR2V0dGVyKHtcbiAgICAgICAgICAgIGluZGV4OiBpXG4gICAgICAgICAgfSk7IC8vIHVuZGVmaW5lZCBvciBOYU4gcHJvYmFibHkgbWVhbnMgYSBsb2dpYyBlcnJvciBpbiB0aGUgc2l6ZSBnZXR0ZXIuXG4gICAgICAgICAgLy8gbnVsbCBtZWFucyB3ZSdyZSB1c2luZyBDZWxsTWVhc3VyZXIgYW5kIGhhdmVuJ3QgeWV0IG1lYXN1cmVkIGEgZ2l2ZW4gaW5kZXguXG5cblxuICAgICAgICAgIGlmIChzaXplID09PSB1bmRlZmluZWQgfHwgaXNOYU4oc2l6ZSkpIHtcbiAgICAgICAgICAgIHRocm93IEVycm9yKFwiSW52YWxpZCBzaXplIHJldHVybmVkIGZvciBjZWxsIFwiLmNvbmNhdChpLCBcIiBvZiB2YWx1ZSBcIikuY29uY2F0KHNpemUpKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKHNpemUgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuX2NlbGxTaXplQW5kUG9zaXRpb25EYXRhW2ldID0ge1xuICAgICAgICAgICAgICBvZmZzZXQ6IG9mZnNldCxcbiAgICAgICAgICAgICAgc2l6ZTogMFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRoaXMuX2xhc3RCYXRjaGVkSW5kZXggPSBpbmRleDtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fY2VsbFNpemVBbmRQb3NpdGlvbkRhdGFbaV0gPSB7XG4gICAgICAgICAgICAgIG9mZnNldDogb2Zmc2V0LFxuICAgICAgICAgICAgICBzaXplOiBzaXplXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgb2Zmc2V0ICs9IHNpemU7XG4gICAgICAgICAgICB0aGlzLl9sYXN0TWVhc3VyZWRJbmRleCA9IGluZGV4O1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcy5fY2VsbFNpemVBbmRQb3NpdGlvbkRhdGFbaW5kZXhdO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJnZXRTaXplQW5kUG9zaXRpb25PZkxhc3RNZWFzdXJlZENlbGxcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0U2l6ZUFuZFBvc2l0aW9uT2ZMYXN0TWVhc3VyZWRDZWxsKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX2xhc3RNZWFzdXJlZEluZGV4ID49IDAgPyB0aGlzLl9jZWxsU2l6ZUFuZFBvc2l0aW9uRGF0YVt0aGlzLl9sYXN0TWVhc3VyZWRJbmRleF0gOiB7XG4gICAgICAgIG9mZnNldDogMCxcbiAgICAgICAgc2l6ZTogMFxuICAgICAgfTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVG90YWwgc2l6ZSBvZiBhbGwgY2VsbHMgYmVpbmcgbWVhc3VyZWQuXG4gICAgICogVGhpcyB2YWx1ZSB3aWxsIGJlIGNvbXBsZXRlbHkgZXN0aW1hdGVkIGluaXRpYWxseS5cbiAgICAgKiBBcyBjZWxscyBhcmUgbWVhc3VyZWQsIHRoZSBlc3RpbWF0ZSB3aWxsIGJlIHVwZGF0ZWQuXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJnZXRUb3RhbFNpemVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0VG90YWxTaXplKCkge1xuICAgICAgdmFyIGxhc3RNZWFzdXJlZENlbGxTaXplQW5kUG9zaXRpb24gPSB0aGlzLmdldFNpemVBbmRQb3NpdGlvbk9mTGFzdE1lYXN1cmVkQ2VsbCgpO1xuICAgICAgdmFyIHRvdGFsU2l6ZU9mTWVhc3VyZWRDZWxscyA9IGxhc3RNZWFzdXJlZENlbGxTaXplQW5kUG9zaXRpb24ub2Zmc2V0ICsgbGFzdE1lYXN1cmVkQ2VsbFNpemVBbmRQb3NpdGlvbi5zaXplO1xuICAgICAgdmFyIG51bVVubWVhc3VyZWRDZWxscyA9IHRoaXMuX2NlbGxDb3VudCAtIHRoaXMuX2xhc3RNZWFzdXJlZEluZGV4IC0gMTtcbiAgICAgIHZhciB0b3RhbFNpemVPZlVubWVhc3VyZWRDZWxscyA9IG51bVVubWVhc3VyZWRDZWxscyAqIHRoaXMuX2VzdGltYXRlZENlbGxTaXplO1xuICAgICAgcmV0dXJuIHRvdGFsU2l6ZU9mTWVhc3VyZWRDZWxscyArIHRvdGFsU2l6ZU9mVW5tZWFzdXJlZENlbGxzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBEZXRlcm1pbmVzIGEgbmV3IG9mZnNldCB0aGF0IGVuc3VyZXMgYSBjZXJ0YWluIGNlbGwgaXMgdmlzaWJsZSwgZ2l2ZW4gdGhlIGN1cnJlbnQgb2Zmc2V0LlxuICAgICAqIElmIHRoZSBjZWxsIGlzIGFscmVhZHkgdmlzaWJsZSB0aGVuIHRoZSBjdXJyZW50IG9mZnNldCB3aWxsIGJlIHJldHVybmVkLlxuICAgICAqIElmIHRoZSBjdXJyZW50IG9mZnNldCBpcyB0b28gZ3JlYXQgb3Igc21hbGwsIGl0IHdpbGwgYmUgYWRqdXN0ZWQganVzdCBlbm91Z2ggdG8gZW5zdXJlIHRoZSBzcGVjaWZpZWQgaW5kZXggaXMgdmlzaWJsZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBhbGlnbiBEZXNpcmVkIGFsaWdubWVudCB3aXRoaW4gY29udGFpbmVyOyBvbmUgb2YgXCJhdXRvXCIgKGRlZmF1bHQpLCBcInN0YXJ0XCIsIG9yIFwiZW5kXCJcbiAgICAgKiBAcGFyYW0gY29udGFpbmVyU2l6ZSBTaXplICh3aWR0aCBvciBoZWlnaHQpIG9mIHRoZSBjb250YWluZXIgdmlld3BvcnRcbiAgICAgKiBAcGFyYW0gY3VycmVudE9mZnNldCBDb250YWluZXIncyBjdXJyZW50ICh4IG9yIHkpIG9mZnNldFxuICAgICAqIEBwYXJhbSB0b3RhbFNpemUgVG90YWwgc2l6ZSAod2lkdGggb3IgaGVpZ2h0KSBvZiBhbGwgY2VsbHNcbiAgICAgKiBAcmV0dXJuIE9mZnNldCB0byB1c2UgdG8gZW5zdXJlIHRoZSBzcGVjaWZpZWQgY2VsbCBpcyB2aXNpYmxlXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJnZXRVcGRhdGVkT2Zmc2V0Rm9ySW5kZXhcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0VXBkYXRlZE9mZnNldEZvckluZGV4KF9yZWYzKSB7XG4gICAgICB2YXIgX3JlZjMkYWxpZ24gPSBfcmVmMy5hbGlnbixcbiAgICAgICAgICBhbGlnbiA9IF9yZWYzJGFsaWduID09PSB2b2lkIDAgPyAnYXV0bycgOiBfcmVmMyRhbGlnbixcbiAgICAgICAgICBjb250YWluZXJTaXplID0gX3JlZjMuY29udGFpbmVyU2l6ZSxcbiAgICAgICAgICBjdXJyZW50T2Zmc2V0ID0gX3JlZjMuY3VycmVudE9mZnNldCxcbiAgICAgICAgICB0YXJnZXRJbmRleCA9IF9yZWYzLnRhcmdldEluZGV4O1xuXG4gICAgICBpZiAoY29udGFpbmVyU2l6ZSA8PSAwKSB7XG4gICAgICAgIHJldHVybiAwO1xuICAgICAgfVxuXG4gICAgICB2YXIgZGF0dW0gPSB0aGlzLmdldFNpemVBbmRQb3NpdGlvbk9mQ2VsbCh0YXJnZXRJbmRleCk7XG4gICAgICB2YXIgbWF4T2Zmc2V0ID0gZGF0dW0ub2Zmc2V0O1xuICAgICAgdmFyIG1pbk9mZnNldCA9IG1heE9mZnNldCAtIGNvbnRhaW5lclNpemUgKyBkYXR1bS5zaXplO1xuICAgICAgdmFyIGlkZWFsT2Zmc2V0O1xuXG4gICAgICBzd2l0Y2ggKGFsaWduKSB7XG4gICAgICAgIGNhc2UgJ3N0YXJ0JzpcbiAgICAgICAgICBpZGVhbE9mZnNldCA9IG1heE9mZnNldDtcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlICdlbmQnOlxuICAgICAgICAgIGlkZWFsT2Zmc2V0ID0gbWluT2Zmc2V0O1xuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgJ2NlbnRlcic6XG4gICAgICAgICAgaWRlYWxPZmZzZXQgPSBtYXhPZmZzZXQgLSAoY29udGFpbmVyU2l6ZSAtIGRhdHVtLnNpemUpIC8gMjtcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGlkZWFsT2Zmc2V0ID0gTWF0aC5tYXgobWluT2Zmc2V0LCBNYXRoLm1pbihtYXhPZmZzZXQsIGN1cnJlbnRPZmZzZXQpKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cblxuICAgICAgdmFyIHRvdGFsU2l6ZSA9IHRoaXMuZ2V0VG90YWxTaXplKCk7XG4gICAgICByZXR1cm4gTWF0aC5tYXgoMCwgTWF0aC5taW4odG90YWxTaXplIC0gY29udGFpbmVyU2l6ZSwgaWRlYWxPZmZzZXQpKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZ2V0VmlzaWJsZUNlbGxSYW5nZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRWaXNpYmxlQ2VsbFJhbmdlKHBhcmFtcykge1xuICAgICAgdmFyIGNvbnRhaW5lclNpemUgPSBwYXJhbXMuY29udGFpbmVyU2l6ZSxcbiAgICAgICAgICBvZmZzZXQgPSBwYXJhbXMub2Zmc2V0O1xuICAgICAgdmFyIHRvdGFsU2l6ZSA9IHRoaXMuZ2V0VG90YWxTaXplKCk7XG5cbiAgICAgIGlmICh0b3RhbFNpemUgPT09IDApIHtcbiAgICAgICAgcmV0dXJuIHt9O1xuICAgICAgfVxuXG4gICAgICB2YXIgbWF4T2Zmc2V0ID0gb2Zmc2V0ICsgY29udGFpbmVyU2l6ZTtcblxuICAgICAgdmFyIHN0YXJ0ID0gdGhpcy5fZmluZE5lYXJlc3RDZWxsKG9mZnNldCk7XG5cbiAgICAgIHZhciBkYXR1bSA9IHRoaXMuZ2V0U2l6ZUFuZFBvc2l0aW9uT2ZDZWxsKHN0YXJ0KTtcbiAgICAgIG9mZnNldCA9IGRhdHVtLm9mZnNldCArIGRhdHVtLnNpemU7XG4gICAgICB2YXIgc3RvcCA9IHN0YXJ0O1xuXG4gICAgICB3aGlsZSAob2Zmc2V0IDwgbWF4T2Zmc2V0ICYmIHN0b3AgPCB0aGlzLl9jZWxsQ291bnQgLSAxKSB7XG4gICAgICAgIHN0b3ArKztcbiAgICAgICAgb2Zmc2V0ICs9IHRoaXMuZ2V0U2l6ZUFuZFBvc2l0aW9uT2ZDZWxsKHN0b3ApLnNpemU7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN0YXJ0OiBzdGFydCxcbiAgICAgICAgc3RvcDogc3RvcFxuICAgICAgfTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2xlYXIgYWxsIGNhY2hlZCB2YWx1ZXMgZm9yIGNlbGxzIGFmdGVyIHRoZSBzcGVjaWZpZWQgaW5kZXguXG4gICAgICogVGhpcyBtZXRob2Qgc2hvdWxkIGJlIGNhbGxlZCBmb3IgYW55IGNlbGwgdGhhdCBoYXMgY2hhbmdlZCBpdHMgc2l6ZS5cbiAgICAgKiBJdCB3aWxsIG5vdCBpbW1lZGlhdGVseSBwZXJmb3JtIGFueSBjYWxjdWxhdGlvbnM7IHRoZXknbGwgYmUgcGVyZm9ybWVkIHRoZSBuZXh0IHRpbWUgZ2V0U2l6ZUFuZFBvc2l0aW9uT2ZDZWxsKCkgaXMgY2FsbGVkLlxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwicmVzZXRDZWxsXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlc2V0Q2VsbChpbmRleCkge1xuICAgICAgdGhpcy5fbGFzdE1lYXN1cmVkSW5kZXggPSBNYXRoLm1pbih0aGlzLl9sYXN0TWVhc3VyZWRJbmRleCwgaW5kZXggLSAxKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiX2JpbmFyeVNlYXJjaFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfYmluYXJ5U2VhcmNoKGhpZ2gsIGxvdywgb2Zmc2V0KSB7XG4gICAgICB3aGlsZSAobG93IDw9IGhpZ2gpIHtcbiAgICAgICAgdmFyIG1pZGRsZSA9IGxvdyArIE1hdGguZmxvb3IoKGhpZ2ggLSBsb3cpIC8gMik7XG4gICAgICAgIHZhciBjdXJyZW50T2Zmc2V0ID0gdGhpcy5nZXRTaXplQW5kUG9zaXRpb25PZkNlbGwobWlkZGxlKS5vZmZzZXQ7XG5cbiAgICAgICAgaWYgKGN1cnJlbnRPZmZzZXQgPT09IG9mZnNldCkge1xuICAgICAgICAgIHJldHVybiBtaWRkbGU7XG4gICAgICAgIH0gZWxzZSBpZiAoY3VycmVudE9mZnNldCA8IG9mZnNldCkge1xuICAgICAgICAgIGxvdyA9IG1pZGRsZSArIDE7XG4gICAgICAgIH0gZWxzZSBpZiAoY3VycmVudE9mZnNldCA+IG9mZnNldCkge1xuICAgICAgICAgIGhpZ2ggPSBtaWRkbGUgLSAxO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChsb3cgPiAwKSB7XG4gICAgICAgIHJldHVybiBsb3cgLSAxO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIl9leHBvbmVudGlhbFNlYXJjaFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfZXhwb25lbnRpYWxTZWFyY2goaW5kZXgsIG9mZnNldCkge1xuICAgICAgdmFyIGludGVydmFsID0gMTtcblxuICAgICAgd2hpbGUgKGluZGV4IDwgdGhpcy5fY2VsbENvdW50ICYmIHRoaXMuZ2V0U2l6ZUFuZFBvc2l0aW9uT2ZDZWxsKGluZGV4KS5vZmZzZXQgPCBvZmZzZXQpIHtcbiAgICAgICAgaW5kZXggKz0gaW50ZXJ2YWw7XG4gICAgICAgIGludGVydmFsICo9IDI7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzLl9iaW5hcnlTZWFyY2goTWF0aC5taW4oaW5kZXgsIHRoaXMuX2NlbGxDb3VudCAtIDEpLCBNYXRoLmZsb29yKGluZGV4IC8gMiksIG9mZnNldCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNlYXJjaGVzIGZvciB0aGUgY2VsbCAoaW5kZXgpIG5lYXJlc3QgdGhlIHNwZWNpZmllZCBvZmZzZXQuXG4gICAgICpcbiAgICAgKiBJZiBubyBleGFjdCBtYXRjaCBpcyBmb3VuZCB0aGUgbmV4dCBsb3dlc3QgY2VsbCBpbmRleCB3aWxsIGJlIHJldHVybmVkLlxuICAgICAqIFRoaXMgYWxsb3dzIHBhcnRpYWxseSB2aXNpYmxlIGNlbGxzICh3aXRoIG9mZnNldHMganVzdCBiZWZvcmUvYWJvdmUgdGhlIGZvbGQpIHRvIGJlIHZpc2libGUuXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJfZmluZE5lYXJlc3RDZWxsXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9maW5kTmVhcmVzdENlbGwob2Zmc2V0KSB7XG4gICAgICBpZiAoaXNOYU4ob2Zmc2V0KSkge1xuICAgICAgICB0aHJvdyBFcnJvcihcIkludmFsaWQgb2Zmc2V0IFwiLmNvbmNhdChvZmZzZXQsIFwiIHNwZWNpZmllZFwiKSk7XG4gICAgICB9IC8vIE91ciBzZWFyY2ggYWxnb3JpdGhtcyBmaW5kIHRoZSBuZWFyZXN0IG1hdGNoIGF0IG9yIGJlbG93IHRoZSBzcGVjaWZpZWQgb2Zmc2V0LlxuICAgICAgLy8gU28gbWFrZSBzdXJlIHRoZSBvZmZzZXQgaXMgYXQgbGVhc3QgMCBvciBubyBtYXRjaCB3aWxsIGJlIGZvdW5kLlxuXG5cbiAgICAgIG9mZnNldCA9IE1hdGgubWF4KDAsIG9mZnNldCk7XG4gICAgICB2YXIgbGFzdE1lYXN1cmVkQ2VsbFNpemVBbmRQb3NpdGlvbiA9IHRoaXMuZ2V0U2l6ZUFuZFBvc2l0aW9uT2ZMYXN0TWVhc3VyZWRDZWxsKCk7XG4gICAgICB2YXIgbGFzdE1lYXN1cmVkSW5kZXggPSBNYXRoLm1heCgwLCB0aGlzLl9sYXN0TWVhc3VyZWRJbmRleCk7XG5cbiAgICAgIGlmIChsYXN0TWVhc3VyZWRDZWxsU2l6ZUFuZFBvc2l0aW9uLm9mZnNldCA+PSBvZmZzZXQpIHtcbiAgICAgICAgLy8gSWYgd2UndmUgYWxyZWFkeSBtZWFzdXJlZCBjZWxscyB3aXRoaW4gdGhpcyByYW5nZSBqdXN0IHVzZSBhIGJpbmFyeSBzZWFyY2ggYXMgaXQncyBmYXN0ZXIuXG4gICAgICAgIHJldHVybiB0aGlzLl9iaW5hcnlTZWFyY2gobGFzdE1lYXN1cmVkSW5kZXgsIDAsIG9mZnNldCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBJZiB3ZSBoYXZlbid0IHlldCBtZWFzdXJlZCB0aGlzIGhpZ2gsIGZhbGxiYWNrIHRvIGFuIGV4cG9uZW50aWFsIHNlYXJjaCB3aXRoIGFuIGlubmVyIGJpbmFyeSBzZWFyY2guXG4gICAgICAgIC8vIFRoZSBleHBvbmVudGlhbCBzZWFyY2ggYXZvaWRzIHByZS1jb21wdXRpbmcgc2l6ZXMgZm9yIHRoZSBmdWxsIHNldCBvZiBjZWxscyBhcyBhIGJpbmFyeSBzZWFyY2ggd291bGQuXG4gICAgICAgIC8vIFRoZSBvdmVyYWxsIGNvbXBsZXhpdHkgZm9yIHRoaXMgYXBwcm9hY2ggaXMgTyhsb2cgbikuXG4gICAgICAgIHJldHVybiB0aGlzLl9leHBvbmVudGlhbFNlYXJjaChsYXN0TWVhc3VyZWRJbmRleCwgb2Zmc2V0KTtcbiAgICAgIH1cbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gQ2VsbFNpemVBbmRQb3NpdGlvbk1hbmFnZXI7XG59KCk7XG5cbmV4cG9ydCB7IENlbGxTaXplQW5kUG9zaXRpb25NYW5hZ2VyIGFzIGRlZmF1bHQgfTtcbmltcG9ydCB7IGJwZnJwdF9wcm9wdHlwZV9BbGlnbm1lbnQgfSBmcm9tIFwiLi4vdHlwZXNcIjtcbmltcG9ydCB7IGJwZnJwdF9wcm9wdHlwZV9DZWxsU2l6ZUdldHRlciB9IGZyb20gXCIuLi90eXBlc1wiO1xuaW1wb3J0IHsgYnBmcnB0X3Byb3B0eXBlX1Zpc2libGVDZWxsUmFuZ2UgfSBmcm9tIFwiLi4vdHlwZXNcIjsiLCJpbXBvcnQgX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzXCI7XG5pbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrXCI7XG5pbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzXCI7XG5pbXBvcnQgX2RlZmluZVByb3BlcnR5IGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2RlZmluZVByb3BlcnR5XCI7XG5pbXBvcnQgQ2VsbFNpemVBbmRQb3NpdGlvbk1hbmFnZXIgZnJvbSAnLi9DZWxsU2l6ZUFuZFBvc2l0aW9uTWFuYWdlcic7XG5pbXBvcnQgeyBnZXRNYXhFbGVtZW50U2l6ZSB9IGZyb20gJy4vbWF4RWxlbWVudFNpemUuanMnO1xuXG4vKipcbiAqIEV4dGVuZHMgQ2VsbFNpemVBbmRQb3NpdGlvbk1hbmFnZXIgYW5kIGFkZHMgc2NhbGluZyBiZWhhdmlvciBmb3IgbGlzdHMgdGhhdCBhcmUgdG9vIGxhcmdlIHRvIGZpdCB3aXRoaW4gYSBicm93c2VyJ3MgbmF0aXZlIGxpbWl0cy5cbiAqL1xudmFyIFNjYWxpbmdDZWxsU2l6ZUFuZFBvc2l0aW9uTWFuYWdlciA9XG4vKiNfX1BVUkVfXyovXG5mdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIFNjYWxpbmdDZWxsU2l6ZUFuZFBvc2l0aW9uTWFuYWdlcihfcmVmKSB7XG4gICAgdmFyIF9yZWYkbWF4U2Nyb2xsU2l6ZSA9IF9yZWYubWF4U2Nyb2xsU2l6ZSxcbiAgICAgICAgbWF4U2Nyb2xsU2l6ZSA9IF9yZWYkbWF4U2Nyb2xsU2l6ZSA9PT0gdm9pZCAwID8gZ2V0TWF4RWxlbWVudFNpemUoKSA6IF9yZWYkbWF4U2Nyb2xsU2l6ZSxcbiAgICAgICAgcGFyYW1zID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKF9yZWYsIFtcIm1heFNjcm9sbFNpemVcIl0pO1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFNjYWxpbmdDZWxsU2l6ZUFuZFBvc2l0aW9uTWFuYWdlcik7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJfY2VsbFNpemVBbmRQb3NpdGlvbk1hbmFnZXJcIiwgdm9pZCAwKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9tYXhTY3JvbGxTaXplXCIsIHZvaWQgMCk7XG5cbiAgICAvLyBGYXZvciBjb21wb3NpdGlvbiBvdmVyIGluaGVyaXRhbmNlIHRvIHNpbXBsaWZ5IElFMTAgc3VwcG9ydFxuICAgIHRoaXMuX2NlbGxTaXplQW5kUG9zaXRpb25NYW5hZ2VyID0gbmV3IENlbGxTaXplQW5kUG9zaXRpb25NYW5hZ2VyKHBhcmFtcyk7XG4gICAgdGhpcy5fbWF4U2Nyb2xsU2l6ZSA9IG1heFNjcm9sbFNpemU7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoU2NhbGluZ0NlbGxTaXplQW5kUG9zaXRpb25NYW5hZ2VyLCBbe1xuICAgIGtleTogXCJhcmVPZmZzZXRzQWRqdXN0ZWRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gYXJlT2Zmc2V0c0FkanVzdGVkKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX2NlbGxTaXplQW5kUG9zaXRpb25NYW5hZ2VyLmdldFRvdGFsU2l6ZSgpID4gdGhpcy5fbWF4U2Nyb2xsU2l6ZTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiY29uZmlndXJlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbmZpZ3VyZShwYXJhbXMpIHtcbiAgICAgIHRoaXMuX2NlbGxTaXplQW5kUG9zaXRpb25NYW5hZ2VyLmNvbmZpZ3VyZShwYXJhbXMpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJnZXRDZWxsQ291bnRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0Q2VsbENvdW50KCkge1xuICAgICAgcmV0dXJuIHRoaXMuX2NlbGxTaXplQW5kUG9zaXRpb25NYW5hZ2VyLmdldENlbGxDb3VudCgpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJnZXRFc3RpbWF0ZWRDZWxsU2l6ZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRFc3RpbWF0ZWRDZWxsU2l6ZSgpIHtcbiAgICAgIHJldHVybiB0aGlzLl9jZWxsU2l6ZUFuZFBvc2l0aW9uTWFuYWdlci5nZXRFc3RpbWF0ZWRDZWxsU2l6ZSgpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJnZXRMYXN0TWVhc3VyZWRJbmRleFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRMYXN0TWVhc3VyZWRJbmRleCgpIHtcbiAgICAgIHJldHVybiB0aGlzLl9jZWxsU2l6ZUFuZFBvc2l0aW9uTWFuYWdlci5nZXRMYXN0TWVhc3VyZWRJbmRleCgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBOdW1iZXIgb2YgcGl4ZWxzIGEgY2VsbCBhdCB0aGUgZ2l2ZW4gcG9zaXRpb24gKG9mZnNldCkgc2hvdWxkIGJlIHNoaWZ0ZWQgaW4gb3JkZXIgdG8gZml0IHdpdGhpbiB0aGUgc2NhbGVkIGNvbnRhaW5lci5cbiAgICAgKiBUaGUgb2Zmc2V0IHBhc3NlZCB0byB0aGlzIGZ1bmN0aW9uIGlzIHNjYWxlZCAoc2FmZSkgYXMgd2VsbC5cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImdldE9mZnNldEFkanVzdG1lbnRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0T2Zmc2V0QWRqdXN0bWVudChfcmVmMikge1xuICAgICAgdmFyIGNvbnRhaW5lclNpemUgPSBfcmVmMi5jb250YWluZXJTaXplLFxuICAgICAgICAgIG9mZnNldCA9IF9yZWYyLm9mZnNldDtcblxuICAgICAgdmFyIHRvdGFsU2l6ZSA9IHRoaXMuX2NlbGxTaXplQW5kUG9zaXRpb25NYW5hZ2VyLmdldFRvdGFsU2l6ZSgpO1xuXG4gICAgICB2YXIgc2FmZVRvdGFsU2l6ZSA9IHRoaXMuZ2V0VG90YWxTaXplKCk7XG5cbiAgICAgIHZhciBvZmZzZXRQZXJjZW50YWdlID0gdGhpcy5fZ2V0T2Zmc2V0UGVyY2VudGFnZSh7XG4gICAgICAgIGNvbnRhaW5lclNpemU6IGNvbnRhaW5lclNpemUsXG4gICAgICAgIG9mZnNldDogb2Zmc2V0LFxuICAgICAgICB0b3RhbFNpemU6IHNhZmVUb3RhbFNpemVcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gTWF0aC5yb3VuZChvZmZzZXRQZXJjZW50YWdlICogKHNhZmVUb3RhbFNpemUgLSB0b3RhbFNpemUpKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZ2V0U2l6ZUFuZFBvc2l0aW9uT2ZDZWxsXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldFNpemVBbmRQb3NpdGlvbk9mQ2VsbChpbmRleCkge1xuICAgICAgcmV0dXJuIHRoaXMuX2NlbGxTaXplQW5kUG9zaXRpb25NYW5hZ2VyLmdldFNpemVBbmRQb3NpdGlvbk9mQ2VsbChpbmRleCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImdldFNpemVBbmRQb3NpdGlvbk9mTGFzdE1lYXN1cmVkQ2VsbFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRTaXplQW5kUG9zaXRpb25PZkxhc3RNZWFzdXJlZENlbGwoKSB7XG4gICAgICByZXR1cm4gdGhpcy5fY2VsbFNpemVBbmRQb3NpdGlvbk1hbmFnZXIuZ2V0U2l6ZUFuZFBvc2l0aW9uT2ZMYXN0TWVhc3VyZWRDZWxsKCk7XG4gICAgfVxuICAgIC8qKiBTZWUgQ2VsbFNpemVBbmRQb3NpdGlvbk1hbmFnZXIjZ2V0VG90YWxTaXplICovXG5cbiAgfSwge1xuICAgIGtleTogXCJnZXRUb3RhbFNpemVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0VG90YWxTaXplKCkge1xuICAgICAgcmV0dXJuIE1hdGgubWluKHRoaXMuX21heFNjcm9sbFNpemUsIHRoaXMuX2NlbGxTaXplQW5kUG9zaXRpb25NYW5hZ2VyLmdldFRvdGFsU2l6ZSgpKTtcbiAgICB9XG4gICAgLyoqIFNlZSBDZWxsU2l6ZUFuZFBvc2l0aW9uTWFuYWdlciNnZXRVcGRhdGVkT2Zmc2V0Rm9ySW5kZXggKi9cblxuICB9LCB7XG4gICAga2V5OiBcImdldFVwZGF0ZWRPZmZzZXRGb3JJbmRleFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRVcGRhdGVkT2Zmc2V0Rm9ySW5kZXgoX3JlZjMpIHtcbiAgICAgIHZhciBfcmVmMyRhbGlnbiA9IF9yZWYzLmFsaWduLFxuICAgICAgICAgIGFsaWduID0gX3JlZjMkYWxpZ24gPT09IHZvaWQgMCA/ICdhdXRvJyA6IF9yZWYzJGFsaWduLFxuICAgICAgICAgIGNvbnRhaW5lclNpemUgPSBfcmVmMy5jb250YWluZXJTaXplLFxuICAgICAgICAgIGN1cnJlbnRPZmZzZXQgPSBfcmVmMy5jdXJyZW50T2Zmc2V0LFxuICAgICAgICAgIHRhcmdldEluZGV4ID0gX3JlZjMudGFyZ2V0SW5kZXg7XG4gICAgICBjdXJyZW50T2Zmc2V0ID0gdGhpcy5fc2FmZU9mZnNldFRvT2Zmc2V0KHtcbiAgICAgICAgY29udGFpbmVyU2l6ZTogY29udGFpbmVyU2l6ZSxcbiAgICAgICAgb2Zmc2V0OiBjdXJyZW50T2Zmc2V0XG4gICAgICB9KTtcblxuICAgICAgdmFyIG9mZnNldCA9IHRoaXMuX2NlbGxTaXplQW5kUG9zaXRpb25NYW5hZ2VyLmdldFVwZGF0ZWRPZmZzZXRGb3JJbmRleCh7XG4gICAgICAgIGFsaWduOiBhbGlnbixcbiAgICAgICAgY29udGFpbmVyU2l6ZTogY29udGFpbmVyU2l6ZSxcbiAgICAgICAgY3VycmVudE9mZnNldDogY3VycmVudE9mZnNldCxcbiAgICAgICAgdGFyZ2V0SW5kZXg6IHRhcmdldEluZGV4XG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIHRoaXMuX29mZnNldFRvU2FmZU9mZnNldCh7XG4gICAgICAgIGNvbnRhaW5lclNpemU6IGNvbnRhaW5lclNpemUsXG4gICAgICAgIG9mZnNldDogb2Zmc2V0XG4gICAgICB9KTtcbiAgICB9XG4gICAgLyoqIFNlZSBDZWxsU2l6ZUFuZFBvc2l0aW9uTWFuYWdlciNnZXRWaXNpYmxlQ2VsbFJhbmdlICovXG5cbiAgfSwge1xuICAgIGtleTogXCJnZXRWaXNpYmxlQ2VsbFJhbmdlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldFZpc2libGVDZWxsUmFuZ2UoX3JlZjQpIHtcbiAgICAgIHZhciBjb250YWluZXJTaXplID0gX3JlZjQuY29udGFpbmVyU2l6ZSxcbiAgICAgICAgICBvZmZzZXQgPSBfcmVmNC5vZmZzZXQ7XG4gICAgICBvZmZzZXQgPSB0aGlzLl9zYWZlT2Zmc2V0VG9PZmZzZXQoe1xuICAgICAgICBjb250YWluZXJTaXplOiBjb250YWluZXJTaXplLFxuICAgICAgICBvZmZzZXQ6IG9mZnNldFxuICAgICAgfSk7XG4gICAgICByZXR1cm4gdGhpcy5fY2VsbFNpemVBbmRQb3NpdGlvbk1hbmFnZXIuZ2V0VmlzaWJsZUNlbGxSYW5nZSh7XG4gICAgICAgIGNvbnRhaW5lclNpemU6IGNvbnRhaW5lclNpemUsXG4gICAgICAgIG9mZnNldDogb2Zmc2V0XG4gICAgICB9KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwicmVzZXRDZWxsXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlc2V0Q2VsbChpbmRleCkge1xuICAgICAgdGhpcy5fY2VsbFNpemVBbmRQb3NpdGlvbk1hbmFnZXIucmVzZXRDZWxsKGluZGV4KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiX2dldE9mZnNldFBlcmNlbnRhZ2VcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gX2dldE9mZnNldFBlcmNlbnRhZ2UoX3JlZjUpIHtcbiAgICAgIHZhciBjb250YWluZXJTaXplID0gX3JlZjUuY29udGFpbmVyU2l6ZSxcbiAgICAgICAgICBvZmZzZXQgPSBfcmVmNS5vZmZzZXQsXG4gICAgICAgICAgdG90YWxTaXplID0gX3JlZjUudG90YWxTaXplO1xuICAgICAgcmV0dXJuIHRvdGFsU2l6ZSA8PSBjb250YWluZXJTaXplID8gMCA6IG9mZnNldCAvICh0b3RhbFNpemUgLSBjb250YWluZXJTaXplKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiX29mZnNldFRvU2FmZU9mZnNldFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfb2Zmc2V0VG9TYWZlT2Zmc2V0KF9yZWY2KSB7XG4gICAgICB2YXIgY29udGFpbmVyU2l6ZSA9IF9yZWY2LmNvbnRhaW5lclNpemUsXG4gICAgICAgICAgb2Zmc2V0ID0gX3JlZjYub2Zmc2V0O1xuXG4gICAgICB2YXIgdG90YWxTaXplID0gdGhpcy5fY2VsbFNpemVBbmRQb3NpdGlvbk1hbmFnZXIuZ2V0VG90YWxTaXplKCk7XG5cbiAgICAgIHZhciBzYWZlVG90YWxTaXplID0gdGhpcy5nZXRUb3RhbFNpemUoKTtcblxuICAgICAgaWYgKHRvdGFsU2l6ZSA9PT0gc2FmZVRvdGFsU2l6ZSkge1xuICAgICAgICByZXR1cm4gb2Zmc2V0O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIG9mZnNldFBlcmNlbnRhZ2UgPSB0aGlzLl9nZXRPZmZzZXRQZXJjZW50YWdlKHtcbiAgICAgICAgICBjb250YWluZXJTaXplOiBjb250YWluZXJTaXplLFxuICAgICAgICAgIG9mZnNldDogb2Zmc2V0LFxuICAgICAgICAgIHRvdGFsU2l6ZTogdG90YWxTaXplXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiBNYXRoLnJvdW5kKG9mZnNldFBlcmNlbnRhZ2UgKiAoc2FmZVRvdGFsU2l6ZSAtIGNvbnRhaW5lclNpemUpKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiX3NhZmVPZmZzZXRUb09mZnNldFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfc2FmZU9mZnNldFRvT2Zmc2V0KF9yZWY3KSB7XG4gICAgICB2YXIgY29udGFpbmVyU2l6ZSA9IF9yZWY3LmNvbnRhaW5lclNpemUsXG4gICAgICAgICAgb2Zmc2V0ID0gX3JlZjcub2Zmc2V0O1xuXG4gICAgICB2YXIgdG90YWxTaXplID0gdGhpcy5fY2VsbFNpemVBbmRQb3NpdGlvbk1hbmFnZXIuZ2V0VG90YWxTaXplKCk7XG5cbiAgICAgIHZhciBzYWZlVG90YWxTaXplID0gdGhpcy5nZXRUb3RhbFNpemUoKTtcblxuICAgICAgaWYgKHRvdGFsU2l6ZSA9PT0gc2FmZVRvdGFsU2l6ZSkge1xuICAgICAgICByZXR1cm4gb2Zmc2V0O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIG9mZnNldFBlcmNlbnRhZ2UgPSB0aGlzLl9nZXRPZmZzZXRQZXJjZW50YWdlKHtcbiAgICAgICAgICBjb250YWluZXJTaXplOiBjb250YWluZXJTaXplLFxuICAgICAgICAgIG9mZnNldDogb2Zmc2V0LFxuICAgICAgICAgIHRvdGFsU2l6ZTogc2FmZVRvdGFsU2l6ZVxuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gTWF0aC5yb3VuZChvZmZzZXRQZXJjZW50YWdlICogKHRvdGFsU2l6ZSAtIGNvbnRhaW5lclNpemUpKTtcbiAgICAgIH1cbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gU2NhbGluZ0NlbGxTaXplQW5kUG9zaXRpb25NYW5hZ2VyO1xufSgpO1xuXG5leHBvcnQgeyBTY2FsaW5nQ2VsbFNpemVBbmRQb3NpdGlvbk1hbmFnZXIgYXMgZGVmYXVsdCB9O1xuaW1wb3J0IHsgYnBmcnB0X3Byb3B0eXBlX0FsaWdubWVudCB9IGZyb20gXCIuLi90eXBlc1wiO1xuaW1wb3J0IHsgYnBmcnB0X3Byb3B0eXBlX0NlbGxTaXplR2V0dGVyIH0gZnJvbSBcIi4uL3R5cGVzXCI7XG5pbXBvcnQgeyBicGZycHRfcHJvcHR5cGVfVmlzaWJsZUNlbGxSYW5nZSB9IGZyb20gXCIuLi90eXBlc1wiOyIsIi8qKlxuICogSGVscGVyIG1ldGhvZCB0aGF0IGRldGVybWluZXMgd2hlbiB0byByZWNhbGN1bGF0ZSByb3cgb3IgY29sdW1uIG1ldGFkYXRhLlxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBjYWxjdWxhdGVTaXplQW5kUG9zaXRpb25EYXRhQW5kVXBkYXRlU2Nyb2xsT2Zmc2V0KF9yZWYpIHtcbiAgdmFyIGNlbGxDb3VudCA9IF9yZWYuY2VsbENvdW50LFxuICAgICAgY2VsbFNpemUgPSBfcmVmLmNlbGxTaXplLFxuICAgICAgY29tcHV0ZU1ldGFkYXRhQ2FsbGJhY2sgPSBfcmVmLmNvbXB1dGVNZXRhZGF0YUNhbGxiYWNrLFxuICAgICAgY29tcHV0ZU1ldGFkYXRhQ2FsbGJhY2tQcm9wcyA9IF9yZWYuY29tcHV0ZU1ldGFkYXRhQ2FsbGJhY2tQcm9wcyxcbiAgICAgIG5leHRDZWxsc0NvdW50ID0gX3JlZi5uZXh0Q2VsbHNDb3VudCxcbiAgICAgIG5leHRDZWxsU2l6ZSA9IF9yZWYubmV4dENlbGxTaXplLFxuICAgICAgbmV4dFNjcm9sbFRvSW5kZXggPSBfcmVmLm5leHRTY3JvbGxUb0luZGV4LFxuICAgICAgc2Nyb2xsVG9JbmRleCA9IF9yZWYuc2Nyb2xsVG9JbmRleCxcbiAgICAgIHVwZGF0ZVNjcm9sbE9mZnNldEZvclNjcm9sbFRvSW5kZXggPSBfcmVmLnVwZGF0ZVNjcm9sbE9mZnNldEZvclNjcm9sbFRvSW5kZXg7XG5cbiAgLy8gRG9uJ3QgY29tcGFyZSBjZWxsIHNpemVzIGlmIHRoZXkgYXJlIGZ1bmN0aW9ucyBiZWNhdXNlIGlubGluZSBmdW5jdGlvbnMgd291bGQgY2F1c2UgaW5maW5pdGUgbG9vcHMuXG4gIC8vIEluIHRoYXQgZXZlbnQgdXNlcnMgc2hvdWxkIHVzZSB0aGUgbWFudWFsIHJlY29tcHV0ZSBtZXRob2RzIHRvIGluZm9ybSBvZiBjaGFuZ2VzLlxuICBpZiAoY2VsbENvdW50ICE9PSBuZXh0Q2VsbHNDb3VudCB8fCAodHlwZW9mIGNlbGxTaXplID09PSAnbnVtYmVyJyB8fCB0eXBlb2YgbmV4dENlbGxTaXplID09PSAnbnVtYmVyJykgJiYgY2VsbFNpemUgIT09IG5leHRDZWxsU2l6ZSkge1xuICAgIGNvbXB1dGVNZXRhZGF0YUNhbGxiYWNrKGNvbXB1dGVNZXRhZGF0YUNhbGxiYWNrUHJvcHMpOyAvLyBVcGRhdGVkIGNlbGwgbWV0YWRhdGEgbWF5IGhhdmUgaGlkZGVuIHRoZSBwcmV2aW91cyBzY3JvbGxlZC10byBpdGVtLlxuICAgIC8vIEluIHRoaXMgY2FzZSB3ZSBzaG91bGQgYWxzbyB1cGRhdGUgdGhlIHNjcm9sbFRvcCB0byBlbnN1cmUgaXQgc3RheXMgdmlzaWJsZS5cblxuICAgIGlmIChzY3JvbGxUb0luZGV4ID49IDAgJiYgc2Nyb2xsVG9JbmRleCA9PT0gbmV4dFNjcm9sbFRvSW5kZXgpIHtcbiAgICAgIHVwZGF0ZVNjcm9sbE9mZnNldEZvclNjcm9sbFRvSW5kZXgoKTtcbiAgICB9XG4gIH1cbn0iLCJ2YXIgREVGQVVMVF9NQVhfRUxFTUVOVF9TSVpFID0gMTUwMDAwMDtcbnZhciBDSFJPTUVfTUFYX0VMRU1FTlRfU0laRSA9IDEuNjc3NzFlNztcblxudmFyIGlzQnJvd3NlciA9IGZ1bmN0aW9uIGlzQnJvd3NlcigpIHtcbiAgcmV0dXJuIHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnO1xufTtcblxudmFyIGlzQ2hyb21lID0gZnVuY3Rpb24gaXNDaHJvbWUoKSB7XG4gIHJldHVybiAhIXdpbmRvdy5jaHJvbWU7XG59O1xuXG5leHBvcnQgdmFyIGdldE1heEVsZW1lbnRTaXplID0gZnVuY3Rpb24gZ2V0TWF4RWxlbWVudFNpemUoKSB7XG4gIGlmIChpc0Jyb3dzZXIoKSkge1xuICAgIGlmIChpc0Nocm9tZSgpKSB7XG4gICAgICByZXR1cm4gQ0hST01FX01BWF9FTEVNRU5UX1NJWkU7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIERFRkFVTFRfTUFYX0VMRU1FTlRfU0laRTtcbn07IiwiaW1wb3J0IFNjYWxpbmdDZWxsU2l6ZUFuZFBvc2l0aW9uTWFuYWdlciBmcm9tICcuL1NjYWxpbmdDZWxsU2l6ZUFuZFBvc2l0aW9uTWFuYWdlci5qcyc7XG4vKipcbiAqIEhlbHBlciBmdW5jdGlvbiB0aGF0IGRldGVybWluZXMgd2hlbiB0byB1cGRhdGUgc2Nyb2xsIG9mZnNldHMgdG8gZW5zdXJlIHRoYXQgYSBzY3JvbGwtdG8taW5kZXggcmVtYWlucyB2aXNpYmxlLlxuICogVGhpcyBmdW5jdGlvbiBhbHNvIGVuc3VyZXMgdGhhdCB0aGUgc2Nyb2xsIG9mc2V0IGlzbid0IHBhc3QgdGhlIGxhc3QgY29sdW1uL3JvdyBvZiBjZWxscy5cbiAqL1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB1cGRhdGVTY3JvbGxJbmRleEhlbHBlcihfcmVmKSB7XG4gIHZhciBjZWxsU2l6ZSA9IF9yZWYuY2VsbFNpemUsXG4gICAgICBjZWxsU2l6ZUFuZFBvc2l0aW9uTWFuYWdlciA9IF9yZWYuY2VsbFNpemVBbmRQb3NpdGlvbk1hbmFnZXIsXG4gICAgICBwcmV2aW91c0NlbGxzQ291bnQgPSBfcmVmLnByZXZpb3VzQ2VsbHNDb3VudCxcbiAgICAgIHByZXZpb3VzQ2VsbFNpemUgPSBfcmVmLnByZXZpb3VzQ2VsbFNpemUsXG4gICAgICBwcmV2aW91c1Njcm9sbFRvQWxpZ25tZW50ID0gX3JlZi5wcmV2aW91c1Njcm9sbFRvQWxpZ25tZW50LFxuICAgICAgcHJldmlvdXNTY3JvbGxUb0luZGV4ID0gX3JlZi5wcmV2aW91c1Njcm9sbFRvSW5kZXgsXG4gICAgICBwcmV2aW91c1NpemUgPSBfcmVmLnByZXZpb3VzU2l6ZSxcbiAgICAgIHNjcm9sbE9mZnNldCA9IF9yZWYuc2Nyb2xsT2Zmc2V0LFxuICAgICAgc2Nyb2xsVG9BbGlnbm1lbnQgPSBfcmVmLnNjcm9sbFRvQWxpZ25tZW50LFxuICAgICAgc2Nyb2xsVG9JbmRleCA9IF9yZWYuc2Nyb2xsVG9JbmRleCxcbiAgICAgIHNpemUgPSBfcmVmLnNpemUsXG4gICAgICBzaXplSnVzdEluY3JlYXNlZEZyb21aZXJvID0gX3JlZi5zaXplSnVzdEluY3JlYXNlZEZyb21aZXJvLFxuICAgICAgdXBkYXRlU2Nyb2xsSW5kZXhDYWxsYmFjayA9IF9yZWYudXBkYXRlU2Nyb2xsSW5kZXhDYWxsYmFjaztcbiAgdmFyIGNlbGxDb3VudCA9IGNlbGxTaXplQW5kUG9zaXRpb25NYW5hZ2VyLmdldENlbGxDb3VudCgpO1xuICB2YXIgaGFzU2Nyb2xsVG9JbmRleCA9IHNjcm9sbFRvSW5kZXggPj0gMCAmJiBzY3JvbGxUb0luZGV4IDwgY2VsbENvdW50O1xuICB2YXIgc2l6ZUhhc0NoYW5nZWQgPSBzaXplICE9PSBwcmV2aW91c1NpemUgfHwgc2l6ZUp1c3RJbmNyZWFzZWRGcm9tWmVybyB8fCAhcHJldmlvdXNDZWxsU2l6ZSB8fCB0eXBlb2YgY2VsbFNpemUgPT09ICdudW1iZXInICYmIGNlbGxTaXplICE9PSBwcmV2aW91c0NlbGxTaXplOyAvLyBJZiB3ZSBoYXZlIGEgbmV3IHNjcm9sbCB0YXJnZXQgT1IgaWYgaGVpZ2h0L3Jvdy1oZWlnaHQgaGFzIGNoYW5nZWQsXG4gIC8vIFdlIHNob3VsZCBlbnN1cmUgdGhhdCB0aGUgc2Nyb2xsIHRhcmdldCBpcyB2aXNpYmxlLlxuXG4gIGlmIChoYXNTY3JvbGxUb0luZGV4ICYmIChzaXplSGFzQ2hhbmdlZCB8fCBzY3JvbGxUb0FsaWdubWVudCAhPT0gcHJldmlvdXNTY3JvbGxUb0FsaWdubWVudCB8fCBzY3JvbGxUb0luZGV4ICE9PSBwcmV2aW91c1Njcm9sbFRvSW5kZXgpKSB7XG4gICAgdXBkYXRlU2Nyb2xsSW5kZXhDYWxsYmFjayhzY3JvbGxUb0luZGV4KTsgLy8gSWYgd2UgZG9uJ3QgaGF2ZSBhIHNlbGVjdGVkIGl0ZW0gYnV0IGxpc3Qgc2l6ZSBvciBudW1iZXIgb2YgY2hpbGRyZW4gaGF2ZSBkZWNyZWFzZWQsXG4gICAgLy8gTWFrZSBzdXJlIHdlIGFyZW4ndCBzY3JvbGxlZCB0b28gZmFyIHBhc3QgdGhlIGN1cnJlbnQgY29udGVudC5cbiAgfSBlbHNlIGlmICghaGFzU2Nyb2xsVG9JbmRleCAmJiBjZWxsQ291bnQgPiAwICYmIChzaXplIDwgcHJldmlvdXNTaXplIHx8IGNlbGxDb3VudCA8IHByZXZpb3VzQ2VsbHNDb3VudCkpIHtcbiAgICAvLyBXZSBuZWVkIHRvIGVuc3VyZSB0aGF0IHRoZSBjdXJyZW50IHNjcm9sbCBvZmZzZXQgaXMgc3RpbGwgd2l0aGluIHRoZSBjb2xsZWN0aW9uJ3MgcmFuZ2UuXG4gICAgLy8gVG8gZG8gdGhpcywgd2UgZG9uJ3QgbmVlZCB0byBtZWFzdXJlIGV2ZXJ5dGhpbmc7IENlbGxNZWFzdXJlciB3b3VsZCBwZXJmb3JtIHBvb3JseS5cbiAgICAvLyBKdXN0IGNoZWNrIHRvIG1ha2Ugc3VyZSB3ZSdyZSBzdGlsbCBva2F5LlxuICAgIC8vIE9ubHkgYWRqdXN0IHRoZSBzY3JvbGwgcG9zaXRpb24gaWYgd2UndmUgc2Nyb2xsZWQgYmVsb3cgdGhlIGxhc3Qgc2V0IG9mIHJvd3MuXG4gICAgaWYgKHNjcm9sbE9mZnNldCA+IGNlbGxTaXplQW5kUG9zaXRpb25NYW5hZ2VyLmdldFRvdGFsU2l6ZSgpIC0gc2l6ZSkge1xuICAgICAgdXBkYXRlU2Nyb2xsSW5kZXhDYWxsYmFjayhjZWxsQ291bnQgLSAxKTtcbiAgICB9XG4gIH1cbn1cbmltcG9ydCB7IGJwZnJwdF9wcm9wdHlwZV9BbGlnbm1lbnQgfSBmcm9tIFwiLi4vdHlwZXNcIjtcbmltcG9ydCB7IGJwZnJwdF9wcm9wdHlwZV9DZWxsU2l6ZSB9IGZyb20gXCIuLi90eXBlc1wiOyIsImltcG9ydCBfdG9Db25zdW1hYmxlQXJyYXkgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvdG9Db25zdW1hYmxlQXJyYXlcIjtcbmltcG9ydCBfY2xhc3NDYWxsQ2hlY2sgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2tcIjtcbmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3NcIjtcbmltcG9ydCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuXCI7XG5pbXBvcnQgX2dldFByb3RvdHlwZU9mIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2dldFByb3RvdHlwZU9mXCI7XG5pbXBvcnQgX2Fzc2VydFRoaXNJbml0aWFsaXplZCBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9hc3NlcnRUaGlzSW5pdGlhbGl6ZWRcIjtcbmltcG9ydCBfaW5oZXJpdHMgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHNcIjtcbmltcG9ydCBfZGVmaW5lUHJvcGVydHkgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZGVmaW5lUHJvcGVydHlcIjtcbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5pbXBvcnQgY3JlYXRlQ2FsbGJhY2tNZW1vaXplciBmcm9tICcuLi91dGlscy9jcmVhdGVDYWxsYmFja01lbW9pemVyJztcbi8qKlxuICogSGlnaGVyLW9yZGVyIGNvbXBvbmVudCB0aGF0IG1hbmFnZXMgbGF6eS1sb2FkaW5nIGZvciBcImluZmluaXRlXCIgZGF0YS5cbiAqIFRoaXMgY29tcG9uZW50IGRlY29yYXRlcyBhIHZpcnR1YWwgY29tcG9uZW50IGFuZCBqdXN0LWluLXRpbWUgcHJlZmV0Y2hlcyByb3dzIGFzIGEgdXNlciBzY3JvbGxzLlxuICogSXQgaXMgaW50ZW5kZWQgYXMgYSBjb252ZW5pZW5jZSBjb21wb25lbnQ7IGZvcmsgaXQgaWYgeW91J2QgbGlrZSBmaW5lci1ncmFpbmVkIGNvbnRyb2wgb3ZlciBkYXRhLWxvYWRpbmcuXG4gKi9cblxudmFyIEluZmluaXRlTG9hZGVyID1cbi8qI19fUFVSRV9fKi9cbmZ1bmN0aW9uIChfUmVhY3QkUHVyZUNvbXBvbmVudCkge1xuICBfaW5oZXJpdHMoSW5maW5pdGVMb2FkZXIsIF9SZWFjdCRQdXJlQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBJbmZpbml0ZUxvYWRlcihwcm9wcywgY29udGV4dCkge1xuICAgIHZhciBfdGhpcztcblxuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBJbmZpbml0ZUxvYWRlcik7XG5cbiAgICBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9nZXRQcm90b3R5cGVPZihJbmZpbml0ZUxvYWRlcikuY2FsbCh0aGlzLCBwcm9wcywgY29udGV4dCkpO1xuICAgIF90aGlzLl9sb2FkTW9yZVJvd3NNZW1vaXplciA9IGNyZWF0ZUNhbGxiYWNrTWVtb2l6ZXIoKTtcbiAgICBfdGhpcy5fb25Sb3dzUmVuZGVyZWQgPSBfdGhpcy5fb25Sb3dzUmVuZGVyZWQuYmluZChfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSk7XG4gICAgX3RoaXMuX3JlZ2lzdGVyQ2hpbGQgPSBfdGhpcy5fcmVnaXN0ZXJDaGlsZC5iaW5kKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKTtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoSW5maW5pdGVMb2FkZXIsIFt7XG4gICAga2V5OiBcInJlc2V0TG9hZE1vcmVSb3dzQ2FjaGVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVzZXRMb2FkTW9yZVJvd3NDYWNoZShhdXRvUmVsb2FkKSB7XG4gICAgICB0aGlzLl9sb2FkTW9yZVJvd3NNZW1vaXplciA9IGNyZWF0ZUNhbGxiYWNrTWVtb2l6ZXIoKTtcblxuICAgICAgaWYgKGF1dG9SZWxvYWQpIHtcbiAgICAgICAgdGhpcy5fZG9TdHVmZih0aGlzLl9sYXN0UmVuZGVyZWRTdGFydEluZGV4LCB0aGlzLl9sYXN0UmVuZGVyZWRTdG9wSW5kZXgpO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJyZW5kZXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgdmFyIGNoaWxkcmVuID0gdGhpcy5wcm9wcy5jaGlsZHJlbjtcbiAgICAgIHJldHVybiBjaGlsZHJlbih7XG4gICAgICAgIG9uUm93c1JlbmRlcmVkOiB0aGlzLl9vblJvd3NSZW5kZXJlZCxcbiAgICAgICAgcmVnaXN0ZXJDaGlsZDogdGhpcy5fcmVnaXN0ZXJDaGlsZFxuICAgICAgfSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIl9sb2FkVW5sb2FkZWRSYW5nZXNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gX2xvYWRVbmxvYWRlZFJhbmdlcyh1bmxvYWRlZFJhbmdlcykge1xuICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgIHZhciBsb2FkTW9yZVJvd3MgPSB0aGlzLnByb3BzLmxvYWRNb3JlUm93cztcbiAgICAgIHVubG9hZGVkUmFuZ2VzLmZvckVhY2goZnVuY3Rpb24gKHVubG9hZGVkUmFuZ2UpIHtcbiAgICAgICAgdmFyIHByb21pc2UgPSBsb2FkTW9yZVJvd3ModW5sb2FkZWRSYW5nZSk7XG5cbiAgICAgICAgaWYgKHByb21pc2UpIHtcbiAgICAgICAgICBwcm9taXNlLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgLy8gUmVmcmVzaCB0aGUgdmlzaWJsZSByb3dzIGlmIGFueSBvZiB0aGVtIGhhdmUganVzdCBiZWVuIGxvYWRlZC5cbiAgICAgICAgICAgIC8vIE90aGVyd2lzZSB0aGV5IHdpbGwgcmVtYWluIGluIHRoZWlyIHVubG9hZGVkIHZpc3VhbCBzdGF0ZS5cbiAgICAgICAgICAgIGlmIChpc1JhbmdlVmlzaWJsZSh7XG4gICAgICAgICAgICAgIGxhc3RSZW5kZXJlZFN0YXJ0SW5kZXg6IF90aGlzMi5fbGFzdFJlbmRlcmVkU3RhcnRJbmRleCxcbiAgICAgICAgICAgICAgbGFzdFJlbmRlcmVkU3RvcEluZGV4OiBfdGhpczIuX2xhc3RSZW5kZXJlZFN0b3BJbmRleCxcbiAgICAgICAgICAgICAgc3RhcnRJbmRleDogdW5sb2FkZWRSYW5nZS5zdGFydEluZGV4LFxuICAgICAgICAgICAgICBzdG9wSW5kZXg6IHVubG9hZGVkUmFuZ2Uuc3RvcEluZGV4XG4gICAgICAgICAgICB9KSkge1xuICAgICAgICAgICAgICBpZiAoX3RoaXMyLl9yZWdpc3RlcmVkQ2hpbGQpIHtcbiAgICAgICAgICAgICAgICBmb3JjZVVwZGF0ZVJlYWN0VmlydHVhbGl6ZWRDb21wb25lbnQoX3RoaXMyLl9yZWdpc3RlcmVkQ2hpbGQsIF90aGlzMi5fbGFzdFJlbmRlcmVkU3RhcnRJbmRleCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIl9vblJvd3NSZW5kZXJlZFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfb25Sb3dzUmVuZGVyZWQoX3JlZikge1xuICAgICAgdmFyIHN0YXJ0SW5kZXggPSBfcmVmLnN0YXJ0SW5kZXgsXG4gICAgICAgICAgc3RvcEluZGV4ID0gX3JlZi5zdG9wSW5kZXg7XG4gICAgICB0aGlzLl9sYXN0UmVuZGVyZWRTdGFydEluZGV4ID0gc3RhcnRJbmRleDtcbiAgICAgIHRoaXMuX2xhc3RSZW5kZXJlZFN0b3BJbmRleCA9IHN0b3BJbmRleDtcblxuICAgICAgdGhpcy5fZG9TdHVmZihzdGFydEluZGV4LCBzdG9wSW5kZXgpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJfZG9TdHVmZlwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfZG9TdHVmZihzdGFydEluZGV4LCBzdG9wSW5kZXgpIHtcbiAgICAgIHZhciBfcmVmMixcbiAgICAgICAgICBfdGhpczMgPSB0aGlzO1xuXG4gICAgICB2YXIgX3RoaXMkcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICAgIGlzUm93TG9hZGVkID0gX3RoaXMkcHJvcHMuaXNSb3dMb2FkZWQsXG4gICAgICAgICAgbWluaW11bUJhdGNoU2l6ZSA9IF90aGlzJHByb3BzLm1pbmltdW1CYXRjaFNpemUsXG4gICAgICAgICAgcm93Q291bnQgPSBfdGhpcyRwcm9wcy5yb3dDb3VudCxcbiAgICAgICAgICB0aHJlc2hvbGQgPSBfdGhpcyRwcm9wcy50aHJlc2hvbGQ7XG4gICAgICB2YXIgdW5sb2FkZWRSYW5nZXMgPSBzY2FuRm9yVW5sb2FkZWRSYW5nZXMoe1xuICAgICAgICBpc1Jvd0xvYWRlZDogaXNSb3dMb2FkZWQsXG4gICAgICAgIG1pbmltdW1CYXRjaFNpemU6IG1pbmltdW1CYXRjaFNpemUsXG4gICAgICAgIHJvd0NvdW50OiByb3dDb3VudCxcbiAgICAgICAgc3RhcnRJbmRleDogTWF0aC5tYXgoMCwgc3RhcnRJbmRleCAtIHRocmVzaG9sZCksXG4gICAgICAgIHN0b3BJbmRleDogTWF0aC5taW4ocm93Q291bnQgLSAxLCBzdG9wSW5kZXggKyB0aHJlc2hvbGQpXG4gICAgICB9KTsgLy8gRm9yIG1lbW9pemUgY29tcGFyaXNvblxuXG4gICAgICB2YXIgc3F1YXNoZWRVbmxvYWRlZFJhbmdlcyA9IChfcmVmMiA9IFtdKS5jb25jYXQuYXBwbHkoX3JlZjIsIF90b0NvbnN1bWFibGVBcnJheSh1bmxvYWRlZFJhbmdlcy5tYXAoZnVuY3Rpb24gKF9yZWYzKSB7XG4gICAgICAgIHZhciBzdGFydEluZGV4ID0gX3JlZjMuc3RhcnRJbmRleCxcbiAgICAgICAgICAgIHN0b3BJbmRleCA9IF9yZWYzLnN0b3BJbmRleDtcbiAgICAgICAgcmV0dXJuIFtzdGFydEluZGV4LCBzdG9wSW5kZXhdO1xuICAgICAgfSkpKTtcblxuICAgICAgdGhpcy5fbG9hZE1vcmVSb3dzTWVtb2l6ZXIoe1xuICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24gY2FsbGJhY2soKSB7XG4gICAgICAgICAgX3RoaXMzLl9sb2FkVW5sb2FkZWRSYW5nZXModW5sb2FkZWRSYW5nZXMpO1xuICAgICAgICB9LFxuICAgICAgICBpbmRpY2VzOiB7XG4gICAgICAgICAgc3F1YXNoZWRVbmxvYWRlZFJhbmdlczogc3F1YXNoZWRVbmxvYWRlZFJhbmdlc1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiX3JlZ2lzdGVyQ2hpbGRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gX3JlZ2lzdGVyQ2hpbGQocmVnaXN0ZXJlZENoaWxkKSB7XG4gICAgICB0aGlzLl9yZWdpc3RlcmVkQ2hpbGQgPSByZWdpc3RlcmVkQ2hpbGQ7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIEluZmluaXRlTG9hZGVyO1xufShSZWFjdC5QdXJlQ29tcG9uZW50KTtcbi8qKlxuICogRGV0ZXJtaW5lcyBpZiB0aGUgc3BlY2lmaWVkIHN0YXJ0L3N0b3AgcmFuZ2UgaXMgdmlzaWJsZSBiYXNlZCBvbiB0aGUgbW9zdCByZWNlbnRseSByZW5kZXJlZCByYW5nZS5cbiAqL1xuXG5cbl9kZWZpbmVQcm9wZXJ0eShJbmZpbml0ZUxvYWRlciwgXCJkZWZhdWx0UHJvcHNcIiwge1xuICBtaW5pbXVtQmF0Y2hTaXplOiAxMCxcbiAgcm93Q291bnQ6IDAsXG4gIHRocmVzaG9sZDogMTVcbn0pO1xuXG5leHBvcnQgeyBJbmZpbml0ZUxvYWRlciBhcyBkZWZhdWx0IH07XG5JbmZpbml0ZUxvYWRlci5wcm9wVHlwZXMgPSBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyB7XG4gIC8qKlxuICAgKiBGdW5jdGlvbiByZXNwb25zaWJsZSBmb3IgcmVuZGVyaW5nIGEgdmlydHVhbGl6ZWQgY29tcG9uZW50LlxuICAgKiBUaGlzIGZ1bmN0aW9uIHNob3VsZCBpbXBsZW1lbnQgdGhlIGZvbGxvd2luZyBzaWduYXR1cmU6XG4gICAqICh7IG9uUm93c1JlbmRlcmVkLCByZWdpc3RlckNoaWxkIH0pID0+IFByb3BUeXBlcy5lbGVtZW50XG4gICAqXG4gICAqIFRoZSBzcGVjaWZpZWQgOm9uUm93c1JlbmRlcmVkIGZ1bmN0aW9uIHNob3VsZCBiZSBwYXNzZWQgdGhyb3VnaCB0byB0aGUgY2hpbGQncyA6b25Sb3dzUmVuZGVyZWQgcHJvcGVydHkuXG4gICAqIFRoZSA6cmVnaXN0ZXJDaGlsZCBjYWxsYmFjayBzaG91bGQgYmUgc2V0IGFzIHRoZSB2aXJ0dWFsaXplZCBjb21wb25lbnQncyA6cmVmLlxuICAgKi9cbiAgY2hpbGRyZW46IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsXG5cbiAgLyoqXG4gICAqIEZ1bmN0aW9uIHJlc3BvbnNpYmxlIGZvciB0cmFja2luZyB0aGUgbG9hZGVkIHN0YXRlIG9mIGVhY2ggcm93LlxuICAgKiBJdCBzaG91bGQgaW1wbGVtZW50IHRoZSBmb2xsb3dpbmcgc2lnbmF0dXJlOiAoeyBpbmRleDogbnVtYmVyIH0pOiBib29sZWFuXG4gICAqL1xuICBpc1Jvd0xvYWRlZDogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcblxuICAvKipcbiAgICogQ2FsbGJhY2sgdG8gYmUgaW52b2tlZCB3aGVuIG1vcmUgcm93cyBtdXN0IGJlIGxvYWRlZC5cbiAgICogSXQgc2hvdWxkIGltcGxlbWVudCB0aGUgZm9sbG93aW5nIHNpZ25hdHVyZTogKHsgc3RhcnRJbmRleCwgc3RvcEluZGV4IH0pOiBQcm9taXNlXG4gICAqIFRoZSByZXR1cm5lZCBQcm9taXNlIHNob3VsZCBiZSByZXNvbHZlZCBvbmNlIHJvdyBkYXRhIGhhcyBmaW5pc2hlZCBsb2FkaW5nLlxuICAgKiBJdCB3aWxsIGJlIHVzZWQgdG8gZGV0ZXJtaW5lIHdoZW4gdG8gcmVmcmVzaCB0aGUgbGlzdCB3aXRoIHRoZSBuZXdseS1sb2FkZWQgZGF0YS5cbiAgICogVGhpcyBjYWxsYmFjayBtYXkgYmUgY2FsbGVkIG11bHRpcGxlIHRpbWVzIGluIHJlYWN0aW9uIHRvIGEgc2luZ2xlIHNjcm9sbCBldmVudC5cbiAgICovXG4gIGxvYWRNb3JlUm93czogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcblxuICAvKipcbiAgICogTWluaW11bSBudW1iZXIgb2Ygcm93cyB0byBiZSBsb2FkZWQgYXQgYSB0aW1lLlxuICAgKiBUaGlzIHByb3BlcnR5IGNhbiBiZSB1c2VkIHRvIGJhdGNoIHJlcXVlc3RzIHRvIHJlZHVjZSBIVFRQIHJlcXVlc3RzLlxuICAgKi9cbiAgbWluaW11bUJhdGNoU2l6ZTogUHJvcFR5cGVzLm51bWJlci5pc1JlcXVpcmVkLFxuXG4gIC8qKlxuICAgKiBOdW1iZXIgb2Ygcm93cyBpbiBsaXN0OyBjYW4gYmUgYXJiaXRyYXJ5IGhpZ2ggbnVtYmVyIGlmIGFjdHVhbCBudW1iZXIgaXMgdW5rbm93bi5cbiAgICovXG4gIHJvd0NvdW50OiBQcm9wVHlwZXMubnVtYmVyLmlzUmVxdWlyZWQsXG5cbiAgLyoqXG4gICAqIFRocmVzaG9sZCBhdCB3aGljaCB0byBwcmUtZmV0Y2ggZGF0YS5cbiAgICogQSB0aHJlc2hvbGQgWCBtZWFucyB0aGF0IGRhdGEgd2lsbCBzdGFydCBsb2FkaW5nIHdoZW4gYSB1c2VyIHNjcm9sbHMgd2l0aGluIFggcm93cy5cbiAgICogVGhpcyB2YWx1ZSBkZWZhdWx0cyB0byAxNS5cbiAgICovXG4gIHRocmVzaG9sZDogUHJvcFR5cGVzLm51bWJlci5pc1JlcXVpcmVkXG59IDoge307XG5leHBvcnQgZnVuY3Rpb24gaXNSYW5nZVZpc2libGUoX3JlZjQpIHtcbiAgdmFyIGxhc3RSZW5kZXJlZFN0YXJ0SW5kZXggPSBfcmVmNC5sYXN0UmVuZGVyZWRTdGFydEluZGV4LFxuICAgICAgbGFzdFJlbmRlcmVkU3RvcEluZGV4ID0gX3JlZjQubGFzdFJlbmRlcmVkU3RvcEluZGV4LFxuICAgICAgc3RhcnRJbmRleCA9IF9yZWY0LnN0YXJ0SW5kZXgsXG4gICAgICBzdG9wSW5kZXggPSBfcmVmNC5zdG9wSW5kZXg7XG4gIHJldHVybiAhKHN0YXJ0SW5kZXggPiBsYXN0UmVuZGVyZWRTdG9wSW5kZXggfHwgc3RvcEluZGV4IDwgbGFzdFJlbmRlcmVkU3RhcnRJbmRleCk7XG59XG4vKipcbiAqIFJldHVybnMgYWxsIG9mIHRoZSByYW5nZXMgd2l0aGluIGEgbGFyZ2VyIHJhbmdlIHRoYXQgY29udGFpbiB1bmxvYWRlZCByb3dzLlxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBzY2FuRm9yVW5sb2FkZWRSYW5nZXMoX3JlZjUpIHtcbiAgdmFyIGlzUm93TG9hZGVkID0gX3JlZjUuaXNSb3dMb2FkZWQsXG4gICAgICBtaW5pbXVtQmF0Y2hTaXplID0gX3JlZjUubWluaW11bUJhdGNoU2l6ZSxcbiAgICAgIHJvd0NvdW50ID0gX3JlZjUucm93Q291bnQsXG4gICAgICBzdGFydEluZGV4ID0gX3JlZjUuc3RhcnRJbmRleCxcbiAgICAgIHN0b3BJbmRleCA9IF9yZWY1LnN0b3BJbmRleDtcbiAgdmFyIHVubG9hZGVkUmFuZ2VzID0gW107XG4gIHZhciByYW5nZVN0YXJ0SW5kZXggPSBudWxsO1xuICB2YXIgcmFuZ2VTdG9wSW5kZXggPSBudWxsO1xuXG4gIGZvciAodmFyIGluZGV4ID0gc3RhcnRJbmRleDsgaW5kZXggPD0gc3RvcEluZGV4OyBpbmRleCsrKSB7XG4gICAgdmFyIGxvYWRlZCA9IGlzUm93TG9hZGVkKHtcbiAgICAgIGluZGV4OiBpbmRleFxuICAgIH0pO1xuXG4gICAgaWYgKCFsb2FkZWQpIHtcbiAgICAgIHJhbmdlU3RvcEluZGV4ID0gaW5kZXg7XG5cbiAgICAgIGlmIChyYW5nZVN0YXJ0SW5kZXggPT09IG51bGwpIHtcbiAgICAgICAgcmFuZ2VTdGFydEluZGV4ID0gaW5kZXg7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChyYW5nZVN0b3BJbmRleCAhPT0gbnVsbCkge1xuICAgICAgdW5sb2FkZWRSYW5nZXMucHVzaCh7XG4gICAgICAgIHN0YXJ0SW5kZXg6IHJhbmdlU3RhcnRJbmRleCxcbiAgICAgICAgc3RvcEluZGV4OiByYW5nZVN0b3BJbmRleFxuICAgICAgfSk7XG4gICAgICByYW5nZVN0YXJ0SW5kZXggPSByYW5nZVN0b3BJbmRleCA9IG51bGw7XG4gICAgfVxuICB9IC8vIElmIDpyYW5nZVN0b3BJbmRleCBpcyBub3QgbnVsbCBpdCBtZWFucyB3ZSBoYXZlbid0IHJhbiBvdXQgb2YgdW5sb2FkZWQgcm93cy5cbiAgLy8gU2NhbiBmb3J3YXJkIHRvIHRyeSBmaWxsaW5nIG91ciA6bWluaW11bUJhdGNoU2l6ZS5cblxuXG4gIGlmIChyYW5nZVN0b3BJbmRleCAhPT0gbnVsbCkge1xuICAgIHZhciBwb3RlbnRpYWxTdG9wSW5kZXggPSBNYXRoLm1pbihNYXRoLm1heChyYW5nZVN0b3BJbmRleCwgcmFuZ2VTdGFydEluZGV4ICsgbWluaW11bUJhdGNoU2l6ZSAtIDEpLCByb3dDb3VudCAtIDEpO1xuXG4gICAgZm9yICh2YXIgX2luZGV4ID0gcmFuZ2VTdG9wSW5kZXggKyAxOyBfaW5kZXggPD0gcG90ZW50aWFsU3RvcEluZGV4OyBfaW5kZXgrKykge1xuICAgICAgaWYgKCFpc1Jvd0xvYWRlZCh7XG4gICAgICAgIGluZGV4OiBfaW5kZXhcbiAgICAgIH0pKSB7XG4gICAgICAgIHJhbmdlU3RvcEluZGV4ID0gX2luZGV4O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdW5sb2FkZWRSYW5nZXMucHVzaCh7XG4gICAgICBzdGFydEluZGV4OiByYW5nZVN0YXJ0SW5kZXgsXG4gICAgICBzdG9wSW5kZXg6IHJhbmdlU3RvcEluZGV4XG4gICAgfSk7XG4gIH0gLy8gQ2hlY2sgdG8gc2VlIGlmIG91ciBmaXJzdCByYW5nZSBlbmRlZCBwcmVtYXR1cmVseS5cbiAgLy8gSW4gdGhpcyBjYXNlIHdlIHNob3VsZCBzY2FuIGJhY2t3YXJkcyB0byB0cnkgZmlsbGluZyBvdXIgOm1pbmltdW1CYXRjaFNpemUuXG5cblxuICBpZiAodW5sb2FkZWRSYW5nZXMubGVuZ3RoKSB7XG4gICAgdmFyIGZpcnN0VW5sb2FkZWRSYW5nZSA9IHVubG9hZGVkUmFuZ2VzWzBdO1xuXG4gICAgd2hpbGUgKGZpcnN0VW5sb2FkZWRSYW5nZS5zdG9wSW5kZXggLSBmaXJzdFVubG9hZGVkUmFuZ2Uuc3RhcnRJbmRleCArIDEgPCBtaW5pbXVtQmF0Y2hTaXplICYmIGZpcnN0VW5sb2FkZWRSYW5nZS5zdGFydEluZGV4ID4gMCkge1xuICAgICAgdmFyIF9pbmRleDIgPSBmaXJzdFVubG9hZGVkUmFuZ2Uuc3RhcnRJbmRleCAtIDE7XG5cbiAgICAgIGlmICghaXNSb3dMb2FkZWQoe1xuICAgICAgICBpbmRleDogX2luZGV4MlxuICAgICAgfSkpIHtcbiAgICAgICAgZmlyc3RVbmxvYWRlZFJhbmdlLnN0YXJ0SW5kZXggPSBfaW5kZXgyO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHVubG9hZGVkUmFuZ2VzO1xufVxuLyoqXG4gKiBTaW5jZSBSViBjb21wb25lbnRzIHVzZSBzaGFsbG93Q29tcGFyZSB3ZSBuZWVkIHRvIGZvcmNlIGEgcmVuZGVyIChldmVuIHRob3VnaCBwcm9wcyBoYXZlbid0IGNoYW5nZWQpLlxuICogSG93ZXZlciBJbmZpbml0ZUxvYWRlciBtYXkgd3JhcCBhIEdyaWQgb3IgaXQgbWF5IHdyYXAgYSBUYWJsZSBvciBMaXN0LlxuICogSW4gdGhlIGZpcnN0IGNhc2UgdGhlIGJ1aWx0LWluIFJlYWN0IGZvcmNlVXBkYXRlKCkgbWV0aG9kIGlzIHN1ZmZpY2llbnQgdG8gZm9yY2UgYSByZS1yZW5kZXIsXG4gKiBCdXQgaW4gdGhlIGxhdHRlciBjYXNlcyB3ZSBuZWVkIHRvIHVzZSB0aGUgUlYtc3BlY2lmaWMgZm9yY2VVcGRhdGVHcmlkKCkgbWV0aG9kLlxuICogRWxzZSB0aGUgaW5uZXIgR3JpZCB3aWxsIG5vdCBiZSByZS1yZW5kZXJlZCBhbmQgdmlzdWFscyBtYXkgYmUgc3RhbGUuXG4gKlxuICogQWRkaXRpb25hbGx5LCB3aGlsZSBhIEdyaWQgaXMgc2Nyb2xsaW5nIHRoZSBjZWxscyBjYW4gYmUgY2FjaGVkLFxuICogU28gaXQncyBpbXBvcnRhbnQgdG8gaW52YWxpZGF0ZSB0aGF0IGNhY2hlIGJ5IHJlY2FsY3VsYXRpbmcgc2l6ZXNcbiAqIGJlZm9yZSBmb3JjaW5nIGEgcmVyZW5kZXIuXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGZvcmNlVXBkYXRlUmVhY3RWaXJ0dWFsaXplZENvbXBvbmVudChjb21wb25lbnQpIHtcbiAgdmFyIGN1cnJlbnRJbmRleCA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogMDtcbiAgdmFyIHJlY29tcHV0ZVNpemUgPSB0eXBlb2YgY29tcG9uZW50LnJlY29tcHV0ZUdyaWRTaXplID09PSAnZnVuY3Rpb24nID8gY29tcG9uZW50LnJlY29tcHV0ZUdyaWRTaXplIDogY29tcG9uZW50LnJlY29tcHV0ZVJvd0hlaWdodHM7XG5cbiAgaWYgKHJlY29tcHV0ZVNpemUpIHtcbiAgICByZWNvbXB1dGVTaXplLmNhbGwoY29tcG9uZW50LCBjdXJyZW50SW5kZXgpO1xuICB9IGVsc2Uge1xuICAgIGNvbXBvbmVudC5mb3JjZVVwZGF0ZSgpO1xuICB9XG59IiwiaW1wb3J0IEluZmluaXRlTG9hZGVyIGZyb20gJy4vSW5maW5pdGVMb2FkZXInO1xuZXhwb3J0IGRlZmF1bHQgSW5maW5pdGVMb2FkZXI7XG5leHBvcnQgeyBJbmZpbml0ZUxvYWRlciB9OyIsImltcG9ydCBfZXh0ZW5kcyBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9leHRlbmRzXCI7XG5pbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrXCI7XG5pbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzXCI7XG5pbXBvcnQgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4gZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVyblwiO1xuaW1wb3J0IF9nZXRQcm90b3R5cGVPZiBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9nZXRQcm90b3R5cGVPZlwiO1xuaW1wb3J0IF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvYXNzZXJ0VGhpc0luaXRpYWxpemVkXCI7XG5pbXBvcnQgX2luaGVyaXRzIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2luaGVyaXRzXCI7XG5pbXBvcnQgX2RlZmluZVByb3BlcnR5IGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2RlZmluZVByb3BlcnR5XCI7XG5cbnZhciBfY2xhc3MsIF90ZW1wO1xuXG5pbXBvcnQgR3JpZCwgeyBhY2Nlc3NpYmlsaXR5T3ZlcnNjYW5JbmRpY2VzR2V0dGVyIH0gZnJvbSAnLi4vR3JpZCc7XG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgY2xzeCBmcm9tICdjbHN4Jztcbi8qKlxuICogSXQgaXMgaW5lZmZpY2llbnQgdG8gY3JlYXRlIGFuZCBtYW5hZ2UgYSBsYXJnZSBsaXN0IG9mIERPTSBlbGVtZW50cyB3aXRoaW4gYSBzY3JvbGxpbmcgY29udGFpbmVyXG4gKiBpZiBvbmx5IGEgZmV3IG9mIHRob3NlIGVsZW1lbnRzIGFyZSB2aXNpYmxlLiBUaGUgcHJpbWFyeSBwdXJwb3NlIG9mIHRoaXMgY29tcG9uZW50IGlzIHRvIGltcHJvdmVcbiAqIHBlcmZvcm1hbmNlIGJ5IG9ubHkgcmVuZGVyaW5nIHRoZSBET00gbm9kZXMgdGhhdCBhIHVzZXIgaXMgYWJsZSB0byBzZWUgYmFzZWQgb24gdGhlaXIgY3VycmVudFxuICogc2Nyb2xsIHBvc2l0aW9uLlxuICpcbiAqIFRoaXMgY29tcG9uZW50IHJlbmRlcnMgYSB2aXJ0dWFsaXplZCBsaXN0IG9mIGVsZW1lbnRzIHdpdGggZWl0aGVyIGZpeGVkIG9yIGR5bmFtaWMgaGVpZ2h0cy5cbiAqL1xuXG52YXIgTGlzdCA9IChfdGVtcCA9IF9jbGFzcyA9XG4vKiNfX1BVUkVfXyovXG5mdW5jdGlvbiAoX1JlYWN0JFB1cmVDb21wb25lbnQpIHtcbiAgX2luaGVyaXRzKExpc3QsIF9SZWFjdCRQdXJlQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBMaXN0KCkge1xuICAgIHZhciBfZ2V0UHJvdG90eXBlT2YyO1xuXG4gICAgdmFyIF90aGlzO1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIExpc3QpO1xuXG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cblxuICAgIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKF9nZXRQcm90b3R5cGVPZjIgPSBfZ2V0UHJvdG90eXBlT2YoTGlzdCkpLmNhbGwuYXBwbHkoX2dldFByb3RvdHlwZU9mMiwgW3RoaXNdLmNvbmNhdChhcmdzKSkpO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcIkdyaWRcIiwgdm9pZCAwKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJfY2VsbFJlbmRlcmVyXCIsIGZ1bmN0aW9uIChfcmVmKSB7XG4gICAgICB2YXIgcGFyZW50ID0gX3JlZi5wYXJlbnQsXG4gICAgICAgICAgcm93SW5kZXggPSBfcmVmLnJvd0luZGV4LFxuICAgICAgICAgIHN0eWxlID0gX3JlZi5zdHlsZSxcbiAgICAgICAgICBpc1Njcm9sbGluZyA9IF9yZWYuaXNTY3JvbGxpbmcsXG4gICAgICAgICAgaXNWaXNpYmxlID0gX3JlZi5pc1Zpc2libGUsXG4gICAgICAgICAga2V5ID0gX3JlZi5rZXk7XG4gICAgICB2YXIgcm93UmVuZGVyZXIgPSBfdGhpcy5wcm9wcy5yb3dSZW5kZXJlcjsgLy8gVFJJQ0tZIFRoZSBzdHlsZSBvYmplY3QgaXMgc29tZXRpbWVzIGNhY2hlZCBieSBHcmlkLlxuICAgICAgLy8gVGhpcyBwcmV2ZW50cyBuZXcgc3R5bGUgb2JqZWN0cyBmcm9tIGJ5cGFzc2luZyBzaGFsbG93Q29tcGFyZSgpLlxuICAgICAgLy8gSG93ZXZlciBhcyBvZiBSZWFjdCAxNiwgc3R5bGUgcHJvcHMgYXJlIGF1dG8tZnJvemVuIChhdCBsZWFzdCBpbiBkZXYgbW9kZSlcbiAgICAgIC8vIENoZWNrIHRvIG1ha2Ugc3VyZSB3ZSBjYW4gc3RpbGwgbW9kaWZ5IHRoZSBzdHlsZSBiZWZvcmUgcHJvY2VlZGluZy5cbiAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWFjdC9jb21taXQvOTc3MzU3NzY1YjQ0YWY4ZmYwY2ZlYTMyNzg2Njg2MTA3MzA5NWMxMiNjb21taXRjb21tZW50LTIwNjQ4NzEzXG5cbiAgICAgIHZhciB3aWR0aERlc2NyaXB0b3IgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHN0eWxlLCAnd2lkdGgnKTtcblxuICAgICAgaWYgKHdpZHRoRGVzY3JpcHRvciAmJiB3aWR0aERlc2NyaXB0b3Iud3JpdGFibGUpIHtcbiAgICAgICAgLy8gQnkgZGVmYXVsdCwgTGlzdCBjZWxscyBzaG91bGQgYmUgMTAwJSB3aWR0aC5cbiAgICAgICAgLy8gVGhpcyBwcmV2ZW50cyB0aGVtIGZyb20gZmxvd2luZyB1bmRlciBhIHNjcm9sbGJhciAoaWYgcHJlc2VudCkuXG4gICAgICAgIHN0eWxlLndpZHRoID0gJzEwMCUnO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcm93UmVuZGVyZXIoe1xuICAgICAgICBpbmRleDogcm93SW5kZXgsXG4gICAgICAgIHN0eWxlOiBzdHlsZSxcbiAgICAgICAgaXNTY3JvbGxpbmc6IGlzU2Nyb2xsaW5nLFxuICAgICAgICBpc1Zpc2libGU6IGlzVmlzaWJsZSxcbiAgICAgICAga2V5OiBrZXksXG4gICAgICAgIHBhcmVudDogcGFyZW50XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJfc2V0UmVmXCIsIGZ1bmN0aW9uIChyZWYpIHtcbiAgICAgIF90aGlzLkdyaWQgPSByZWY7XG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwiX29uU2Nyb2xsXCIsIGZ1bmN0aW9uIChfcmVmMikge1xuICAgICAgdmFyIGNsaWVudEhlaWdodCA9IF9yZWYyLmNsaWVudEhlaWdodCxcbiAgICAgICAgICBzY3JvbGxIZWlnaHQgPSBfcmVmMi5zY3JvbGxIZWlnaHQsXG4gICAgICAgICAgc2Nyb2xsVG9wID0gX3JlZjIuc2Nyb2xsVG9wO1xuICAgICAgdmFyIG9uU2Nyb2xsID0gX3RoaXMucHJvcHMub25TY3JvbGw7XG4gICAgICBvblNjcm9sbCh7XG4gICAgICAgIGNsaWVudEhlaWdodDogY2xpZW50SGVpZ2h0LFxuICAgICAgICBzY3JvbGxIZWlnaHQ6IHNjcm9sbEhlaWdodCxcbiAgICAgICAgc2Nyb2xsVG9wOiBzY3JvbGxUb3BcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcIl9vblNlY3Rpb25SZW5kZXJlZFwiLCBmdW5jdGlvbiAoX3JlZjMpIHtcbiAgICAgIHZhciByb3dPdmVyc2NhblN0YXJ0SW5kZXggPSBfcmVmMy5yb3dPdmVyc2NhblN0YXJ0SW5kZXgsXG4gICAgICAgICAgcm93T3ZlcnNjYW5TdG9wSW5kZXggPSBfcmVmMy5yb3dPdmVyc2NhblN0b3BJbmRleCxcbiAgICAgICAgICByb3dTdGFydEluZGV4ID0gX3JlZjMucm93U3RhcnRJbmRleCxcbiAgICAgICAgICByb3dTdG9wSW5kZXggPSBfcmVmMy5yb3dTdG9wSW5kZXg7XG4gICAgICB2YXIgb25Sb3dzUmVuZGVyZWQgPSBfdGhpcy5wcm9wcy5vblJvd3NSZW5kZXJlZDtcbiAgICAgIG9uUm93c1JlbmRlcmVkKHtcbiAgICAgICAgb3ZlcnNjYW5TdGFydEluZGV4OiByb3dPdmVyc2NhblN0YXJ0SW5kZXgsXG4gICAgICAgIG92ZXJzY2FuU3RvcEluZGV4OiByb3dPdmVyc2NhblN0b3BJbmRleCxcbiAgICAgICAgc3RhcnRJbmRleDogcm93U3RhcnRJbmRleCxcbiAgICAgICAgc3RvcEluZGV4OiByb3dTdG9wSW5kZXhcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKExpc3QsIFt7XG4gICAga2V5OiBcImZvcmNlVXBkYXRlR3JpZFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBmb3JjZVVwZGF0ZUdyaWQoKSB7XG4gICAgICBpZiAodGhpcy5HcmlkKSB7XG4gICAgICAgIHRoaXMuR3JpZC5mb3JjZVVwZGF0ZSgpO1xuICAgICAgfVxuICAgIH1cbiAgICAvKiogU2VlIEdyaWQjZ2V0T2Zmc2V0Rm9yQ2VsbCAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiZ2V0T2Zmc2V0Rm9yUm93XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldE9mZnNldEZvclJvdyhfcmVmNCkge1xuICAgICAgdmFyIGFsaWdubWVudCA9IF9yZWY0LmFsaWdubWVudCxcbiAgICAgICAgICBpbmRleCA9IF9yZWY0LmluZGV4O1xuXG4gICAgICBpZiAodGhpcy5HcmlkKSB7XG4gICAgICAgIHZhciBfdGhpcyRHcmlkJGdldE9mZnNldEYgPSB0aGlzLkdyaWQuZ2V0T2Zmc2V0Rm9yQ2VsbCh7XG4gICAgICAgICAgYWxpZ25tZW50OiBhbGlnbm1lbnQsXG4gICAgICAgICAgcm93SW5kZXg6IGluZGV4LFxuICAgICAgICAgIGNvbHVtbkluZGV4OiAwXG4gICAgICAgIH0pLFxuICAgICAgICAgICAgc2Nyb2xsVG9wID0gX3RoaXMkR3JpZCRnZXRPZmZzZXRGLnNjcm9sbFRvcDtcblxuICAgICAgICByZXR1cm4gc2Nyb2xsVG9wO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gMDtcbiAgICB9XG4gICAgLyoqIENlbGxNZWFzdXJlciBjb21wYXRpYmlsaXR5ICovXG5cbiAgfSwge1xuICAgIGtleTogXCJpbnZhbGlkYXRlQ2VsbFNpemVBZnRlclJlbmRlclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBpbnZhbGlkYXRlQ2VsbFNpemVBZnRlclJlbmRlcihfcmVmNSkge1xuICAgICAgdmFyIGNvbHVtbkluZGV4ID0gX3JlZjUuY29sdW1uSW5kZXgsXG4gICAgICAgICAgcm93SW5kZXggPSBfcmVmNS5yb3dJbmRleDtcblxuICAgICAgaWYgKHRoaXMuR3JpZCkge1xuICAgICAgICB0aGlzLkdyaWQuaW52YWxpZGF0ZUNlbGxTaXplQWZ0ZXJSZW5kZXIoe1xuICAgICAgICAgIHJvd0luZGV4OiByb3dJbmRleCxcbiAgICAgICAgICBjb2x1bW5JbmRleDogY29sdW1uSW5kZXhcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICAgIC8qKiBTZWUgR3JpZCNtZWFzdXJlQWxsQ2VsbHMgKi9cblxuICB9LCB7XG4gICAga2V5OiBcIm1lYXN1cmVBbGxSb3dzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG1lYXN1cmVBbGxSb3dzKCkge1xuICAgICAgaWYgKHRoaXMuR3JpZCkge1xuICAgICAgICB0aGlzLkdyaWQubWVhc3VyZUFsbENlbGxzKCk7XG4gICAgICB9XG4gICAgfVxuICAgIC8qKiBDZWxsTWVhc3VyZXIgY29tcGF0aWJpbGl0eSAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwicmVjb21wdXRlR3JpZFNpemVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVjb21wdXRlR3JpZFNpemUoKSB7XG4gICAgICB2YXIgX3JlZjYgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9LFxuICAgICAgICAgIF9yZWY2JGNvbHVtbkluZGV4ID0gX3JlZjYuY29sdW1uSW5kZXgsXG4gICAgICAgICAgY29sdW1uSW5kZXggPSBfcmVmNiRjb2x1bW5JbmRleCA9PT0gdm9pZCAwID8gMCA6IF9yZWY2JGNvbHVtbkluZGV4LFxuICAgICAgICAgIF9yZWY2JHJvd0luZGV4ID0gX3JlZjYucm93SW5kZXgsXG4gICAgICAgICAgcm93SW5kZXggPSBfcmVmNiRyb3dJbmRleCA9PT0gdm9pZCAwID8gMCA6IF9yZWY2JHJvd0luZGV4O1xuXG4gICAgICBpZiAodGhpcy5HcmlkKSB7XG4gICAgICAgIHRoaXMuR3JpZC5yZWNvbXB1dGVHcmlkU2l6ZSh7XG4gICAgICAgICAgcm93SW5kZXg6IHJvd0luZGV4LFxuICAgICAgICAgIGNvbHVtbkluZGV4OiBjb2x1bW5JbmRleFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gICAgLyoqIFNlZSBHcmlkI3JlY29tcHV0ZUdyaWRTaXplICovXG5cbiAgfSwge1xuICAgIGtleTogXCJyZWNvbXB1dGVSb3dIZWlnaHRzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlY29tcHV0ZVJvd0hlaWdodHMoKSB7XG4gICAgICB2YXIgaW5kZXggPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IDA7XG5cbiAgICAgIGlmICh0aGlzLkdyaWQpIHtcbiAgICAgICAgdGhpcy5HcmlkLnJlY29tcHV0ZUdyaWRTaXplKHtcbiAgICAgICAgICByb3dJbmRleDogaW5kZXgsXG4gICAgICAgICAgY29sdW1uSW5kZXg6IDBcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICAgIC8qKiBTZWUgR3JpZCNzY3JvbGxUb1Bvc2l0aW9uICovXG5cbiAgfSwge1xuICAgIGtleTogXCJzY3JvbGxUb1Bvc2l0aW9uXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNjcm9sbFRvUG9zaXRpb24oKSB7XG4gICAgICB2YXIgc2Nyb2xsVG9wID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiAwO1xuXG4gICAgICBpZiAodGhpcy5HcmlkKSB7XG4gICAgICAgIHRoaXMuR3JpZC5zY3JvbGxUb1Bvc2l0aW9uKHtcbiAgICAgICAgICBzY3JvbGxUb3A6IHNjcm9sbFRvcFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gICAgLyoqIFNlZSBHcmlkI3Njcm9sbFRvQ2VsbCAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwic2Nyb2xsVG9Sb3dcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2Nyb2xsVG9Sb3coKSB7XG4gICAgICB2YXIgaW5kZXggPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IDA7XG5cbiAgICAgIGlmICh0aGlzLkdyaWQpIHtcbiAgICAgICAgdGhpcy5HcmlkLnNjcm9sbFRvQ2VsbCh7XG4gICAgICAgICAgY29sdW1uSW5kZXg6IDAsXG4gICAgICAgICAgcm93SW5kZXg6IGluZGV4XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJyZW5kZXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgdmFyIF90aGlzJHByb3BzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICBjbGFzc05hbWUgPSBfdGhpcyRwcm9wcy5jbGFzc05hbWUsXG4gICAgICAgICAgbm9Sb3dzUmVuZGVyZXIgPSBfdGhpcyRwcm9wcy5ub1Jvd3NSZW5kZXJlcixcbiAgICAgICAgICBzY3JvbGxUb0luZGV4ID0gX3RoaXMkcHJvcHMuc2Nyb2xsVG9JbmRleCxcbiAgICAgICAgICB3aWR0aCA9IF90aGlzJHByb3BzLndpZHRoO1xuICAgICAgdmFyIGNsYXNzTmFtZXMgPSBjbHN4KCdSZWFjdFZpcnR1YWxpemVkX19MaXN0JywgY2xhc3NOYW1lKTtcbiAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KEdyaWQsIF9leHRlbmRzKHt9LCB0aGlzLnByb3BzLCB7XG4gICAgICAgIGF1dG9Db250YWluZXJXaWR0aDogdHJ1ZSxcbiAgICAgICAgY2VsbFJlbmRlcmVyOiB0aGlzLl9jZWxsUmVuZGVyZXIsXG4gICAgICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lcyxcbiAgICAgICAgY29sdW1uV2lkdGg6IHdpZHRoLFxuICAgICAgICBjb2x1bW5Db3VudDogMSxcbiAgICAgICAgbm9Db250ZW50UmVuZGVyZXI6IG5vUm93c1JlbmRlcmVyLFxuICAgICAgICBvblNjcm9sbDogdGhpcy5fb25TY3JvbGwsXG4gICAgICAgIG9uU2VjdGlvblJlbmRlcmVkOiB0aGlzLl9vblNlY3Rpb25SZW5kZXJlZCxcbiAgICAgICAgcmVmOiB0aGlzLl9zZXRSZWYsXG4gICAgICAgIHNjcm9sbFRvUm93OiBzY3JvbGxUb0luZGV4XG4gICAgICB9KSk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIExpc3Q7XG59KFJlYWN0LlB1cmVDb21wb25lbnQpLCBfZGVmaW5lUHJvcGVydHkoX2NsYXNzLCBcInByb3BUeXBlc1wiLCBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nID8gbnVsbCA6IHtcbiAgXCJhcmlhLWxhYmVsXCI6IFByb3BUeXBlcy5zdHJpbmcsXG5cbiAgLyoqXG4gICAqIFJlbW92ZXMgZml4ZWQgaGVpZ2h0IGZyb20gdGhlIHNjcm9sbGluZ0NvbnRhaW5lciBzbyB0aGF0IHRoZSB0b3RhbCBoZWlnaHRcbiAgICogb2Ygcm93cyBjYW4gc3RyZXRjaCB0aGUgd2luZG93LiBJbnRlbmRlZCBmb3IgdXNlIHdpdGggV2luZG93U2Nyb2xsZXJcbiAgICovXG4gIFwiYXV0b0hlaWdodFwiOiBQcm9wVHlwZXMuYm9vbC5pc1JlcXVpcmVkLFxuXG4gIC8qKiBPcHRpb25hbCBDU1MgY2xhc3MgbmFtZSAqL1xuICBcImNsYXNzTmFtZVwiOiBQcm9wVHlwZXMuc3RyaW5nLFxuXG4gIC8qKlxuICAgKiBVc2VkIHRvIGVzdGltYXRlIHRoZSB0b3RhbCBoZWlnaHQgb2YgYSBMaXN0IGJlZm9yZSBhbGwgb2YgaXRzIHJvd3MgaGF2ZSBhY3R1YWxseSBiZWVuIG1lYXN1cmVkLlxuICAgKiBUaGUgZXN0aW1hdGVkIHRvdGFsIGhlaWdodCBpcyBhZGp1c3RlZCBhcyByb3dzIGFyZSByZW5kZXJlZC5cbiAgICovXG4gIFwiZXN0aW1hdGVkUm93U2l6ZVwiOiBQcm9wVHlwZXMubnVtYmVyLmlzUmVxdWlyZWQsXG5cbiAgLyoqIEhlaWdodCBjb25zdHJhaW50IGZvciBsaXN0IChkZXRlcm1pbmVzIGhvdyBtYW55IGFjdHVhbCByb3dzIGFyZSByZW5kZXJlZCkgKi9cbiAgXCJoZWlnaHRcIjogUHJvcFR5cGVzLm51bWJlci5pc1JlcXVpcmVkLFxuXG4gIC8qKiBPcHRpb25hbCByZW5kZXJlciB0byBiZSB1c2VkIGluIHBsYWNlIG9mIHJvd3Mgd2hlbiByb3dDb3VudCBpcyAwICovXG4gIFwibm9Sb3dzUmVuZGVyZXJcIjogZnVuY3Rpb24gbm9Sb3dzUmVuZGVyZXIoKSB7XG4gICAgcmV0dXJuICh0eXBlb2YgYnBmcnB0X3Byb3B0eXBlX05vQ29udGVudFJlbmRlcmVyID09PSBcImZ1bmN0aW9uXCIgPyBicGZycHRfcHJvcHR5cGVfTm9Db250ZW50UmVuZGVyZXIuaXNSZXF1aXJlZCA/IGJwZnJwdF9wcm9wdHlwZV9Ob0NvbnRlbnRSZW5kZXJlci5pc1JlcXVpcmVkIDogYnBmcnB0X3Byb3B0eXBlX05vQ29udGVudFJlbmRlcmVyIDogUHJvcFR5cGVzLnNoYXBlKGJwZnJwdF9wcm9wdHlwZV9Ob0NvbnRlbnRSZW5kZXJlcikuaXNSZXF1aXJlZCkuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfSxcblxuICAvKiogQ2FsbGJhY2sgaW52b2tlZCB3aXRoIGluZm9ybWF0aW9uIGFib3V0IHRoZSBzbGljZSBvZiByb3dzIHRoYXQgd2VyZSBqdXN0IHJlbmRlcmVkLiAgKi9cbiAgXCJvblJvd3NSZW5kZXJlZFwiOiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLFxuXG4gIC8qKlxuICAgKiBDYWxsYmFjayBpbnZva2VkIHdoZW5ldmVyIHRoZSBzY3JvbGwgb2Zmc2V0IGNoYW5nZXMgd2l0aGluIHRoZSBpbm5lciBzY3JvbGxhYmxlIHJlZ2lvbi5cbiAgICogVGhpcyBjYWxsYmFjayBjYW4gYmUgdXNlZCB0byBzeW5jIHNjcm9sbGluZyBiZXR3ZWVuIGxpc3RzLCB0YWJsZXMsIG9yIGdyaWRzLlxuICAgKi9cbiAgXCJvblNjcm9sbFwiOiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLFxuXG4gIC8qKiBTZWUgR3JpZCNvdmVyc2NhbkluZGljZXNHZXR0ZXIgKi9cbiAgXCJvdmVyc2NhbkluZGljZXNHZXR0ZXJcIjogZnVuY3Rpb24gb3ZlcnNjYW5JbmRpY2VzR2V0dGVyKCkge1xuICAgIHJldHVybiAodHlwZW9mIGJwZnJwdF9wcm9wdHlwZV9PdmVyc2NhbkluZGljZXNHZXR0ZXIgPT09IFwiZnVuY3Rpb25cIiA/IGJwZnJwdF9wcm9wdHlwZV9PdmVyc2NhbkluZGljZXNHZXR0ZXIuaXNSZXF1aXJlZCA/IGJwZnJwdF9wcm9wdHlwZV9PdmVyc2NhbkluZGljZXNHZXR0ZXIuaXNSZXF1aXJlZCA6IGJwZnJwdF9wcm9wdHlwZV9PdmVyc2NhbkluZGljZXNHZXR0ZXIgOiBQcm9wVHlwZXMuc2hhcGUoYnBmcnB0X3Byb3B0eXBlX092ZXJzY2FuSW5kaWNlc0dldHRlcikuaXNSZXF1aXJlZCkuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfSxcblxuICAvKipcbiAgICogTnVtYmVyIG9mIHJvd3MgdG8gcmVuZGVyIGFib3ZlL2JlbG93IHRoZSB2aXNpYmxlIGJvdW5kcyBvZiB0aGUgbGlzdC5cbiAgICogVGhlc2Ugcm93cyBjYW4gaGVscCBmb3Igc21vb3RoZXIgc2Nyb2xsaW5nIG9uIHRvdWNoIGRldmljZXMuXG4gICAqL1xuICBcIm92ZXJzY2FuUm93Q291bnRcIjogUHJvcFR5cGVzLm51bWJlci5pc1JlcXVpcmVkLFxuXG4gIC8qKiBFaXRoZXIgYSBmaXhlZCByb3cgaGVpZ2h0IChudW1iZXIpIG9yIGEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIHRoZSBoZWlnaHQgb2YgYSByb3cgZ2l2ZW4gaXRzIGluZGV4LiAgKi9cbiAgXCJyb3dIZWlnaHRcIjogZnVuY3Rpb24gcm93SGVpZ2h0KCkge1xuICAgIHJldHVybiAodHlwZW9mIGJwZnJwdF9wcm9wdHlwZV9DZWxsU2l6ZSA9PT0gXCJmdW5jdGlvblwiID8gYnBmcnB0X3Byb3B0eXBlX0NlbGxTaXplLmlzUmVxdWlyZWQgPyBicGZycHRfcHJvcHR5cGVfQ2VsbFNpemUuaXNSZXF1aXJlZCA6IGJwZnJwdF9wcm9wdHlwZV9DZWxsU2l6ZSA6IFByb3BUeXBlcy5zaGFwZShicGZycHRfcHJvcHR5cGVfQ2VsbFNpemUpLmlzUmVxdWlyZWQpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gIH0sXG5cbiAgLyoqIFJlc3BvbnNpYmxlIGZvciByZW5kZXJpbmcgYSByb3cgZ2l2ZW4gYW4gaW5kZXg7ICh7IGluZGV4OiBudW1iZXIgfSk6IG5vZGUgKi9cbiAgXCJyb3dSZW5kZXJlclwiOiBmdW5jdGlvbiByb3dSZW5kZXJlcigpIHtcbiAgICByZXR1cm4gKHR5cGVvZiBicGZycHRfcHJvcHR5cGVfUm93UmVuZGVyZXIgPT09IFwiZnVuY3Rpb25cIiA/IGJwZnJwdF9wcm9wdHlwZV9Sb3dSZW5kZXJlci5pc1JlcXVpcmVkID8gYnBmcnB0X3Byb3B0eXBlX1Jvd1JlbmRlcmVyLmlzUmVxdWlyZWQgOiBicGZycHRfcHJvcHR5cGVfUm93UmVuZGVyZXIgOiBQcm9wVHlwZXMuc2hhcGUoYnBmcnB0X3Byb3B0eXBlX1Jvd1JlbmRlcmVyKS5pc1JlcXVpcmVkKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICB9LFxuXG4gIC8qKiBOdW1iZXIgb2Ygcm93cyBpbiBsaXN0LiAqL1xuICBcInJvd0NvdW50XCI6IFByb3BUeXBlcy5udW1iZXIuaXNSZXF1aXJlZCxcblxuICAvKiogU2VlIEdyaWQjc2Nyb2xsVG9BbGlnbm1lbnQgKi9cbiAgXCJzY3JvbGxUb0FsaWdubWVudFwiOiBmdW5jdGlvbiBzY3JvbGxUb0FsaWdubWVudCgpIHtcbiAgICByZXR1cm4gKHR5cGVvZiBicGZycHRfcHJvcHR5cGVfQWxpZ25tZW50ID09PSBcImZ1bmN0aW9uXCIgPyBicGZycHRfcHJvcHR5cGVfQWxpZ25tZW50LmlzUmVxdWlyZWQgPyBicGZycHRfcHJvcHR5cGVfQWxpZ25tZW50LmlzUmVxdWlyZWQgOiBicGZycHRfcHJvcHR5cGVfQWxpZ25tZW50IDogUHJvcFR5cGVzLnNoYXBlKGJwZnJwdF9wcm9wdHlwZV9BbGlnbm1lbnQpLmlzUmVxdWlyZWQpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gIH0sXG5cbiAgLyoqIFJvdyBpbmRleCB0byBlbnN1cmUgdmlzaWJsZSAoYnkgZm9yY2VmdWxseSBzY3JvbGxpbmcgaWYgbmVjZXNzYXJ5KSAqL1xuICBcInNjcm9sbFRvSW5kZXhcIjogUHJvcFR5cGVzLm51bWJlci5pc1JlcXVpcmVkLFxuXG4gIC8qKiBWZXJ0aWNhbCBvZmZzZXQuICovXG4gIFwic2Nyb2xsVG9wXCI6IFByb3BUeXBlcy5udW1iZXIsXG5cbiAgLyoqIE9wdGlvbmFsIGlubGluZSBzdHlsZSAqL1xuICBcInN0eWxlXCI6IFByb3BUeXBlcy5vYmplY3QuaXNSZXF1aXJlZCxcblxuICAvKiogVGFiIGluZGV4IGZvciBmb2N1cyAqL1xuICBcInRhYkluZGV4XCI6IFByb3BUeXBlcy5udW1iZXIsXG5cbiAgLyoqIFdpZHRoIG9mIGxpc3QgKi9cbiAgXCJ3aWR0aFwiOiBQcm9wVHlwZXMubnVtYmVyLmlzUmVxdWlyZWRcbn0pLCBfdGVtcCk7XG5cbl9kZWZpbmVQcm9wZXJ0eShMaXN0LCBcImRlZmF1bHRQcm9wc1wiLCB7XG4gIGF1dG9IZWlnaHQ6IGZhbHNlLFxuICBlc3RpbWF0ZWRSb3dTaXplOiAzMCxcbiAgb25TY3JvbGw6IGZ1bmN0aW9uIG9uU2Nyb2xsKCkge30sXG4gIG5vUm93c1JlbmRlcmVyOiBmdW5jdGlvbiBub1Jvd3NSZW5kZXJlcigpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfSxcbiAgb25Sb3dzUmVuZGVyZWQ6IGZ1bmN0aW9uIG9uUm93c1JlbmRlcmVkKCkge30sXG4gIG92ZXJzY2FuSW5kaWNlc0dldHRlcjogYWNjZXNzaWJpbGl0eU92ZXJzY2FuSW5kaWNlc0dldHRlcixcbiAgb3ZlcnNjYW5Sb3dDb3VudDogMTAsXG4gIHNjcm9sbFRvQWxpZ25tZW50OiAnYXV0bycsXG4gIHNjcm9sbFRvSW5kZXg6IC0xLFxuICBzdHlsZToge31cbn0pO1xuXG5leHBvcnQgeyBMaXN0IGFzIGRlZmF1bHQgfTtcbmltcG9ydCB7IGJwZnJwdF9wcm9wdHlwZV9Ob0NvbnRlbnRSZW5kZXJlciB9IGZyb20gXCIuLi9HcmlkXCI7XG5pbXBvcnQgeyBicGZycHRfcHJvcHR5cGVfQWxpZ25tZW50IH0gZnJvbSBcIi4uL0dyaWRcIjtcbmltcG9ydCB7IGJwZnJwdF9wcm9wdHlwZV9DZWxsU2l6ZSB9IGZyb20gXCIuLi9HcmlkXCI7XG5pbXBvcnQgeyBicGZycHRfcHJvcHR5cGVfQ2VsbFBvc2l0aW9uIH0gZnJvbSBcIi4uL0dyaWRcIjtcbmltcG9ydCB7IGJwZnJwdF9wcm9wdHlwZV9PdmVyc2NhbkluZGljZXNHZXR0ZXIgfSBmcm9tIFwiLi4vR3JpZFwiO1xuaW1wb3J0IHsgYnBmcnB0X3Byb3B0eXBlX1JlbmRlcmVkU2VjdGlvbiB9IGZyb20gXCIuLi9HcmlkXCI7XG5pbXBvcnQgeyBicGZycHRfcHJvcHR5cGVfQ2VsbFJlbmRlcmVyUGFyYW1zIH0gZnJvbSBcIi4uL0dyaWRcIjtcbmltcG9ydCB7IGJwZnJwdF9wcm9wdHlwZV9TY3JvbGwgYXMgYnBmcnB0X3Byb3B0eXBlX0dyaWRTY3JvbGwgfSBmcm9tIFwiLi4vR3JpZFwiO1xuaW1wb3J0IHsgYnBmcnB0X3Byb3B0eXBlX1Jvd1JlbmRlcmVyIH0gZnJvbSBcIi4vdHlwZXNcIjtcbmltcG9ydCB7IGJwZnJwdF9wcm9wdHlwZV9SZW5kZXJlZFJvd3MgfSBmcm9tIFwiLi90eXBlc1wiO1xuaW1wb3J0IHsgYnBmcnB0X3Byb3B0eXBlX1Njcm9sbCB9IGZyb20gXCIuL3R5cGVzXCI7XG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gXCJwcm9wLXR5cGVzXCI7IiwiZXhwb3J0IHsgZGVmYXVsdCB9IGZyb20gJy4vTGlzdCc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIExpc3QgfSBmcm9tICcuL0xpc3QnO1xuaW1wb3J0IHsgYnBmcnB0X3Byb3B0eXBlX1Jvd1JlbmRlcmVyUGFyYW1zIH0gZnJvbSBcIi4vdHlwZXNcIjtcbmV4cG9ydCB7IGJwZnJwdF9wcm9wdHlwZV9Sb3dSZW5kZXJlclBhcmFtcyB9OyIsImltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbnZhciBicGZycHRfcHJvcHR5cGVfUm93UmVuZGVyZXJQYXJhbXMgPSBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nID8gbnVsbCA6IHtcbiAgXCJpbmRleFwiOiBQcm9wVHlwZXMubnVtYmVyLmlzUmVxdWlyZWQsXG4gIFwiaXNTY3JvbGxpbmdcIjogUHJvcFR5cGVzLmJvb2wuaXNSZXF1aXJlZCxcbiAgXCJpc1Zpc2libGVcIjogUHJvcFR5cGVzLmJvb2wuaXNSZXF1aXJlZCxcbiAgXCJrZXlcIjogUHJvcFR5cGVzLnN0cmluZy5pc1JlcXVpcmVkLFxuICBcInBhcmVudFwiOiBQcm9wVHlwZXMub2JqZWN0LmlzUmVxdWlyZWQsXG4gIFwic3R5bGVcIjogUHJvcFR5cGVzLm9iamVjdC5pc1JlcXVpcmVkXG59O1xudmFyIGJwZnJwdF9wcm9wdHlwZV9Sb3dSZW5kZXJlciA9IHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAncHJvZHVjdGlvbicgPyBudWxsIDogUHJvcFR5cGVzLmZ1bmM7XG52YXIgYnBmcnB0X3Byb3B0eXBlX1JlbmRlcmVkUm93cyA9IHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAncHJvZHVjdGlvbicgPyBudWxsIDoge1xuICBcIm92ZXJzY2FuU3RhcnRJbmRleFwiOiBQcm9wVHlwZXMubnVtYmVyLmlzUmVxdWlyZWQsXG4gIFwib3ZlcnNjYW5TdG9wSW5kZXhcIjogUHJvcFR5cGVzLm51bWJlci5pc1JlcXVpcmVkLFxuICBcInN0YXJ0SW5kZXhcIjogUHJvcFR5cGVzLm51bWJlci5pc1JlcXVpcmVkLFxuICBcInN0b3BJbmRleFwiOiBQcm9wVHlwZXMubnVtYmVyLmlzUmVxdWlyZWRcbn07XG52YXIgYnBmcnB0X3Byb3B0eXBlX1Njcm9sbCA9IHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAncHJvZHVjdGlvbicgPyBudWxsIDoge1xuICBcImNsaWVudEhlaWdodFwiOiBQcm9wVHlwZXMubnVtYmVyLmlzUmVxdWlyZWQsXG4gIFwic2Nyb2xsSGVpZ2h0XCI6IFByb3BUeXBlcy5udW1iZXIuaXNSZXF1aXJlZCxcbiAgXCJzY3JvbGxUb3BcIjogUHJvcFR5cGVzLm51bWJlci5pc1JlcXVpcmVkXG59O1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tIFwicHJvcC10eXBlc1wiO1xuZXhwb3J0IHsgYnBmcnB0X3Byb3B0eXBlX1Jvd1JlbmRlcmVyUGFyYW1zIH07XG5leHBvcnQgeyBicGZycHRfcHJvcHR5cGVfUm93UmVuZGVyZXIgfTtcbmV4cG9ydCB7IGJwZnJwdF9wcm9wdHlwZV9SZW5kZXJlZFJvd3MgfTtcbmV4cG9ydCB7IGJwZnJwdF9wcm9wdHlwZV9TY3JvbGwgfTsiLCJpbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrXCI7XG5pbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzXCI7XG5pbXBvcnQgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4gZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVyblwiO1xuaW1wb3J0IF9nZXRQcm90b3R5cGVPZiBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9nZXRQcm90b3R5cGVPZlwiO1xuaW1wb3J0IF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvYXNzZXJ0VGhpc0luaXRpYWxpemVkXCI7XG5pbXBvcnQgX2luaGVyaXRzIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2luaGVyaXRzXCI7XG5pbXBvcnQgX2RlZmluZVByb3BlcnR5IGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2RlZmluZVByb3BlcnR5XCI7XG5cbnZhciBfY2xhc3MsIF90ZW1wO1xuXG5mdW5jdGlvbiBvd25LZXlzKG9iamVjdCwgZW51bWVyYWJsZU9ubHkpIHsgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgc3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqZWN0KTsgaWYgKGVudW1lcmFibGVPbmx5KSBzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTsgfSk7IGtleXMucHVzaC5hcHBseShrZXlzLCBzeW1ib2xzKTsgfSByZXR1cm4ga2V5czsgfVxuXG5mdW5jdGlvbiBfb2JqZWN0U3ByZWFkKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldICE9IG51bGwgPyBhcmd1bWVudHNbaV0gOiB7fTsgaWYgKGkgJSAyKSB7IG93bktleXMoc291cmNlLCB0cnVlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7IH0pOyB9IGVsc2UgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoc291cmNlKSk7IH0gZWxzZSB7IG93bktleXMoc291cmNlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwga2V5KSk7IH0pOyB9IH0gcmV0dXJuIHRhcmdldDsgfVxuXG5pbXBvcnQgY2xzeCBmcm9tICdjbHN4JztcbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHBvbHlmaWxsIH0gZnJvbSAncmVhY3QtbGlmZWN5Y2xlcy1jb21wYXQnO1xuaW1wb3J0IFBvc2l0aW9uQ2FjaGUgZnJvbSAnLi9Qb3NpdGlvbkNhY2hlJztcbmltcG9ydCB7IHJlcXVlc3RBbmltYXRpb25UaW1lb3V0LCBjYW5jZWxBbmltYXRpb25UaW1lb3V0IH0gZnJvbSAnLi4vdXRpbHMvcmVxdWVzdEFuaW1hdGlvblRpbWVvdXQnO1xudmFyIGVtcHR5T2JqZWN0ID0ge307XG4vKipcbiAqIFNwZWNpZmllcyB0aGUgbnVtYmVyIG9mIG1pbGlzZWNvbmRzIGR1cmluZyB3aGljaCB0byBkaXNhYmxlIHBvaW50ZXIgZXZlbnRzIHdoaWxlIGEgc2Nyb2xsIGlzIGluIHByb2dyZXNzLlxuICogVGhpcyBpbXByb3ZlcyBwZXJmb3JtYW5jZSBhbmQgbWFrZXMgc2Nyb2xsaW5nIHNtb290aGVyLlxuICovXG5cbmV4cG9ydCB2YXIgREVGQVVMVF9TQ1JPTExJTkdfUkVTRVRfVElNRV9JTlRFUlZBTCA9IDE1MDtcbi8qKlxuICogVGhpcyBjb21wb25lbnQgZWZmaWNpZW50bHkgZGlzcGxheXMgYXJiaXRyYXJpbHkgcG9zaXRpb25lZCBjZWxscyB1c2luZyB3aW5kb3dpbmcgdGVjaG5pcXVlcy5cbiAqIENlbGwgcG9zaXRpb24gaXMgZGV0ZXJtaW5lZCBieSBhbiBpbmplY3RlZCBgY2VsbFBvc2l0aW9uZXJgIHByb3BlcnR5LlxuICogV2luZG93aW5nIGlzIHZlcnRpY2FsOyB0aGlzIGNvbXBvbmVudCBkb2VzIG5vdCBzdXBwb3J0IGhvcml6b250YWwgc2Nyb2xsaW5nLlxuICpcbiAqIFJlbmRlcmluZyBvY2N1cnMgaW4gdHdvIHBoYXNlczpcbiAqIDEpIEZpcnN0IHBhc3MgdXNlcyBlc3RpbWF0ZWQgY2VsbCBzaXplcyAocHJvdmlkZWQgYnkgdGhlIGNhY2hlKSB0byBkZXRlcm1pbmUgaG93IG1hbnkgY2VsbHMgdG8gbWVhc3VyZSBpbiBhIGJhdGNoLlxuICogICAgQmF0Y2ggc2l6ZSBpcyBjaG9zZW4gdXNpbmcgYSBmYXN0LCBuYWl2ZSBsYXlvdXQgYWxnb3JpdGhtIHRoYXQgc3RhY2tzIGltYWdlcyBpbiBvcmRlciB1bnRpbCB0aGUgdmlld3BvcnQgaGFzIGJlZW4gZmlsbGVkLlxuICogICAgQWZ0ZXIgbWVhc3VyZW1lbnQgaXMgY29tcGxldGUgKGNvbXBvbmVudERpZE1vdW50IG9yIGNvbXBvbmVudERpZFVwZGF0ZSkgdGhpcyBjb21wb25lbnQgZXZhbHVhdGVzIHBvc2l0aW9uZWQgY2VsbHNcbiAqICAgIGluIG9yZGVyIHRvIGRldGVybWluZSBpZiBhbm90aGVyIG1lYXN1cmVtZW50IHBhc3MgaXMgcmVxdWlyZWQgKGVnIGlmIGFjdHVhbCBjZWxsIHNpemVzIHdlcmUgbGVzcyB0aGFuIGVzdGltYXRlZCBzaXplcykuXG4gKiAgICBBbGwgbWVhc3VyZW1lbnRzIGFyZSBwZXJtYW5lbnRseSBjYWNoZWQgKGtleWVkIGJ5IGBrZXlNYXBwZXJgKSBmb3IgcGVyZm9ybWFuY2UgcHVycG9zZXMuXG4gKiAyKSBTZWNvbmQgcGFzcyB1c2VzIHRoZSBleHRlcm5hbCBgY2VsbFBvc2l0aW9uZXJgIHRvIGxheW91dCBjZWxscy5cbiAqICAgIEF0IHRoaXMgdGltZSB0aGUgcG9zaXRpb25lciBoYXMgYWNjZXNzIHRvIGNhY2hlZCBzaXplIG1lYXN1cmVtZW50cyBmb3IgYWxsIGNlbGxzLlxuICogICAgVGhlIHBvc2l0aW9ucyBpdCByZXR1cm5zIGFyZSBjYWNoZWQgYnkgTWFzb25yeSBmb3IgZmFzdCBhY2Nlc3MgbGF0ZXIuXG4gKiAgICBQaGFzZSBvbmUgaXMgcmVwZWF0ZWQgaWYgdGhlIHVzZXIgc2Nyb2xscyBiZXlvbmQgdGhlIGN1cnJlbnQgbGF5b3V0J3MgYm91bmRzLlxuICogICAgSWYgdGhlIGxheW91dCBpcyBpbnZhbGlkYXRlZCBkdWUgdG8gZWcgYSByZXNpemUsIGNhY2hlZCBwb3NpdGlvbnMgY2FuIGJlIGNsZWFyZWQgdXNpbmcgYHJlY29tcHV0ZUNlbGxQb3NpdGlvbnMoKWAuXG4gKlxuICogQW5pbWF0aW9uIGNvbnN0cmFpbnRzOlxuICogICBTaW1wbGUgYW5pbWF0aW9ucyBhcmUgc3VwcG9ydGVkIChlZyB0cmFuc2xhdGUvc2xpZGUgaW50byBwbGFjZSBvbiBpbml0aWFsIHJldmVhbCkuXG4gKiAgIE1vcmUgY29tcGxleCBhbmltYXRpb25zIGFyZSBub3QgKGVnIGZseWluZyBmcm9tIG9uZSBwb3NpdGlvbiB0byBhbm90aGVyIG9uIHJlc2l6ZSkuXG4gKlxuICogTGF5b3V0IGNvbnN0cmFpbnRzOlxuICogICBUaGlzIGNvbXBvbmVudCBzdXBwb3J0cyBtdWx0aS1jb2x1bW4gbGF5b3V0LlxuICogICBUaGUgaGVpZ2h0IG9mIGVhY2ggaXRlbSBtYXkgdmFyeS5cbiAqICAgVGhlIHdpZHRoIG9mIGVhY2ggaXRlbSBtdXN0IG5vdCBleGNlZWQgdGhlIHdpZHRoIG9mIHRoZSBjb2x1bW4gaXQgaXMgXCJpblwiLlxuICogICBUaGUgbGVmdCBwb3NpdGlvbiBvZiBhbGwgaXRlbXMgd2l0aGluIGEgY29sdW1uIG11c3QgYWxpZ24uXG4gKiAgIChJdGVtcyBtYXkgbm90IHNwYW4gbXVsdGlwbGUgY29sdW1ucy4pXG4gKi9cblxudmFyIE1hc29ucnkgPSAoX3RlbXAgPSBfY2xhc3MgPVxuLyojX19QVVJFX18qL1xuZnVuY3Rpb24gKF9SZWFjdCRQdXJlQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0cyhNYXNvbnJ5LCBfUmVhY3QkUHVyZUNvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gTWFzb25yeSgpIHtcbiAgICB2YXIgX2dldFByb3RvdHlwZU9mMjtcblxuICAgIHZhciBfdGhpcztcblxuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBNYXNvbnJ5KTtcblxuICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICB9XG5cbiAgICBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChfZ2V0UHJvdG90eXBlT2YyID0gX2dldFByb3RvdHlwZU9mKE1hc29ucnkpKS5jYWxsLmFwcGx5KF9nZXRQcm90b3R5cGVPZjIsIFt0aGlzXS5jb25jYXQoYXJncykpKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJzdGF0ZVwiLCB7XG4gICAgICBpc1Njcm9sbGluZzogZmFsc2UsXG4gICAgICBzY3JvbGxUb3A6IDBcbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJfZGVib3VuY2VSZXNldElzU2Nyb2xsaW5nSWRcIiwgdm9pZCAwKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJfaW52YWxpZGF0ZU9uVXBkYXRlU3RhcnRJbmRleFwiLCBudWxsKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJfaW52YWxpZGF0ZU9uVXBkYXRlU3RvcEluZGV4XCIsIG51bGwpO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcIl9wb3NpdGlvbkNhY2hlXCIsIG5ldyBQb3NpdGlvbkNhY2hlKCkpO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcIl9zdGFydEluZGV4XCIsIG51bGwpO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcIl9zdGFydEluZGV4TWVtb2l6ZWRcIiwgbnVsbCk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwiX3N0b3BJbmRleFwiLCBudWxsKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJfc3RvcEluZGV4TWVtb2l6ZWRcIiwgbnVsbCk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwiX2RlYm91bmNlUmVzZXRJc1Njcm9sbGluZ0NhbGxiYWNrXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgaXNTY3JvbGxpbmc6IGZhbHNlXG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJfc2V0U2Nyb2xsaW5nQ29udGFpbmVyUmVmXCIsIGZ1bmN0aW9uIChyZWYpIHtcbiAgICAgIF90aGlzLl9zY3JvbGxpbmdDb250YWluZXIgPSByZWY7XG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwiX29uU2Nyb2xsXCIsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgdmFyIGhlaWdodCA9IF90aGlzLnByb3BzLmhlaWdodDtcbiAgICAgIHZhciBldmVudFNjcm9sbFRvcCA9IGV2ZW50LmN1cnJlbnRUYXJnZXQuc2Nyb2xsVG9wOyAvLyBXaGVuIHRoaXMgY29tcG9uZW50IGlzIHNocnVuayBkcmFzdGljYWxseSwgUmVhY3QgZGlzcGF0Y2hlcyBhIHNlcmllcyBvZiBiYWNrLXRvLWJhY2sgc2Nyb2xsIGV2ZW50cyxcbiAgICAgIC8vIEdyYWR1YWxseSBjb252ZXJnaW5nIG9uIGEgc2Nyb2xsVG9wIHRoYXQgaXMgd2l0aGluIHRoZSBib3VuZHMgb2YgdGhlIG5ldywgc21hbGxlciBoZWlnaHQuXG4gICAgICAvLyBUaGlzIGNhdXNlcyBhIHNlcmllcyBvZiByYXBpZCByZW5kZXJzIHRoYXQgaXMgc2xvdyBmb3IgbG9uZyBsaXN0cy5cbiAgICAgIC8vIFdlIGNhbiBhdm9pZCB0aGF0IGJ5IGRvaW5nIHNvbWUgc2ltcGxlIGJvdW5kcyBjaGVja2luZyB0byBlbnN1cmUgdGhhdCBzY3JvbGwgb2Zmc2V0cyBuZXZlciBleGNlZWQgdGhlaXIgYm91bmRzLlxuXG4gICAgICB2YXIgc2Nyb2xsVG9wID0gTWF0aC5taW4oTWF0aC5tYXgoMCwgX3RoaXMuX2dldEVzdGltYXRlZFRvdGFsSGVpZ2h0KCkgLSBoZWlnaHQpLCBldmVudFNjcm9sbFRvcCk7IC8vIE9uIGlPUywgd2UgY2FuIGFycml2ZSBhdCBuZWdhdGl2ZSBvZmZzZXRzIGJ5IHN3aXBpbmcgcGFzdCB0aGUgc3RhcnQgb3IgZW5kLlxuICAgICAgLy8gQXZvaWQgcmUtcmVuZGVyaW5nIGluIHRoaXMgY2FzZSBhcyBpdCBjYW4gY2F1c2UgcHJvYmxlbXM7IHNlZSAjNTMyIGZvciBtb3JlLlxuXG4gICAgICBpZiAoZXZlbnRTY3JvbGxUb3AgIT09IHNjcm9sbFRvcCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9IC8vIFByZXZlbnQgcG9pbnRlciBldmVudHMgZnJvbSBpbnRlcnJ1cHRpbmcgYSBzbW9vdGggc2Nyb2xsXG5cblxuICAgICAgX3RoaXMuX2RlYm91bmNlUmVzZXRJc1Njcm9sbGluZygpOyAvLyBDZXJ0YWluIGRldmljZXMgKGxpa2UgQXBwbGUgdG91Y2hwYWQpIHJhcGlkLWZpcmUgZHVwbGljYXRlIGV2ZW50cy5cbiAgICAgIC8vIERvbid0IGZvcmNlIGEgcmUtcmVuZGVyIGlmIHRoaXMgaXMgdGhlIGNhc2UuXG4gICAgICAvLyBUaGUgbW91c2UgbWF5IG1vdmUgZmFzdGVyIHRoZW4gdGhlIGFuaW1hdGlvbiBmcmFtZSBkb2VzLlxuICAgICAgLy8gVXNlIHJlcXVlc3RBbmltYXRpb25GcmFtZSB0byBhdm9pZCBvdmVyLXVwZGF0aW5nLlxuXG5cbiAgICAgIGlmIChfdGhpcy5zdGF0ZS5zY3JvbGxUb3AgIT09IHNjcm9sbFRvcCkge1xuICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgaXNTY3JvbGxpbmc6IHRydWUsXG4gICAgICAgICAgc2Nyb2xsVG9wOiBzY3JvbGxUb3BcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoTWFzb25yeSwgW3tcbiAgICBrZXk6IFwiY2xlYXJDZWxsUG9zaXRpb25zXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNsZWFyQ2VsbFBvc2l0aW9ucygpIHtcbiAgICAgIHRoaXMuX3Bvc2l0aW9uQ2FjaGUgPSBuZXcgUG9zaXRpb25DYWNoZSgpO1xuICAgICAgdGhpcy5mb3JjZVVwZGF0ZSgpO1xuICAgIH0gLy8gSEFDSyBUaGlzIG1ldGhvZCBzaWduYXR1cmUgd2FzIGludGVuZGVkIGZvciBHcmlkXG5cbiAgfSwge1xuICAgIGtleTogXCJpbnZhbGlkYXRlQ2VsbFNpemVBZnRlclJlbmRlclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBpbnZhbGlkYXRlQ2VsbFNpemVBZnRlclJlbmRlcihfcmVmKSB7XG4gICAgICB2YXIgaW5kZXggPSBfcmVmLnJvd0luZGV4O1xuXG4gICAgICBpZiAodGhpcy5faW52YWxpZGF0ZU9uVXBkYXRlU3RhcnRJbmRleCA9PT0gbnVsbCkge1xuICAgICAgICB0aGlzLl9pbnZhbGlkYXRlT25VcGRhdGVTdGFydEluZGV4ID0gaW5kZXg7XG4gICAgICAgIHRoaXMuX2ludmFsaWRhdGVPblVwZGF0ZVN0b3BJbmRleCA9IGluZGV4O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5faW52YWxpZGF0ZU9uVXBkYXRlU3RhcnRJbmRleCA9IE1hdGgubWluKHRoaXMuX2ludmFsaWRhdGVPblVwZGF0ZVN0YXJ0SW5kZXgsIGluZGV4KTtcbiAgICAgICAgdGhpcy5faW52YWxpZGF0ZU9uVXBkYXRlU3RvcEluZGV4ID0gTWF0aC5tYXgodGhpcy5faW52YWxpZGF0ZU9uVXBkYXRlU3RvcEluZGV4LCBpbmRleCk7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInJlY29tcHV0ZUNlbGxQb3NpdGlvbnNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVjb21wdXRlQ2VsbFBvc2l0aW9ucygpIHtcbiAgICAgIHZhciBzdG9wSW5kZXggPSB0aGlzLl9wb3NpdGlvbkNhY2hlLmNvdW50IC0gMTtcbiAgICAgIHRoaXMuX3Bvc2l0aW9uQ2FjaGUgPSBuZXcgUG9zaXRpb25DYWNoZSgpO1xuXG4gICAgICB0aGlzLl9wb3B1bGF0ZVBvc2l0aW9uQ2FjaGUoMCwgc3RvcEluZGV4KTtcblxuICAgICAgdGhpcy5mb3JjZVVwZGF0ZSgpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJjb21wb25lbnREaWRNb3VudFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICAgIHRoaXMuX2NoZWNrSW52YWxpZGF0ZU9uVXBkYXRlKCk7XG5cbiAgICAgIHRoaXMuX2ludm9rZU9uU2Nyb2xsQ2FsbGJhY2soKTtcblxuICAgICAgdGhpcy5faW52b2tlT25DZWxsc1JlbmRlcmVkQ2FsbGJhY2soKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiY29tcG9uZW50RGlkVXBkYXRlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudERpZFVwZGF0ZShwcmV2UHJvcHMsIHByZXZTdGF0ZSkge1xuICAgICAgdGhpcy5fY2hlY2tJbnZhbGlkYXRlT25VcGRhdGUoKTtcblxuICAgICAgdGhpcy5faW52b2tlT25TY3JvbGxDYWxsYmFjaygpO1xuXG4gICAgICB0aGlzLl9pbnZva2VPbkNlbGxzUmVuZGVyZWRDYWxsYmFjaygpO1xuXG4gICAgICBpZiAodGhpcy5wcm9wcy5zY3JvbGxUb3AgIT09IHByZXZQcm9wcy5zY3JvbGxUb3ApIHtcbiAgICAgICAgdGhpcy5fZGVib3VuY2VSZXNldElzU2Nyb2xsaW5nKCk7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImNvbXBvbmVudFdpbGxVbm1vdW50XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgICAgaWYgKHRoaXMuX2RlYm91bmNlUmVzZXRJc1Njcm9sbGluZ0lkKSB7XG4gICAgICAgIGNhbmNlbEFuaW1hdGlvblRpbWVvdXQodGhpcy5fZGVib3VuY2VSZXNldElzU2Nyb2xsaW5nSWQpO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJyZW5kZXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgIHZhciBfdGhpcyRwcm9wcyA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgYXV0b0hlaWdodCA9IF90aGlzJHByb3BzLmF1dG9IZWlnaHQsXG4gICAgICAgICAgY2VsbENvdW50ID0gX3RoaXMkcHJvcHMuY2VsbENvdW50LFxuICAgICAgICAgIGNlbGxNZWFzdXJlckNhY2hlID0gX3RoaXMkcHJvcHMuY2VsbE1lYXN1cmVyQ2FjaGUsXG4gICAgICAgICAgY2VsbFJlbmRlcmVyID0gX3RoaXMkcHJvcHMuY2VsbFJlbmRlcmVyLFxuICAgICAgICAgIGNsYXNzTmFtZSA9IF90aGlzJHByb3BzLmNsYXNzTmFtZSxcbiAgICAgICAgICBoZWlnaHQgPSBfdGhpcyRwcm9wcy5oZWlnaHQsXG4gICAgICAgICAgaWQgPSBfdGhpcyRwcm9wcy5pZCxcbiAgICAgICAgICBrZXlNYXBwZXIgPSBfdGhpcyRwcm9wcy5rZXlNYXBwZXIsXG4gICAgICAgICAgb3ZlcnNjYW5CeVBpeGVscyA9IF90aGlzJHByb3BzLm92ZXJzY2FuQnlQaXhlbHMsXG4gICAgICAgICAgcm9sZSA9IF90aGlzJHByb3BzLnJvbGUsXG4gICAgICAgICAgc3R5bGUgPSBfdGhpcyRwcm9wcy5zdHlsZSxcbiAgICAgICAgICB0YWJJbmRleCA9IF90aGlzJHByb3BzLnRhYkluZGV4LFxuICAgICAgICAgIHdpZHRoID0gX3RoaXMkcHJvcHMud2lkdGgsXG4gICAgICAgICAgcm93RGlyZWN0aW9uID0gX3RoaXMkcHJvcHMucm93RGlyZWN0aW9uO1xuICAgICAgdmFyIF90aGlzJHN0YXRlID0gdGhpcy5zdGF0ZSxcbiAgICAgICAgICBpc1Njcm9sbGluZyA9IF90aGlzJHN0YXRlLmlzU2Nyb2xsaW5nLFxuICAgICAgICAgIHNjcm9sbFRvcCA9IF90aGlzJHN0YXRlLnNjcm9sbFRvcDtcbiAgICAgIHZhciBjaGlsZHJlbiA9IFtdO1xuXG4gICAgICB2YXIgZXN0aW1hdGVUb3RhbEhlaWdodCA9IHRoaXMuX2dldEVzdGltYXRlZFRvdGFsSGVpZ2h0KCk7XG5cbiAgICAgIHZhciBzaG9ydGVzdENvbHVtblNpemUgPSB0aGlzLl9wb3NpdGlvbkNhY2hlLnNob3J0ZXN0Q29sdW1uU2l6ZTtcbiAgICAgIHZhciBtZWFzdXJlZENlbGxDb3VudCA9IHRoaXMuX3Bvc2l0aW9uQ2FjaGUuY291bnQ7XG4gICAgICB2YXIgc3RhcnRJbmRleCA9IDA7XG4gICAgICB2YXIgc3RvcEluZGV4O1xuXG4gICAgICB0aGlzLl9wb3NpdGlvbkNhY2hlLnJhbmdlKE1hdGgubWF4KDAsIHNjcm9sbFRvcCAtIG92ZXJzY2FuQnlQaXhlbHMpLCBoZWlnaHQgKyBvdmVyc2NhbkJ5UGl4ZWxzICogMiwgZnVuY3Rpb24gKGluZGV4LCBsZWZ0LCB0b3ApIHtcbiAgICAgICAgdmFyIF9zdHlsZTtcblxuICAgICAgICBpZiAodHlwZW9mIHN0b3BJbmRleCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICBzdGFydEluZGV4ID0gaW5kZXg7XG4gICAgICAgICAgc3RvcEluZGV4ID0gaW5kZXg7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc3RhcnRJbmRleCA9IE1hdGgubWluKHN0YXJ0SW5kZXgsIGluZGV4KTtcbiAgICAgICAgICBzdG9wSW5kZXggPSBNYXRoLm1heChzdG9wSW5kZXgsIGluZGV4KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNoaWxkcmVuLnB1c2goY2VsbFJlbmRlcmVyKHtcbiAgICAgICAgICBpbmRleDogaW5kZXgsXG4gICAgICAgICAgaXNTY3JvbGxpbmc6IGlzU2Nyb2xsaW5nLFxuICAgICAgICAgIGtleToga2V5TWFwcGVyKGluZGV4KSxcbiAgICAgICAgICBwYXJlbnQ6IF90aGlzMixcbiAgICAgICAgICBzdHlsZTogKF9zdHlsZSA9IHtcbiAgICAgICAgICAgIGhlaWdodDogY2VsbE1lYXN1cmVyQ2FjaGUuZ2V0SGVpZ2h0KGluZGV4KVxuICAgICAgICAgIH0sIF9kZWZpbmVQcm9wZXJ0eShfc3R5bGUsIHJvd0RpcmVjdGlvbiA9PT0gJ2x0cicgPyAnbGVmdCcgOiAncmlnaHQnLCBsZWZ0KSwgX2RlZmluZVByb3BlcnR5KF9zdHlsZSwgXCJwb3NpdGlvblwiLCAnYWJzb2x1dGUnKSwgX2RlZmluZVByb3BlcnR5KF9zdHlsZSwgXCJ0b3BcIiwgdG9wKSwgX2RlZmluZVByb3BlcnR5KF9zdHlsZSwgXCJ3aWR0aFwiLCBjZWxsTWVhc3VyZXJDYWNoZS5nZXRXaWR0aChpbmRleCkpLCBfc3R5bGUpXG4gICAgICAgIH0pKTtcbiAgICAgIH0pOyAvLyBXZSBuZWVkIHRvIG1lYXN1cmUgYWRkaXRpb25hbCBjZWxscyBmb3IgdGhpcyBsYXlvdXRcblxuXG4gICAgICBpZiAoc2hvcnRlc3RDb2x1bW5TaXplIDwgc2Nyb2xsVG9wICsgaGVpZ2h0ICsgb3ZlcnNjYW5CeVBpeGVscyAmJiBtZWFzdXJlZENlbGxDb3VudCA8IGNlbGxDb3VudCkge1xuICAgICAgICB2YXIgYmF0Y2hTaXplID0gTWF0aC5taW4oY2VsbENvdW50IC0gbWVhc3VyZWRDZWxsQ291bnQsIE1hdGguY2VpbCgoc2Nyb2xsVG9wICsgaGVpZ2h0ICsgb3ZlcnNjYW5CeVBpeGVscyAtIHNob3J0ZXN0Q29sdW1uU2l6ZSkgLyBjZWxsTWVhc3VyZXJDYWNoZS5kZWZhdWx0SGVpZ2h0ICogd2lkdGggLyBjZWxsTWVhc3VyZXJDYWNoZS5kZWZhdWx0V2lkdGgpKTtcblxuICAgICAgICBmb3IgKHZhciBfaW5kZXggPSBtZWFzdXJlZENlbGxDb3VudDsgX2luZGV4IDwgbWVhc3VyZWRDZWxsQ291bnQgKyBiYXRjaFNpemU7IF9pbmRleCsrKSB7XG4gICAgICAgICAgc3RvcEluZGV4ID0gX2luZGV4O1xuICAgICAgICAgIGNoaWxkcmVuLnB1c2goY2VsbFJlbmRlcmVyKHtcbiAgICAgICAgICAgIGluZGV4OiBfaW5kZXgsXG4gICAgICAgICAgICBpc1Njcm9sbGluZzogaXNTY3JvbGxpbmcsXG4gICAgICAgICAgICBrZXk6IGtleU1hcHBlcihfaW5kZXgpLFxuICAgICAgICAgICAgcGFyZW50OiB0aGlzLFxuICAgICAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICAgICAgd2lkdGg6IGNlbGxNZWFzdXJlckNhY2hlLmdldFdpZHRoKF9pbmRleClcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdGhpcy5fc3RhcnRJbmRleCA9IHN0YXJ0SW5kZXg7XG4gICAgICB0aGlzLl9zdG9wSW5kZXggPSBzdG9wSW5kZXg7XG4gICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICAgIHJlZjogdGhpcy5fc2V0U2Nyb2xsaW5nQ29udGFpbmVyUmVmLFxuICAgICAgICBcImFyaWEtbGFiZWxcIjogdGhpcy5wcm9wc1snYXJpYS1sYWJlbCddLFxuICAgICAgICBjbGFzc05hbWU6IGNsc3goJ1JlYWN0VmlydHVhbGl6ZWRfX01hc29ucnknLCBjbGFzc05hbWUpLFxuICAgICAgICBpZDogaWQsXG4gICAgICAgIG9uU2Nyb2xsOiB0aGlzLl9vblNjcm9sbCxcbiAgICAgICAgcm9sZTogcm9sZSxcbiAgICAgICAgc3R5bGU6IF9vYmplY3RTcHJlYWQoe1xuICAgICAgICAgIGJveFNpemluZzogJ2JvcmRlci1ib3gnLFxuICAgICAgICAgIGRpcmVjdGlvbjogJ2x0cicsXG4gICAgICAgICAgaGVpZ2h0OiBhdXRvSGVpZ2h0ID8gJ2F1dG8nIDogaGVpZ2h0LFxuICAgICAgICAgIG92ZXJmbG93WDogJ2hpZGRlbicsXG4gICAgICAgICAgb3ZlcmZsb3dZOiBlc3RpbWF0ZVRvdGFsSGVpZ2h0IDwgaGVpZ2h0ID8gJ2hpZGRlbicgOiAnYXV0bycsXG4gICAgICAgICAgcG9zaXRpb246ICdyZWxhdGl2ZScsXG4gICAgICAgICAgd2lkdGg6IHdpZHRoLFxuICAgICAgICAgIFdlYmtpdE92ZXJmbG93U2Nyb2xsaW5nOiAndG91Y2gnLFxuICAgICAgICAgIHdpbGxDaGFuZ2U6ICd0cmFuc2Zvcm0nXG4gICAgICAgIH0sIHN0eWxlKSxcbiAgICAgICAgdGFiSW5kZXg6IHRhYkluZGV4XG4gICAgICB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgICAgY2xhc3NOYW1lOiBcIlJlYWN0VmlydHVhbGl6ZWRfX01hc29ucnlfX2lubmVyU2Nyb2xsQ29udGFpbmVyXCIsXG4gICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgd2lkdGg6ICcxMDAlJyxcbiAgICAgICAgICBoZWlnaHQ6IGVzdGltYXRlVG90YWxIZWlnaHQsXG4gICAgICAgICAgbWF4V2lkdGg6ICcxMDAlJyxcbiAgICAgICAgICBtYXhIZWlnaHQ6IGVzdGltYXRlVG90YWxIZWlnaHQsXG4gICAgICAgICAgb3ZlcmZsb3c6ICdoaWRkZW4nLFxuICAgICAgICAgIHBvaW50ZXJFdmVudHM6IGlzU2Nyb2xsaW5nID8gJ25vbmUnIDogJycsXG4gICAgICAgICAgcG9zaXRpb246ICdyZWxhdGl2ZSdcbiAgICAgICAgfVxuICAgICAgfSwgY2hpbGRyZW4pKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiX2NoZWNrSW52YWxpZGF0ZU9uVXBkYXRlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9jaGVja0ludmFsaWRhdGVPblVwZGF0ZSgpIHtcbiAgICAgIGlmICh0eXBlb2YgdGhpcy5faW52YWxpZGF0ZU9uVXBkYXRlU3RhcnRJbmRleCA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgdmFyIHN0YXJ0SW5kZXggPSB0aGlzLl9pbnZhbGlkYXRlT25VcGRhdGVTdGFydEluZGV4O1xuICAgICAgICB2YXIgc3RvcEluZGV4ID0gdGhpcy5faW52YWxpZGF0ZU9uVXBkYXRlU3RvcEluZGV4O1xuICAgICAgICB0aGlzLl9pbnZhbGlkYXRlT25VcGRhdGVTdGFydEluZGV4ID0gbnVsbDtcbiAgICAgICAgdGhpcy5faW52YWxpZGF0ZU9uVXBkYXRlU3RvcEluZGV4ID0gbnVsbDsgLy8gUXVlcnkgZXh0ZXJuYWwgbGF5b3V0IGxvZ2ljIGZvciBwb3NpdGlvbiBvZiBuZXdseS1tZWFzdXJlZCBjZWxsc1xuXG4gICAgICAgIHRoaXMuX3BvcHVsYXRlUG9zaXRpb25DYWNoZShzdGFydEluZGV4LCBzdG9wSW5kZXgpO1xuXG4gICAgICAgIHRoaXMuZm9yY2VVcGRhdGUoKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiX2RlYm91bmNlUmVzZXRJc1Njcm9sbGluZ1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfZGVib3VuY2VSZXNldElzU2Nyb2xsaW5nKCkge1xuICAgICAgdmFyIHNjcm9sbGluZ1Jlc2V0VGltZUludGVydmFsID0gdGhpcy5wcm9wcy5zY3JvbGxpbmdSZXNldFRpbWVJbnRlcnZhbDtcblxuICAgICAgaWYgKHRoaXMuX2RlYm91bmNlUmVzZXRJc1Njcm9sbGluZ0lkKSB7XG4gICAgICAgIGNhbmNlbEFuaW1hdGlvblRpbWVvdXQodGhpcy5fZGVib3VuY2VSZXNldElzU2Nyb2xsaW5nSWQpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLl9kZWJvdW5jZVJlc2V0SXNTY3JvbGxpbmdJZCA9IHJlcXVlc3RBbmltYXRpb25UaW1lb3V0KHRoaXMuX2RlYm91bmNlUmVzZXRJc1Njcm9sbGluZ0NhbGxiYWNrLCBzY3JvbGxpbmdSZXNldFRpbWVJbnRlcnZhbCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIl9nZXRFc3RpbWF0ZWRUb3RhbEhlaWdodFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfZ2V0RXN0aW1hdGVkVG90YWxIZWlnaHQoKSB7XG4gICAgICB2YXIgX3RoaXMkcHJvcHMyID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICBjZWxsQ291bnQgPSBfdGhpcyRwcm9wczIuY2VsbENvdW50LFxuICAgICAgICAgIGNlbGxNZWFzdXJlckNhY2hlID0gX3RoaXMkcHJvcHMyLmNlbGxNZWFzdXJlckNhY2hlLFxuICAgICAgICAgIHdpZHRoID0gX3RoaXMkcHJvcHMyLndpZHRoO1xuICAgICAgdmFyIGVzdGltYXRlZENvbHVtbkNvdW50ID0gTWF0aC5tYXgoMSwgTWF0aC5mbG9vcih3aWR0aCAvIGNlbGxNZWFzdXJlckNhY2hlLmRlZmF1bHRXaWR0aCkpO1xuICAgICAgcmV0dXJuIHRoaXMuX3Bvc2l0aW9uQ2FjaGUuZXN0aW1hdGVUb3RhbEhlaWdodChjZWxsQ291bnQsIGVzdGltYXRlZENvbHVtbkNvdW50LCBjZWxsTWVhc3VyZXJDYWNoZS5kZWZhdWx0SGVpZ2h0KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiX2ludm9rZU9uU2Nyb2xsQ2FsbGJhY2tcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gX2ludm9rZU9uU2Nyb2xsQ2FsbGJhY2soKSB7XG4gICAgICB2YXIgX3RoaXMkcHJvcHMzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICBoZWlnaHQgPSBfdGhpcyRwcm9wczMuaGVpZ2h0LFxuICAgICAgICAgIG9uU2Nyb2xsID0gX3RoaXMkcHJvcHMzLm9uU2Nyb2xsO1xuICAgICAgdmFyIHNjcm9sbFRvcCA9IHRoaXMuc3RhdGUuc2Nyb2xsVG9wO1xuXG4gICAgICBpZiAodGhpcy5fb25TY3JvbGxNZW1vaXplZCAhPT0gc2Nyb2xsVG9wKSB7XG4gICAgICAgIG9uU2Nyb2xsKHtcbiAgICAgICAgICBjbGllbnRIZWlnaHQ6IGhlaWdodCxcbiAgICAgICAgICBzY3JvbGxIZWlnaHQ6IHRoaXMuX2dldEVzdGltYXRlZFRvdGFsSGVpZ2h0KCksXG4gICAgICAgICAgc2Nyb2xsVG9wOiBzY3JvbGxUb3BcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuX29uU2Nyb2xsTWVtb2l6ZWQgPSBzY3JvbGxUb3A7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIl9pbnZva2VPbkNlbGxzUmVuZGVyZWRDYWxsYmFja1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfaW52b2tlT25DZWxsc1JlbmRlcmVkQ2FsbGJhY2soKSB7XG4gICAgICBpZiAodGhpcy5fc3RhcnRJbmRleE1lbW9pemVkICE9PSB0aGlzLl9zdGFydEluZGV4IHx8IHRoaXMuX3N0b3BJbmRleE1lbW9pemVkICE9PSB0aGlzLl9zdG9wSW5kZXgpIHtcbiAgICAgICAgdmFyIG9uQ2VsbHNSZW5kZXJlZCA9IHRoaXMucHJvcHMub25DZWxsc1JlbmRlcmVkO1xuICAgICAgICBvbkNlbGxzUmVuZGVyZWQoe1xuICAgICAgICAgIHN0YXJ0SW5kZXg6IHRoaXMuX3N0YXJ0SW5kZXgsXG4gICAgICAgICAgc3RvcEluZGV4OiB0aGlzLl9zdG9wSW5kZXhcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuX3N0YXJ0SW5kZXhNZW1vaXplZCA9IHRoaXMuX3N0YXJ0SW5kZXg7XG4gICAgICAgIHRoaXMuX3N0b3BJbmRleE1lbW9pemVkID0gdGhpcy5fc3RvcEluZGV4O1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJfcG9wdWxhdGVQb3NpdGlvbkNhY2hlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9wb3B1bGF0ZVBvc2l0aW9uQ2FjaGUoc3RhcnRJbmRleCwgc3RvcEluZGV4KSB7XG4gICAgICB2YXIgX3RoaXMkcHJvcHM0ID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICBjZWxsTWVhc3VyZXJDYWNoZSA9IF90aGlzJHByb3BzNC5jZWxsTWVhc3VyZXJDYWNoZSxcbiAgICAgICAgICBjZWxsUG9zaXRpb25lciA9IF90aGlzJHByb3BzNC5jZWxsUG9zaXRpb25lcjtcblxuICAgICAgZm9yICh2YXIgX2luZGV4MiA9IHN0YXJ0SW5kZXg7IF9pbmRleDIgPD0gc3RvcEluZGV4OyBfaW5kZXgyKyspIHtcbiAgICAgICAgdmFyIF9jZWxsUG9zaXRpb25lciA9IGNlbGxQb3NpdGlvbmVyKF9pbmRleDIpLFxuICAgICAgICAgICAgbGVmdCA9IF9jZWxsUG9zaXRpb25lci5sZWZ0LFxuICAgICAgICAgICAgdG9wID0gX2NlbGxQb3NpdGlvbmVyLnRvcDtcblxuICAgICAgICB0aGlzLl9wb3NpdGlvbkNhY2hlLnNldFBvc2l0aW9uKF9pbmRleDIsIGxlZnQsIHRvcCwgY2VsbE1lYXN1cmVyQ2FjaGUuZ2V0SGVpZ2h0KF9pbmRleDIpKTtcbiAgICAgIH1cbiAgICB9XG4gIH1dLCBbe1xuICAgIGtleTogXCJnZXREZXJpdmVkU3RhdGVGcm9tUHJvcHNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzKG5leHRQcm9wcywgcHJldlN0YXRlKSB7XG4gICAgICBpZiAobmV4dFByb3BzLnNjcm9sbFRvcCAhPT0gdW5kZWZpbmVkICYmIHByZXZTdGF0ZS5zY3JvbGxUb3AgIT09IG5leHRQcm9wcy5zY3JvbGxUb3ApIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBpc1Njcm9sbGluZzogdHJ1ZSxcbiAgICAgICAgICBzY3JvbGxUb3A6IG5leHRQcm9wcy5zY3JvbGxUb3BcbiAgICAgICAgfTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIE1hc29ucnk7XG59KFJlYWN0LlB1cmVDb21wb25lbnQpLCBfZGVmaW5lUHJvcGVydHkoX2NsYXNzLCBcInByb3BUeXBlc1wiLCBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nID8gbnVsbCA6IHtcbiAgXCJhdXRvSGVpZ2h0XCI6IFByb3BUeXBlcy5ib29sLmlzUmVxdWlyZWQsXG4gIFwiY2VsbENvdW50XCI6IFByb3BUeXBlcy5udW1iZXIuaXNSZXF1aXJlZCxcbiAgXCJjZWxsTWVhc3VyZXJDYWNoZVwiOiBmdW5jdGlvbiBjZWxsTWVhc3VyZXJDYWNoZSgpIHtcbiAgICByZXR1cm4gKHR5cGVvZiBDZWxsTWVhc3VyZXJDYWNoZSA9PT0gXCJmdW5jdGlvblwiID8gUHJvcFR5cGVzLmluc3RhbmNlT2YoQ2VsbE1lYXN1cmVyQ2FjaGUpLmlzUmVxdWlyZWQgOiBQcm9wVHlwZXMuYW55LmlzUmVxdWlyZWQpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gIH0sXG4gIFwiY2VsbFBvc2l0aW9uZXJcIjogZnVuY3Rpb24gY2VsbFBvc2l0aW9uZXIoKSB7XG4gICAgcmV0dXJuICh0eXBlb2YgUG9zaXRpb25lciA9PT0gXCJmdW5jdGlvblwiID8gUHJvcFR5cGVzLmluc3RhbmNlT2YoUG9zaXRpb25lcikuaXNSZXF1aXJlZCA6IFByb3BUeXBlcy5hbnkuaXNSZXF1aXJlZCkuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfSxcbiAgXCJjZWxsUmVuZGVyZXJcIjogZnVuY3Rpb24gY2VsbFJlbmRlcmVyKCkge1xuICAgIHJldHVybiAodHlwZW9mIENlbGxSZW5kZXJlciA9PT0gXCJmdW5jdGlvblwiID8gUHJvcFR5cGVzLmluc3RhbmNlT2YoQ2VsbFJlbmRlcmVyKS5pc1JlcXVpcmVkIDogUHJvcFR5cGVzLmFueS5pc1JlcXVpcmVkKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICB9LFxuICBcImNsYXNzTmFtZVwiOiBQcm9wVHlwZXMuc3RyaW5nLFxuICBcImhlaWdodFwiOiBQcm9wVHlwZXMubnVtYmVyLmlzUmVxdWlyZWQsXG4gIFwiaWRcIjogUHJvcFR5cGVzLnN0cmluZyxcbiAgXCJrZXlNYXBwZXJcIjogZnVuY3Rpb24ga2V5TWFwcGVyKCkge1xuICAgIHJldHVybiAodHlwZW9mIEtleU1hcHBlciA9PT0gXCJmdW5jdGlvblwiID8gUHJvcFR5cGVzLmluc3RhbmNlT2YoS2V5TWFwcGVyKS5pc1JlcXVpcmVkIDogUHJvcFR5cGVzLmFueS5pc1JlcXVpcmVkKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICB9LFxuICBcIm9uQ2VsbHNSZW5kZXJlZFwiOiBmdW5jdGlvbiBvbkNlbGxzUmVuZGVyZWQoKSB7XG4gICAgcmV0dXJuICh0eXBlb2YgT25DZWxsc1JlbmRlcmVkQ2FsbGJhY2sgPT09IFwiZnVuY3Rpb25cIiA/IFByb3BUeXBlcy5pbnN0YW5jZU9mKE9uQ2VsbHNSZW5kZXJlZENhbGxiYWNrKSA6IFByb3BUeXBlcy5hbnkpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gIH0sXG4gIFwib25TY3JvbGxcIjogZnVuY3Rpb24gb25TY3JvbGwoKSB7XG4gICAgcmV0dXJuICh0eXBlb2YgT25TY3JvbGxDYWxsYmFjayA9PT0gXCJmdW5jdGlvblwiID8gUHJvcFR5cGVzLmluc3RhbmNlT2YoT25TY3JvbGxDYWxsYmFjaykgOiBQcm9wVHlwZXMuYW55KS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICB9LFxuICBcIm92ZXJzY2FuQnlQaXhlbHNcIjogUHJvcFR5cGVzLm51bWJlci5pc1JlcXVpcmVkLFxuICBcInJvbGVcIjogUHJvcFR5cGVzLnN0cmluZy5pc1JlcXVpcmVkLFxuICBcInNjcm9sbGluZ1Jlc2V0VGltZUludGVydmFsXCI6IFByb3BUeXBlcy5udW1iZXIuaXNSZXF1aXJlZCxcbiAgXCJzdHlsZVwiOiBmdW5jdGlvbiBzdHlsZShwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUpIHtcbiAgICBpZiAoIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChwcm9wcywgcHJvcE5hbWUpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJQcm9wIGBcIi5jb25jYXQocHJvcE5hbWUsIFwiYCBoYXMgdHlwZSAnYW55JyBvciAnbWl4ZWQnLCBidXQgd2FzIG5vdCBwcm92aWRlZCB0byBgXCIpLmNvbmNhdChjb21wb25lbnROYW1lLCBcImAuIFBhc3MgdW5kZWZpbmVkIG9yIGFueSBvdGhlciB2YWx1ZS5cIikpO1xuICAgIH1cbiAgfSxcbiAgXCJ0YWJJbmRleFwiOiBQcm9wVHlwZXMubnVtYmVyLmlzUmVxdWlyZWQsXG4gIFwid2lkdGhcIjogUHJvcFR5cGVzLm51bWJlci5pc1JlcXVpcmVkLFxuICBcInJvd0RpcmVjdGlvblwiOiBQcm9wVHlwZXMuc3RyaW5nLmlzUmVxdWlyZWQsXG4gIFwic2Nyb2xsVG9wXCI6IFByb3BUeXBlcy5udW1iZXJcbn0pLCBfdGVtcCk7XG5cbl9kZWZpbmVQcm9wZXJ0eShNYXNvbnJ5LCBcImRlZmF1bHRQcm9wc1wiLCB7XG4gIGF1dG9IZWlnaHQ6IGZhbHNlLFxuICBrZXlNYXBwZXI6IGlkZW50aXR5LFxuICBvbkNlbGxzUmVuZGVyZWQ6IG5vb3AsXG4gIG9uU2Nyb2xsOiBub29wLFxuICBvdmVyc2NhbkJ5UGl4ZWxzOiAyMCxcbiAgcm9sZTogJ2dyaWQnLFxuICBzY3JvbGxpbmdSZXNldFRpbWVJbnRlcnZhbDogREVGQVVMVF9TQ1JPTExJTkdfUkVTRVRfVElNRV9JTlRFUlZBTCxcbiAgc3R5bGU6IGVtcHR5T2JqZWN0LFxuICB0YWJJbmRleDogMCxcbiAgcm93RGlyZWN0aW9uOiAnbHRyJ1xufSk7XG5cbmZ1bmN0aW9uIGlkZW50aXR5KHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZTtcbn1cblxuZnVuY3Rpb24gbm9vcCgpIHt9XG5cbnZhciBicGZycHRfcHJvcHR5cGVfQ2VsbE1lYXN1cmVyQ2FjaGUgPSBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nID8gbnVsbCA6IHtcbiAgXCJkZWZhdWx0SGVpZ2h0XCI6IFByb3BUeXBlcy5udW1iZXIuaXNSZXF1aXJlZCxcbiAgXCJkZWZhdWx0V2lkdGhcIjogUHJvcFR5cGVzLm51bWJlci5pc1JlcXVpcmVkLFxuICBcImdldEhlaWdodFwiOiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLFxuICBcImdldFdpZHRoXCI6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWRcbn07XG5wb2x5ZmlsbChNYXNvbnJ5KTtcbmV4cG9ydCBkZWZhdWx0IE1hc29ucnk7XG52YXIgYnBmcnB0X3Byb3B0eXBlX1Bvc2l0aW9uZXIgPSBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nID8gbnVsbCA6IFByb3BUeXBlcy5mdW5jO1xuaW1wb3J0IHsgYnBmcnB0X3Byb3B0eXBlX0FuaW1hdGlvblRpbWVvdXRJZCB9IGZyb20gXCIuLi91dGlscy9yZXF1ZXN0QW5pbWF0aW9uVGltZW91dFwiO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tIFwicHJvcC10eXBlc1wiO1xuZXhwb3J0IHsgYnBmcnB0X3Byb3B0eXBlX0NlbGxNZWFzdXJlckNhY2hlIH07XG5leHBvcnQgeyBicGZycHRfcHJvcHR5cGVfUG9zaXRpb25lciB9OyIsImltcG9ydCBfc2xpY2VkVG9BcnJheSBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9zbGljZWRUb0FycmF5XCI7XG5pbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrXCI7XG5pbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzXCI7XG5pbXBvcnQgX2RlZmluZVByb3BlcnR5IGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2RlZmluZVByb3BlcnR5XCI7XG5pbXBvcnQgY3JlYXRlSW50ZXJ2YWxUcmVlIGZyb20gJy4uL3ZlbmRvci9pbnRlcnZhbFRyZWUnO1xuXG4vLyBQb3NpdGlvbiBjYWNoZSByZXF1aXJlbWVudHM6XG4vLyAgIE8obG9nKG4pKSBsb29rdXAgb2YgY2VsbHMgdG8gcmVuZGVyIGZvciBhIGdpdmVuIHZpZXdwb3J0IHNpemVcbi8vICAgTygxKSBsb29rdXAgb2Ygc2hvcnRlc3QgbWVhc3VyZWQgY29sdW1uIChzbyB3ZSBrbm93IHdoZW4gdG8gZW50ZXIgcGhhc2UgMSlcbnZhciBQb3NpdGlvbkNhY2hlID1cbi8qI19fUFVSRV9fKi9cbmZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gUG9zaXRpb25DYWNoZSgpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUG9zaXRpb25DYWNoZSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJfY29sdW1uU2l6ZU1hcFwiLCB7fSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJfaW50ZXJ2YWxUcmVlXCIsIGNyZWF0ZUludGVydmFsVHJlZSgpKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9sZWZ0TWFwXCIsIHt9KTtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhQb3NpdGlvbkNhY2hlLCBbe1xuICAgIGtleTogXCJlc3RpbWF0ZVRvdGFsSGVpZ2h0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGVzdGltYXRlVG90YWxIZWlnaHQoY2VsbENvdW50LCBjb2x1bW5Db3VudCwgZGVmYXVsdENlbGxIZWlnaHQpIHtcbiAgICAgIHZhciB1bm1lYXN1cmVkQ2VsbENvdW50ID0gY2VsbENvdW50IC0gdGhpcy5jb3VudDtcbiAgICAgIHJldHVybiB0aGlzLnRhbGxlc3RDb2x1bW5TaXplICsgTWF0aC5jZWlsKHVubWVhc3VyZWRDZWxsQ291bnQgLyBjb2x1bW5Db3VudCkgKiBkZWZhdWx0Q2VsbEhlaWdodDtcbiAgICB9IC8vIFJlbmRlciBhbGwgY2VsbHMgdmlzaWJsZSB3aXRoaW4gdGhlIHZpZXdwb3J0IHJhbmdlIGRlZmluZWQuXG5cbiAgfSwge1xuICAgIGtleTogXCJyYW5nZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByYW5nZShzY3JvbGxUb3AsIGNsaWVudEhlaWdodCwgcmVuZGVyQ2FsbGJhY2spIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgIHRoaXMuX2ludGVydmFsVHJlZS5xdWVyeUludGVydmFsKHNjcm9sbFRvcCwgc2Nyb2xsVG9wICsgY2xpZW50SGVpZ2h0LCBmdW5jdGlvbiAoX3JlZikge1xuICAgICAgICB2YXIgX3JlZjIgPSBfc2xpY2VkVG9BcnJheShfcmVmLCAzKSxcbiAgICAgICAgICAgIHRvcCA9IF9yZWYyWzBdLFxuICAgICAgICAgICAgXyA9IF9yZWYyWzFdLFxuICAgICAgICAgICAgaW5kZXggPSBfcmVmMlsyXTtcblxuICAgICAgICByZXR1cm4gcmVuZGVyQ2FsbGJhY2soaW5kZXgsIF90aGlzLl9sZWZ0TWFwW2luZGV4XSwgdG9wKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJzZXRQb3NpdGlvblwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRQb3NpdGlvbihpbmRleCwgbGVmdCwgdG9wLCBoZWlnaHQpIHtcbiAgICAgIHRoaXMuX2ludGVydmFsVHJlZS5pbnNlcnQoW3RvcCwgdG9wICsgaGVpZ2h0LCBpbmRleF0pO1xuXG4gICAgICB0aGlzLl9sZWZ0TWFwW2luZGV4XSA9IGxlZnQ7XG4gICAgICB2YXIgY29sdW1uU2l6ZU1hcCA9IHRoaXMuX2NvbHVtblNpemVNYXA7XG4gICAgICB2YXIgY29sdW1uSGVpZ2h0ID0gY29sdW1uU2l6ZU1hcFtsZWZ0XTtcblxuICAgICAgaWYgKGNvbHVtbkhlaWdodCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbHVtblNpemVNYXBbbGVmdF0gPSB0b3AgKyBoZWlnaHQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb2x1bW5TaXplTWFwW2xlZnRdID0gTWF0aC5tYXgoY29sdW1uSGVpZ2h0LCB0b3AgKyBoZWlnaHQpO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJjb3VudFwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMuX2ludGVydmFsVHJlZS5jb3VudDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwic2hvcnRlc3RDb2x1bW5TaXplXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICB2YXIgY29sdW1uU2l6ZU1hcCA9IHRoaXMuX2NvbHVtblNpemVNYXA7XG4gICAgICB2YXIgc2l6ZSA9IDA7XG5cbiAgICAgIGZvciAodmFyIGkgaW4gY29sdW1uU2l6ZU1hcCkge1xuICAgICAgICB2YXIgaGVpZ2h0ID0gY29sdW1uU2l6ZU1hcFtpXTtcbiAgICAgICAgc2l6ZSA9IHNpemUgPT09IDAgPyBoZWlnaHQgOiBNYXRoLm1pbihzaXplLCBoZWlnaHQpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gc2l6ZTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwidGFsbGVzdENvbHVtblNpemVcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHZhciBjb2x1bW5TaXplTWFwID0gdGhpcy5fY29sdW1uU2l6ZU1hcDtcbiAgICAgIHZhciBzaXplID0gMDtcblxuICAgICAgZm9yICh2YXIgaSBpbiBjb2x1bW5TaXplTWFwKSB7XG4gICAgICAgIHZhciBoZWlnaHQgPSBjb2x1bW5TaXplTWFwW2ldO1xuICAgICAgICBzaXplID0gTWF0aC5tYXgoc2l6ZSwgaGVpZ2h0KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHNpemU7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIFBvc2l0aW9uQ2FjaGU7XG59KCk7XG5cbmV4cG9ydCB7IFBvc2l0aW9uQ2FjaGUgYXMgZGVmYXVsdCB9OyIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNyZWF0ZUNlbGxQb3NpdGlvbmVyKF9yZWYpIHtcbiAgdmFyIGNlbGxNZWFzdXJlckNhY2hlID0gX3JlZi5jZWxsTWVhc3VyZXJDYWNoZSxcbiAgICAgIGNvbHVtbkNvdW50ID0gX3JlZi5jb2x1bW5Db3VudCxcbiAgICAgIGNvbHVtbldpZHRoID0gX3JlZi5jb2x1bW5XaWR0aCxcbiAgICAgIF9yZWYkc3BhY2VyID0gX3JlZi5zcGFjZXIsXG4gICAgICBzcGFjZXIgPSBfcmVmJHNwYWNlciA9PT0gdm9pZCAwID8gMCA6IF9yZWYkc3BhY2VyO1xuICB2YXIgY29sdW1uSGVpZ2h0cztcbiAgaW5pdE9yUmVzZXREZXJpdmVkVmFsdWVzKCk7XG5cbiAgZnVuY3Rpb24gY2VsbFBvc2l0aW9uZXIoaW5kZXgpIHtcbiAgICAvLyBGaW5kIHRoZSBzaG9ydGVzdCBjb2x1bW4gYW5kIHVzZSBpdC5cbiAgICB2YXIgY29sdW1uSW5kZXggPSAwO1xuXG4gICAgZm9yICh2YXIgaSA9IDE7IGkgPCBjb2x1bW5IZWlnaHRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAoY29sdW1uSGVpZ2h0c1tpXSA8IGNvbHVtbkhlaWdodHNbY29sdW1uSW5kZXhdKSB7XG4gICAgICAgIGNvbHVtbkluZGV4ID0gaTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgbGVmdCA9IGNvbHVtbkluZGV4ICogKGNvbHVtbldpZHRoICsgc3BhY2VyKTtcbiAgICB2YXIgdG9wID0gY29sdW1uSGVpZ2h0c1tjb2x1bW5JbmRleF0gfHwgMDtcbiAgICBjb2x1bW5IZWlnaHRzW2NvbHVtbkluZGV4XSA9IHRvcCArIGNlbGxNZWFzdXJlckNhY2hlLmdldEhlaWdodChpbmRleCkgKyBzcGFjZXI7XG4gICAgcmV0dXJuIHtcbiAgICAgIGxlZnQ6IGxlZnQsXG4gICAgICB0b3A6IHRvcFxuICAgIH07XG4gIH1cblxuICBmdW5jdGlvbiBpbml0T3JSZXNldERlcml2ZWRWYWx1ZXMoKSB7XG4gICAgLy8gVHJhY2sgdGhlIGhlaWdodCBvZiBlYWNoIGNvbHVtbi5cbiAgICAvLyBMYXlvdXQgYWxnb3JpdGhtIGJlbG93IGFsd2F5cyBpbnNlcnRzIGludG8gdGhlIHNob3J0ZXN0IGNvbHVtbi5cbiAgICBjb2x1bW5IZWlnaHRzID0gW107XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvbHVtbkNvdW50OyBpKyspIHtcbiAgICAgIGNvbHVtbkhlaWdodHNbaV0gPSAwO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHJlc2V0KHBhcmFtcykge1xuICAgIGNvbHVtbkNvdW50ID0gcGFyYW1zLmNvbHVtbkNvdW50O1xuICAgIGNvbHVtbldpZHRoID0gcGFyYW1zLmNvbHVtbldpZHRoO1xuICAgIHNwYWNlciA9IHBhcmFtcy5zcGFjZXI7XG4gICAgaW5pdE9yUmVzZXREZXJpdmVkVmFsdWVzKCk7XG4gIH1cblxuICBjZWxsUG9zaXRpb25lci5yZXNldCA9IHJlc2V0O1xuICByZXR1cm4gY2VsbFBvc2l0aW9uZXI7XG59XG5pbXBvcnQgeyBicGZycHRfcHJvcHR5cGVfQ2VsbE1lYXN1cmVyQ2FjaGUgfSBmcm9tIFwiLi9NYXNvbnJ5XCI7XG5pbXBvcnQgeyBicGZycHRfcHJvcHR5cGVfUG9zaXRpb25lciB9IGZyb20gXCIuL01hc29ucnlcIjsiLCJpbXBvcnQgY3JlYXRlQ2VsbFBvc2l0aW9uZXIgZnJvbSAnLi9jcmVhdGVDZWxsUG9zaXRpb25lcic7XG5pbXBvcnQgTWFzb25yeSBmcm9tICcuL01hc29ucnknO1xuZXhwb3J0IGRlZmF1bHQgTWFzb25yeTtcbmV4cG9ydCB7IGNyZWF0ZUNlbGxQb3NpdGlvbmVyLCBNYXNvbnJ5IH07IiwiaW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVja1wiO1xuaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzc1wiO1xuaW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9kZWZpbmVQcm9wZXJ0eVwiO1xuaW1wb3J0IHsgQ2VsbE1lYXN1cmVyQ2FjaGUgfSBmcm9tICcuLi9DZWxsTWVhc3VyZXInO1xuXG4vKipcbiAqIENhY2hlcyBtZWFzdXJlbWVudHMgZm9yIGEgZ2l2ZW4gY2VsbC5cbiAqL1xudmFyIENlbGxNZWFzdXJlckNhY2hlRGVjb3JhdG9yID1cbi8qI19fUFVSRV9fKi9cbmZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gQ2VsbE1lYXN1cmVyQ2FjaGVEZWNvcmF0b3IoKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIHZhciBwYXJhbXMgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9O1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIENlbGxNZWFzdXJlckNhY2hlRGVjb3JhdG9yKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9jZWxsTWVhc3VyZXJDYWNoZVwiLCB2b2lkIDApO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiX2NvbHVtbkluZGV4T2Zmc2V0XCIsIHZvaWQgMCk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJfcm93SW5kZXhPZmZzZXRcIiwgdm9pZCAwKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImNvbHVtbldpZHRoXCIsIGZ1bmN0aW9uIChfcmVmKSB7XG4gICAgICB2YXIgaW5kZXggPSBfcmVmLmluZGV4O1xuXG4gICAgICBfdGhpcy5fY2VsbE1lYXN1cmVyQ2FjaGUuY29sdW1uV2lkdGgoe1xuICAgICAgICBpbmRleDogaW5kZXggKyBfdGhpcy5fY29sdW1uSW5kZXhPZmZzZXRcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwicm93SGVpZ2h0XCIsIGZ1bmN0aW9uIChfcmVmMikge1xuICAgICAgdmFyIGluZGV4ID0gX3JlZjIuaW5kZXg7XG5cbiAgICAgIF90aGlzLl9jZWxsTWVhc3VyZXJDYWNoZS5yb3dIZWlnaHQoe1xuICAgICAgICBpbmRleDogaW5kZXggKyBfdGhpcy5fcm93SW5kZXhPZmZzZXRcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgdmFyIGNlbGxNZWFzdXJlckNhY2hlID0gcGFyYW1zLmNlbGxNZWFzdXJlckNhY2hlLFxuICAgICAgICBfcGFyYW1zJGNvbHVtbkluZGV4T2YgPSBwYXJhbXMuY29sdW1uSW5kZXhPZmZzZXQsXG4gICAgICAgIGNvbHVtbkluZGV4T2Zmc2V0ID0gX3BhcmFtcyRjb2x1bW5JbmRleE9mID09PSB2b2lkIDAgPyAwIDogX3BhcmFtcyRjb2x1bW5JbmRleE9mLFxuICAgICAgICBfcGFyYW1zJHJvd0luZGV4T2Zmc2UgPSBwYXJhbXMucm93SW5kZXhPZmZzZXQsXG4gICAgICAgIHJvd0luZGV4T2Zmc2V0ID0gX3BhcmFtcyRyb3dJbmRleE9mZnNlID09PSB2b2lkIDAgPyAwIDogX3BhcmFtcyRyb3dJbmRleE9mZnNlO1xuICAgIHRoaXMuX2NlbGxNZWFzdXJlckNhY2hlID0gY2VsbE1lYXN1cmVyQ2FjaGU7XG4gICAgdGhpcy5fY29sdW1uSW5kZXhPZmZzZXQgPSBjb2x1bW5JbmRleE9mZnNldDtcbiAgICB0aGlzLl9yb3dJbmRleE9mZnNldCA9IHJvd0luZGV4T2Zmc2V0O1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKENlbGxNZWFzdXJlckNhY2hlRGVjb3JhdG9yLCBbe1xuICAgIGtleTogXCJjbGVhclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjbGVhcihyb3dJbmRleCwgY29sdW1uSW5kZXgpIHtcbiAgICAgIHRoaXMuX2NlbGxNZWFzdXJlckNhY2hlLmNsZWFyKHJvd0luZGV4ICsgdGhpcy5fcm93SW5kZXhPZmZzZXQsIGNvbHVtbkluZGV4ICsgdGhpcy5fY29sdW1uSW5kZXhPZmZzZXQpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJjbGVhckFsbFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjbGVhckFsbCgpIHtcbiAgICAgIHRoaXMuX2NlbGxNZWFzdXJlckNhY2hlLmNsZWFyQWxsKCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImhhc0ZpeGVkSGVpZ2h0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGhhc0ZpeGVkSGVpZ2h0KCkge1xuICAgICAgcmV0dXJuIHRoaXMuX2NlbGxNZWFzdXJlckNhY2hlLmhhc0ZpeGVkSGVpZ2h0KCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImhhc0ZpeGVkV2lkdGhcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gaGFzRml4ZWRXaWR0aCgpIHtcbiAgICAgIHJldHVybiB0aGlzLl9jZWxsTWVhc3VyZXJDYWNoZS5oYXNGaXhlZFdpZHRoKCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImdldEhlaWdodFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRIZWlnaHQocm93SW5kZXgpIHtcbiAgICAgIHZhciBjb2x1bW5JbmRleCA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogMDtcbiAgICAgIHJldHVybiB0aGlzLl9jZWxsTWVhc3VyZXJDYWNoZS5nZXRIZWlnaHQocm93SW5kZXggKyB0aGlzLl9yb3dJbmRleE9mZnNldCwgY29sdW1uSW5kZXggKyB0aGlzLl9jb2x1bW5JbmRleE9mZnNldCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImdldFdpZHRoXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldFdpZHRoKHJvd0luZGV4KSB7XG4gICAgICB2YXIgY29sdW1uSW5kZXggPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IDA7XG4gICAgICByZXR1cm4gdGhpcy5fY2VsbE1lYXN1cmVyQ2FjaGUuZ2V0V2lkdGgocm93SW5kZXggKyB0aGlzLl9yb3dJbmRleE9mZnNldCwgY29sdW1uSW5kZXggKyB0aGlzLl9jb2x1bW5JbmRleE9mZnNldCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImhhc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBoYXMocm93SW5kZXgpIHtcbiAgICAgIHZhciBjb2x1bW5JbmRleCA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogMDtcbiAgICAgIHJldHVybiB0aGlzLl9jZWxsTWVhc3VyZXJDYWNoZS5oYXMocm93SW5kZXggKyB0aGlzLl9yb3dJbmRleE9mZnNldCwgY29sdW1uSW5kZXggKyB0aGlzLl9jb2x1bW5JbmRleE9mZnNldCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInNldFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzZXQocm93SW5kZXgsIGNvbHVtbkluZGV4LCB3aWR0aCwgaGVpZ2h0KSB7XG4gICAgICB0aGlzLl9jZWxsTWVhc3VyZXJDYWNoZS5zZXQocm93SW5kZXggKyB0aGlzLl9yb3dJbmRleE9mZnNldCwgY29sdW1uSW5kZXggKyB0aGlzLl9jb2x1bW5JbmRleE9mZnNldCwgd2lkdGgsIGhlaWdodCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImRlZmF1bHRIZWlnaHRcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLl9jZWxsTWVhc3VyZXJDYWNoZS5kZWZhdWx0SGVpZ2h0O1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJkZWZhdWx0V2lkdGhcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLl9jZWxsTWVhc3VyZXJDYWNoZS5kZWZhdWx0V2lkdGg7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIENlbGxNZWFzdXJlckNhY2hlRGVjb3JhdG9yO1xufSgpO1xuXG5leHBvcnQgeyBDZWxsTWVhc3VyZXJDYWNoZURlY29yYXRvciBhcyBkZWZhdWx0IH07IiwiaW1wb3J0IF9leHRlbmRzIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2V4dGVuZHNcIjtcbmltcG9ydCBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvb2JqZWN0V2l0aG91dFByb3BlcnRpZXNcIjtcbmltcG9ydCBfY2xhc3NDYWxsQ2hlY2sgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2tcIjtcbmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3NcIjtcbmltcG9ydCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuXCI7XG5pbXBvcnQgX2dldFByb3RvdHlwZU9mIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2dldFByb3RvdHlwZU9mXCI7XG5pbXBvcnQgX2Fzc2VydFRoaXNJbml0aWFsaXplZCBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9hc3NlcnRUaGlzSW5pdGlhbGl6ZWRcIjtcbmltcG9ydCBfaW5oZXJpdHMgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHNcIjtcbmltcG9ydCBfZGVmaW5lUHJvcGVydHkgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZGVmaW5lUHJvcGVydHlcIjtcblxuZnVuY3Rpb24gb3duS2V5cyhvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7IHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7IGlmIChlbnVtZXJhYmxlT25seSkgc3ltYm9scyA9IHN5bWJvbHMuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBzeW0pLmVudW1lcmFibGU7IH0pOyBrZXlzLnB1c2guYXBwbHkoa2V5cywgc3ltYm9scyk7IH0gcmV0dXJuIGtleXM7IH1cblxuZnVuY3Rpb24gX29iamVjdFNwcmVhZCh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXSAhPSBudWxsID8gYXJndW1lbnRzW2ldIDoge307IGlmIChpICUgMikgeyBvd25LZXlzKHNvdXJjZSwgdHJ1ZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pOyB9KTsgfSBlbHNlIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycykgeyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpOyB9IGVsc2UgeyBvd25LZXlzKHNvdXJjZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpOyB9KTsgfSB9IHJldHVybiB0YXJnZXQ7IH1cblxuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHBvbHlmaWxsIH0gZnJvbSAncmVhY3QtbGlmZWN5Y2xlcy1jb21wYXQnO1xuaW1wb3J0IENlbGxNZWFzdXJlckNhY2hlRGVjb3JhdG9yIGZyb20gJy4vQ2VsbE1lYXN1cmVyQ2FjaGVEZWNvcmF0b3InO1xuaW1wb3J0IEdyaWQgZnJvbSAnLi4vR3JpZCc7XG52YXIgU0NST0xMQkFSX1NJWkVfQlVGRkVSID0gMjA7XG4vKipcbiAqIFJlbmRlcnMgMSwgMiwgb3IgNCBHcmlkcyBkZXBlbmRpbmcgb24gY29uZmlndXJhdGlvbi5cbiAqIEEgbWFpbiAoYm9keSkgR3JpZCB3aWxsIGFsd2F5cyBiZSByZW5kZXJlZC5cbiAqIE9wdGlvbmFsbHksIDEtMiBHcmlkcyBmb3Igc3RpY2t5IGhlYWRlciByb3dzIHdpbGwgYWxzbyBiZSByZW5kZXJlZC5cbiAqIElmIG5vIHN0aWNreSBjb2x1bW5zLCBvbmx5IDEgc3RpY2t5IGhlYWRlciBHcmlkIHdpbGwgYmUgcmVuZGVyZWQuXG4gKiBJZiBzdGlja3kgY29sdW1ucywgMiBzdGlja3kgaGVhZGVyIEdyaWRzIHdpbGwgYmUgcmVuZGVyZWQuXG4gKi9cblxudmFyIE11bHRpR3JpZCA9XG4vKiNfX1BVUkVfXyovXG5mdW5jdGlvbiAoX1JlYWN0JFB1cmVDb21wb25lbnQpIHtcbiAgX2luaGVyaXRzKE11bHRpR3JpZCwgX1JlYWN0JFB1cmVDb21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIE11bHRpR3JpZChwcm9wcywgY29udGV4dCkge1xuICAgIHZhciBfdGhpcztcblxuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBNdWx0aUdyaWQpO1xuXG4gICAgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfZ2V0UHJvdG90eXBlT2YoTXVsdGlHcmlkKS5jYWxsKHRoaXMsIHByb3BzLCBjb250ZXh0KSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwic3RhdGVcIiwge1xuICAgICAgc2Nyb2xsTGVmdDogMCxcbiAgICAgIHNjcm9sbFRvcDogMCxcbiAgICAgIHNjcm9sbGJhclNpemU6IDAsXG4gICAgICBzaG93SG9yaXpvbnRhbFNjcm9sbGJhcjogZmFsc2UsXG4gICAgICBzaG93VmVydGljYWxTY3JvbGxiYXI6IGZhbHNlXG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwiX2RlZmVycmVkSW52YWxpZGF0ZUNvbHVtbkluZGV4XCIsIG51bGwpO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcIl9kZWZlcnJlZEludmFsaWRhdGVSb3dJbmRleFwiLCBudWxsKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJfYm90dG9tTGVmdEdyaWRSZWZcIiwgZnVuY3Rpb24gKHJlZikge1xuICAgICAgX3RoaXMuX2JvdHRvbUxlZnRHcmlkID0gcmVmO1xuICAgIH0pO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcIl9ib3R0b21SaWdodEdyaWRSZWZcIiwgZnVuY3Rpb24gKHJlZikge1xuICAgICAgX3RoaXMuX2JvdHRvbVJpZ2h0R3JpZCA9IHJlZjtcbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJfY2VsbFJlbmRlcmVyQm90dG9tTGVmdEdyaWRcIiwgZnVuY3Rpb24gKF9yZWYpIHtcbiAgICAgIHZhciByb3dJbmRleCA9IF9yZWYucm93SW5kZXgsXG4gICAgICAgICAgcmVzdCA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllcyhfcmVmLCBbXCJyb3dJbmRleFwiXSk7XG5cbiAgICAgIHZhciBfdGhpcyRwcm9wcyA9IF90aGlzLnByb3BzLFxuICAgICAgICAgIGNlbGxSZW5kZXJlciA9IF90aGlzJHByb3BzLmNlbGxSZW5kZXJlcixcbiAgICAgICAgICBmaXhlZFJvd0NvdW50ID0gX3RoaXMkcHJvcHMuZml4ZWRSb3dDb3VudCxcbiAgICAgICAgICByb3dDb3VudCA9IF90aGlzJHByb3BzLnJvd0NvdW50O1xuXG4gICAgICBpZiAocm93SW5kZXggPT09IHJvd0NvdW50IC0gZml4ZWRSb3dDb3VudCkge1xuICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICAgICAga2V5OiByZXN0LmtleSxcbiAgICAgICAgICBzdHlsZTogX29iamVjdFNwcmVhZCh7fSwgcmVzdC5zdHlsZSwge1xuICAgICAgICAgICAgaGVpZ2h0OiBTQ1JPTExCQVJfU0laRV9CVUZGRVJcbiAgICAgICAgICB9KVxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBjZWxsUmVuZGVyZXIoX29iamVjdFNwcmVhZCh7fSwgcmVzdCwge1xuICAgICAgICAgIHBhcmVudDogX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksXG4gICAgICAgICAgcm93SW5kZXg6IHJvd0luZGV4ICsgZml4ZWRSb3dDb3VudFxuICAgICAgICB9KSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwiX2NlbGxSZW5kZXJlckJvdHRvbVJpZ2h0R3JpZFwiLCBmdW5jdGlvbiAoX3JlZjIpIHtcbiAgICAgIHZhciBjb2x1bW5JbmRleCA9IF9yZWYyLmNvbHVtbkluZGV4LFxuICAgICAgICAgIHJvd0luZGV4ID0gX3JlZjIucm93SW5kZXgsXG4gICAgICAgICAgcmVzdCA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllcyhfcmVmMiwgW1wiY29sdW1uSW5kZXhcIiwgXCJyb3dJbmRleFwiXSk7XG5cbiAgICAgIHZhciBfdGhpcyRwcm9wczIgPSBfdGhpcy5wcm9wcyxcbiAgICAgICAgICBjZWxsUmVuZGVyZXIgPSBfdGhpcyRwcm9wczIuY2VsbFJlbmRlcmVyLFxuICAgICAgICAgIGZpeGVkQ29sdW1uQ291bnQgPSBfdGhpcyRwcm9wczIuZml4ZWRDb2x1bW5Db3VudCxcbiAgICAgICAgICBmaXhlZFJvd0NvdW50ID0gX3RoaXMkcHJvcHMyLmZpeGVkUm93Q291bnQ7XG4gICAgICByZXR1cm4gY2VsbFJlbmRlcmVyKF9vYmplY3RTcHJlYWQoe30sIHJlc3QsIHtcbiAgICAgICAgY29sdW1uSW5kZXg6IGNvbHVtbkluZGV4ICsgZml4ZWRDb2x1bW5Db3VudCxcbiAgICAgICAgcGFyZW50OiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSxcbiAgICAgICAgcm93SW5kZXg6IHJvd0luZGV4ICsgZml4ZWRSb3dDb3VudFxuICAgICAgfSkpO1xuICAgIH0pO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcIl9jZWxsUmVuZGVyZXJUb3BSaWdodEdyaWRcIiwgZnVuY3Rpb24gKF9yZWYzKSB7XG4gICAgICB2YXIgY29sdW1uSW5kZXggPSBfcmVmMy5jb2x1bW5JbmRleCxcbiAgICAgICAgICByZXN0ID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKF9yZWYzLCBbXCJjb2x1bW5JbmRleFwiXSk7XG5cbiAgICAgIHZhciBfdGhpcyRwcm9wczMgPSBfdGhpcy5wcm9wcyxcbiAgICAgICAgICBjZWxsUmVuZGVyZXIgPSBfdGhpcyRwcm9wczMuY2VsbFJlbmRlcmVyLFxuICAgICAgICAgIGNvbHVtbkNvdW50ID0gX3RoaXMkcHJvcHMzLmNvbHVtbkNvdW50LFxuICAgICAgICAgIGZpeGVkQ29sdW1uQ291bnQgPSBfdGhpcyRwcm9wczMuZml4ZWRDb2x1bW5Db3VudDtcblxuICAgICAgaWYgKGNvbHVtbkluZGV4ID09PSBjb2x1bW5Db3VudCAtIGZpeGVkQ29sdW1uQ291bnQpIHtcbiAgICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgICAgIGtleTogcmVzdC5rZXksXG4gICAgICAgICAgc3R5bGU6IF9vYmplY3RTcHJlYWQoe30sIHJlc3Quc3R5bGUsIHtcbiAgICAgICAgICAgIHdpZHRoOiBTQ1JPTExCQVJfU0laRV9CVUZGRVJcbiAgICAgICAgICB9KVxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBjZWxsUmVuZGVyZXIoX29iamVjdFNwcmVhZCh7fSwgcmVzdCwge1xuICAgICAgICAgIGNvbHVtbkluZGV4OiBjb2x1bW5JbmRleCArIGZpeGVkQ29sdW1uQ291bnQsXG4gICAgICAgICAgcGFyZW50OiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKVxuICAgICAgICB9KSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwiX2NvbHVtbldpZHRoUmlnaHRHcmlkXCIsIGZ1bmN0aW9uIChfcmVmNCkge1xuICAgICAgdmFyIGluZGV4ID0gX3JlZjQuaW5kZXg7XG4gICAgICB2YXIgX3RoaXMkcHJvcHM0ID0gX3RoaXMucHJvcHMsXG4gICAgICAgICAgY29sdW1uQ291bnQgPSBfdGhpcyRwcm9wczQuY29sdW1uQ291bnQsXG4gICAgICAgICAgZml4ZWRDb2x1bW5Db3VudCA9IF90aGlzJHByb3BzNC5maXhlZENvbHVtbkNvdW50LFxuICAgICAgICAgIGNvbHVtbldpZHRoID0gX3RoaXMkcHJvcHM0LmNvbHVtbldpZHRoO1xuICAgICAgdmFyIF90aGlzJHN0YXRlID0gX3RoaXMuc3RhdGUsXG4gICAgICAgICAgc2Nyb2xsYmFyU2l6ZSA9IF90aGlzJHN0YXRlLnNjcm9sbGJhclNpemUsXG4gICAgICAgICAgc2hvd0hvcml6b250YWxTY3JvbGxiYXIgPSBfdGhpcyRzdGF0ZS5zaG93SG9yaXpvbnRhbFNjcm9sbGJhcjsgLy8gQW4gZXh0cmEgY2VsbCBpcyBhZGRlZCB0byB0aGUgY291bnRcbiAgICAgIC8vIFRoaXMgZ2l2ZXMgdGhlIHNtYWxsZXIgR3JpZCBleHRyYSByb29tIGZvciBvZmZzZXQsXG4gICAgICAvLyBJbiBjYXNlIHRoZSBtYWluIChib3R0b20gcmlnaHQpIEdyaWQgaGFzIGEgc2Nyb2xsYmFyXG4gICAgICAvLyBJZiBubyBzY3JvbGxiYXIsIHRoZSBleHRyYSBzcGFjZSBpcyBvdmVyZmxvdzpoaWRkZW4gYW55d2F5XG5cbiAgICAgIGlmIChzaG93SG9yaXpvbnRhbFNjcm9sbGJhciAmJiBpbmRleCA9PT0gY29sdW1uQ291bnQgLSBmaXhlZENvbHVtbkNvdW50KSB7XG4gICAgICAgIHJldHVybiBzY3JvbGxiYXJTaXplO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdHlwZW9mIGNvbHVtbldpZHRoID09PSAnZnVuY3Rpb24nID8gY29sdW1uV2lkdGgoe1xuICAgICAgICBpbmRleDogaW5kZXggKyBmaXhlZENvbHVtbkNvdW50XG4gICAgICB9KSA6IGNvbHVtbldpZHRoO1xuICAgIH0pO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcIl9vblNjcm9sbFwiLCBmdW5jdGlvbiAoc2Nyb2xsSW5mbykge1xuICAgICAgdmFyIHNjcm9sbExlZnQgPSBzY3JvbGxJbmZvLnNjcm9sbExlZnQsXG4gICAgICAgICAgc2Nyb2xsVG9wID0gc2Nyb2xsSW5mby5zY3JvbGxUb3A7XG5cbiAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgc2Nyb2xsTGVmdDogc2Nyb2xsTGVmdCxcbiAgICAgICAgc2Nyb2xsVG9wOiBzY3JvbGxUb3BcbiAgICAgIH0pO1xuXG4gICAgICB2YXIgb25TY3JvbGwgPSBfdGhpcy5wcm9wcy5vblNjcm9sbDtcblxuICAgICAgaWYgKG9uU2Nyb2xsKSB7XG4gICAgICAgIG9uU2Nyb2xsKHNjcm9sbEluZm8pO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcIl9vblNjcm9sbGJhclByZXNlbmNlQ2hhbmdlXCIsIGZ1bmN0aW9uIChfcmVmNSkge1xuICAgICAgdmFyIGhvcml6b250YWwgPSBfcmVmNS5ob3Jpem9udGFsLFxuICAgICAgICAgIHNpemUgPSBfcmVmNS5zaXplLFxuICAgICAgICAgIHZlcnRpY2FsID0gX3JlZjUudmVydGljYWw7XG4gICAgICB2YXIgX3RoaXMkc3RhdGUyID0gX3RoaXMuc3RhdGUsXG4gICAgICAgICAgc2hvd0hvcml6b250YWxTY3JvbGxiYXIgPSBfdGhpcyRzdGF0ZTIuc2hvd0hvcml6b250YWxTY3JvbGxiYXIsXG4gICAgICAgICAgc2hvd1ZlcnRpY2FsU2Nyb2xsYmFyID0gX3RoaXMkc3RhdGUyLnNob3dWZXJ0aWNhbFNjcm9sbGJhcjtcblxuICAgICAgaWYgKGhvcml6b250YWwgIT09IHNob3dIb3Jpem9udGFsU2Nyb2xsYmFyIHx8IHZlcnRpY2FsICE9PSBzaG93VmVydGljYWxTY3JvbGxiYXIpIHtcbiAgICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIHNjcm9sbGJhclNpemU6IHNpemUsXG4gICAgICAgICAgc2hvd0hvcml6b250YWxTY3JvbGxiYXI6IGhvcml6b250YWwsXG4gICAgICAgICAgc2hvd1ZlcnRpY2FsU2Nyb2xsYmFyOiB2ZXJ0aWNhbFxuICAgICAgICB9KTtcblxuICAgICAgICB2YXIgb25TY3JvbGxiYXJQcmVzZW5jZUNoYW5nZSA9IF90aGlzLnByb3BzLm9uU2Nyb2xsYmFyUHJlc2VuY2VDaGFuZ2U7XG5cbiAgICAgICAgaWYgKHR5cGVvZiBvblNjcm9sbGJhclByZXNlbmNlQ2hhbmdlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgb25TY3JvbGxiYXJQcmVzZW5jZUNoYW5nZSh7XG4gICAgICAgICAgICBob3Jpem9udGFsOiBob3Jpem9udGFsLFxuICAgICAgICAgICAgc2l6ZTogc2l6ZSxcbiAgICAgICAgICAgIHZlcnRpY2FsOiB2ZXJ0aWNhbFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwiX29uU2Nyb2xsTGVmdFwiLCBmdW5jdGlvbiAoc2Nyb2xsSW5mbykge1xuICAgICAgdmFyIHNjcm9sbExlZnQgPSBzY3JvbGxJbmZvLnNjcm9sbExlZnQ7XG5cbiAgICAgIF90aGlzLl9vblNjcm9sbCh7XG4gICAgICAgIHNjcm9sbExlZnQ6IHNjcm9sbExlZnQsXG4gICAgICAgIHNjcm9sbFRvcDogX3RoaXMuc3RhdGUuc2Nyb2xsVG9wXG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJfb25TY3JvbGxUb3BcIiwgZnVuY3Rpb24gKHNjcm9sbEluZm8pIHtcbiAgICAgIHZhciBzY3JvbGxUb3AgPSBzY3JvbGxJbmZvLnNjcm9sbFRvcDtcblxuICAgICAgX3RoaXMuX29uU2Nyb2xsKHtcbiAgICAgICAgc2Nyb2xsVG9wOiBzY3JvbGxUb3AsXG4gICAgICAgIHNjcm9sbExlZnQ6IF90aGlzLnN0YXRlLnNjcm9sbExlZnRcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcIl9yb3dIZWlnaHRCb3R0b21HcmlkXCIsIGZ1bmN0aW9uIChfcmVmNikge1xuICAgICAgdmFyIGluZGV4ID0gX3JlZjYuaW5kZXg7XG4gICAgICB2YXIgX3RoaXMkcHJvcHM1ID0gX3RoaXMucHJvcHMsXG4gICAgICAgICAgZml4ZWRSb3dDb3VudCA9IF90aGlzJHByb3BzNS5maXhlZFJvd0NvdW50LFxuICAgICAgICAgIHJvd0NvdW50ID0gX3RoaXMkcHJvcHM1LnJvd0NvdW50LFxuICAgICAgICAgIHJvd0hlaWdodCA9IF90aGlzJHByb3BzNS5yb3dIZWlnaHQ7XG4gICAgICB2YXIgX3RoaXMkc3RhdGUzID0gX3RoaXMuc3RhdGUsXG4gICAgICAgICAgc2Nyb2xsYmFyU2l6ZSA9IF90aGlzJHN0YXRlMy5zY3JvbGxiYXJTaXplLFxuICAgICAgICAgIHNob3dWZXJ0aWNhbFNjcm9sbGJhciA9IF90aGlzJHN0YXRlMy5zaG93VmVydGljYWxTY3JvbGxiYXI7IC8vIEFuIGV4dHJhIGNlbGwgaXMgYWRkZWQgdG8gdGhlIGNvdW50XG4gICAgICAvLyBUaGlzIGdpdmVzIHRoZSBzbWFsbGVyIEdyaWQgZXh0cmEgcm9vbSBmb3Igb2Zmc2V0LFxuICAgICAgLy8gSW4gY2FzZSB0aGUgbWFpbiAoYm90dG9tIHJpZ2h0KSBHcmlkIGhhcyBhIHNjcm9sbGJhclxuICAgICAgLy8gSWYgbm8gc2Nyb2xsYmFyLCB0aGUgZXh0cmEgc3BhY2UgaXMgb3ZlcmZsb3c6aGlkZGVuIGFueXdheVxuXG4gICAgICBpZiAoc2hvd1ZlcnRpY2FsU2Nyb2xsYmFyICYmIGluZGV4ID09PSByb3dDb3VudCAtIGZpeGVkUm93Q291bnQpIHtcbiAgICAgICAgcmV0dXJuIHNjcm9sbGJhclNpemU7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0eXBlb2Ygcm93SGVpZ2h0ID09PSAnZnVuY3Rpb24nID8gcm93SGVpZ2h0KHtcbiAgICAgICAgaW5kZXg6IGluZGV4ICsgZml4ZWRSb3dDb3VudFxuICAgICAgfSkgOiByb3dIZWlnaHQ7XG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwiX3RvcExlZnRHcmlkUmVmXCIsIGZ1bmN0aW9uIChyZWYpIHtcbiAgICAgIF90aGlzLl90b3BMZWZ0R3JpZCA9IHJlZjtcbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJfdG9wUmlnaHRHcmlkUmVmXCIsIGZ1bmN0aW9uIChyZWYpIHtcbiAgICAgIF90aGlzLl90b3BSaWdodEdyaWQgPSByZWY7XG4gICAgfSk7XG5cbiAgICB2YXIgZGVmZXJyZWRNZWFzdXJlbWVudENhY2hlID0gcHJvcHMuZGVmZXJyZWRNZWFzdXJlbWVudENhY2hlLFxuICAgICAgICBfZml4ZWRDb2x1bW5Db3VudCA9IHByb3BzLmZpeGVkQ29sdW1uQ291bnQsXG4gICAgICAgIF9maXhlZFJvd0NvdW50ID0gcHJvcHMuZml4ZWRSb3dDb3VudDtcblxuICAgIF90aGlzLl9tYXliZUNhbGN1bGF0ZUNhY2hlZFN0eWxlcyh0cnVlKTtcblxuICAgIGlmIChkZWZlcnJlZE1lYXN1cmVtZW50Q2FjaGUpIHtcbiAgICAgIF90aGlzLl9kZWZlcnJlZE1lYXN1cmVtZW50Q2FjaGVCb3R0b21MZWZ0R3JpZCA9IF9maXhlZFJvd0NvdW50ID4gMCA/IG5ldyBDZWxsTWVhc3VyZXJDYWNoZURlY29yYXRvcih7XG4gICAgICAgIGNlbGxNZWFzdXJlckNhY2hlOiBkZWZlcnJlZE1lYXN1cmVtZW50Q2FjaGUsXG4gICAgICAgIGNvbHVtbkluZGV4T2Zmc2V0OiAwLFxuICAgICAgICByb3dJbmRleE9mZnNldDogX2ZpeGVkUm93Q291bnRcbiAgICAgIH0pIDogZGVmZXJyZWRNZWFzdXJlbWVudENhY2hlO1xuICAgICAgX3RoaXMuX2RlZmVycmVkTWVhc3VyZW1lbnRDYWNoZUJvdHRvbVJpZ2h0R3JpZCA9IF9maXhlZENvbHVtbkNvdW50ID4gMCB8fCBfZml4ZWRSb3dDb3VudCA+IDAgPyBuZXcgQ2VsbE1lYXN1cmVyQ2FjaGVEZWNvcmF0b3Ioe1xuICAgICAgICBjZWxsTWVhc3VyZXJDYWNoZTogZGVmZXJyZWRNZWFzdXJlbWVudENhY2hlLFxuICAgICAgICBjb2x1bW5JbmRleE9mZnNldDogX2ZpeGVkQ29sdW1uQ291bnQsXG4gICAgICAgIHJvd0luZGV4T2Zmc2V0OiBfZml4ZWRSb3dDb3VudFxuICAgICAgfSkgOiBkZWZlcnJlZE1lYXN1cmVtZW50Q2FjaGU7XG4gICAgICBfdGhpcy5fZGVmZXJyZWRNZWFzdXJlbWVudENhY2hlVG9wUmlnaHRHcmlkID0gX2ZpeGVkQ29sdW1uQ291bnQgPiAwID8gbmV3IENlbGxNZWFzdXJlckNhY2hlRGVjb3JhdG9yKHtcbiAgICAgICAgY2VsbE1lYXN1cmVyQ2FjaGU6IGRlZmVycmVkTWVhc3VyZW1lbnRDYWNoZSxcbiAgICAgICAgY29sdW1uSW5kZXhPZmZzZXQ6IF9maXhlZENvbHVtbkNvdW50LFxuICAgICAgICByb3dJbmRleE9mZnNldDogMFxuICAgICAgfSkgOiBkZWZlcnJlZE1lYXN1cmVtZW50Q2FjaGU7XG4gICAgfVxuXG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKE11bHRpR3JpZCwgW3tcbiAgICBrZXk6IFwiZm9yY2VVcGRhdGVHcmlkc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBmb3JjZVVwZGF0ZUdyaWRzKCkge1xuICAgICAgdGhpcy5fYm90dG9tTGVmdEdyaWQgJiYgdGhpcy5fYm90dG9tTGVmdEdyaWQuZm9yY2VVcGRhdGUoKTtcbiAgICAgIHRoaXMuX2JvdHRvbVJpZ2h0R3JpZCAmJiB0aGlzLl9ib3R0b21SaWdodEdyaWQuZm9yY2VVcGRhdGUoKTtcbiAgICAgIHRoaXMuX3RvcExlZnRHcmlkICYmIHRoaXMuX3RvcExlZnRHcmlkLmZvcmNlVXBkYXRlKCk7XG4gICAgICB0aGlzLl90b3BSaWdodEdyaWQgJiYgdGhpcy5fdG9wUmlnaHRHcmlkLmZvcmNlVXBkYXRlKCk7XG4gICAgfVxuICAgIC8qKiBTZWUgR3JpZCNpbnZhbGlkYXRlQ2VsbFNpemVBZnRlclJlbmRlciAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiaW52YWxpZGF0ZUNlbGxTaXplQWZ0ZXJSZW5kZXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gaW52YWxpZGF0ZUNlbGxTaXplQWZ0ZXJSZW5kZXIoKSB7XG4gICAgICB2YXIgX3JlZjcgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9LFxuICAgICAgICAgIF9yZWY3JGNvbHVtbkluZGV4ID0gX3JlZjcuY29sdW1uSW5kZXgsXG4gICAgICAgICAgY29sdW1uSW5kZXggPSBfcmVmNyRjb2x1bW5JbmRleCA9PT0gdm9pZCAwID8gMCA6IF9yZWY3JGNvbHVtbkluZGV4LFxuICAgICAgICAgIF9yZWY3JHJvd0luZGV4ID0gX3JlZjcucm93SW5kZXgsXG4gICAgICAgICAgcm93SW5kZXggPSBfcmVmNyRyb3dJbmRleCA9PT0gdm9pZCAwID8gMCA6IF9yZWY3JHJvd0luZGV4O1xuXG4gICAgICB0aGlzLl9kZWZlcnJlZEludmFsaWRhdGVDb2x1bW5JbmRleCA9IHR5cGVvZiB0aGlzLl9kZWZlcnJlZEludmFsaWRhdGVDb2x1bW5JbmRleCA9PT0gJ251bWJlcicgPyBNYXRoLm1pbih0aGlzLl9kZWZlcnJlZEludmFsaWRhdGVDb2x1bW5JbmRleCwgY29sdW1uSW5kZXgpIDogY29sdW1uSW5kZXg7XG4gICAgICB0aGlzLl9kZWZlcnJlZEludmFsaWRhdGVSb3dJbmRleCA9IHR5cGVvZiB0aGlzLl9kZWZlcnJlZEludmFsaWRhdGVSb3dJbmRleCA9PT0gJ251bWJlcicgPyBNYXRoLm1pbih0aGlzLl9kZWZlcnJlZEludmFsaWRhdGVSb3dJbmRleCwgcm93SW5kZXgpIDogcm93SW5kZXg7XG4gICAgfVxuICAgIC8qKiBTZWUgR3JpZCNtZWFzdXJlQWxsQ2VsbHMgKi9cblxuICB9LCB7XG4gICAga2V5OiBcIm1lYXN1cmVBbGxDZWxsc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBtZWFzdXJlQWxsQ2VsbHMoKSB7XG4gICAgICB0aGlzLl9ib3R0b21MZWZ0R3JpZCAmJiB0aGlzLl9ib3R0b21MZWZ0R3JpZC5tZWFzdXJlQWxsQ2VsbHMoKTtcbiAgICAgIHRoaXMuX2JvdHRvbVJpZ2h0R3JpZCAmJiB0aGlzLl9ib3R0b21SaWdodEdyaWQubWVhc3VyZUFsbENlbGxzKCk7XG4gICAgICB0aGlzLl90b3BMZWZ0R3JpZCAmJiB0aGlzLl90b3BMZWZ0R3JpZC5tZWFzdXJlQWxsQ2VsbHMoKTtcbiAgICAgIHRoaXMuX3RvcFJpZ2h0R3JpZCAmJiB0aGlzLl90b3BSaWdodEdyaWQubWVhc3VyZUFsbENlbGxzKCk7XG4gICAgfVxuICAgIC8qKiBTZWUgR3JpZCNyZWNvbXB1dGVHcmlkU2l6ZSAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwicmVjb21wdXRlR3JpZFNpemVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVjb21wdXRlR3JpZFNpemUoKSB7XG4gICAgICB2YXIgX3JlZjggPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9LFxuICAgICAgICAgIF9yZWY4JGNvbHVtbkluZGV4ID0gX3JlZjguY29sdW1uSW5kZXgsXG4gICAgICAgICAgY29sdW1uSW5kZXggPSBfcmVmOCRjb2x1bW5JbmRleCA9PT0gdm9pZCAwID8gMCA6IF9yZWY4JGNvbHVtbkluZGV4LFxuICAgICAgICAgIF9yZWY4JHJvd0luZGV4ID0gX3JlZjgucm93SW5kZXgsXG4gICAgICAgICAgcm93SW5kZXggPSBfcmVmOCRyb3dJbmRleCA9PT0gdm9pZCAwID8gMCA6IF9yZWY4JHJvd0luZGV4O1xuXG4gICAgICB2YXIgX3RoaXMkcHJvcHM2ID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICBmaXhlZENvbHVtbkNvdW50ID0gX3RoaXMkcHJvcHM2LmZpeGVkQ29sdW1uQ291bnQsXG4gICAgICAgICAgZml4ZWRSb3dDb3VudCA9IF90aGlzJHByb3BzNi5maXhlZFJvd0NvdW50O1xuICAgICAgdmFyIGFkanVzdGVkQ29sdW1uSW5kZXggPSBNYXRoLm1heCgwLCBjb2x1bW5JbmRleCAtIGZpeGVkQ29sdW1uQ291bnQpO1xuICAgICAgdmFyIGFkanVzdGVkUm93SW5kZXggPSBNYXRoLm1heCgwLCByb3dJbmRleCAtIGZpeGVkUm93Q291bnQpO1xuICAgICAgdGhpcy5fYm90dG9tTGVmdEdyaWQgJiYgdGhpcy5fYm90dG9tTGVmdEdyaWQucmVjb21wdXRlR3JpZFNpemUoe1xuICAgICAgICBjb2x1bW5JbmRleDogY29sdW1uSW5kZXgsXG4gICAgICAgIHJvd0luZGV4OiBhZGp1c3RlZFJvd0luZGV4XG4gICAgICB9KTtcbiAgICAgIHRoaXMuX2JvdHRvbVJpZ2h0R3JpZCAmJiB0aGlzLl9ib3R0b21SaWdodEdyaWQucmVjb21wdXRlR3JpZFNpemUoe1xuICAgICAgICBjb2x1bW5JbmRleDogYWRqdXN0ZWRDb2x1bW5JbmRleCxcbiAgICAgICAgcm93SW5kZXg6IGFkanVzdGVkUm93SW5kZXhcbiAgICAgIH0pO1xuICAgICAgdGhpcy5fdG9wTGVmdEdyaWQgJiYgdGhpcy5fdG9wTGVmdEdyaWQucmVjb21wdXRlR3JpZFNpemUoe1xuICAgICAgICBjb2x1bW5JbmRleDogY29sdW1uSW5kZXgsXG4gICAgICAgIHJvd0luZGV4OiByb3dJbmRleFxuICAgICAgfSk7XG4gICAgICB0aGlzLl90b3BSaWdodEdyaWQgJiYgdGhpcy5fdG9wUmlnaHRHcmlkLnJlY29tcHV0ZUdyaWRTaXplKHtcbiAgICAgICAgY29sdW1uSW5kZXg6IGFkanVzdGVkQ29sdW1uSW5kZXgsXG4gICAgICAgIHJvd0luZGV4OiByb3dJbmRleFxuICAgICAgfSk7XG4gICAgICB0aGlzLl9sZWZ0R3JpZFdpZHRoID0gbnVsbDtcbiAgICAgIHRoaXMuX3RvcEdyaWRIZWlnaHQgPSBudWxsO1xuXG4gICAgICB0aGlzLl9tYXliZUNhbGN1bGF0ZUNhY2hlZFN0eWxlcyh0cnVlKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiY29tcG9uZW50RGlkTW91bnRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgICB2YXIgX3RoaXMkcHJvcHM3ID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICBzY3JvbGxMZWZ0ID0gX3RoaXMkcHJvcHM3LnNjcm9sbExlZnQsXG4gICAgICAgICAgc2Nyb2xsVG9wID0gX3RoaXMkcHJvcHM3LnNjcm9sbFRvcDtcblxuICAgICAgaWYgKHNjcm9sbExlZnQgPiAwIHx8IHNjcm9sbFRvcCA+IDApIHtcbiAgICAgICAgdmFyIG5ld1N0YXRlID0ge307XG5cbiAgICAgICAgaWYgKHNjcm9sbExlZnQgPiAwKSB7XG4gICAgICAgICAgbmV3U3RhdGUuc2Nyb2xsTGVmdCA9IHNjcm9sbExlZnQ7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc2Nyb2xsVG9wID4gMCkge1xuICAgICAgICAgIG5ld1N0YXRlLnNjcm9sbFRvcCA9IHNjcm9sbFRvcDtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuc2V0U3RhdGUobmV3U3RhdGUpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLl9oYW5kbGVJbnZhbGlkYXRlZEdyaWRTaXplKCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImNvbXBvbmVudERpZFVwZGF0ZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnREaWRVcGRhdGUoKSB7XG4gICAgICB0aGlzLl9oYW5kbGVJbnZhbGlkYXRlZEdyaWRTaXplKCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInJlbmRlclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICB2YXIgX3RoaXMkcHJvcHM4ID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICBvblNjcm9sbCA9IF90aGlzJHByb3BzOC5vblNjcm9sbCxcbiAgICAgICAgICBvblNlY3Rpb25SZW5kZXJlZCA9IF90aGlzJHByb3BzOC5vblNlY3Rpb25SZW5kZXJlZCxcbiAgICAgICAgICBvblNjcm9sbGJhclByZXNlbmNlQ2hhbmdlID0gX3RoaXMkcHJvcHM4Lm9uU2Nyb2xsYmFyUHJlc2VuY2VDaGFuZ2UsXG4gICAgICAgICAgc2Nyb2xsTGVmdFByb3AgPSBfdGhpcyRwcm9wczguc2Nyb2xsTGVmdCxcbiAgICAgICAgICBzY3JvbGxUb0NvbHVtbiA9IF90aGlzJHByb3BzOC5zY3JvbGxUb0NvbHVtbixcbiAgICAgICAgICBzY3JvbGxUb3BQcm9wID0gX3RoaXMkcHJvcHM4LnNjcm9sbFRvcCxcbiAgICAgICAgICBzY3JvbGxUb1JvdyA9IF90aGlzJHByb3BzOC5zY3JvbGxUb1JvdyxcbiAgICAgICAgICByZXN0ID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKF90aGlzJHByb3BzOCwgW1wib25TY3JvbGxcIiwgXCJvblNlY3Rpb25SZW5kZXJlZFwiLCBcIm9uU2Nyb2xsYmFyUHJlc2VuY2VDaGFuZ2VcIiwgXCJzY3JvbGxMZWZ0XCIsIFwic2Nyb2xsVG9Db2x1bW5cIiwgXCJzY3JvbGxUb3BcIiwgXCJzY3JvbGxUb1Jvd1wiXSk7XG5cbiAgICAgIHRoaXMuX3ByZXBhcmVGb3JSZW5kZXIoKTsgLy8gRG9uJ3QgcmVuZGVyIGFueSBvZiBvdXIgR3JpZHMgaWYgdGhlcmUgYXJlIG5vIGNlbGxzLlxuICAgICAgLy8gVGhpcyBtaXJyb3JzIHdoYXQgR3JpZCBkb2VzLFxuICAgICAgLy8gQW5kIHByZXZlbnRzIHVzIGZyb20gcmVjb3JkaW5nIGluYWNjdXJhZ2UgbWVhc3VyZW1lbnRzIHdoZW4gdXNlZCB3aXRoIENlbGxNZWFzdXJlci5cblxuXG4gICAgICBpZiAodGhpcy5wcm9wcy53aWR0aCA9PT0gMCB8fCB0aGlzLnByb3BzLmhlaWdodCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH0gLy8gc2Nyb2xsVG9wIGFuZCBzY3JvbGxMZWZ0IHByb3BzIGFyZSBleHBsaWNpdGx5IGZpbHRlcmVkIG91dCBhbmQgaWdub3JlZFxuXG5cbiAgICAgIHZhciBfdGhpcyRzdGF0ZTQgPSB0aGlzLnN0YXRlLFxuICAgICAgICAgIHNjcm9sbExlZnQgPSBfdGhpcyRzdGF0ZTQuc2Nyb2xsTGVmdCxcbiAgICAgICAgICBzY3JvbGxUb3AgPSBfdGhpcyRzdGF0ZTQuc2Nyb2xsVG9wO1xuICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgICBzdHlsZTogdGhpcy5fY29udGFpbmVyT3V0ZXJTdHlsZVxuICAgICAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICAgIHN0eWxlOiB0aGlzLl9jb250YWluZXJUb3BTdHlsZVxuICAgICAgfSwgdGhpcy5fcmVuZGVyVG9wTGVmdEdyaWQocmVzdCksIHRoaXMuX3JlbmRlclRvcFJpZ2h0R3JpZChfb2JqZWN0U3ByZWFkKHt9LCByZXN0LCB7XG4gICAgICAgIG9uU2Nyb2xsOiBvblNjcm9sbCxcbiAgICAgICAgc2Nyb2xsTGVmdDogc2Nyb2xsTGVmdFxuICAgICAgfSkpKSwgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICAgIHN0eWxlOiB0aGlzLl9jb250YWluZXJCb3R0b21TdHlsZVxuICAgICAgfSwgdGhpcy5fcmVuZGVyQm90dG9tTGVmdEdyaWQoX29iamVjdFNwcmVhZCh7fSwgcmVzdCwge1xuICAgICAgICBvblNjcm9sbDogb25TY3JvbGwsXG4gICAgICAgIHNjcm9sbFRvcDogc2Nyb2xsVG9wXG4gICAgICB9KSksIHRoaXMuX3JlbmRlckJvdHRvbVJpZ2h0R3JpZChfb2JqZWN0U3ByZWFkKHt9LCByZXN0LCB7XG4gICAgICAgIG9uU2Nyb2xsOiBvblNjcm9sbCxcbiAgICAgICAgb25TZWN0aW9uUmVuZGVyZWQ6IG9uU2VjdGlvblJlbmRlcmVkLFxuICAgICAgICBzY3JvbGxMZWZ0OiBzY3JvbGxMZWZ0LFxuICAgICAgICBzY3JvbGxUb0NvbHVtbjogc2Nyb2xsVG9Db2x1bW4sXG4gICAgICAgIHNjcm9sbFRvUm93OiBzY3JvbGxUb1JvdyxcbiAgICAgICAgc2Nyb2xsVG9wOiBzY3JvbGxUb3BcbiAgICAgIH0pKSkpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJfZ2V0Qm90dG9tR3JpZEhlaWdodFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfZ2V0Qm90dG9tR3JpZEhlaWdodChwcm9wcykge1xuICAgICAgdmFyIGhlaWdodCA9IHByb3BzLmhlaWdodDtcblxuICAgICAgdmFyIHRvcEdyaWRIZWlnaHQgPSB0aGlzLl9nZXRUb3BHcmlkSGVpZ2h0KHByb3BzKTtcblxuICAgICAgcmV0dXJuIGhlaWdodCAtIHRvcEdyaWRIZWlnaHQ7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIl9nZXRMZWZ0R3JpZFdpZHRoXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9nZXRMZWZ0R3JpZFdpZHRoKHByb3BzKSB7XG4gICAgICB2YXIgZml4ZWRDb2x1bW5Db3VudCA9IHByb3BzLmZpeGVkQ29sdW1uQ291bnQsXG4gICAgICAgICAgY29sdW1uV2lkdGggPSBwcm9wcy5jb2x1bW5XaWR0aDtcblxuICAgICAgaWYgKHRoaXMuX2xlZnRHcmlkV2lkdGggPT0gbnVsbCkge1xuICAgICAgICBpZiAodHlwZW9mIGNvbHVtbldpZHRoID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgdmFyIGxlZnRHcmlkV2lkdGggPSAwO1xuXG4gICAgICAgICAgZm9yICh2YXIgaW5kZXggPSAwOyBpbmRleCA8IGZpeGVkQ29sdW1uQ291bnQ7IGluZGV4KyspIHtcbiAgICAgICAgICAgIGxlZnRHcmlkV2lkdGggKz0gY29sdW1uV2lkdGgoe1xuICAgICAgICAgICAgICBpbmRleDogaW5kZXhcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHRoaXMuX2xlZnRHcmlkV2lkdGggPSBsZWZ0R3JpZFdpZHRoO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuX2xlZnRHcmlkV2lkdGggPSBjb2x1bW5XaWR0aCAqIGZpeGVkQ29sdW1uQ291bnQ7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXMuX2xlZnRHcmlkV2lkdGg7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIl9nZXRSaWdodEdyaWRXaWR0aFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfZ2V0UmlnaHRHcmlkV2lkdGgocHJvcHMpIHtcbiAgICAgIHZhciB3aWR0aCA9IHByb3BzLndpZHRoO1xuXG4gICAgICB2YXIgbGVmdEdyaWRXaWR0aCA9IHRoaXMuX2dldExlZnRHcmlkV2lkdGgocHJvcHMpO1xuXG4gICAgICByZXR1cm4gd2lkdGggLSBsZWZ0R3JpZFdpZHRoO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJfZ2V0VG9wR3JpZEhlaWdodFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfZ2V0VG9wR3JpZEhlaWdodChwcm9wcykge1xuICAgICAgdmFyIGZpeGVkUm93Q291bnQgPSBwcm9wcy5maXhlZFJvd0NvdW50LFxuICAgICAgICAgIHJvd0hlaWdodCA9IHByb3BzLnJvd0hlaWdodDtcblxuICAgICAgaWYgKHRoaXMuX3RvcEdyaWRIZWlnaHQgPT0gbnVsbCkge1xuICAgICAgICBpZiAodHlwZW9mIHJvd0hlaWdodCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIHZhciB0b3BHcmlkSGVpZ2h0ID0gMDtcblxuICAgICAgICAgIGZvciAodmFyIGluZGV4ID0gMDsgaW5kZXggPCBmaXhlZFJvd0NvdW50OyBpbmRleCsrKSB7XG4gICAgICAgICAgICB0b3BHcmlkSGVpZ2h0ICs9IHJvd0hlaWdodCh7XG4gICAgICAgICAgICAgIGluZGV4OiBpbmRleFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdGhpcy5fdG9wR3JpZEhlaWdodCA9IHRvcEdyaWRIZWlnaHQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5fdG9wR3JpZEhlaWdodCA9IHJvd0hlaWdodCAqIGZpeGVkUm93Q291bnQ7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXMuX3RvcEdyaWRIZWlnaHQ7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIl9oYW5kbGVJbnZhbGlkYXRlZEdyaWRTaXplXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9oYW5kbGVJbnZhbGlkYXRlZEdyaWRTaXplKCkge1xuICAgICAgaWYgKHR5cGVvZiB0aGlzLl9kZWZlcnJlZEludmFsaWRhdGVDb2x1bW5JbmRleCA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgdmFyIGNvbHVtbkluZGV4ID0gdGhpcy5fZGVmZXJyZWRJbnZhbGlkYXRlQ29sdW1uSW5kZXg7XG4gICAgICAgIHZhciByb3dJbmRleCA9IHRoaXMuX2RlZmVycmVkSW52YWxpZGF0ZVJvd0luZGV4O1xuICAgICAgICB0aGlzLl9kZWZlcnJlZEludmFsaWRhdGVDb2x1bW5JbmRleCA9IG51bGw7XG4gICAgICAgIHRoaXMuX2RlZmVycmVkSW52YWxpZGF0ZVJvd0luZGV4ID0gbnVsbDtcbiAgICAgICAgdGhpcy5yZWNvbXB1dGVHcmlkU2l6ZSh7XG4gICAgICAgICAgY29sdW1uSW5kZXg6IGNvbHVtbkluZGV4LFxuICAgICAgICAgIHJvd0luZGV4OiByb3dJbmRleFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5mb3JjZVVwZGF0ZSgpO1xuICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBBdm9pZCByZWNyZWF0aW5nIGlubGluZSBzdHlsZXMgZWFjaCByZW5kZXI7IHRoaXMgYnlwYXNzZXMgR3JpZCdzIHNoYWxsb3dDb21wYXJlLlxuICAgICAqIFRoaXMgbWV0aG9kIHJlY2FsY3VsYXRlcyBzdHlsZXMgb25seSB3aGVuIHNwZWNpZmljIHByb3BzIGNoYW5nZS5cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcIl9tYXliZUNhbGN1bGF0ZUNhY2hlZFN0eWxlc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfbWF5YmVDYWxjdWxhdGVDYWNoZWRTdHlsZXMocmVzZXRBbGwpIHtcbiAgICAgIHZhciBfdGhpcyRwcm9wczkgPSB0aGlzLnByb3BzLFxuICAgICAgICAgIGNvbHVtbldpZHRoID0gX3RoaXMkcHJvcHM5LmNvbHVtbldpZHRoLFxuICAgICAgICAgIGVuYWJsZUZpeGVkQ29sdW1uU2Nyb2xsID0gX3RoaXMkcHJvcHM5LmVuYWJsZUZpeGVkQ29sdW1uU2Nyb2xsLFxuICAgICAgICAgIGVuYWJsZUZpeGVkUm93U2Nyb2xsID0gX3RoaXMkcHJvcHM5LmVuYWJsZUZpeGVkUm93U2Nyb2xsLFxuICAgICAgICAgIGhlaWdodCA9IF90aGlzJHByb3BzOS5oZWlnaHQsXG4gICAgICAgICAgZml4ZWRDb2x1bW5Db3VudCA9IF90aGlzJHByb3BzOS5maXhlZENvbHVtbkNvdW50LFxuICAgICAgICAgIGZpeGVkUm93Q291bnQgPSBfdGhpcyRwcm9wczkuZml4ZWRSb3dDb3VudCxcbiAgICAgICAgICByb3dIZWlnaHQgPSBfdGhpcyRwcm9wczkucm93SGVpZ2h0LFxuICAgICAgICAgIHN0eWxlID0gX3RoaXMkcHJvcHM5LnN0eWxlLFxuICAgICAgICAgIHN0eWxlQm90dG9tTGVmdEdyaWQgPSBfdGhpcyRwcm9wczkuc3R5bGVCb3R0b21MZWZ0R3JpZCxcbiAgICAgICAgICBzdHlsZUJvdHRvbVJpZ2h0R3JpZCA9IF90aGlzJHByb3BzOS5zdHlsZUJvdHRvbVJpZ2h0R3JpZCxcbiAgICAgICAgICBzdHlsZVRvcExlZnRHcmlkID0gX3RoaXMkcHJvcHM5LnN0eWxlVG9wTGVmdEdyaWQsXG4gICAgICAgICAgc3R5bGVUb3BSaWdodEdyaWQgPSBfdGhpcyRwcm9wczkuc3R5bGVUb3BSaWdodEdyaWQsXG4gICAgICAgICAgd2lkdGggPSBfdGhpcyRwcm9wczkud2lkdGg7XG4gICAgICB2YXIgc2l6ZUNoYW5nZSA9IHJlc2V0QWxsIHx8IGhlaWdodCAhPT0gdGhpcy5fbGFzdFJlbmRlcmVkSGVpZ2h0IHx8IHdpZHRoICE9PSB0aGlzLl9sYXN0UmVuZGVyZWRXaWR0aDtcbiAgICAgIHZhciBsZWZ0U2l6ZUNoYW5nZSA9IHJlc2V0QWxsIHx8IGNvbHVtbldpZHRoICE9PSB0aGlzLl9sYXN0UmVuZGVyZWRDb2x1bW5XaWR0aCB8fCBmaXhlZENvbHVtbkNvdW50ICE9PSB0aGlzLl9sYXN0UmVuZGVyZWRGaXhlZENvbHVtbkNvdW50O1xuICAgICAgdmFyIHRvcFNpemVDaGFuZ2UgPSByZXNldEFsbCB8fCBmaXhlZFJvd0NvdW50ICE9PSB0aGlzLl9sYXN0UmVuZGVyZWRGaXhlZFJvd0NvdW50IHx8IHJvd0hlaWdodCAhPT0gdGhpcy5fbGFzdFJlbmRlcmVkUm93SGVpZ2h0O1xuXG4gICAgICBpZiAocmVzZXRBbGwgfHwgc2l6ZUNoYW5nZSB8fCBzdHlsZSAhPT0gdGhpcy5fbGFzdFJlbmRlcmVkU3R5bGUpIHtcbiAgICAgICAgdGhpcy5fY29udGFpbmVyT3V0ZXJTdHlsZSA9IF9vYmplY3RTcHJlYWQoe1xuICAgICAgICAgIGhlaWdodDogaGVpZ2h0LFxuICAgICAgICAgIG92ZXJmbG93OiAndmlzaWJsZScsXG4gICAgICAgICAgLy8gTGV0IDpmb2N1cyBvdXRsaW5lIHNob3cgdGhyb3VnaFxuICAgICAgICAgIHdpZHRoOiB3aWR0aFxuICAgICAgICB9LCBzdHlsZSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChyZXNldEFsbCB8fCBzaXplQ2hhbmdlIHx8IHRvcFNpemVDaGFuZ2UpIHtcbiAgICAgICAgdGhpcy5fY29udGFpbmVyVG9wU3R5bGUgPSB7XG4gICAgICAgICAgaGVpZ2h0OiB0aGlzLl9nZXRUb3BHcmlkSGVpZ2h0KHRoaXMucHJvcHMpLFxuICAgICAgICAgIHBvc2l0aW9uOiAncmVsYXRpdmUnLFxuICAgICAgICAgIHdpZHRoOiB3aWR0aFxuICAgICAgICB9O1xuICAgICAgICB0aGlzLl9jb250YWluZXJCb3R0b21TdHlsZSA9IHtcbiAgICAgICAgICBoZWlnaHQ6IGhlaWdodCAtIHRoaXMuX2dldFRvcEdyaWRIZWlnaHQodGhpcy5wcm9wcyksXG4gICAgICAgICAgb3ZlcmZsb3c6ICd2aXNpYmxlJyxcbiAgICAgICAgICAvLyBMZXQgOmZvY3VzIG91dGxpbmUgc2hvdyB0aHJvdWdoXG4gICAgICAgICAgcG9zaXRpb246ICdyZWxhdGl2ZScsXG4gICAgICAgICAgd2lkdGg6IHdpZHRoXG4gICAgICAgIH07XG4gICAgICB9XG5cbiAgICAgIGlmIChyZXNldEFsbCB8fCBzdHlsZUJvdHRvbUxlZnRHcmlkICE9PSB0aGlzLl9sYXN0UmVuZGVyZWRTdHlsZUJvdHRvbUxlZnRHcmlkKSB7XG4gICAgICAgIHRoaXMuX2JvdHRvbUxlZnRHcmlkU3R5bGUgPSBfb2JqZWN0U3ByZWFkKHtcbiAgICAgICAgICBsZWZ0OiAwLFxuICAgICAgICAgIG92ZXJmbG93WDogJ2hpZGRlbicsXG4gICAgICAgICAgb3ZlcmZsb3dZOiBlbmFibGVGaXhlZENvbHVtblNjcm9sbCA/ICdhdXRvJyA6ICdoaWRkZW4nLFxuICAgICAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnXG4gICAgICAgIH0sIHN0eWxlQm90dG9tTGVmdEdyaWQpO1xuICAgICAgfVxuXG4gICAgICBpZiAocmVzZXRBbGwgfHwgbGVmdFNpemVDaGFuZ2UgfHwgc3R5bGVCb3R0b21SaWdodEdyaWQgIT09IHRoaXMuX2xhc3RSZW5kZXJlZFN0eWxlQm90dG9tUmlnaHRHcmlkKSB7XG4gICAgICAgIHRoaXMuX2JvdHRvbVJpZ2h0R3JpZFN0eWxlID0gX29iamVjdFNwcmVhZCh7XG4gICAgICAgICAgbGVmdDogdGhpcy5fZ2V0TGVmdEdyaWRXaWR0aCh0aGlzLnByb3BzKSxcbiAgICAgICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJ1xuICAgICAgICB9LCBzdHlsZUJvdHRvbVJpZ2h0R3JpZCk7XG4gICAgICB9XG5cbiAgICAgIGlmIChyZXNldEFsbCB8fCBzdHlsZVRvcExlZnRHcmlkICE9PSB0aGlzLl9sYXN0UmVuZGVyZWRTdHlsZVRvcExlZnRHcmlkKSB7XG4gICAgICAgIHRoaXMuX3RvcExlZnRHcmlkU3R5bGUgPSBfb2JqZWN0U3ByZWFkKHtcbiAgICAgICAgICBsZWZ0OiAwLFxuICAgICAgICAgIG92ZXJmbG93WDogJ2hpZGRlbicsXG4gICAgICAgICAgb3ZlcmZsb3dZOiAnaGlkZGVuJyxcbiAgICAgICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgICAgICAgICB0b3A6IDBcbiAgICAgICAgfSwgc3R5bGVUb3BMZWZ0R3JpZCk7XG4gICAgICB9XG5cbiAgICAgIGlmIChyZXNldEFsbCB8fCBsZWZ0U2l6ZUNoYW5nZSB8fCBzdHlsZVRvcFJpZ2h0R3JpZCAhPT0gdGhpcy5fbGFzdFJlbmRlcmVkU3R5bGVUb3BSaWdodEdyaWQpIHtcbiAgICAgICAgdGhpcy5fdG9wUmlnaHRHcmlkU3R5bGUgPSBfb2JqZWN0U3ByZWFkKHtcbiAgICAgICAgICBsZWZ0OiB0aGlzLl9nZXRMZWZ0R3JpZFdpZHRoKHRoaXMucHJvcHMpLFxuICAgICAgICAgIG92ZXJmbG93WDogZW5hYmxlRml4ZWRSb3dTY3JvbGwgPyAnYXV0bycgOiAnaGlkZGVuJyxcbiAgICAgICAgICBvdmVyZmxvd1k6ICdoaWRkZW4nLFxuICAgICAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICAgICAgICAgIHRvcDogMFxuICAgICAgICB9LCBzdHlsZVRvcFJpZ2h0R3JpZCk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuX2xhc3RSZW5kZXJlZENvbHVtbldpZHRoID0gY29sdW1uV2lkdGg7XG4gICAgICB0aGlzLl9sYXN0UmVuZGVyZWRGaXhlZENvbHVtbkNvdW50ID0gZml4ZWRDb2x1bW5Db3VudDtcbiAgICAgIHRoaXMuX2xhc3RSZW5kZXJlZEZpeGVkUm93Q291bnQgPSBmaXhlZFJvd0NvdW50O1xuICAgICAgdGhpcy5fbGFzdFJlbmRlcmVkSGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgdGhpcy5fbGFzdFJlbmRlcmVkUm93SGVpZ2h0ID0gcm93SGVpZ2h0O1xuICAgICAgdGhpcy5fbGFzdFJlbmRlcmVkU3R5bGUgPSBzdHlsZTtcbiAgICAgIHRoaXMuX2xhc3RSZW5kZXJlZFN0eWxlQm90dG9tTGVmdEdyaWQgPSBzdHlsZUJvdHRvbUxlZnRHcmlkO1xuICAgICAgdGhpcy5fbGFzdFJlbmRlcmVkU3R5bGVCb3R0b21SaWdodEdyaWQgPSBzdHlsZUJvdHRvbVJpZ2h0R3JpZDtcbiAgICAgIHRoaXMuX2xhc3RSZW5kZXJlZFN0eWxlVG9wTGVmdEdyaWQgPSBzdHlsZVRvcExlZnRHcmlkO1xuICAgICAgdGhpcy5fbGFzdFJlbmRlcmVkU3R5bGVUb3BSaWdodEdyaWQgPSBzdHlsZVRvcFJpZ2h0R3JpZDtcbiAgICAgIHRoaXMuX2xhc3RSZW5kZXJlZFdpZHRoID0gd2lkdGg7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIl9wcmVwYXJlRm9yUmVuZGVyXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9wcmVwYXJlRm9yUmVuZGVyKCkge1xuICAgICAgaWYgKHRoaXMuX2xhc3RSZW5kZXJlZENvbHVtbldpZHRoICE9PSB0aGlzLnByb3BzLmNvbHVtbldpZHRoIHx8IHRoaXMuX2xhc3RSZW5kZXJlZEZpeGVkQ29sdW1uQ291bnQgIT09IHRoaXMucHJvcHMuZml4ZWRDb2x1bW5Db3VudCkge1xuICAgICAgICB0aGlzLl9sZWZ0R3JpZFdpZHRoID0gbnVsbDtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuX2xhc3RSZW5kZXJlZEZpeGVkUm93Q291bnQgIT09IHRoaXMucHJvcHMuZml4ZWRSb3dDb3VudCB8fCB0aGlzLl9sYXN0UmVuZGVyZWRSb3dIZWlnaHQgIT09IHRoaXMucHJvcHMucm93SGVpZ2h0KSB7XG4gICAgICAgIHRoaXMuX3RvcEdyaWRIZWlnaHQgPSBudWxsO1xuICAgICAgfVxuXG4gICAgICB0aGlzLl9tYXliZUNhbGN1bGF0ZUNhY2hlZFN0eWxlcygpO1xuXG4gICAgICB0aGlzLl9sYXN0UmVuZGVyZWRDb2x1bW5XaWR0aCA9IHRoaXMucHJvcHMuY29sdW1uV2lkdGg7XG4gICAgICB0aGlzLl9sYXN0UmVuZGVyZWRGaXhlZENvbHVtbkNvdW50ID0gdGhpcy5wcm9wcy5maXhlZENvbHVtbkNvdW50O1xuICAgICAgdGhpcy5fbGFzdFJlbmRlcmVkRml4ZWRSb3dDb3VudCA9IHRoaXMucHJvcHMuZml4ZWRSb3dDb3VudDtcbiAgICAgIHRoaXMuX2xhc3RSZW5kZXJlZFJvd0hlaWdodCA9IHRoaXMucHJvcHMucm93SGVpZ2h0O1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJfcmVuZGVyQm90dG9tTGVmdEdyaWRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gX3JlbmRlckJvdHRvbUxlZnRHcmlkKHByb3BzKSB7XG4gICAgICB2YXIgZW5hYmxlRml4ZWRDb2x1bW5TY3JvbGwgPSBwcm9wcy5lbmFibGVGaXhlZENvbHVtblNjcm9sbCxcbiAgICAgICAgICBmaXhlZENvbHVtbkNvdW50ID0gcHJvcHMuZml4ZWRDb2x1bW5Db3VudCxcbiAgICAgICAgICBmaXhlZFJvd0NvdW50ID0gcHJvcHMuZml4ZWRSb3dDb3VudCxcbiAgICAgICAgICByb3dDb3VudCA9IHByb3BzLnJvd0NvdW50LFxuICAgICAgICAgIGhpZGVCb3R0b21MZWZ0R3JpZFNjcm9sbGJhciA9IHByb3BzLmhpZGVCb3R0b21MZWZ0R3JpZFNjcm9sbGJhcjtcbiAgICAgIHZhciBzaG93VmVydGljYWxTY3JvbGxiYXIgPSB0aGlzLnN0YXRlLnNob3dWZXJ0aWNhbFNjcm9sbGJhcjtcblxuICAgICAgaWYgKCFmaXhlZENvbHVtbkNvdW50KSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuXG4gICAgICB2YXIgYWRkaXRpb25hbFJvd0NvdW50ID0gc2hvd1ZlcnRpY2FsU2Nyb2xsYmFyID8gMSA6IDAsXG4gICAgICAgICAgaGVpZ2h0ID0gdGhpcy5fZ2V0Qm90dG9tR3JpZEhlaWdodChwcm9wcyksXG4gICAgICAgICAgd2lkdGggPSB0aGlzLl9nZXRMZWZ0R3JpZFdpZHRoKHByb3BzKSxcbiAgICAgICAgICBzY3JvbGxiYXJTaXplID0gdGhpcy5zdGF0ZS5zaG93VmVydGljYWxTY3JvbGxiYXIgPyB0aGlzLnN0YXRlLnNjcm9sbGJhclNpemUgOiAwLFxuICAgICAgICAgIGdyaWRXaWR0aCA9IGhpZGVCb3R0b21MZWZ0R3JpZFNjcm9sbGJhciA/IHdpZHRoICsgc2Nyb2xsYmFyU2l6ZSA6IHdpZHRoO1xuXG4gICAgICB2YXIgYm90dG9tTGVmdEdyaWQgPSBSZWFjdC5jcmVhdGVFbGVtZW50KEdyaWQsIF9leHRlbmRzKHt9LCBwcm9wcywge1xuICAgICAgICBjZWxsUmVuZGVyZXI6IHRoaXMuX2NlbGxSZW5kZXJlckJvdHRvbUxlZnRHcmlkLFxuICAgICAgICBjbGFzc05hbWU6IHRoaXMucHJvcHMuY2xhc3NOYW1lQm90dG9tTGVmdEdyaWQsXG4gICAgICAgIGNvbHVtbkNvdW50OiBmaXhlZENvbHVtbkNvdW50LFxuICAgICAgICBkZWZlcnJlZE1lYXN1cmVtZW50Q2FjaGU6IHRoaXMuX2RlZmVycmVkTWVhc3VyZW1lbnRDYWNoZUJvdHRvbUxlZnRHcmlkLFxuICAgICAgICBoZWlnaHQ6IGhlaWdodCxcbiAgICAgICAgb25TY3JvbGw6IGVuYWJsZUZpeGVkQ29sdW1uU2Nyb2xsID8gdGhpcy5fb25TY3JvbGxUb3AgOiB1bmRlZmluZWQsXG4gICAgICAgIHJlZjogdGhpcy5fYm90dG9tTGVmdEdyaWRSZWYsXG4gICAgICAgIHJvd0NvdW50OiBNYXRoLm1heCgwLCByb3dDb3VudCAtIGZpeGVkUm93Q291bnQpICsgYWRkaXRpb25hbFJvd0NvdW50LFxuICAgICAgICByb3dIZWlnaHQ6IHRoaXMuX3Jvd0hlaWdodEJvdHRvbUdyaWQsXG4gICAgICAgIHN0eWxlOiB0aGlzLl9ib3R0b21MZWZ0R3JpZFN0eWxlLFxuICAgICAgICB0YWJJbmRleDogbnVsbCxcbiAgICAgICAgd2lkdGg6IGdyaWRXaWR0aFxuICAgICAgfSkpO1xuXG4gICAgICBpZiAoaGlkZUJvdHRvbUxlZnRHcmlkU2Nyb2xsYmFyKSB7XG4gICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgICAgICBjbGFzc05hbWU6IFwiQm90dG9tTGVmdEdyaWRfU2Nyb2xsV3JhcHBlclwiLFxuICAgICAgICAgIHN0eWxlOiBfb2JqZWN0U3ByZWFkKHt9LCB0aGlzLl9ib3R0b21MZWZ0R3JpZFN0eWxlLCB7XG4gICAgICAgICAgICBoZWlnaHQ6IGhlaWdodCxcbiAgICAgICAgICAgIHdpZHRoOiB3aWR0aCxcbiAgICAgICAgICAgIG92ZXJmbG93WTogJ2hpZGRlbidcbiAgICAgICAgICB9KVxuICAgICAgICB9LCBib3R0b21MZWZ0R3JpZCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBib3R0b21MZWZ0R3JpZDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiX3JlbmRlckJvdHRvbVJpZ2h0R3JpZFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfcmVuZGVyQm90dG9tUmlnaHRHcmlkKHByb3BzKSB7XG4gICAgICB2YXIgY29sdW1uQ291bnQgPSBwcm9wcy5jb2x1bW5Db3VudCxcbiAgICAgICAgICBmaXhlZENvbHVtbkNvdW50ID0gcHJvcHMuZml4ZWRDb2x1bW5Db3VudCxcbiAgICAgICAgICBmaXhlZFJvd0NvdW50ID0gcHJvcHMuZml4ZWRSb3dDb3VudCxcbiAgICAgICAgICByb3dDb3VudCA9IHByb3BzLnJvd0NvdW50LFxuICAgICAgICAgIHNjcm9sbFRvQ29sdW1uID0gcHJvcHMuc2Nyb2xsVG9Db2x1bW4sXG4gICAgICAgICAgc2Nyb2xsVG9Sb3cgPSBwcm9wcy5zY3JvbGxUb1JvdztcbiAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KEdyaWQsIF9leHRlbmRzKHt9LCBwcm9wcywge1xuICAgICAgICBjZWxsUmVuZGVyZXI6IHRoaXMuX2NlbGxSZW5kZXJlckJvdHRvbVJpZ2h0R3JpZCxcbiAgICAgICAgY2xhc3NOYW1lOiB0aGlzLnByb3BzLmNsYXNzTmFtZUJvdHRvbVJpZ2h0R3JpZCxcbiAgICAgICAgY29sdW1uQ291bnQ6IE1hdGgubWF4KDAsIGNvbHVtbkNvdW50IC0gZml4ZWRDb2x1bW5Db3VudCksXG4gICAgICAgIGNvbHVtbldpZHRoOiB0aGlzLl9jb2x1bW5XaWR0aFJpZ2h0R3JpZCxcbiAgICAgICAgZGVmZXJyZWRNZWFzdXJlbWVudENhY2hlOiB0aGlzLl9kZWZlcnJlZE1lYXN1cmVtZW50Q2FjaGVCb3R0b21SaWdodEdyaWQsXG4gICAgICAgIGhlaWdodDogdGhpcy5fZ2V0Qm90dG9tR3JpZEhlaWdodChwcm9wcyksXG4gICAgICAgIG9uU2Nyb2xsOiB0aGlzLl9vblNjcm9sbCxcbiAgICAgICAgb25TY3JvbGxiYXJQcmVzZW5jZUNoYW5nZTogdGhpcy5fb25TY3JvbGxiYXJQcmVzZW5jZUNoYW5nZSxcbiAgICAgICAgcmVmOiB0aGlzLl9ib3R0b21SaWdodEdyaWRSZWYsXG4gICAgICAgIHJvd0NvdW50OiBNYXRoLm1heCgwLCByb3dDb3VudCAtIGZpeGVkUm93Q291bnQpLFxuICAgICAgICByb3dIZWlnaHQ6IHRoaXMuX3Jvd0hlaWdodEJvdHRvbUdyaWQsXG4gICAgICAgIHNjcm9sbFRvQ29sdW1uOiBzY3JvbGxUb0NvbHVtbiAtIGZpeGVkQ29sdW1uQ291bnQsXG4gICAgICAgIHNjcm9sbFRvUm93OiBzY3JvbGxUb1JvdyAtIGZpeGVkUm93Q291bnQsXG4gICAgICAgIHN0eWxlOiB0aGlzLl9ib3R0b21SaWdodEdyaWRTdHlsZSxcbiAgICAgICAgd2lkdGg6IHRoaXMuX2dldFJpZ2h0R3JpZFdpZHRoKHByb3BzKVxuICAgICAgfSkpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJfcmVuZGVyVG9wTGVmdEdyaWRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gX3JlbmRlclRvcExlZnRHcmlkKHByb3BzKSB7XG4gICAgICB2YXIgZml4ZWRDb2x1bW5Db3VudCA9IHByb3BzLmZpeGVkQ29sdW1uQ291bnQsXG4gICAgICAgICAgZml4ZWRSb3dDb3VudCA9IHByb3BzLmZpeGVkUm93Q291bnQ7XG5cbiAgICAgIGlmICghZml4ZWRDb2x1bW5Db3VudCB8fCAhZml4ZWRSb3dDb3VudCkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoR3JpZCwgX2V4dGVuZHMoe30sIHByb3BzLCB7XG4gICAgICAgIGNsYXNzTmFtZTogdGhpcy5wcm9wcy5jbGFzc05hbWVUb3BMZWZ0R3JpZCxcbiAgICAgICAgY29sdW1uQ291bnQ6IGZpeGVkQ29sdW1uQ291bnQsXG4gICAgICAgIGhlaWdodDogdGhpcy5fZ2V0VG9wR3JpZEhlaWdodChwcm9wcyksXG4gICAgICAgIHJlZjogdGhpcy5fdG9wTGVmdEdyaWRSZWYsXG4gICAgICAgIHJvd0NvdW50OiBmaXhlZFJvd0NvdW50LFxuICAgICAgICBzdHlsZTogdGhpcy5fdG9wTGVmdEdyaWRTdHlsZSxcbiAgICAgICAgdGFiSW5kZXg6IG51bGwsXG4gICAgICAgIHdpZHRoOiB0aGlzLl9nZXRMZWZ0R3JpZFdpZHRoKHByb3BzKVxuICAgICAgfSkpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJfcmVuZGVyVG9wUmlnaHRHcmlkXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9yZW5kZXJUb3BSaWdodEdyaWQocHJvcHMpIHtcbiAgICAgIHZhciBjb2x1bW5Db3VudCA9IHByb3BzLmNvbHVtbkNvdW50LFxuICAgICAgICAgIGVuYWJsZUZpeGVkUm93U2Nyb2xsID0gcHJvcHMuZW5hYmxlRml4ZWRSb3dTY3JvbGwsXG4gICAgICAgICAgZml4ZWRDb2x1bW5Db3VudCA9IHByb3BzLmZpeGVkQ29sdW1uQ291bnQsXG4gICAgICAgICAgZml4ZWRSb3dDb3VudCA9IHByb3BzLmZpeGVkUm93Q291bnQsXG4gICAgICAgICAgc2Nyb2xsTGVmdCA9IHByb3BzLnNjcm9sbExlZnQsXG4gICAgICAgICAgaGlkZVRvcFJpZ2h0R3JpZFNjcm9sbGJhciA9IHByb3BzLmhpZGVUb3BSaWdodEdyaWRTY3JvbGxiYXI7XG4gICAgICB2YXIgX3RoaXMkc3RhdGU1ID0gdGhpcy5zdGF0ZSxcbiAgICAgICAgICBzaG93SG9yaXpvbnRhbFNjcm9sbGJhciA9IF90aGlzJHN0YXRlNS5zaG93SG9yaXpvbnRhbFNjcm9sbGJhcixcbiAgICAgICAgICBzY3JvbGxiYXJTaXplID0gX3RoaXMkc3RhdGU1LnNjcm9sbGJhclNpemU7XG5cbiAgICAgIGlmICghZml4ZWRSb3dDb3VudCkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cblxuICAgICAgdmFyIGFkZGl0aW9uYWxDb2x1bW5Db3VudCA9IHNob3dIb3Jpem9udGFsU2Nyb2xsYmFyID8gMSA6IDAsXG4gICAgICAgICAgaGVpZ2h0ID0gdGhpcy5fZ2V0VG9wR3JpZEhlaWdodChwcm9wcyksXG4gICAgICAgICAgd2lkdGggPSB0aGlzLl9nZXRSaWdodEdyaWRXaWR0aChwcm9wcyksXG4gICAgICAgICAgYWRkaXRpb25hbEhlaWdodCA9IHNob3dIb3Jpem9udGFsU2Nyb2xsYmFyID8gc2Nyb2xsYmFyU2l6ZSA6IDA7XG5cbiAgICAgIHZhciBncmlkSGVpZ2h0ID0gaGVpZ2h0LFxuICAgICAgICAgIHN0eWxlID0gdGhpcy5fdG9wUmlnaHRHcmlkU3R5bGU7XG5cbiAgICAgIGlmIChoaWRlVG9wUmlnaHRHcmlkU2Nyb2xsYmFyKSB7XG4gICAgICAgIGdyaWRIZWlnaHQgPSBoZWlnaHQgKyBhZGRpdGlvbmFsSGVpZ2h0O1xuICAgICAgICBzdHlsZSA9IF9vYmplY3RTcHJlYWQoe30sIHRoaXMuX3RvcFJpZ2h0R3JpZFN0eWxlLCB7XG4gICAgICAgICAgbGVmdDogMFxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgdmFyIHRvcFJpZ2h0R3JpZCA9IFJlYWN0LmNyZWF0ZUVsZW1lbnQoR3JpZCwgX2V4dGVuZHMoe30sIHByb3BzLCB7XG4gICAgICAgIGNlbGxSZW5kZXJlcjogdGhpcy5fY2VsbFJlbmRlcmVyVG9wUmlnaHRHcmlkLFxuICAgICAgICBjbGFzc05hbWU6IHRoaXMucHJvcHMuY2xhc3NOYW1lVG9wUmlnaHRHcmlkLFxuICAgICAgICBjb2x1bW5Db3VudDogTWF0aC5tYXgoMCwgY29sdW1uQ291bnQgLSBmaXhlZENvbHVtbkNvdW50KSArIGFkZGl0aW9uYWxDb2x1bW5Db3VudCxcbiAgICAgICAgY29sdW1uV2lkdGg6IHRoaXMuX2NvbHVtbldpZHRoUmlnaHRHcmlkLFxuICAgICAgICBkZWZlcnJlZE1lYXN1cmVtZW50Q2FjaGU6IHRoaXMuX2RlZmVycmVkTWVhc3VyZW1lbnRDYWNoZVRvcFJpZ2h0R3JpZCxcbiAgICAgICAgaGVpZ2h0OiBncmlkSGVpZ2h0LFxuICAgICAgICBvblNjcm9sbDogZW5hYmxlRml4ZWRSb3dTY3JvbGwgPyB0aGlzLl9vblNjcm9sbExlZnQgOiB1bmRlZmluZWQsXG4gICAgICAgIHJlZjogdGhpcy5fdG9wUmlnaHRHcmlkUmVmLFxuICAgICAgICByb3dDb3VudDogZml4ZWRSb3dDb3VudCxcbiAgICAgICAgc2Nyb2xsTGVmdDogc2Nyb2xsTGVmdCxcbiAgICAgICAgc3R5bGU6IHN0eWxlLFxuICAgICAgICB0YWJJbmRleDogbnVsbCxcbiAgICAgICAgd2lkdGg6IHdpZHRoXG4gICAgICB9KSk7XG5cbiAgICAgIGlmIChoaWRlVG9wUmlnaHRHcmlkU2Nyb2xsYmFyKSB7XG4gICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgICAgICBjbGFzc05hbWU6IFwiVG9wUmlnaHRHcmlkX1Njcm9sbFdyYXBwZXJcIixcbiAgICAgICAgICBzdHlsZTogX29iamVjdFNwcmVhZCh7fSwgdGhpcy5fdG9wUmlnaHRHcmlkU3R5bGUsIHtcbiAgICAgICAgICAgIGhlaWdodDogaGVpZ2h0LFxuICAgICAgICAgICAgd2lkdGg6IHdpZHRoLFxuICAgICAgICAgICAgb3ZlcmZsb3dYOiAnaGlkZGVuJ1xuICAgICAgICAgIH0pXG4gICAgICAgIH0sIHRvcFJpZ2h0R3JpZCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0b3BSaWdodEdyaWQ7XG4gICAgfVxuICB9XSwgW3tcbiAgICBrZXk6IFwiZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyhuZXh0UHJvcHMsIHByZXZTdGF0ZSkge1xuICAgICAgaWYgKG5leHRQcm9wcy5zY3JvbGxMZWZ0ICE9PSBwcmV2U3RhdGUuc2Nyb2xsTGVmdCB8fCBuZXh0UHJvcHMuc2Nyb2xsVG9wICE9PSBwcmV2U3RhdGUuc2Nyb2xsVG9wKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgc2Nyb2xsTGVmdDogbmV4dFByb3BzLnNjcm9sbExlZnQgIT0gbnVsbCAmJiBuZXh0UHJvcHMuc2Nyb2xsTGVmdCA+PSAwID8gbmV4dFByb3BzLnNjcm9sbExlZnQgOiBwcmV2U3RhdGUuc2Nyb2xsTGVmdCxcbiAgICAgICAgICBzY3JvbGxUb3A6IG5leHRQcm9wcy5zY3JvbGxUb3AgIT0gbnVsbCAmJiBuZXh0UHJvcHMuc2Nyb2xsVG9wID49IDAgPyBuZXh0UHJvcHMuc2Nyb2xsVG9wIDogcHJldlN0YXRlLnNjcm9sbFRvcFxuICAgICAgICB9O1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gTXVsdGlHcmlkO1xufShSZWFjdC5QdXJlQ29tcG9uZW50KTtcblxuX2RlZmluZVByb3BlcnR5KE11bHRpR3JpZCwgXCJkZWZhdWx0UHJvcHNcIiwge1xuICBjbGFzc05hbWVCb3R0b21MZWZ0R3JpZDogJycsXG4gIGNsYXNzTmFtZUJvdHRvbVJpZ2h0R3JpZDogJycsXG4gIGNsYXNzTmFtZVRvcExlZnRHcmlkOiAnJyxcbiAgY2xhc3NOYW1lVG9wUmlnaHRHcmlkOiAnJyxcbiAgZW5hYmxlRml4ZWRDb2x1bW5TY3JvbGw6IGZhbHNlLFxuICBlbmFibGVGaXhlZFJvd1Njcm9sbDogZmFsc2UsXG4gIGZpeGVkQ29sdW1uQ291bnQ6IDAsXG4gIGZpeGVkUm93Q291bnQ6IDAsXG4gIHNjcm9sbFRvQ29sdW1uOiAtMSxcbiAgc2Nyb2xsVG9Sb3c6IC0xLFxuICBzdHlsZToge30sXG4gIHN0eWxlQm90dG9tTGVmdEdyaWQ6IHt9LFxuICBzdHlsZUJvdHRvbVJpZ2h0R3JpZDoge30sXG4gIHN0eWxlVG9wTGVmdEdyaWQ6IHt9LFxuICBzdHlsZVRvcFJpZ2h0R3JpZDoge30sXG4gIGhpZGVUb3BSaWdodEdyaWRTY3JvbGxiYXI6IGZhbHNlLFxuICBoaWRlQm90dG9tTGVmdEdyaWRTY3JvbGxiYXI6IGZhbHNlXG59KTtcblxuTXVsdGlHcmlkLnByb3BUeXBlcyA9IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IHtcbiAgY2xhc3NOYW1lQm90dG9tTGVmdEdyaWQ6IFByb3BUeXBlcy5zdHJpbmcuaXNSZXF1aXJlZCxcbiAgY2xhc3NOYW1lQm90dG9tUmlnaHRHcmlkOiBQcm9wVHlwZXMuc3RyaW5nLmlzUmVxdWlyZWQsXG4gIGNsYXNzTmFtZVRvcExlZnRHcmlkOiBQcm9wVHlwZXMuc3RyaW5nLmlzUmVxdWlyZWQsXG4gIGNsYXNzTmFtZVRvcFJpZ2h0R3JpZDogUHJvcFR5cGVzLnN0cmluZy5pc1JlcXVpcmVkLFxuICBlbmFibGVGaXhlZENvbHVtblNjcm9sbDogUHJvcFR5cGVzLmJvb2wuaXNSZXF1aXJlZCxcbiAgZW5hYmxlRml4ZWRSb3dTY3JvbGw6IFByb3BUeXBlcy5ib29sLmlzUmVxdWlyZWQsXG4gIGZpeGVkQ29sdW1uQ291bnQ6IFByb3BUeXBlcy5udW1iZXIuaXNSZXF1aXJlZCxcbiAgZml4ZWRSb3dDb3VudDogUHJvcFR5cGVzLm51bWJlci5pc1JlcXVpcmVkLFxuICBvblNjcm9sbGJhclByZXNlbmNlQ2hhbmdlOiBQcm9wVHlwZXMuZnVuYyxcbiAgc3R5bGU6IFByb3BUeXBlcy5vYmplY3QuaXNSZXF1aXJlZCxcbiAgc3R5bGVCb3R0b21MZWZ0R3JpZDogUHJvcFR5cGVzLm9iamVjdC5pc1JlcXVpcmVkLFxuICBzdHlsZUJvdHRvbVJpZ2h0R3JpZDogUHJvcFR5cGVzLm9iamVjdC5pc1JlcXVpcmVkLFxuICBzdHlsZVRvcExlZnRHcmlkOiBQcm9wVHlwZXMub2JqZWN0LmlzUmVxdWlyZWQsXG4gIHN0eWxlVG9wUmlnaHRHcmlkOiBQcm9wVHlwZXMub2JqZWN0LmlzUmVxdWlyZWQsXG4gIGhpZGVUb3BSaWdodEdyaWRTY3JvbGxiYXI6IFByb3BUeXBlcy5ib29sLFxuICBoaWRlQm90dG9tTGVmdEdyaWRTY3JvbGxiYXI6IFByb3BUeXBlcy5ib29sXG59IDoge307XG5wb2x5ZmlsbChNdWx0aUdyaWQpO1xuZXhwb3J0IGRlZmF1bHQgTXVsdGlHcmlkOyIsImltcG9ydCBNdWx0aUdyaWQgZnJvbSAnLi9NdWx0aUdyaWQnO1xuZXhwb3J0IGRlZmF1bHQgTXVsdGlHcmlkO1xuZXhwb3J0IHsgTXVsdGlHcmlkIH07IiwiaW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVja1wiO1xuaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzc1wiO1xuaW1wb3J0IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm5cIjtcbmltcG9ydCBfZ2V0UHJvdG90eXBlT2YgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZ2V0UHJvdG90eXBlT2ZcIjtcbmltcG9ydCBfYXNzZXJ0VGhpc0luaXRpYWxpemVkIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2Fzc2VydFRoaXNJbml0aWFsaXplZFwiO1xuaW1wb3J0IF9pbmhlcml0cyBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9pbmhlcml0c1wiO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0Jztcbi8qKlxuICogSE9DIHRoYXQgc2ltcGxpZmllcyB0aGUgcHJvY2VzcyBvZiBzeW5jaHJvbml6aW5nIHNjcm9sbGluZyBiZXR3ZWVuIHR3byBvciBtb3JlIHZpcnR1YWxpemVkIGNvbXBvbmVudHMuXG4gKi9cblxudmFyIFNjcm9sbFN5bmMgPVxuLyojX19QVVJFX18qL1xuZnVuY3Rpb24gKF9SZWFjdCRQdXJlQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0cyhTY3JvbGxTeW5jLCBfUmVhY3QkUHVyZUNvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gU2Nyb2xsU3luYyhwcm9wcywgY29udGV4dCkge1xuICAgIHZhciBfdGhpcztcblxuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBTY3JvbGxTeW5jKTtcblxuICAgIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX2dldFByb3RvdHlwZU9mKFNjcm9sbFN5bmMpLmNhbGwodGhpcywgcHJvcHMsIGNvbnRleHQpKTtcbiAgICBfdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGNsaWVudEhlaWdodDogMCxcbiAgICAgIGNsaWVudFdpZHRoOiAwLFxuICAgICAgc2Nyb2xsSGVpZ2h0OiAwLFxuICAgICAgc2Nyb2xsTGVmdDogMCxcbiAgICAgIHNjcm9sbFRvcDogMCxcbiAgICAgIHNjcm9sbFdpZHRoOiAwXG4gICAgfTtcbiAgICBfdGhpcy5fb25TY3JvbGwgPSBfdGhpcy5fb25TY3JvbGwuYmluZChfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSk7XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKFNjcm9sbFN5bmMsIFt7XG4gICAga2V5OiBcInJlbmRlclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICB2YXIgY2hpbGRyZW4gPSB0aGlzLnByb3BzLmNoaWxkcmVuO1xuICAgICAgdmFyIF90aGlzJHN0YXRlID0gdGhpcy5zdGF0ZSxcbiAgICAgICAgICBjbGllbnRIZWlnaHQgPSBfdGhpcyRzdGF0ZS5jbGllbnRIZWlnaHQsXG4gICAgICAgICAgY2xpZW50V2lkdGggPSBfdGhpcyRzdGF0ZS5jbGllbnRXaWR0aCxcbiAgICAgICAgICBzY3JvbGxIZWlnaHQgPSBfdGhpcyRzdGF0ZS5zY3JvbGxIZWlnaHQsXG4gICAgICAgICAgc2Nyb2xsTGVmdCA9IF90aGlzJHN0YXRlLnNjcm9sbExlZnQsXG4gICAgICAgICAgc2Nyb2xsVG9wID0gX3RoaXMkc3RhdGUuc2Nyb2xsVG9wLFxuICAgICAgICAgIHNjcm9sbFdpZHRoID0gX3RoaXMkc3RhdGUuc2Nyb2xsV2lkdGg7XG4gICAgICByZXR1cm4gY2hpbGRyZW4oe1xuICAgICAgICBjbGllbnRIZWlnaHQ6IGNsaWVudEhlaWdodCxcbiAgICAgICAgY2xpZW50V2lkdGg6IGNsaWVudFdpZHRoLFxuICAgICAgICBvblNjcm9sbDogdGhpcy5fb25TY3JvbGwsXG4gICAgICAgIHNjcm9sbEhlaWdodDogc2Nyb2xsSGVpZ2h0LFxuICAgICAgICBzY3JvbGxMZWZ0OiBzY3JvbGxMZWZ0LFxuICAgICAgICBzY3JvbGxUb3A6IHNjcm9sbFRvcCxcbiAgICAgICAgc2Nyb2xsV2lkdGg6IHNjcm9sbFdpZHRoXG4gICAgICB9KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiX29uU2Nyb2xsXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9vblNjcm9sbChfcmVmKSB7XG4gICAgICB2YXIgY2xpZW50SGVpZ2h0ID0gX3JlZi5jbGllbnRIZWlnaHQsXG4gICAgICAgICAgY2xpZW50V2lkdGggPSBfcmVmLmNsaWVudFdpZHRoLFxuICAgICAgICAgIHNjcm9sbEhlaWdodCA9IF9yZWYuc2Nyb2xsSGVpZ2h0LFxuICAgICAgICAgIHNjcm9sbExlZnQgPSBfcmVmLnNjcm9sbExlZnQsXG4gICAgICAgICAgc2Nyb2xsVG9wID0gX3JlZi5zY3JvbGxUb3AsXG4gICAgICAgICAgc2Nyb2xsV2lkdGggPSBfcmVmLnNjcm9sbFdpZHRoO1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGNsaWVudEhlaWdodDogY2xpZW50SGVpZ2h0LFxuICAgICAgICBjbGllbnRXaWR0aDogY2xpZW50V2lkdGgsXG4gICAgICAgIHNjcm9sbEhlaWdodDogc2Nyb2xsSGVpZ2h0LFxuICAgICAgICBzY3JvbGxMZWZ0OiBzY3JvbGxMZWZ0LFxuICAgICAgICBzY3JvbGxUb3A6IHNjcm9sbFRvcCxcbiAgICAgICAgc2Nyb2xsV2lkdGg6IHNjcm9sbFdpZHRoXG4gICAgICB9KTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gU2Nyb2xsU3luYztcbn0oUmVhY3QuUHVyZUNvbXBvbmVudCk7XG5cbmV4cG9ydCB7IFNjcm9sbFN5bmMgYXMgZGVmYXVsdCB9O1xuU2Nyb2xsU3luYy5wcm9wVHlwZXMgPSBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyB7XG4gIC8qKlxuICAgKiBGdW5jdGlvbiByZXNwb25zaWJsZSBmb3IgcmVuZGVyaW5nIDIgb3IgbW9yZSB2aXJ0dWFsaXplZCBjb21wb25lbnRzLlxuICAgKiBUaGlzIGZ1bmN0aW9uIHNob3VsZCBpbXBsZW1lbnQgdGhlIGZvbGxvd2luZyBzaWduYXR1cmU6XG4gICAqICh7IG9uU2Nyb2xsLCBzY3JvbGxMZWZ0LCBzY3JvbGxUb3AgfSkgPT4gUHJvcFR5cGVzLmVsZW1lbnRcbiAgICovXG4gIGNoaWxkcmVuOiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkXG59IDoge307IiwiaW1wb3J0IFNjcm9sbFN5bmMgZnJvbSAnLi9TY3JvbGxTeW5jJztcbmV4cG9ydCBkZWZhdWx0IFNjcm9sbFN5bmM7XG5leHBvcnQgeyBTY3JvbGxTeW5jIH07IiwiaW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVja1wiO1xuaW1wb3J0IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm5cIjtcbmltcG9ydCBfZ2V0UHJvdG90eXBlT2YgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZ2V0UHJvdG90eXBlT2ZcIjtcbmltcG9ydCBfaW5oZXJpdHMgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHNcIjtcbmltcG9ydCBfZGVmaW5lUHJvcGVydHkgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZGVmaW5lUHJvcGVydHlcIjtcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgZGVmYXVsdEhlYWRlclJlbmRlcmVyIGZyb20gJy4vZGVmYXVsdEhlYWRlclJlbmRlcmVyJztcbmltcG9ydCBkZWZhdWx0Q2VsbFJlbmRlcmVyIGZyb20gJy4vZGVmYXVsdENlbGxSZW5kZXJlcic7XG5pbXBvcnQgZGVmYXVsdENlbGxEYXRhR2V0dGVyIGZyb20gJy4vZGVmYXVsdENlbGxEYXRhR2V0dGVyJztcbmltcG9ydCBTb3J0RGlyZWN0aW9uIGZyb20gJy4vU29ydERpcmVjdGlvbic7XG4vKipcbiAqIERlc2NyaWJlcyB0aGUgaGVhZGVyIGFuZCBjZWxsIGNvbnRlbnRzIG9mIGEgdGFibGUgY29sdW1uLlxuICovXG5cbnZhciBDb2x1bW4gPVxuLyojX19QVVJFX18qL1xuZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgX2luaGVyaXRzKENvbHVtbiwgX1JlYWN0JENvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gQ29sdW1uKCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDb2x1bW4pO1xuXG4gICAgcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9nZXRQcm90b3R5cGVPZihDb2x1bW4pLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuICB9XG5cbiAgcmV0dXJuIENvbHVtbjtcbn0oUmVhY3QuQ29tcG9uZW50KTtcblxuX2RlZmluZVByb3BlcnR5KENvbHVtbiwgXCJkZWZhdWx0UHJvcHNcIiwge1xuICBjZWxsRGF0YUdldHRlcjogZGVmYXVsdENlbGxEYXRhR2V0dGVyLFxuICBjZWxsUmVuZGVyZXI6IGRlZmF1bHRDZWxsUmVuZGVyZXIsXG4gIGRlZmF1bHRTb3J0RGlyZWN0aW9uOiBTb3J0RGlyZWN0aW9uLkFTQyxcbiAgZmxleEdyb3c6IDAsXG4gIGZsZXhTaHJpbms6IDEsXG4gIGhlYWRlclJlbmRlcmVyOiBkZWZhdWx0SGVhZGVyUmVuZGVyZXIsXG4gIHN0eWxlOiB7fVxufSk7XG5cbmV4cG9ydCB7IENvbHVtbiBhcyBkZWZhdWx0IH07XG5Db2x1bW4ucHJvcFR5cGVzID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8ge1xuICAvKiogT3B0aW9uYWwgYXJpYS1sYWJlbCB2YWx1ZSB0byBzZXQgb24gdGhlIGNvbHVtbiBoZWFkZXIgKi9cbiAgJ2FyaWEtbGFiZWwnOiBQcm9wVHlwZXMuc3RyaW5nLFxuXG4gIC8qKlxuICAgKiBDYWxsYmFjayByZXNwb25zaWJsZSBmb3IgcmV0dXJuaW5nIGEgY2VsbCdzIGRhdGEsIGdpdmVuIGl0cyA6ZGF0YUtleVxuICAgKiAoeyBjb2x1bW5EYXRhOiBhbnksIGRhdGFLZXk6IHN0cmluZywgcm93RGF0YTogYW55IH0pOiBhbnlcbiAgICovXG4gIGNlbGxEYXRhR2V0dGVyOiBQcm9wVHlwZXMuZnVuYyxcblxuICAvKipcbiAgICogQ2FsbGJhY2sgcmVzcG9uc2libGUgZm9yIHJlbmRlcmluZyBhIGNlbGwncyBjb250ZW50cy5cbiAgICogKHsgY2VsbERhdGE6IGFueSwgY29sdW1uRGF0YTogYW55LCBkYXRhS2V5OiBzdHJpbmcsIHJvd0RhdGE6IGFueSwgcm93SW5kZXg6IG51bWJlciB9KTogbm9kZVxuICAgKi9cbiAgY2VsbFJlbmRlcmVyOiBQcm9wVHlwZXMuZnVuYyxcblxuICAvKiogT3B0aW9uYWwgQ1NTIGNsYXNzIHRvIGFwcGx5IHRvIGNlbGwgKi9cbiAgY2xhc3NOYW1lOiBQcm9wVHlwZXMuc3RyaW5nLFxuXG4gIC8qKiBPcHRpb25hbCBhZGRpdGlvbmFsIGRhdGEgcGFzc2VkIHRvIHRoaXMgY29sdW1uJ3MgOmNlbGxEYXRhR2V0dGVyICovXG4gIGNvbHVtbkRhdGE6IFByb3BUeXBlcy5vYmplY3QsXG5cbiAgLyoqIFVuaXF1ZWx5IGlkZW50aWZpZXMgdGhlIHJvdy1kYXRhIGF0dHJpYnV0ZSBjb3JyZXNwb25kaW5nIHRvIHRoaXMgY2VsbCAqL1xuICBkYXRhS2V5OiBQcm9wVHlwZXMuYW55LmlzUmVxdWlyZWQsXG5cbiAgLyoqIE9wdGlvbmFsIGRpcmVjdGlvbiB0byBiZSB1c2VkIHdoZW4gY2xpY2tlZCB0aGUgZmlyc3QgdGltZSAqL1xuICBkZWZhdWx0U29ydERpcmVjdGlvbjogUHJvcFR5cGVzLm9uZU9mKFtTb3J0RGlyZWN0aW9uLkFTQywgU29ydERpcmVjdGlvbi5ERVNDXSksXG5cbiAgLyoqIElmIHNvcnQgaXMgZW5hYmxlZCBmb3IgdGhlIHRhYmxlIGF0IGxhcmdlLCBkaXNhYmxlIGl0IGZvciB0aGlzIGNvbHVtbiAqL1xuICBkaXNhYmxlU29ydDogUHJvcFR5cGVzLmJvb2wsXG5cbiAgLyoqIEZsZXggZ3JvdyBzdHlsZTsgZGVmYXVsdHMgdG8gMCAqL1xuICBmbGV4R3JvdzogUHJvcFR5cGVzLm51bWJlcixcblxuICAvKiogRmxleCBzaHJpbmsgc3R5bGU7IGRlZmF1bHRzIHRvIDEgKi9cbiAgZmxleFNocmluazogUHJvcFR5cGVzLm51bWJlcixcblxuICAvKiogT3B0aW9uYWwgQ1NTIGNsYXNzIHRvIGFwcGx5IHRvIHRoaXMgY29sdW1uJ3MgaGVhZGVyICovXG4gIGhlYWRlckNsYXNzTmFtZTogUHJvcFR5cGVzLnN0cmluZyxcblxuICAvKipcbiAgICogT3B0aW9uYWwgY2FsbGJhY2sgcmVzcG9uc2libGUgZm9yIHJlbmRlcmluZyBhIGNvbHVtbiBoZWFkZXIgY29udGVudHMuXG4gICAqICh7IGNvbHVtbkRhdGE6IG9iamVjdCwgZGF0YUtleTogc3RyaW5nLCBkaXNhYmxlU29ydDogYm9vbGVhbiwgbGFiZWw6IG5vZGUsIHNvcnRCeTogc3RyaW5nLCBzb3J0RGlyZWN0aW9uOiBzdHJpbmcgfSk6IFByb3BUeXBlcy5ub2RlXG4gICAqL1xuICBoZWFkZXJSZW5kZXJlcjogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcblxuICAvKiogT3B0aW9uYWwgaW5saW5lIHN0eWxlIHRvIGFwcGx5IHRvIHRoaXMgY29sdW1uJ3MgaGVhZGVyICovXG4gIGhlYWRlclN0eWxlOiBQcm9wVHlwZXMub2JqZWN0LFxuXG4gIC8qKiBPcHRpb25hbCBpZCB0byBzZXQgb24gdGhlIGNvbHVtbiBoZWFkZXIgKi9cbiAgaWQ6IFByb3BUeXBlcy5zdHJpbmcsXG5cbiAgLyoqIEhlYWRlciBsYWJlbCBmb3IgdGhpcyBjb2x1bW4gKi9cbiAgbGFiZWw6IFByb3BUeXBlcy5ub2RlLFxuXG4gIC8qKiBNYXhpbXVtIHdpZHRoIG9mIGNvbHVtbjsgdGhpcyBwcm9wZXJ0eSB3aWxsIG9ubHkgYmUgdXNlZCBpZiA6ZmxleEdyb3cgaXMgPiAwLiAqL1xuICBtYXhXaWR0aDogUHJvcFR5cGVzLm51bWJlcixcblxuICAvKiogTWluaW11bSB3aWR0aCBvZiBjb2x1bW4uICovXG4gIG1pbldpZHRoOiBQcm9wVHlwZXMubnVtYmVyLFxuXG4gIC8qKiBPcHRpb25hbCBpbmxpbmUgc3R5bGUgdG8gYXBwbHkgdG8gY2VsbCAqL1xuICBzdHlsZTogUHJvcFR5cGVzLm9iamVjdCxcblxuICAvKiogRmxleCBiYXNpcyAod2lkdGgpIGZvciB0aGlzIGNvbHVtbjsgVGhpcyB2YWx1ZSBjYW4gZ3JvdyBvciBzaHJpbmsgYmFzZWQgb24gOmZsZXhHcm93IGFuZCA6ZmxleFNocmluayBwcm9wZXJ0aWVzLiAqL1xuICB3aWR0aDogUHJvcFR5cGVzLm51bWJlci5pc1JlcXVpcmVkXG59IDoge307IiwidmFyIFNvcnREaXJlY3Rpb24gPSB7XG4gIC8qKlxuICAgKiBTb3J0IGl0ZW1zIGluIGFzY2VuZGluZyBvcmRlci5cbiAgICogVGhpcyBtZWFucyBhcnJhbmdpbmcgZnJvbSB0aGUgbG93ZXN0IHZhbHVlIHRvIHRoZSBoaWdoZXN0IChlLmcuIGEteiwgMC05KS5cbiAgICovXG4gIEFTQzogJ0FTQycsXG5cbiAgLyoqXG4gICAqIFNvcnQgaXRlbXMgaW4gZGVzY2VuZGluZyBvcmRlci5cbiAgICogVGhpcyBtZWFucyBhcnJhbmdpbmcgZnJvbSB0aGUgaGlnaGVzdCB2YWx1ZSB0byB0aGUgbG93ZXN0IChlLmcuIHotYSwgOS0wKS5cbiAgICovXG4gIERFU0M6ICdERVNDJ1xufTtcbmV4cG9ydCBkZWZhdWx0IFNvcnREaXJlY3Rpb247IiwiaW1wb3J0IGNsc3ggZnJvbSAnY2xzeCc7XG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFNvcnREaXJlY3Rpb24gZnJvbSAnLi9Tb3J0RGlyZWN0aW9uJztcbi8qKlxuICogRGlzcGxheWVkIGJlc2lkZSBhIGhlYWRlciB0byBpbmRpY2F0ZSB0aGF0IGEgVGFibGUgaXMgY3VycmVudGx5IHNvcnRlZCBieSB0aGlzIGNvbHVtbi5cbiAqL1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBTb3J0SW5kaWNhdG9yKF9yZWYpIHtcbiAgdmFyIHNvcnREaXJlY3Rpb24gPSBfcmVmLnNvcnREaXJlY3Rpb247XG4gIHZhciBjbGFzc05hbWVzID0gY2xzeCgnUmVhY3RWaXJ0dWFsaXplZF9fVGFibGVfX3NvcnRhYmxlSGVhZGVySWNvbicsIHtcbiAgICAnUmVhY3RWaXJ0dWFsaXplZF9fVGFibGVfX3NvcnRhYmxlSGVhZGVySWNvbi0tQVNDJzogc29ydERpcmVjdGlvbiA9PT0gU29ydERpcmVjdGlvbi5BU0MsXG4gICAgJ1JlYWN0VmlydHVhbGl6ZWRfX1RhYmxlX19zb3J0YWJsZUhlYWRlckljb24tLURFU0MnOiBzb3J0RGlyZWN0aW9uID09PSBTb3J0RGlyZWN0aW9uLkRFU0NcbiAgfSk7XG4gIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFwic3ZnXCIsIHtcbiAgICBjbGFzc05hbWU6IGNsYXNzTmFtZXMsXG4gICAgd2lkdGg6IDE4LFxuICAgIGhlaWdodDogMTgsXG4gICAgdmlld0JveDogXCIwIDAgMjQgMjRcIlxuICB9LCBzb3J0RGlyZWN0aW9uID09PSBTb3J0RGlyZWN0aW9uLkFTQyA/IFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHtcbiAgICBkOiBcIk03IDE0bDUtNSA1IDV6XCJcbiAgfSkgOiBSZWFjdC5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7XG4gICAgZDogXCJNNyAxMGw1IDUgNS01elwiXG4gIH0pLCBSZWFjdC5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7XG4gICAgZDogXCJNMCAwaDI0djI0SDB6XCIsXG4gICAgZmlsbDogXCJub25lXCJcbiAgfSkpO1xufVxuU29ydEluZGljYXRvci5wcm9wVHlwZXMgPSBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyB7XG4gIHNvcnREaXJlY3Rpb246IFByb3BUeXBlcy5vbmVPZihbU29ydERpcmVjdGlvbi5BU0MsIFNvcnREaXJlY3Rpb24uREVTQ10pXG59IDoge307IiwiaW1wb3J0IF9leHRlbmRzIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2V4dGVuZHNcIjtcbmltcG9ydCBfY2xhc3NDYWxsQ2hlY2sgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2tcIjtcbmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3NcIjtcbmltcG9ydCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuXCI7XG5pbXBvcnQgX2dldFByb3RvdHlwZU9mIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2dldFByb3RvdHlwZU9mXCI7XG5pbXBvcnQgX2Fzc2VydFRoaXNJbml0aWFsaXplZCBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9hc3NlcnRUaGlzSW5pdGlhbGl6ZWRcIjtcbmltcG9ydCBfaW5oZXJpdHMgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHNcIjtcbmltcG9ydCBfZGVmaW5lUHJvcGVydHkgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZGVmaW5lUHJvcGVydHlcIjtcblxuZnVuY3Rpb24gb3duS2V5cyhvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7IHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7IGlmIChlbnVtZXJhYmxlT25seSkgc3ltYm9scyA9IHN5bWJvbHMuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBzeW0pLmVudW1lcmFibGU7IH0pOyBrZXlzLnB1c2guYXBwbHkoa2V5cywgc3ltYm9scyk7IH0gcmV0dXJuIGtleXM7IH1cblxuZnVuY3Rpb24gX29iamVjdFNwcmVhZCh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXSAhPSBudWxsID8gYXJndW1lbnRzW2ldIDoge307IGlmIChpICUgMikgeyBvd25LZXlzKHNvdXJjZSwgdHJ1ZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pOyB9KTsgfSBlbHNlIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycykgeyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpOyB9IGVsc2UgeyBvd25LZXlzKHNvdXJjZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpOyB9KTsgfSB9IHJldHVybiB0YXJnZXQ7IH1cblxuaW1wb3J0IGNsc3ggZnJvbSAnY2xzeCc7XG5pbXBvcnQgQ29sdW1uIGZyb20gJy4vQ29sdW1uJztcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBmaW5kRE9NTm9kZSB9IGZyb20gJ3JlYWN0LWRvbSc7XG5pbXBvcnQgR3JpZCwgeyBhY2Nlc3NpYmlsaXR5T3ZlcnNjYW5JbmRpY2VzR2V0dGVyIH0gZnJvbSAnLi4vR3JpZCc7XG5pbXBvcnQgZGVmYXVsdFJvd1JlbmRlcmVyIGZyb20gJy4vZGVmYXVsdFJvd1JlbmRlcmVyJztcbmltcG9ydCBkZWZhdWx0SGVhZGVyUm93UmVuZGVyZXIgZnJvbSAnLi9kZWZhdWx0SGVhZGVyUm93UmVuZGVyZXInO1xuaW1wb3J0IFNvcnREaXJlY3Rpb24gZnJvbSAnLi9Tb3J0RGlyZWN0aW9uJztcbi8qKlxuICogVGFibGUgY29tcG9uZW50IHdpdGggZml4ZWQgaGVhZGVycyBhbmQgdmlydHVhbGl6ZWQgcm93cyBmb3IgaW1wcm92ZWQgcGVyZm9ybWFuY2Ugd2l0aCBsYXJnZSBkYXRhIHNldHMuXG4gKiBUaGlzIGNvbXBvbmVudCBleHBlY3RzIGV4cGxpY2l0IHdpZHRoLCBoZWlnaHQsIGFuZCBwYWRkaW5nIHBhcmFtZXRlcnMuXG4gKi9cblxudmFyIFRhYmxlID1cbi8qI19fUFVSRV9fKi9cbmZ1bmN0aW9uIChfUmVhY3QkUHVyZUNvbXBvbmVudCkge1xuICBfaW5oZXJpdHMoVGFibGUsIF9SZWFjdCRQdXJlQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBUYWJsZShwcm9wcykge1xuICAgIHZhciBfdGhpcztcblxuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBUYWJsZSk7XG5cbiAgICBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9nZXRQcm90b3R5cGVPZihUYWJsZSkuY2FsbCh0aGlzLCBwcm9wcykpO1xuICAgIF90aGlzLnN0YXRlID0ge1xuICAgICAgc2Nyb2xsYmFyV2lkdGg6IDBcbiAgICB9O1xuICAgIF90aGlzLl9jcmVhdGVDb2x1bW4gPSBfdGhpcy5fY3JlYXRlQ29sdW1uLmJpbmQoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcykpO1xuICAgIF90aGlzLl9jcmVhdGVSb3cgPSBfdGhpcy5fY3JlYXRlUm93LmJpbmQoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcykpO1xuICAgIF90aGlzLl9vblNjcm9sbCA9IF90aGlzLl9vblNjcm9sbC5iaW5kKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKTtcbiAgICBfdGhpcy5fb25TZWN0aW9uUmVuZGVyZWQgPSBfdGhpcy5fb25TZWN0aW9uUmVuZGVyZWQuYmluZChfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSk7XG4gICAgX3RoaXMuX3NldFJlZiA9IF90aGlzLl9zZXRSZWYuYmluZChfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSk7XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKFRhYmxlLCBbe1xuICAgIGtleTogXCJmb3JjZVVwZGF0ZUdyaWRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZm9yY2VVcGRhdGVHcmlkKCkge1xuICAgICAgaWYgKHRoaXMuR3JpZCkge1xuICAgICAgICB0aGlzLkdyaWQuZm9yY2VVcGRhdGUoKTtcbiAgICAgIH1cbiAgICB9XG4gICAgLyoqIFNlZSBHcmlkI2dldE9mZnNldEZvckNlbGwgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImdldE9mZnNldEZvclJvd1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRPZmZzZXRGb3JSb3coX3JlZikge1xuICAgICAgdmFyIGFsaWdubWVudCA9IF9yZWYuYWxpZ25tZW50LFxuICAgICAgICAgIGluZGV4ID0gX3JlZi5pbmRleDtcblxuICAgICAgaWYgKHRoaXMuR3JpZCkge1xuICAgICAgICB2YXIgX3RoaXMkR3JpZCRnZXRPZmZzZXRGID0gdGhpcy5HcmlkLmdldE9mZnNldEZvckNlbGwoe1xuICAgICAgICAgIGFsaWdubWVudDogYWxpZ25tZW50LFxuICAgICAgICAgIHJvd0luZGV4OiBpbmRleFxuICAgICAgICB9KSxcbiAgICAgICAgICAgIHNjcm9sbFRvcCA9IF90aGlzJEdyaWQkZ2V0T2Zmc2V0Ri5zY3JvbGxUb3A7XG5cbiAgICAgICAgcmV0dXJuIHNjcm9sbFRvcDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIDA7XG4gICAgfVxuICAgIC8qKiBDZWxsTWVhc3VyZXIgY29tcGF0aWJpbGl0eSAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiaW52YWxpZGF0ZUNlbGxTaXplQWZ0ZXJSZW5kZXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gaW52YWxpZGF0ZUNlbGxTaXplQWZ0ZXJSZW5kZXIoX3JlZjIpIHtcbiAgICAgIHZhciBjb2x1bW5JbmRleCA9IF9yZWYyLmNvbHVtbkluZGV4LFxuICAgICAgICAgIHJvd0luZGV4ID0gX3JlZjIucm93SW5kZXg7XG5cbiAgICAgIGlmICh0aGlzLkdyaWQpIHtcbiAgICAgICAgdGhpcy5HcmlkLmludmFsaWRhdGVDZWxsU2l6ZUFmdGVyUmVuZGVyKHtcbiAgICAgICAgICByb3dJbmRleDogcm93SW5kZXgsXG4gICAgICAgICAgY29sdW1uSW5kZXg6IGNvbHVtbkluZGV4XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgICAvKiogU2VlIEdyaWQjbWVhc3VyZUFsbENlbGxzICovXG5cbiAgfSwge1xuICAgIGtleTogXCJtZWFzdXJlQWxsUm93c1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBtZWFzdXJlQWxsUm93cygpIHtcbiAgICAgIGlmICh0aGlzLkdyaWQpIHtcbiAgICAgICAgdGhpcy5HcmlkLm1lYXN1cmVBbGxDZWxscygpO1xuICAgICAgfVxuICAgIH1cbiAgICAvKiogQ2VsbE1lYXN1cmVyIGNvbXBhdGliaWxpdHkgKi9cblxuICB9LCB7XG4gICAga2V5OiBcInJlY29tcHV0ZUdyaWRTaXplXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlY29tcHV0ZUdyaWRTaXplKCkge1xuICAgICAgdmFyIF9yZWYzID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fSxcbiAgICAgICAgICBfcmVmMyRjb2x1bW5JbmRleCA9IF9yZWYzLmNvbHVtbkluZGV4LFxuICAgICAgICAgIGNvbHVtbkluZGV4ID0gX3JlZjMkY29sdW1uSW5kZXggPT09IHZvaWQgMCA/IDAgOiBfcmVmMyRjb2x1bW5JbmRleCxcbiAgICAgICAgICBfcmVmMyRyb3dJbmRleCA9IF9yZWYzLnJvd0luZGV4LFxuICAgICAgICAgIHJvd0luZGV4ID0gX3JlZjMkcm93SW5kZXggPT09IHZvaWQgMCA/IDAgOiBfcmVmMyRyb3dJbmRleDtcblxuICAgICAgaWYgKHRoaXMuR3JpZCkge1xuICAgICAgICB0aGlzLkdyaWQucmVjb21wdXRlR3JpZFNpemUoe1xuICAgICAgICAgIHJvd0luZGV4OiByb3dJbmRleCxcbiAgICAgICAgICBjb2x1bW5JbmRleDogY29sdW1uSW5kZXhcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICAgIC8qKiBTZWUgR3JpZCNyZWNvbXB1dGVHcmlkU2l6ZSAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwicmVjb21wdXRlUm93SGVpZ2h0c1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZWNvbXB1dGVSb3dIZWlnaHRzKCkge1xuICAgICAgdmFyIGluZGV4ID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiAwO1xuXG4gICAgICBpZiAodGhpcy5HcmlkKSB7XG4gICAgICAgIHRoaXMuR3JpZC5yZWNvbXB1dGVHcmlkU2l6ZSh7XG4gICAgICAgICAgcm93SW5kZXg6IGluZGV4XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgICAvKiogU2VlIEdyaWQjc2Nyb2xsVG9Qb3NpdGlvbiAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwic2Nyb2xsVG9Qb3NpdGlvblwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzY3JvbGxUb1Bvc2l0aW9uKCkge1xuICAgICAgdmFyIHNjcm9sbFRvcCA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogMDtcblxuICAgICAgaWYgKHRoaXMuR3JpZCkge1xuICAgICAgICB0aGlzLkdyaWQuc2Nyb2xsVG9Qb3NpdGlvbih7XG4gICAgICAgICAgc2Nyb2xsVG9wOiBzY3JvbGxUb3BcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICAgIC8qKiBTZWUgR3JpZCNzY3JvbGxUb0NlbGwgKi9cblxuICB9LCB7XG4gICAga2V5OiBcInNjcm9sbFRvUm93XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNjcm9sbFRvUm93KCkge1xuICAgICAgdmFyIGluZGV4ID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiAwO1xuXG4gICAgICBpZiAodGhpcy5HcmlkKSB7XG4gICAgICAgIHRoaXMuR3JpZC5zY3JvbGxUb0NlbGwoe1xuICAgICAgICAgIGNvbHVtbkluZGV4OiAwLFxuICAgICAgICAgIHJvd0luZGV4OiBpbmRleFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZ2V0U2Nyb2xsYmFyV2lkdGhcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0U2Nyb2xsYmFyV2lkdGgoKSB7XG4gICAgICBpZiAodGhpcy5HcmlkKSB7XG4gICAgICAgIHZhciBfR3JpZCA9IGZpbmRET01Ob2RlKHRoaXMuR3JpZCk7XG5cbiAgICAgICAgdmFyIGNsaWVudFdpZHRoID0gX0dyaWQuY2xpZW50V2lkdGggfHwgMDtcbiAgICAgICAgdmFyIG9mZnNldFdpZHRoID0gX0dyaWQub2Zmc2V0V2lkdGggfHwgMDtcbiAgICAgICAgcmV0dXJuIG9mZnNldFdpZHRoIC0gY2xpZW50V2lkdGg7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiAwO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJjb21wb25lbnREaWRNb3VudFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICAgIHRoaXMuX3NldFNjcm9sbGJhcldpZHRoKCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImNvbXBvbmVudERpZFVwZGF0ZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnREaWRVcGRhdGUoKSB7XG4gICAgICB0aGlzLl9zZXRTY3JvbGxiYXJXaWR0aCgpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJyZW5kZXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgIHZhciBfdGhpcyRwcm9wcyA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgY2hpbGRyZW4gPSBfdGhpcyRwcm9wcy5jaGlsZHJlbixcbiAgICAgICAgICBjbGFzc05hbWUgPSBfdGhpcyRwcm9wcy5jbGFzc05hbWUsXG4gICAgICAgICAgZGlzYWJsZUhlYWRlciA9IF90aGlzJHByb3BzLmRpc2FibGVIZWFkZXIsXG4gICAgICAgICAgZ3JpZENsYXNzTmFtZSA9IF90aGlzJHByb3BzLmdyaWRDbGFzc05hbWUsXG4gICAgICAgICAgZ3JpZFN0eWxlID0gX3RoaXMkcHJvcHMuZ3JpZFN0eWxlLFxuICAgICAgICAgIGhlYWRlckhlaWdodCA9IF90aGlzJHByb3BzLmhlYWRlckhlaWdodCxcbiAgICAgICAgICBoZWFkZXJSb3dSZW5kZXJlciA9IF90aGlzJHByb3BzLmhlYWRlclJvd1JlbmRlcmVyLFxuICAgICAgICAgIGhlaWdodCA9IF90aGlzJHByb3BzLmhlaWdodCxcbiAgICAgICAgICBpZCA9IF90aGlzJHByb3BzLmlkLFxuICAgICAgICAgIG5vUm93c1JlbmRlcmVyID0gX3RoaXMkcHJvcHMubm9Sb3dzUmVuZGVyZXIsXG4gICAgICAgICAgcm93Q2xhc3NOYW1lID0gX3RoaXMkcHJvcHMucm93Q2xhc3NOYW1lLFxuICAgICAgICAgIHJvd1N0eWxlID0gX3RoaXMkcHJvcHMucm93U3R5bGUsXG4gICAgICAgICAgc2Nyb2xsVG9JbmRleCA9IF90aGlzJHByb3BzLnNjcm9sbFRvSW5kZXgsXG4gICAgICAgICAgc3R5bGUgPSBfdGhpcyRwcm9wcy5zdHlsZSxcbiAgICAgICAgICB3aWR0aCA9IF90aGlzJHByb3BzLndpZHRoO1xuICAgICAgdmFyIHNjcm9sbGJhcldpZHRoID0gdGhpcy5zdGF0ZS5zY3JvbGxiYXJXaWR0aDtcbiAgICAgIHZhciBhdmFpbGFibGVSb3dzSGVpZ2h0ID0gZGlzYWJsZUhlYWRlciA/IGhlaWdodCA6IGhlaWdodCAtIGhlYWRlckhlaWdodDtcbiAgICAgIHZhciByb3dDbGFzcyA9IHR5cGVvZiByb3dDbGFzc05hbWUgPT09ICdmdW5jdGlvbicgPyByb3dDbGFzc05hbWUoe1xuICAgICAgICBpbmRleDogLTFcbiAgICAgIH0pIDogcm93Q2xhc3NOYW1lO1xuICAgICAgdmFyIHJvd1N0eWxlT2JqZWN0ID0gdHlwZW9mIHJvd1N0eWxlID09PSAnZnVuY3Rpb24nID8gcm93U3R5bGUoe1xuICAgICAgICBpbmRleDogLTFcbiAgICAgIH0pIDogcm93U3R5bGU7IC8vIFByZWNvbXB1dGUgYW5kIGNhY2hlIGNvbHVtbiBzdHlsZXMgYmVmb3JlIHJlbmRlcmluZyByb3dzIGFuZCBjb2x1bW5zIHRvIHNwZWVkIHRoaW5ncyB1cFxuXG4gICAgICB0aGlzLl9jYWNoZWRDb2x1bW5TdHlsZXMgPSBbXTtcbiAgICAgIFJlYWN0LkNoaWxkcmVuLnRvQXJyYXkoY2hpbGRyZW4pLmZvckVhY2goZnVuY3Rpb24gKGNvbHVtbiwgaW5kZXgpIHtcbiAgICAgICAgdmFyIGZsZXhTdHlsZXMgPSBfdGhpczIuX2dldEZsZXhTdHlsZUZvckNvbHVtbihjb2x1bW4sIGNvbHVtbi5wcm9wcy5zdHlsZSk7XG5cbiAgICAgICAgX3RoaXMyLl9jYWNoZWRDb2x1bW5TdHlsZXNbaW5kZXhdID0gX29iamVjdFNwcmVhZCh7XG4gICAgICAgICAgb3ZlcmZsb3c6ICdoaWRkZW4nXG4gICAgICAgIH0sIGZsZXhTdHlsZXMpO1xuICAgICAgfSk7IC8vIE5vdGUgdGhhdCB3ZSBzcGVjaWZ5IDpyb3dDb3VudCwgOnNjcm9sbGJhcldpZHRoLCA6c29ydEJ5LCBhbmQgOnNvcnREaXJlY3Rpb24gYXMgcHJvcGVydGllcyBvbiBHcmlkIGV2ZW4gdGhvdWdoIHRoZXNlIGhhdmUgbm90aGluZyB0byBkbyB3aXRoIEdyaWQuXG4gICAgICAvLyBUaGlzIGlzIGRvbmUgYmVjYXVzZSBHcmlkIGlzIGEgcHVyZSBjb21wb25lbnQgYW5kIHdvbid0IHVwZGF0ZSB1bmxlc3MgaXRzIHByb3BlcnRpZXMgb3Igc3RhdGUgaGFzIGNoYW5nZWQuXG4gICAgICAvLyBBbnkgcHJvcGVydHkgdGhhdCBzaG91bGQgdHJpZ2dlciBhIHJlLXJlbmRlciBvZiBHcmlkIHRoZW4gaXMgc3BlY2lmaWVkIGhlcmUgdG8gYXZvaWQgYSBzdGFsZSBkaXNwbGF5LlxuXG4gICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICAgIFwiYXJpYS1sYWJlbFwiOiB0aGlzLnByb3BzWydhcmlhLWxhYmVsJ10sXG4gICAgICAgIFwiYXJpYS1sYWJlbGxlZGJ5XCI6IHRoaXMucHJvcHNbJ2FyaWEtbGFiZWxsZWRieSddLFxuICAgICAgICBcImFyaWEtY29sY291bnRcIjogUmVhY3QuQ2hpbGRyZW4udG9BcnJheShjaGlsZHJlbikubGVuZ3RoLFxuICAgICAgICBcImFyaWEtcm93Y291bnRcIjogdGhpcy5wcm9wcy5yb3dDb3VudCxcbiAgICAgICAgY2xhc3NOYW1lOiBjbHN4KCdSZWFjdFZpcnR1YWxpemVkX19UYWJsZScsIGNsYXNzTmFtZSksXG4gICAgICAgIGlkOiBpZCxcbiAgICAgICAgcm9sZTogXCJncmlkXCIsXG4gICAgICAgIHN0eWxlOiBzdHlsZVxuICAgICAgfSwgIWRpc2FibGVIZWFkZXIgJiYgaGVhZGVyUm93UmVuZGVyZXIoe1xuICAgICAgICBjbGFzc05hbWU6IGNsc3goJ1JlYWN0VmlydHVhbGl6ZWRfX1RhYmxlX19oZWFkZXJSb3cnLCByb3dDbGFzcyksXG4gICAgICAgIGNvbHVtbnM6IHRoaXMuX2dldEhlYWRlckNvbHVtbnMoKSxcbiAgICAgICAgc3R5bGU6IF9vYmplY3RTcHJlYWQoe1xuICAgICAgICAgIGhlaWdodDogaGVhZGVySGVpZ2h0LFxuICAgICAgICAgIG92ZXJmbG93OiAnaGlkZGVuJyxcbiAgICAgICAgICBwYWRkaW5nUmlnaHQ6IHNjcm9sbGJhcldpZHRoLFxuICAgICAgICAgIHdpZHRoOiB3aWR0aFxuICAgICAgICB9LCByb3dTdHlsZU9iamVjdClcbiAgICAgIH0pLCBSZWFjdC5jcmVhdGVFbGVtZW50KEdyaWQsIF9leHRlbmRzKHt9LCB0aGlzLnByb3BzLCB7XG4gICAgICAgIFwiYXJpYS1yZWFkb25seVwiOiBudWxsLFxuICAgICAgICBhdXRvQ29udGFpbmVyV2lkdGg6IHRydWUsXG4gICAgICAgIGNsYXNzTmFtZTogY2xzeCgnUmVhY3RWaXJ0dWFsaXplZF9fVGFibGVfX0dyaWQnLCBncmlkQ2xhc3NOYW1lKSxcbiAgICAgICAgY2VsbFJlbmRlcmVyOiB0aGlzLl9jcmVhdGVSb3csXG4gICAgICAgIGNvbHVtbldpZHRoOiB3aWR0aCxcbiAgICAgICAgY29sdW1uQ291bnQ6IDEsXG4gICAgICAgIGhlaWdodDogYXZhaWxhYmxlUm93c0hlaWdodCxcbiAgICAgICAgaWQ6IHVuZGVmaW5lZCxcbiAgICAgICAgbm9Db250ZW50UmVuZGVyZXI6IG5vUm93c1JlbmRlcmVyLFxuICAgICAgICBvblNjcm9sbDogdGhpcy5fb25TY3JvbGwsXG4gICAgICAgIG9uU2VjdGlvblJlbmRlcmVkOiB0aGlzLl9vblNlY3Rpb25SZW5kZXJlZCxcbiAgICAgICAgcmVmOiB0aGlzLl9zZXRSZWYsXG4gICAgICAgIHJvbGU6IFwicm93Z3JvdXBcIixcbiAgICAgICAgc2Nyb2xsYmFyV2lkdGg6IHNjcm9sbGJhcldpZHRoLFxuICAgICAgICBzY3JvbGxUb1Jvdzogc2Nyb2xsVG9JbmRleCxcbiAgICAgICAgc3R5bGU6IF9vYmplY3RTcHJlYWQoe30sIGdyaWRTdHlsZSwge1xuICAgICAgICAgIG92ZXJmbG93WDogJ2hpZGRlbidcbiAgICAgICAgfSlcbiAgICAgIH0pKSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIl9jcmVhdGVDb2x1bW5cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gX2NyZWF0ZUNvbHVtbihfcmVmNCkge1xuICAgICAgdmFyIGNvbHVtbiA9IF9yZWY0LmNvbHVtbixcbiAgICAgICAgICBjb2x1bW5JbmRleCA9IF9yZWY0LmNvbHVtbkluZGV4LFxuICAgICAgICAgIGlzU2Nyb2xsaW5nID0gX3JlZjQuaXNTY3JvbGxpbmcsXG4gICAgICAgICAgcGFyZW50ID0gX3JlZjQucGFyZW50LFxuICAgICAgICAgIHJvd0RhdGEgPSBfcmVmNC5yb3dEYXRhLFxuICAgICAgICAgIHJvd0luZGV4ID0gX3JlZjQucm93SW5kZXg7XG4gICAgICB2YXIgb25Db2x1bW5DbGljayA9IHRoaXMucHJvcHMub25Db2x1bW5DbGljaztcbiAgICAgIHZhciBfY29sdW1uJHByb3BzID0gY29sdW1uLnByb3BzLFxuICAgICAgICAgIGNlbGxEYXRhR2V0dGVyID0gX2NvbHVtbiRwcm9wcy5jZWxsRGF0YUdldHRlcixcbiAgICAgICAgICBjZWxsUmVuZGVyZXIgPSBfY29sdW1uJHByb3BzLmNlbGxSZW5kZXJlcixcbiAgICAgICAgICBjbGFzc05hbWUgPSBfY29sdW1uJHByb3BzLmNsYXNzTmFtZSxcbiAgICAgICAgICBjb2x1bW5EYXRhID0gX2NvbHVtbiRwcm9wcy5jb2x1bW5EYXRhLFxuICAgICAgICAgIGRhdGFLZXkgPSBfY29sdW1uJHByb3BzLmRhdGFLZXksXG4gICAgICAgICAgaWQgPSBfY29sdW1uJHByb3BzLmlkO1xuICAgICAgdmFyIGNlbGxEYXRhID0gY2VsbERhdGFHZXR0ZXIoe1xuICAgICAgICBjb2x1bW5EYXRhOiBjb2x1bW5EYXRhLFxuICAgICAgICBkYXRhS2V5OiBkYXRhS2V5LFxuICAgICAgICByb3dEYXRhOiByb3dEYXRhXG4gICAgICB9KTtcbiAgICAgIHZhciByZW5kZXJlZENlbGwgPSBjZWxsUmVuZGVyZXIoe1xuICAgICAgICBjZWxsRGF0YTogY2VsbERhdGEsXG4gICAgICAgIGNvbHVtbkRhdGE6IGNvbHVtbkRhdGEsXG4gICAgICAgIGNvbHVtbkluZGV4OiBjb2x1bW5JbmRleCxcbiAgICAgICAgZGF0YUtleTogZGF0YUtleSxcbiAgICAgICAgaXNTY3JvbGxpbmc6IGlzU2Nyb2xsaW5nLFxuICAgICAgICBwYXJlbnQ6IHBhcmVudCxcbiAgICAgICAgcm93RGF0YTogcm93RGF0YSxcbiAgICAgICAgcm93SW5kZXg6IHJvd0luZGV4XG4gICAgICB9KTtcblxuICAgICAgdmFyIG9uQ2xpY2sgPSBmdW5jdGlvbiBvbkNsaWNrKGV2ZW50KSB7XG4gICAgICAgIG9uQ29sdW1uQ2xpY2sgJiYgb25Db2x1bW5DbGljayh7XG4gICAgICAgICAgY29sdW1uRGF0YTogY29sdW1uRGF0YSxcbiAgICAgICAgICBkYXRhS2V5OiBkYXRhS2V5LFxuICAgICAgICAgIGV2ZW50OiBldmVudFxuICAgICAgICB9KTtcbiAgICAgIH07XG5cbiAgICAgIHZhciBzdHlsZSA9IHRoaXMuX2NhY2hlZENvbHVtblN0eWxlc1tjb2x1bW5JbmRleF07XG4gICAgICB2YXIgdGl0bGUgPSB0eXBlb2YgcmVuZGVyZWRDZWxsID09PSAnc3RyaW5nJyA/IHJlbmRlcmVkQ2VsbCA6IG51bGw7IC8vIEF2b2lkIHVzaW5nIG9iamVjdC1zcHJlYWQgc3ludGF4IHdpdGggbXVsdGlwbGUgb2JqZWN0cyBoZXJlLFxuICAgICAgLy8gU2luY2UgaXQgcmVzdWx0cyBpbiBhbiBleHRyYSBtZXRob2QgY2FsbCB0byAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2V4dGVuZHMnXG4gICAgICAvLyBTZWUgUFIgaHR0cHM6Ly9naXRodWIuY29tL2J2YXVnaG4vcmVhY3QtdmlydHVhbGl6ZWQvcHVsbC85NDJcblxuICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgICBcImFyaWEtY29saW5kZXhcIjogY29sdW1uSW5kZXggKyAxLFxuICAgICAgICBcImFyaWEtZGVzY3JpYmVkYnlcIjogaWQsXG4gICAgICAgIGNsYXNzTmFtZTogY2xzeCgnUmVhY3RWaXJ0dWFsaXplZF9fVGFibGVfX3Jvd0NvbHVtbicsIGNsYXNzTmFtZSksXG4gICAgICAgIGtleTogJ1JvdycgKyByb3dJbmRleCArICctJyArICdDb2wnICsgY29sdW1uSW5kZXgsXG4gICAgICAgIG9uQ2xpY2s6IG9uQ2xpY2ssXG4gICAgICAgIHJvbGU6IFwiZ3JpZGNlbGxcIixcbiAgICAgICAgc3R5bGU6IHN0eWxlLFxuICAgICAgICB0aXRsZTogdGl0bGVcbiAgICAgIH0sIHJlbmRlcmVkQ2VsbCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIl9jcmVhdGVIZWFkZXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gX2NyZWF0ZUhlYWRlcihfcmVmNSkge1xuICAgICAgdmFyIGNvbHVtbiA9IF9yZWY1LmNvbHVtbixcbiAgICAgICAgICBpbmRleCA9IF9yZWY1LmluZGV4O1xuICAgICAgdmFyIF90aGlzJHByb3BzMiA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgaGVhZGVyQ2xhc3NOYW1lID0gX3RoaXMkcHJvcHMyLmhlYWRlckNsYXNzTmFtZSxcbiAgICAgICAgICBoZWFkZXJTdHlsZSA9IF90aGlzJHByb3BzMi5oZWFkZXJTdHlsZSxcbiAgICAgICAgICBvbkhlYWRlckNsaWNrID0gX3RoaXMkcHJvcHMyLm9uSGVhZGVyQ2xpY2ssXG4gICAgICAgICAgc29ydCA9IF90aGlzJHByb3BzMi5zb3J0LFxuICAgICAgICAgIHNvcnRCeSA9IF90aGlzJHByb3BzMi5zb3J0QnksXG4gICAgICAgICAgc29ydERpcmVjdGlvbiA9IF90aGlzJHByb3BzMi5zb3J0RGlyZWN0aW9uO1xuICAgICAgdmFyIF9jb2x1bW4kcHJvcHMyID0gY29sdW1uLnByb3BzLFxuICAgICAgICAgIGNvbHVtbkRhdGEgPSBfY29sdW1uJHByb3BzMi5jb2x1bW5EYXRhLFxuICAgICAgICAgIGRhdGFLZXkgPSBfY29sdW1uJHByb3BzMi5kYXRhS2V5LFxuICAgICAgICAgIGRlZmF1bHRTb3J0RGlyZWN0aW9uID0gX2NvbHVtbiRwcm9wczIuZGVmYXVsdFNvcnREaXJlY3Rpb24sXG4gICAgICAgICAgZGlzYWJsZVNvcnQgPSBfY29sdW1uJHByb3BzMi5kaXNhYmxlU29ydCxcbiAgICAgICAgICBoZWFkZXJSZW5kZXJlciA9IF9jb2x1bW4kcHJvcHMyLmhlYWRlclJlbmRlcmVyLFxuICAgICAgICAgIGlkID0gX2NvbHVtbiRwcm9wczIuaWQsXG4gICAgICAgICAgbGFiZWwgPSBfY29sdW1uJHByb3BzMi5sYWJlbDtcbiAgICAgIHZhciBzb3J0RW5hYmxlZCA9ICFkaXNhYmxlU29ydCAmJiBzb3J0O1xuICAgICAgdmFyIGNsYXNzTmFtZXMgPSBjbHN4KCdSZWFjdFZpcnR1YWxpemVkX19UYWJsZV9faGVhZGVyQ29sdW1uJywgaGVhZGVyQ2xhc3NOYW1lLCBjb2x1bW4ucHJvcHMuaGVhZGVyQ2xhc3NOYW1lLCB7XG4gICAgICAgIFJlYWN0VmlydHVhbGl6ZWRfX1RhYmxlX19zb3J0YWJsZUhlYWRlckNvbHVtbjogc29ydEVuYWJsZWRcbiAgICAgIH0pO1xuXG4gICAgICB2YXIgc3R5bGUgPSB0aGlzLl9nZXRGbGV4U3R5bGVGb3JDb2x1bW4oY29sdW1uLCBfb2JqZWN0U3ByZWFkKHt9LCBoZWFkZXJTdHlsZSwge30sIGNvbHVtbi5wcm9wcy5oZWFkZXJTdHlsZSkpO1xuXG4gICAgICB2YXIgcmVuZGVyZWRIZWFkZXIgPSBoZWFkZXJSZW5kZXJlcih7XG4gICAgICAgIGNvbHVtbkRhdGE6IGNvbHVtbkRhdGEsXG4gICAgICAgIGRhdGFLZXk6IGRhdGFLZXksXG4gICAgICAgIGRpc2FibGVTb3J0OiBkaXNhYmxlU29ydCxcbiAgICAgICAgbGFiZWw6IGxhYmVsLFxuICAgICAgICBzb3J0Qnk6IHNvcnRCeSxcbiAgICAgICAgc29ydERpcmVjdGlvbjogc29ydERpcmVjdGlvblxuICAgICAgfSk7XG4gICAgICB2YXIgaGVhZGVyT25DbGljaywgaGVhZGVyT25LZXlEb3duLCBoZWFkZXJUYWJJbmRleCwgaGVhZGVyQXJpYVNvcnQsIGhlYWRlckFyaWFMYWJlbDtcblxuICAgICAgaWYgKHNvcnRFbmFibGVkIHx8IG9uSGVhZGVyQ2xpY2spIHtcbiAgICAgICAgLy8gSWYgdGhpcyBpcyBhIHNvcnRhYmxlIGhlYWRlciwgY2xpY2tpbmcgaXQgc2hvdWxkIHVwZGF0ZSB0aGUgdGFibGUgZGF0YSdzIHNvcnRpbmcuXG4gICAgICAgIHZhciBpc0ZpcnN0VGltZVNvcnQgPSBzb3J0QnkgIT09IGRhdGFLZXk7IC8vIElmIHRoaXMgaXMgdGhlIGZpcnN0VGltZSBzb3J0IG9mIHRoaXMgY29sdW1uLCB1c2UgdGhlIGNvbHVtbiBkZWZhdWx0IHNvcnQgb3JkZXIuXG4gICAgICAgIC8vIE90aGVyd2lzZSwgaW52ZXJ0IHRoZSBkaXJlY3Rpb24gb2YgdGhlIHNvcnQuXG5cbiAgICAgICAgdmFyIG5ld1NvcnREaXJlY3Rpb24gPSBpc0ZpcnN0VGltZVNvcnQgPyBkZWZhdWx0U29ydERpcmVjdGlvbiA6IHNvcnREaXJlY3Rpb24gPT09IFNvcnREaXJlY3Rpb24uREVTQyA/IFNvcnREaXJlY3Rpb24uQVNDIDogU29ydERpcmVjdGlvbi5ERVNDO1xuXG4gICAgICAgIHZhciBvbkNsaWNrID0gZnVuY3Rpb24gb25DbGljayhldmVudCkge1xuICAgICAgICAgIHNvcnRFbmFibGVkICYmIHNvcnQoe1xuICAgICAgICAgICAgZGVmYXVsdFNvcnREaXJlY3Rpb246IGRlZmF1bHRTb3J0RGlyZWN0aW9uLFxuICAgICAgICAgICAgZXZlbnQ6IGV2ZW50LFxuICAgICAgICAgICAgc29ydEJ5OiBkYXRhS2V5LFxuICAgICAgICAgICAgc29ydERpcmVjdGlvbjogbmV3U29ydERpcmVjdGlvblxuICAgICAgICAgIH0pO1xuICAgICAgICAgIG9uSGVhZGVyQ2xpY2sgJiYgb25IZWFkZXJDbGljayh7XG4gICAgICAgICAgICBjb2x1bW5EYXRhOiBjb2x1bW5EYXRhLFxuICAgICAgICAgICAgZGF0YUtleTogZGF0YUtleSxcbiAgICAgICAgICAgIGV2ZW50OiBldmVudFxuICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuXG4gICAgICAgIHZhciBvbktleURvd24gPSBmdW5jdGlvbiBvbktleURvd24oZXZlbnQpIHtcbiAgICAgICAgICBpZiAoZXZlbnQua2V5ID09PSAnRW50ZXInIHx8IGV2ZW50LmtleSA9PT0gJyAnKSB7XG4gICAgICAgICAgICBvbkNsaWNrKGV2ZW50KTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgaGVhZGVyQXJpYUxhYmVsID0gY29sdW1uLnByb3BzWydhcmlhLWxhYmVsJ10gfHwgbGFiZWwgfHwgZGF0YUtleTtcbiAgICAgICAgaGVhZGVyQXJpYVNvcnQgPSAnbm9uZSc7XG4gICAgICAgIGhlYWRlclRhYkluZGV4ID0gMDtcbiAgICAgICAgaGVhZGVyT25DbGljayA9IG9uQ2xpY2s7XG4gICAgICAgIGhlYWRlck9uS2V5RG93biA9IG9uS2V5RG93bjtcbiAgICAgIH1cblxuICAgICAgaWYgKHNvcnRCeSA9PT0gZGF0YUtleSkge1xuICAgICAgICBoZWFkZXJBcmlhU29ydCA9IHNvcnREaXJlY3Rpb24gPT09IFNvcnREaXJlY3Rpb24uQVNDID8gJ2FzY2VuZGluZycgOiAnZGVzY2VuZGluZyc7XG4gICAgICB9IC8vIEF2b2lkIHVzaW5nIG9iamVjdC1zcHJlYWQgc3ludGF4IHdpdGggbXVsdGlwbGUgb2JqZWN0cyBoZXJlLFxuICAgICAgLy8gU2luY2UgaXQgcmVzdWx0cyBpbiBhbiBleHRyYSBtZXRob2QgY2FsbCB0byAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2V4dGVuZHMnXG4gICAgICAvLyBTZWUgUFIgaHR0cHM6Ly9naXRodWIuY29tL2J2YXVnaG4vcmVhY3QtdmlydHVhbGl6ZWQvcHVsbC85NDJcblxuXG4gICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICAgIFwiYXJpYS1sYWJlbFwiOiBoZWFkZXJBcmlhTGFiZWwsXG4gICAgICAgIFwiYXJpYS1zb3J0XCI6IGhlYWRlckFyaWFTb3J0LFxuICAgICAgICBjbGFzc05hbWU6IGNsYXNzTmFtZXMsXG4gICAgICAgIGlkOiBpZCxcbiAgICAgICAga2V5OiAnSGVhZGVyLUNvbCcgKyBpbmRleCxcbiAgICAgICAgb25DbGljazogaGVhZGVyT25DbGljayxcbiAgICAgICAgb25LZXlEb3duOiBoZWFkZXJPbktleURvd24sXG4gICAgICAgIHJvbGU6IFwiY29sdW1uaGVhZGVyXCIsXG4gICAgICAgIHN0eWxlOiBzdHlsZSxcbiAgICAgICAgdGFiSW5kZXg6IGhlYWRlclRhYkluZGV4XG4gICAgICB9LCByZW5kZXJlZEhlYWRlcik7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIl9jcmVhdGVSb3dcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gX2NyZWF0ZVJvdyhfcmVmNikge1xuICAgICAgdmFyIF90aGlzMyA9IHRoaXM7XG5cbiAgICAgIHZhciBpbmRleCA9IF9yZWY2LnJvd0luZGV4LFxuICAgICAgICAgIGlzU2Nyb2xsaW5nID0gX3JlZjYuaXNTY3JvbGxpbmcsXG4gICAgICAgICAga2V5ID0gX3JlZjYua2V5LFxuICAgICAgICAgIHBhcmVudCA9IF9yZWY2LnBhcmVudCxcbiAgICAgICAgICBzdHlsZSA9IF9yZWY2LnN0eWxlO1xuICAgICAgdmFyIF90aGlzJHByb3BzMyA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgY2hpbGRyZW4gPSBfdGhpcyRwcm9wczMuY2hpbGRyZW4sXG4gICAgICAgICAgb25Sb3dDbGljayA9IF90aGlzJHByb3BzMy5vblJvd0NsaWNrLFxuICAgICAgICAgIG9uUm93RG91YmxlQ2xpY2sgPSBfdGhpcyRwcm9wczMub25Sb3dEb3VibGVDbGljayxcbiAgICAgICAgICBvblJvd1JpZ2h0Q2xpY2sgPSBfdGhpcyRwcm9wczMub25Sb3dSaWdodENsaWNrLFxuICAgICAgICAgIG9uUm93TW91c2VPdmVyID0gX3RoaXMkcHJvcHMzLm9uUm93TW91c2VPdmVyLFxuICAgICAgICAgIG9uUm93TW91c2VPdXQgPSBfdGhpcyRwcm9wczMub25Sb3dNb3VzZU91dCxcbiAgICAgICAgICByb3dDbGFzc05hbWUgPSBfdGhpcyRwcm9wczMucm93Q2xhc3NOYW1lLFxuICAgICAgICAgIHJvd0dldHRlciA9IF90aGlzJHByb3BzMy5yb3dHZXR0ZXIsXG4gICAgICAgICAgcm93UmVuZGVyZXIgPSBfdGhpcyRwcm9wczMucm93UmVuZGVyZXIsXG4gICAgICAgICAgcm93U3R5bGUgPSBfdGhpcyRwcm9wczMucm93U3R5bGU7XG4gICAgICB2YXIgc2Nyb2xsYmFyV2lkdGggPSB0aGlzLnN0YXRlLnNjcm9sbGJhcldpZHRoO1xuICAgICAgdmFyIHJvd0NsYXNzID0gdHlwZW9mIHJvd0NsYXNzTmFtZSA9PT0gJ2Z1bmN0aW9uJyA/IHJvd0NsYXNzTmFtZSh7XG4gICAgICAgIGluZGV4OiBpbmRleFxuICAgICAgfSkgOiByb3dDbGFzc05hbWU7XG4gICAgICB2YXIgcm93U3R5bGVPYmplY3QgPSB0eXBlb2Ygcm93U3R5bGUgPT09ICdmdW5jdGlvbicgPyByb3dTdHlsZSh7XG4gICAgICAgIGluZGV4OiBpbmRleFxuICAgICAgfSkgOiByb3dTdHlsZTtcbiAgICAgIHZhciByb3dEYXRhID0gcm93R2V0dGVyKHtcbiAgICAgICAgaW5kZXg6IGluZGV4XG4gICAgICB9KTtcbiAgICAgIHZhciBjb2x1bW5zID0gUmVhY3QuQ2hpbGRyZW4udG9BcnJheShjaGlsZHJlbikubWFwKGZ1bmN0aW9uIChjb2x1bW4sIGNvbHVtbkluZGV4KSB7XG4gICAgICAgIHJldHVybiBfdGhpczMuX2NyZWF0ZUNvbHVtbih7XG4gICAgICAgICAgY29sdW1uOiBjb2x1bW4sXG4gICAgICAgICAgY29sdW1uSW5kZXg6IGNvbHVtbkluZGV4LFxuICAgICAgICAgIGlzU2Nyb2xsaW5nOiBpc1Njcm9sbGluZyxcbiAgICAgICAgICBwYXJlbnQ6IHBhcmVudCxcbiAgICAgICAgICByb3dEYXRhOiByb3dEYXRhLFxuICAgICAgICAgIHJvd0luZGV4OiBpbmRleCxcbiAgICAgICAgICBzY3JvbGxiYXJXaWR0aDogc2Nyb2xsYmFyV2lkdGhcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICAgIHZhciBjbGFzc05hbWUgPSBjbHN4KCdSZWFjdFZpcnR1YWxpemVkX19UYWJsZV9fcm93Jywgcm93Q2xhc3MpO1xuXG4gICAgICB2YXIgZmxhdHRlbmVkU3R5bGUgPSBfb2JqZWN0U3ByZWFkKHt9LCBzdHlsZSwge1xuICAgICAgICBoZWlnaHQ6IHRoaXMuX2dldFJvd0hlaWdodChpbmRleCksXG4gICAgICAgIG92ZXJmbG93OiAnaGlkZGVuJyxcbiAgICAgICAgcGFkZGluZ1JpZ2h0OiBzY3JvbGxiYXJXaWR0aFxuICAgICAgfSwgcm93U3R5bGVPYmplY3QpO1xuXG4gICAgICByZXR1cm4gcm93UmVuZGVyZXIoe1xuICAgICAgICBjbGFzc05hbWU6IGNsYXNzTmFtZSxcbiAgICAgICAgY29sdW1uczogY29sdW1ucyxcbiAgICAgICAgaW5kZXg6IGluZGV4LFxuICAgICAgICBpc1Njcm9sbGluZzogaXNTY3JvbGxpbmcsXG4gICAgICAgIGtleToga2V5LFxuICAgICAgICBvblJvd0NsaWNrOiBvblJvd0NsaWNrLFxuICAgICAgICBvblJvd0RvdWJsZUNsaWNrOiBvblJvd0RvdWJsZUNsaWNrLFxuICAgICAgICBvblJvd1JpZ2h0Q2xpY2s6IG9uUm93UmlnaHRDbGljayxcbiAgICAgICAgb25Sb3dNb3VzZU92ZXI6IG9uUm93TW91c2VPdmVyLFxuICAgICAgICBvblJvd01vdXNlT3V0OiBvblJvd01vdXNlT3V0LFxuICAgICAgICByb3dEYXRhOiByb3dEYXRhLFxuICAgICAgICBzdHlsZTogZmxhdHRlbmVkU3R5bGVcbiAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBEZXRlcm1pbmVzIHRoZSBmbGV4LXNocmluaywgZmxleC1ncm93LCBhbmQgd2lkdGggdmFsdWVzIGZvciBhIGNlbGwgKGhlYWRlciBvciBjb2x1bW4pLlxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiX2dldEZsZXhTdHlsZUZvckNvbHVtblwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfZ2V0RmxleFN0eWxlRm9yQ29sdW1uKGNvbHVtbikge1xuICAgICAgdmFyIGN1c3RvbVN0eWxlID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTtcbiAgICAgIHZhciBmbGV4VmFsdWUgPSBcIlwiLmNvbmNhdChjb2x1bW4ucHJvcHMuZmxleEdyb3csIFwiIFwiKS5jb25jYXQoY29sdW1uLnByb3BzLmZsZXhTaHJpbmssIFwiIFwiKS5jb25jYXQoY29sdW1uLnByb3BzLndpZHRoLCBcInB4XCIpO1xuXG4gICAgICB2YXIgc3R5bGUgPSBfb2JqZWN0U3ByZWFkKHt9LCBjdXN0b21TdHlsZSwge1xuICAgICAgICBmbGV4OiBmbGV4VmFsdWUsXG4gICAgICAgIG1zRmxleDogZmxleFZhbHVlLFxuICAgICAgICBXZWJraXRGbGV4OiBmbGV4VmFsdWVcbiAgICAgIH0pO1xuXG4gICAgICBpZiAoY29sdW1uLnByb3BzLm1heFdpZHRoKSB7XG4gICAgICAgIHN0eWxlLm1heFdpZHRoID0gY29sdW1uLnByb3BzLm1heFdpZHRoO1xuICAgICAgfVxuXG4gICAgICBpZiAoY29sdW1uLnByb3BzLm1pbldpZHRoKSB7XG4gICAgICAgIHN0eWxlLm1pbldpZHRoID0gY29sdW1uLnByb3BzLm1pbldpZHRoO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gc3R5bGU7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIl9nZXRIZWFkZXJDb2x1bW5zXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9nZXRIZWFkZXJDb2x1bW5zKCkge1xuICAgICAgdmFyIF90aGlzNCA9IHRoaXM7XG5cbiAgICAgIHZhciBfdGhpcyRwcm9wczQgPSB0aGlzLnByb3BzLFxuICAgICAgICAgIGNoaWxkcmVuID0gX3RoaXMkcHJvcHM0LmNoaWxkcmVuLFxuICAgICAgICAgIGRpc2FibGVIZWFkZXIgPSBfdGhpcyRwcm9wczQuZGlzYWJsZUhlYWRlcjtcbiAgICAgIHZhciBpdGVtcyA9IGRpc2FibGVIZWFkZXIgPyBbXSA6IFJlYWN0LkNoaWxkcmVuLnRvQXJyYXkoY2hpbGRyZW4pO1xuICAgICAgcmV0dXJuIGl0ZW1zLm1hcChmdW5jdGlvbiAoY29sdW1uLCBpbmRleCkge1xuICAgICAgICByZXR1cm4gX3RoaXM0Ll9jcmVhdGVIZWFkZXIoe1xuICAgICAgICAgIGNvbHVtbjogY29sdW1uLFxuICAgICAgICAgIGluZGV4OiBpbmRleFxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJfZ2V0Um93SGVpZ2h0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9nZXRSb3dIZWlnaHQocm93SW5kZXgpIHtcbiAgICAgIHZhciByb3dIZWlnaHQgPSB0aGlzLnByb3BzLnJvd0hlaWdodDtcbiAgICAgIHJldHVybiB0eXBlb2Ygcm93SGVpZ2h0ID09PSAnZnVuY3Rpb24nID8gcm93SGVpZ2h0KHtcbiAgICAgICAgaW5kZXg6IHJvd0luZGV4XG4gICAgICB9KSA6IHJvd0hlaWdodDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiX29uU2Nyb2xsXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9vblNjcm9sbChfcmVmNykge1xuICAgICAgdmFyIGNsaWVudEhlaWdodCA9IF9yZWY3LmNsaWVudEhlaWdodCxcbiAgICAgICAgICBzY3JvbGxIZWlnaHQgPSBfcmVmNy5zY3JvbGxIZWlnaHQsXG4gICAgICAgICAgc2Nyb2xsVG9wID0gX3JlZjcuc2Nyb2xsVG9wO1xuICAgICAgdmFyIG9uU2Nyb2xsID0gdGhpcy5wcm9wcy5vblNjcm9sbDtcbiAgICAgIG9uU2Nyb2xsKHtcbiAgICAgICAgY2xpZW50SGVpZ2h0OiBjbGllbnRIZWlnaHQsXG4gICAgICAgIHNjcm9sbEhlaWdodDogc2Nyb2xsSGVpZ2h0LFxuICAgICAgICBzY3JvbGxUb3A6IHNjcm9sbFRvcFxuICAgICAgfSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIl9vblNlY3Rpb25SZW5kZXJlZFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfb25TZWN0aW9uUmVuZGVyZWQoX3JlZjgpIHtcbiAgICAgIHZhciByb3dPdmVyc2NhblN0YXJ0SW5kZXggPSBfcmVmOC5yb3dPdmVyc2NhblN0YXJ0SW5kZXgsXG4gICAgICAgICAgcm93T3ZlcnNjYW5TdG9wSW5kZXggPSBfcmVmOC5yb3dPdmVyc2NhblN0b3BJbmRleCxcbiAgICAgICAgICByb3dTdGFydEluZGV4ID0gX3JlZjgucm93U3RhcnRJbmRleCxcbiAgICAgICAgICByb3dTdG9wSW5kZXggPSBfcmVmOC5yb3dTdG9wSW5kZXg7XG4gICAgICB2YXIgb25Sb3dzUmVuZGVyZWQgPSB0aGlzLnByb3BzLm9uUm93c1JlbmRlcmVkO1xuICAgICAgb25Sb3dzUmVuZGVyZWQoe1xuICAgICAgICBvdmVyc2NhblN0YXJ0SW5kZXg6IHJvd092ZXJzY2FuU3RhcnRJbmRleCxcbiAgICAgICAgb3ZlcnNjYW5TdG9wSW5kZXg6IHJvd092ZXJzY2FuU3RvcEluZGV4LFxuICAgICAgICBzdGFydEluZGV4OiByb3dTdGFydEluZGV4LFxuICAgICAgICBzdG9wSW5kZXg6IHJvd1N0b3BJbmRleFxuICAgICAgfSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIl9zZXRSZWZcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gX3NldFJlZihyZWYpIHtcbiAgICAgIHRoaXMuR3JpZCA9IHJlZjtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiX3NldFNjcm9sbGJhcldpZHRoXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9zZXRTY3JvbGxiYXJXaWR0aCgpIHtcbiAgICAgIHZhciBzY3JvbGxiYXJXaWR0aCA9IHRoaXMuZ2V0U2Nyb2xsYmFyV2lkdGgoKTtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBzY3JvbGxiYXJXaWR0aDogc2Nyb2xsYmFyV2lkdGhcbiAgICAgIH0pO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBUYWJsZTtcbn0oUmVhY3QuUHVyZUNvbXBvbmVudCk7XG5cbl9kZWZpbmVQcm9wZXJ0eShUYWJsZSwgXCJkZWZhdWx0UHJvcHNcIiwge1xuICBkaXNhYmxlSGVhZGVyOiBmYWxzZSxcbiAgZXN0aW1hdGVkUm93U2l6ZTogMzAsXG4gIGhlYWRlckhlaWdodDogMCxcbiAgaGVhZGVyU3R5bGU6IHt9LFxuICBub1Jvd3NSZW5kZXJlcjogZnVuY3Rpb24gbm9Sb3dzUmVuZGVyZXIoKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH0sXG4gIG9uUm93c1JlbmRlcmVkOiBmdW5jdGlvbiBvblJvd3NSZW5kZXJlZCgpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfSxcbiAgb25TY3JvbGw6IGZ1bmN0aW9uIG9uU2Nyb2xsKCkge1xuICAgIHJldHVybiBudWxsO1xuICB9LFxuICBvdmVyc2NhbkluZGljZXNHZXR0ZXI6IGFjY2Vzc2liaWxpdHlPdmVyc2NhbkluZGljZXNHZXR0ZXIsXG4gIG92ZXJzY2FuUm93Q291bnQ6IDEwLFxuICByb3dSZW5kZXJlcjogZGVmYXVsdFJvd1JlbmRlcmVyLFxuICBoZWFkZXJSb3dSZW5kZXJlcjogZGVmYXVsdEhlYWRlclJvd1JlbmRlcmVyLFxuICByb3dTdHlsZToge30sXG4gIHNjcm9sbFRvQWxpZ25tZW50OiAnYXV0bycsXG4gIHNjcm9sbFRvSW5kZXg6IC0xLFxuICBzdHlsZToge31cbn0pO1xuXG5leHBvcnQgeyBUYWJsZSBhcyBkZWZhdWx0IH07XG5UYWJsZS5wcm9wVHlwZXMgPSBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyB7XG4gIC8qKiBUaGlzIGlzIGp1c3Qgc2V0IG9uIHRoZSBncmlkIHRvcCBlbGVtZW50LiAqL1xuICAnYXJpYS1sYWJlbCc6IFByb3BUeXBlcy5zdHJpbmcsXG5cbiAgLyoqIFRoaXMgaXMganVzdCBzZXQgb24gdGhlIGdyaWQgdG9wIGVsZW1lbnQuICovXG4gICdhcmlhLWxhYmVsbGVkYnknOiBQcm9wVHlwZXMuc3RyaW5nLFxuXG4gIC8qKlxuICAgKiBSZW1vdmVzIGZpeGVkIGhlaWdodCBmcm9tIHRoZSBzY3JvbGxpbmdDb250YWluZXIgc28gdGhhdCB0aGUgdG90YWwgaGVpZ2h0XG4gICAqIG9mIHJvd3MgY2FuIHN0cmV0Y2ggdGhlIHdpbmRvdy4gSW50ZW5kZWQgZm9yIHVzZSB3aXRoIFdpbmRvd1Njcm9sbGVyXG4gICAqL1xuICBhdXRvSGVpZ2h0OiBQcm9wVHlwZXMuYm9vbCxcblxuICAvKiogT25lIG9yIG1vcmUgQ29sdW1ucyBkZXNjcmliaW5nIHRoZSBkYXRhIGRpc3BsYXllZCBpbiB0aGlzIHJvdyAqL1xuICBjaGlsZHJlbjogZnVuY3Rpb24gY2hpbGRyZW4ocHJvcHMpIHtcbiAgICB2YXIgY2hpbGRyZW4gPSBSZWFjdC5DaGlsZHJlbi50b0FycmF5KHByb3BzLmNoaWxkcmVuKTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBjaGlsZFR5cGUgPSBjaGlsZHJlbltpXS50eXBlO1xuXG4gICAgICBpZiAoY2hpbGRUeXBlICE9PSBDb2x1bW4gJiYgIShjaGlsZFR5cGUucHJvdG90eXBlIGluc3RhbmNlb2YgQ29sdW1uKSkge1xuICAgICAgICByZXR1cm4gbmV3IEVycm9yKCdUYWJsZSBvbmx5IGFjY2VwdHMgY2hpbGRyZW4gb2YgdHlwZSBDb2x1bW4nKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sXG5cbiAgLyoqIE9wdGlvbmFsIENTUyBjbGFzcyBuYW1lICovXG4gIGNsYXNzTmFtZTogUHJvcFR5cGVzLnN0cmluZyxcblxuICAvKiogRGlzYWJsZSByZW5kZXJpbmcgdGhlIGhlYWRlciBhdCBhbGwgKi9cbiAgZGlzYWJsZUhlYWRlcjogUHJvcFR5cGVzLmJvb2wsXG5cbiAgLyoqXG4gICAqIFVzZWQgdG8gZXN0aW1hdGUgdGhlIHRvdGFsIGhlaWdodCBvZiBhIFRhYmxlIGJlZm9yZSBhbGwgb2YgaXRzIHJvd3MgaGF2ZSBhY3R1YWxseSBiZWVuIG1lYXN1cmVkLlxuICAgKiBUaGUgZXN0aW1hdGVkIHRvdGFsIGhlaWdodCBpcyBhZGp1c3RlZCBhcyByb3dzIGFyZSByZW5kZXJlZC5cbiAgICovXG4gIGVzdGltYXRlZFJvd1NpemU6IFByb3BUeXBlcy5udW1iZXIuaXNSZXF1aXJlZCxcblxuICAvKiogT3B0aW9uYWwgY3VzdG9tIENTUyBjbGFzcyBuYW1lIHRvIGF0dGFjaCB0byBpbm5lciBHcmlkIGVsZW1lbnQuICovXG4gIGdyaWRDbGFzc05hbWU6IFByb3BUeXBlcy5zdHJpbmcsXG5cbiAgLyoqIE9wdGlvbmFsIGlubGluZSBzdHlsZSB0byBhdHRhY2ggdG8gaW5uZXIgR3JpZCBlbGVtZW50LiAqL1xuICBncmlkU3R5bGU6IFByb3BUeXBlcy5vYmplY3QsXG5cbiAgLyoqIE9wdGlvbmFsIENTUyBjbGFzcyB0byBhcHBseSB0byBhbGwgY29sdW1uIGhlYWRlcnMgKi9cbiAgaGVhZGVyQ2xhc3NOYW1lOiBQcm9wVHlwZXMuc3RyaW5nLFxuXG4gIC8qKiBGaXhlZCBoZWlnaHQgb2YgaGVhZGVyIHJvdyAqL1xuICBoZWFkZXJIZWlnaHQ6IFByb3BUeXBlcy5udW1iZXIuaXNSZXF1aXJlZCxcblxuICAvKipcbiAgICogUmVzcG9uc2libGUgZm9yIHJlbmRlcmluZyBhIHRhYmxlIHJvdyBnaXZlbiBhbiBhcnJheSBvZiBjb2x1bW5zOlxuICAgKiBTaG91bGQgaW1wbGVtZW50IHRoZSBmb2xsb3dpbmcgaW50ZXJmYWNlOiAoe1xuICAgKiAgIGNsYXNzTmFtZTogc3RyaW5nLFxuICAgKiAgIGNvbHVtbnM6IGFueVtdLFxuICAgKiAgIHN0eWxlOiBhbnlcbiAgICogfSk6IFByb3BUeXBlcy5ub2RlXG4gICAqL1xuICBoZWFkZXJSb3dSZW5kZXJlcjogUHJvcFR5cGVzLmZ1bmMsXG5cbiAgLyoqIE9wdGlvbmFsIGN1c3RvbSBpbmxpbmUgc3R5bGUgdG8gYXR0YWNoIHRvIHRhYmxlIGhlYWRlciBjb2x1bW5zLiAqL1xuICBoZWFkZXJTdHlsZTogUHJvcFR5cGVzLm9iamVjdCxcblxuICAvKiogRml4ZWQvYXZhaWxhYmxlIGhlaWdodCBmb3Igb3V0IERPTSBlbGVtZW50ICovXG4gIGhlaWdodDogUHJvcFR5cGVzLm51bWJlci5pc1JlcXVpcmVkLFxuXG4gIC8qKiBPcHRpb25hbCBpZCAqL1xuICBpZDogUHJvcFR5cGVzLnN0cmluZyxcblxuICAvKiogT3B0aW9uYWwgcmVuZGVyZXIgdG8gYmUgdXNlZCBpbiBwbGFjZSBvZiB0YWJsZSBib2R5IHJvd3Mgd2hlbiByb3dDb3VudCBpcyAwICovXG4gIG5vUm93c1JlbmRlcmVyOiBQcm9wVHlwZXMuZnVuYyxcblxuICAvKipcbiAgICogT3B0aW9uYWwgY2FsbGJhY2sgd2hlbiBhIGNvbHVtbiBpcyBjbGlja2VkLlxuICAgKiAoeyBjb2x1bW5EYXRhOiBhbnksIGRhdGFLZXk6IHN0cmluZyB9KTogdm9pZFxuICAgKi9cbiAgb25Db2x1bW5DbGljazogUHJvcFR5cGVzLmZ1bmMsXG5cbiAgLyoqXG4gICAqIE9wdGlvbmFsIGNhbGxiYWNrIHdoZW4gYSBjb2x1bW4ncyBoZWFkZXIgaXMgY2xpY2tlZC5cbiAgICogKHsgY29sdW1uRGF0YTogYW55LCBkYXRhS2V5OiBzdHJpbmcgfSk6IHZvaWRcbiAgICovXG4gIG9uSGVhZGVyQ2xpY2s6IFByb3BUeXBlcy5mdW5jLFxuXG4gIC8qKlxuICAgKiBDYWxsYmFjayBpbnZva2VkIHdoZW4gYSB1c2VyIGNsaWNrcyBvbiBhIHRhYmxlIHJvdy5cbiAgICogKHsgaW5kZXg6IG51bWJlciB9KTogdm9pZFxuICAgKi9cbiAgb25Sb3dDbGljazogUHJvcFR5cGVzLmZ1bmMsXG5cbiAgLyoqXG4gICAqIENhbGxiYWNrIGludm9rZWQgd2hlbiBhIHVzZXIgZG91YmxlLWNsaWNrcyBvbiBhIHRhYmxlIHJvdy5cbiAgICogKHsgaW5kZXg6IG51bWJlciB9KTogdm9pZFxuICAgKi9cbiAgb25Sb3dEb3VibGVDbGljazogUHJvcFR5cGVzLmZ1bmMsXG5cbiAgLyoqXG4gICAqIENhbGxiYWNrIGludm9rZWQgd2hlbiB0aGUgbW91c2UgbGVhdmVzIGEgdGFibGUgcm93LlxuICAgKiAoeyBpbmRleDogbnVtYmVyIH0pOiB2b2lkXG4gICAqL1xuICBvblJvd01vdXNlT3V0OiBQcm9wVHlwZXMuZnVuYyxcblxuICAvKipcbiAgICogQ2FsbGJhY2sgaW52b2tlZCB3aGVuIGEgdXNlciBtb3ZlcyB0aGUgbW91c2Ugb3ZlciBhIHRhYmxlIHJvdy5cbiAgICogKHsgaW5kZXg6IG51bWJlciB9KTogdm9pZFxuICAgKi9cbiAgb25Sb3dNb3VzZU92ZXI6IFByb3BUeXBlcy5mdW5jLFxuXG4gIC8qKlxuICAgKiBDYWxsYmFjayBpbnZva2VkIHdoZW4gYSB1c2VyIHJpZ2h0LWNsaWNrcyBvbiBhIHRhYmxlIHJvdy5cbiAgICogKHsgaW5kZXg6IG51bWJlciB9KTogdm9pZFxuICAgKi9cbiAgb25Sb3dSaWdodENsaWNrOiBQcm9wVHlwZXMuZnVuYyxcblxuICAvKipcbiAgICogQ2FsbGJhY2sgaW52b2tlZCB3aXRoIGluZm9ybWF0aW9uIGFib3V0IHRoZSBzbGljZSBvZiByb3dzIHRoYXQgd2VyZSBqdXN0IHJlbmRlcmVkLlxuICAgKiAoeyBzdGFydEluZGV4LCBzdG9wSW5kZXggfSk6IHZvaWRcbiAgICovXG4gIG9uUm93c1JlbmRlcmVkOiBQcm9wVHlwZXMuZnVuYyxcblxuICAvKipcbiAgICogQ2FsbGJhY2sgaW52b2tlZCB3aGVuZXZlciB0aGUgc2Nyb2xsIG9mZnNldCBjaGFuZ2VzIHdpdGhpbiB0aGUgaW5uZXIgc2Nyb2xsYWJsZSByZWdpb24uXG4gICAqIFRoaXMgY2FsbGJhY2sgY2FuIGJlIHVzZWQgdG8gc3luYyBzY3JvbGxpbmcgYmV0d2VlbiBsaXN0cywgdGFibGVzLCBvciBncmlkcy5cbiAgICogKHsgY2xpZW50SGVpZ2h0LCBzY3JvbGxIZWlnaHQsIHNjcm9sbFRvcCB9KTogdm9pZFxuICAgKi9cbiAgb25TY3JvbGw6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsXG5cbiAgLyoqIFNlZSBHcmlkI292ZXJzY2FuSW5kaWNlc0dldHRlciAqL1xuICBvdmVyc2NhbkluZGljZXNHZXR0ZXI6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsXG5cbiAgLyoqXG4gICAqIE51bWJlciBvZiByb3dzIHRvIHJlbmRlciBhYm92ZS9iZWxvdyB0aGUgdmlzaWJsZSBib3VuZHMgb2YgdGhlIGxpc3QuXG4gICAqIFRoZXNlIHJvd3MgY2FuIGhlbHAgZm9yIHNtb290aGVyIHNjcm9sbGluZyBvbiB0b3VjaCBkZXZpY2VzLlxuICAgKi9cbiAgb3ZlcnNjYW5Sb3dDb3VudDogUHJvcFR5cGVzLm51bWJlci5pc1JlcXVpcmVkLFxuXG4gIC8qKlxuICAgKiBPcHRpb25hbCBDU1MgY2xhc3MgdG8gYXBwbHkgdG8gYWxsIHRhYmxlIHJvd3MgKGluY2x1ZGluZyB0aGUgaGVhZGVyIHJvdykuXG4gICAqIFRoaXMgcHJvcGVydHkgY2FuIGJlIGEgQ1NTIGNsYXNzIG5hbWUgKHN0cmluZykgb3IgYSBmdW5jdGlvbiB0aGF0IHJldHVybnMgYSBjbGFzcyBuYW1lLlxuICAgKiBJZiBhIGZ1bmN0aW9uIGlzIHByb3ZpZGVkIGl0cyBzaWduYXR1cmUgc2hvdWxkIGJlOiAoeyBpbmRleDogbnVtYmVyIH0pOiBzdHJpbmdcbiAgICovXG4gIHJvd0NsYXNzTmFtZTogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLnN0cmluZywgUHJvcFR5cGVzLmZ1bmNdKSxcblxuICAvKipcbiAgICogQ2FsbGJhY2sgcmVzcG9uc2libGUgZm9yIHJldHVybmluZyBhIGRhdGEgcm93IGdpdmVuIGFuIGluZGV4LlxuICAgKiAoeyBpbmRleDogbnVtYmVyIH0pOiBhbnlcbiAgICovXG4gIHJvd0dldHRlcjogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcblxuICAvKipcbiAgICogRWl0aGVyIGEgZml4ZWQgcm93IGhlaWdodCAobnVtYmVyKSBvciBhIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyB0aGUgaGVpZ2h0IG9mIGEgcm93IGdpdmVuIGl0cyBpbmRleC5cbiAgICogKHsgaW5kZXg6IG51bWJlciB9KTogbnVtYmVyXG4gICAqL1xuICByb3dIZWlnaHQ6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5udW1iZXIsIFByb3BUeXBlcy5mdW5jXSkuaXNSZXF1aXJlZCxcblxuICAvKiogTnVtYmVyIG9mIHJvd3MgaW4gdGFibGUuICovXG4gIHJvd0NvdW50OiBQcm9wVHlwZXMubnVtYmVyLmlzUmVxdWlyZWQsXG5cbiAgLyoqXG4gICAqIFJlc3BvbnNpYmxlIGZvciByZW5kZXJpbmcgYSB0YWJsZSByb3cgZ2l2ZW4gYW4gYXJyYXkgb2YgY29sdW1uczpcbiAgICogU2hvdWxkIGltcGxlbWVudCB0aGUgZm9sbG93aW5nIGludGVyZmFjZTogKHtcbiAgICogICBjbGFzc05hbWU6IHN0cmluZyxcbiAgICogICBjb2x1bW5zOiBBcnJheSxcbiAgICogICBpbmRleDogbnVtYmVyLFxuICAgKiAgIGlzU2Nyb2xsaW5nOiBib29sZWFuLFxuICAgKiAgIG9uUm93Q2xpY2s6ID9GdW5jdGlvbixcbiAgICogICBvblJvd0RvdWJsZUNsaWNrOiA/RnVuY3Rpb24sXG4gICAqICAgb25Sb3dNb3VzZU92ZXI6ID9GdW5jdGlvbixcbiAgICogICBvblJvd01vdXNlT3V0OiA/RnVuY3Rpb24sXG4gICAqICAgcm93RGF0YTogYW55LFxuICAgKiAgIHN0eWxlOiBhbnlcbiAgICogfSk6IFByb3BUeXBlcy5ub2RlXG4gICAqL1xuICByb3dSZW5kZXJlcjogUHJvcFR5cGVzLmZ1bmMsXG5cbiAgLyoqIE9wdGlvbmFsIGN1c3RvbSBpbmxpbmUgc3R5bGUgdG8gYXR0YWNoIHRvIHRhYmxlIHJvd3MuICovXG4gIHJvd1N0eWxlOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMub2JqZWN0LCBQcm9wVHlwZXMuZnVuY10pLmlzUmVxdWlyZWQsXG5cbiAgLyoqIFNlZSBHcmlkI3Njcm9sbFRvQWxpZ25tZW50ICovXG4gIHNjcm9sbFRvQWxpZ25tZW50OiBQcm9wVHlwZXMub25lT2YoWydhdXRvJywgJ2VuZCcsICdzdGFydCcsICdjZW50ZXInXSkuaXNSZXF1aXJlZCxcblxuICAvKiogUm93IGluZGV4IHRvIGVuc3VyZSB2aXNpYmxlIChieSBmb3JjZWZ1bGx5IHNjcm9sbGluZyBpZiBuZWNlc3NhcnkpICovXG4gIHNjcm9sbFRvSW5kZXg6IFByb3BUeXBlcy5udW1iZXIuaXNSZXF1aXJlZCxcblxuICAvKiogVmVydGljYWwgb2Zmc2V0LiAqL1xuICBzY3JvbGxUb3A6IFByb3BUeXBlcy5udW1iZXIsXG5cbiAgLyoqXG4gICAqIFNvcnQgZnVuY3Rpb24gdG8gYmUgY2FsbGVkIGlmIGEgc29ydGFibGUgaGVhZGVyIGlzIGNsaWNrZWQuXG4gICAqIFNob3VsZCBpbXBsZW1lbnQgdGhlIGZvbGxvd2luZyBpbnRlcmZhY2U6ICh7XG4gICAqICAgZGVmYXVsdFNvcnREaXJlY3Rpb246ICdBU0MnIHwgJ0RFU0MnLFxuICAgKiAgIGV2ZW50OiBNb3VzZUV2ZW50LFxuICAgKiAgIHNvcnRCeTogc3RyaW5nLFxuICAgKiAgIHNvcnREaXJlY3Rpb246IFNvcnREaXJlY3Rpb25cbiAgICogfSk6IHZvaWRcbiAgICovXG4gIHNvcnQ6IFByb3BUeXBlcy5mdW5jLFxuXG4gIC8qKiBUYWJsZSBkYXRhIGlzIGN1cnJlbnRseSBzb3J0ZWQgYnkgdGhpcyA6ZGF0YUtleSAoaWYgaXQgaXMgc29ydGVkIGF0IGFsbCkgKi9cbiAgc29ydEJ5OiBQcm9wVHlwZXMuc3RyaW5nLFxuXG4gIC8qKiBUYWJsZSBkYXRhIGlzIGN1cnJlbnRseSBzb3J0ZWQgaW4gdGhpcyBkaXJlY3Rpb24gKGlmIGl0IGlzIHNvcnRlZCBhdCBhbGwpICovXG4gIHNvcnREaXJlY3Rpb246IFByb3BUeXBlcy5vbmVPZihbU29ydERpcmVjdGlvbi5BU0MsIFNvcnREaXJlY3Rpb24uREVTQ10pLFxuXG4gIC8qKiBPcHRpb25hbCBpbmxpbmUgc3R5bGUgKi9cbiAgc3R5bGU6IFByb3BUeXBlcy5vYmplY3QsXG5cbiAgLyoqIFRhYiBpbmRleCBmb3IgZm9jdXMgKi9cbiAgdGFiSW5kZXg6IFByb3BUeXBlcy5udW1iZXIsXG5cbiAgLyoqIFdpZHRoIG9mIGxpc3QgKi9cbiAgd2lkdGg6IFByb3BUeXBlcy5udW1iZXIuaXNSZXF1aXJlZFxufSA6IHt9O1xuaW1wb3J0IHsgYnBmcnB0X3Byb3B0eXBlX0NlbGxQb3NpdGlvbiB9IGZyb20gXCIuLi9HcmlkXCI7IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gY3JlYXRlTXVsdGlTb3J0KHNvcnRDYWxsYmFjaykge1xuICB2YXIgX3JlZiA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge30sXG4gICAgICBkZWZhdWx0U29ydEJ5ID0gX3JlZi5kZWZhdWx0U29ydEJ5LFxuICAgICAgX3JlZiRkZWZhdWx0U29ydERpcmVjID0gX3JlZi5kZWZhdWx0U29ydERpcmVjdGlvbixcbiAgICAgIGRlZmF1bHRTb3J0RGlyZWN0aW9uID0gX3JlZiRkZWZhdWx0U29ydERpcmVjID09PSB2b2lkIDAgPyB7fSA6IF9yZWYkZGVmYXVsdFNvcnREaXJlYztcblxuICBpZiAoIXNvcnRDYWxsYmFjaykge1xuICAgIHRocm93IEVycm9yKFwiUmVxdWlyZWQgcGFyYW1ldGVyIFxcXCJzb3J0Q2FsbGJhY2tcXFwiIG5vdCBzcGVjaWZpZWRcIik7XG4gIH1cblxuICB2YXIgc29ydEJ5ID0gZGVmYXVsdFNvcnRCeSB8fCBbXTtcbiAgdmFyIHNvcnREaXJlY3Rpb24gPSB7fTtcbiAgc29ydEJ5LmZvckVhY2goZnVuY3Rpb24gKGRhdGFLZXkpIHtcbiAgICBzb3J0RGlyZWN0aW9uW2RhdGFLZXldID0gZGVmYXVsdFNvcnREaXJlY3Rpb25bZGF0YUtleV0gIT09IHVuZGVmaW5lZCA/IGRlZmF1bHRTb3J0RGlyZWN0aW9uW2RhdGFLZXldIDogJ0FTQyc7XG4gIH0pO1xuXG4gIGZ1bmN0aW9uIHNvcnQoX3JlZjIpIHtcbiAgICB2YXIgZGVmYXVsdFNvcnREaXJlY3Rpb24gPSBfcmVmMi5kZWZhdWx0U29ydERpcmVjdGlvbixcbiAgICAgICAgZXZlbnQgPSBfcmVmMi5ldmVudCxcbiAgICAgICAgZGF0YUtleSA9IF9yZWYyLnNvcnRCeTtcblxuICAgIGlmIChldmVudC5zaGlmdEtleSkge1xuICAgICAgLy8gU2hpZnQgKyBjbGljayBhcHBlbmRzIGEgY29sdW1uIHRvIGV4aXN0aW5nIGNyaXRlcmlhXG4gICAgICBpZiAoc29ydERpcmVjdGlvbltkYXRhS2V5XSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHNvcnREaXJlY3Rpb25bZGF0YUtleV0gPSBzb3J0RGlyZWN0aW9uW2RhdGFLZXldID09PSAnQVNDJyA/ICdERVNDJyA6ICdBU0MnO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc29ydERpcmVjdGlvbltkYXRhS2V5XSA9IGRlZmF1bHRTb3J0RGlyZWN0aW9uO1xuICAgICAgICBzb3J0QnkucHVzaChkYXRhS2V5KTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGV2ZW50LmN0cmxLZXkgfHwgZXZlbnQubWV0YUtleSkge1xuICAgICAgLy8gQ29udHJvbCArIGNsaWNrIHJlbW92ZXMgY29sdW1uIGZyb20gc29ydCAoaWYgcHJlc3NlbnQpXG4gICAgICB2YXIgaW5kZXggPSBzb3J0QnkuaW5kZXhPZihkYXRhS2V5KTtcblxuICAgICAgaWYgKGluZGV4ID49IDApIHtcbiAgICAgICAgc29ydEJ5LnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgIGRlbGV0ZSBzb3J0RGlyZWN0aW9uW2RhdGFLZXldO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBDbGVhciBzb3J0QnkgYXJyYXkgb2YgYWxsIG5vbi1zZWxlY3RlZCBrZXlzXG4gICAgICBzb3J0QnkubGVuZ3RoID0gMDtcbiAgICAgIHNvcnRCeS5wdXNoKGRhdGFLZXkpOyAvLyBDbGVhciBzb3J0RGlyZWN0aW9uIG9iamVjdCBvZiBhbGwgbm9uLXNlbGVjdGVkIGtleXNcblxuICAgICAgdmFyIHNvcnREaXJlY3Rpb25LZXlzID0gT2JqZWN0LmtleXMoc29ydERpcmVjdGlvbik7XG4gICAgICBzb3J0RGlyZWN0aW9uS2V5cy5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgaWYgKGtleSAhPT0gZGF0YUtleSkgZGVsZXRlIHNvcnREaXJlY3Rpb25ba2V5XTtcbiAgICAgIH0pOyAvLyBJZiBrZXkgaXMgYWxyZWFkeSBzZWxlY3RlZCwgcmV2ZXJzZSBzb3J0IGRpcmVjdGlvbi5cbiAgICAgIC8vIEVsc2UsIHNldCBzb3J0IGRpcmVjdGlvbiB0byBkZWZhdWx0IGRpcmVjdGlvbi5cblxuICAgICAgaWYgKHNvcnREaXJlY3Rpb25bZGF0YUtleV0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBzb3J0RGlyZWN0aW9uW2RhdGFLZXldID0gc29ydERpcmVjdGlvbltkYXRhS2V5XSA9PT0gJ0FTQycgPyAnREVTQycgOiAnQVNDJztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNvcnREaXJlY3Rpb25bZGF0YUtleV0gPSBkZWZhdWx0U29ydERpcmVjdGlvbjtcbiAgICAgIH1cbiAgICB9IC8vIE5vdGlmeSBhcHBsaWNhdGlvbiBjb2RlXG5cblxuICAgIHNvcnRDYWxsYmFjayh7XG4gICAgICBzb3J0Qnk6IHNvcnRCeSxcbiAgICAgIHNvcnREaXJlY3Rpb246IHNvcnREaXJlY3Rpb25cbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgc29ydDogc29ydCxcbiAgICBzb3J0Qnk6IHNvcnRCeSxcbiAgICBzb3J0RGlyZWN0aW9uOiBzb3J0RGlyZWN0aW9uXG4gIH07XG59IiwiLyoqXG4gKiBEZWZhdWx0IGFjY2Vzc29yIGZvciByZXR1cm5pbmcgYSBjZWxsIHZhbHVlIGZvciBhIGdpdmVuIGF0dHJpYnV0ZS5cbiAqIFRoaXMgZnVuY3Rpb24gZXhwZWN0cyB0byBvcGVyYXRlIG9uIGVpdGhlciBhIHZhbmlsbGEgT2JqZWN0IG9yIGFuIEltbXV0YWJsZSBNYXAuXG4gKiBZb3Ugc2hvdWxkIG92ZXJyaWRlIHRoZSBjb2x1bW4ncyBjZWxsRGF0YUdldHRlciBpZiB5b3VyIGRhdGEgaXMgc29tZSBvdGhlciB0eXBlIG9mIG9iamVjdC5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZGVmYXVsdENlbGxEYXRhR2V0dGVyKF9yZWYpIHtcbiAgdmFyIGRhdGFLZXkgPSBfcmVmLmRhdGFLZXksXG4gICAgICByb3dEYXRhID0gX3JlZi5yb3dEYXRhO1xuXG4gIGlmICh0eXBlb2Ygcm93RGF0YS5nZXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gcm93RGF0YS5nZXQoZGF0YUtleSk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHJvd0RhdGFbZGF0YUtleV07XG4gIH1cbn1cbmltcG9ydCB7IGJwZnJwdF9wcm9wdHlwZV9DZWxsRGF0YUdldHRlclBhcmFtcyB9IGZyb20gXCIuL3R5cGVzXCI7IiwiLyoqXG4gKiBEZWZhdWx0IGNlbGwgcmVuZGVyZXIgdGhhdCBkaXNwbGF5cyBhbiBhdHRyaWJ1dGUgYXMgYSBzaW1wbGUgc3RyaW5nXG4gKiBZb3Ugc2hvdWxkIG92ZXJyaWRlIHRoZSBjb2x1bW4ncyBjZWxsUmVuZGVyZXIgaWYgeW91ciBkYXRhIGlzIHNvbWUgb3RoZXIgdHlwZSBvZiBvYmplY3QuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGRlZmF1bHRDZWxsUmVuZGVyZXIoX3JlZikge1xuICB2YXIgY2VsbERhdGEgPSBfcmVmLmNlbGxEYXRhO1xuXG4gIGlmIChjZWxsRGF0YSA9PSBudWxsKSB7XG4gICAgcmV0dXJuICcnO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBTdHJpbmcoY2VsbERhdGEpO1xuICB9XG59XG5pbXBvcnQgeyBicGZycHRfcHJvcHR5cGVfQ2VsbFJlbmRlcmVyUGFyYW1zIH0gZnJvbSBcIi4vdHlwZXNcIjsiLCJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgU29ydEluZGljYXRvciBmcm9tICcuL1NvcnRJbmRpY2F0b3InO1xuXG4vKipcbiAqIERlZmF1bHQgdGFibGUgaGVhZGVyIHJlbmRlcmVyLlxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBkZWZhdWx0SGVhZGVyUmVuZGVyZXIoX3JlZikge1xuICB2YXIgZGF0YUtleSA9IF9yZWYuZGF0YUtleSxcbiAgICAgIGxhYmVsID0gX3JlZi5sYWJlbCxcbiAgICAgIHNvcnRCeSA9IF9yZWYuc29ydEJ5LFxuICAgICAgc29ydERpcmVjdGlvbiA9IF9yZWYuc29ydERpcmVjdGlvbjtcbiAgdmFyIHNob3dTb3J0SW5kaWNhdG9yID0gc29ydEJ5ID09PSBkYXRhS2V5O1xuICB2YXIgY2hpbGRyZW4gPSBbUmVhY3QuY3JlYXRlRWxlbWVudChcInNwYW5cIiwge1xuICAgIGNsYXNzTmFtZTogXCJSZWFjdFZpcnR1YWxpemVkX19UYWJsZV9faGVhZGVyVHJ1bmNhdGVkVGV4dFwiLFxuICAgIGtleTogXCJsYWJlbFwiLFxuICAgIHRpdGxlOiB0eXBlb2YgbGFiZWwgPT09ICdzdHJpbmcnID8gbGFiZWwgOiBudWxsXG4gIH0sIGxhYmVsKV07XG5cbiAgaWYgKHNob3dTb3J0SW5kaWNhdG9yKSB7XG4gICAgY2hpbGRyZW4ucHVzaChSZWFjdC5jcmVhdGVFbGVtZW50KFNvcnRJbmRpY2F0b3IsIHtcbiAgICAgIGtleTogXCJTb3J0SW5kaWNhdG9yXCIsXG4gICAgICBzb3J0RGlyZWN0aW9uOiBzb3J0RGlyZWN0aW9uXG4gICAgfSkpO1xuICB9XG5cbiAgcmV0dXJuIGNoaWxkcmVuO1xufVxuZGVmYXVsdEhlYWRlclJlbmRlcmVyLnByb3BUeXBlcyA9IHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAncHJvZHVjdGlvbicgPyBudWxsIDogYnBmcnB0X3Byb3B0eXBlX0hlYWRlclJlbmRlcmVyUGFyYW1zID09PSBQcm9wVHlwZXMuYW55ID8ge30gOiBicGZycHRfcHJvcHR5cGVfSGVhZGVyUmVuZGVyZXJQYXJhbXM7XG5pbXBvcnQgeyBicGZycHRfcHJvcHR5cGVfSGVhZGVyUmVuZGVyZXJQYXJhbXMgfSBmcm9tIFwiLi90eXBlc1wiO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tIFwicHJvcC10eXBlc1wiOyIsImltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGRlZmF1bHRIZWFkZXJSb3dSZW5kZXJlcihfcmVmKSB7XG4gIHZhciBjbGFzc05hbWUgPSBfcmVmLmNsYXNzTmFtZSxcbiAgICAgIGNvbHVtbnMgPSBfcmVmLmNvbHVtbnMsXG4gICAgICBzdHlsZSA9IF9yZWYuc3R5bGU7XG4gIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IGNsYXNzTmFtZSxcbiAgICByb2xlOiBcInJvd1wiLFxuICAgIHN0eWxlOiBzdHlsZVxuICB9LCBjb2x1bW5zKTtcbn1cbmRlZmF1bHRIZWFkZXJSb3dSZW5kZXJlci5wcm9wVHlwZXMgPSBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nID8gbnVsbCA6IGJwZnJwdF9wcm9wdHlwZV9IZWFkZXJSb3dSZW5kZXJlclBhcmFtcyA9PT0gUHJvcFR5cGVzLmFueSA/IHt9IDogYnBmcnB0X3Byb3B0eXBlX0hlYWRlclJvd1JlbmRlcmVyUGFyYW1zO1xuaW1wb3J0IHsgYnBmcnB0X3Byb3B0eXBlX0hlYWRlclJvd1JlbmRlcmVyUGFyYW1zIH0gZnJvbSBcIi4vdHlwZXNcIjtcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSBcInByb3AtdHlwZXNcIjsiLCJpbXBvcnQgX2V4dGVuZHMgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXh0ZW5kc1wiO1xuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG4vKipcbiAqIERlZmF1bHQgcm93IHJlbmRlcmVyIGZvciBUYWJsZS5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZGVmYXVsdFJvd1JlbmRlcmVyKF9yZWYpIHtcbiAgdmFyIGNsYXNzTmFtZSA9IF9yZWYuY2xhc3NOYW1lLFxuICAgICAgY29sdW1ucyA9IF9yZWYuY29sdW1ucyxcbiAgICAgIGluZGV4ID0gX3JlZi5pbmRleCxcbiAgICAgIGtleSA9IF9yZWYua2V5LFxuICAgICAgb25Sb3dDbGljayA9IF9yZWYub25Sb3dDbGljayxcbiAgICAgIG9uUm93RG91YmxlQ2xpY2sgPSBfcmVmLm9uUm93RG91YmxlQ2xpY2ssXG4gICAgICBvblJvd01vdXNlT3V0ID0gX3JlZi5vblJvd01vdXNlT3V0LFxuICAgICAgb25Sb3dNb3VzZU92ZXIgPSBfcmVmLm9uUm93TW91c2VPdmVyLFxuICAgICAgb25Sb3dSaWdodENsaWNrID0gX3JlZi5vblJvd1JpZ2h0Q2xpY2ssXG4gICAgICByb3dEYXRhID0gX3JlZi5yb3dEYXRhLFxuICAgICAgc3R5bGUgPSBfcmVmLnN0eWxlO1xuICB2YXIgYTExeVByb3BzID0ge1xuICAgICdhcmlhLXJvd2luZGV4JzogaW5kZXggKyAxXG4gIH07XG5cbiAgaWYgKG9uUm93Q2xpY2sgfHwgb25Sb3dEb3VibGVDbGljayB8fCBvblJvd01vdXNlT3V0IHx8IG9uUm93TW91c2VPdmVyIHx8IG9uUm93UmlnaHRDbGljaykge1xuICAgIGExMXlQcm9wc1snYXJpYS1sYWJlbCddID0gJ3Jvdyc7XG4gICAgYTExeVByb3BzLnRhYkluZGV4ID0gMDtcblxuICAgIGlmIChvblJvd0NsaWNrKSB7XG4gICAgICBhMTF5UHJvcHMub25DbGljayA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICByZXR1cm4gb25Sb3dDbGljayh7XG4gICAgICAgICAgZXZlbnQ6IGV2ZW50LFxuICAgICAgICAgIGluZGV4OiBpbmRleCxcbiAgICAgICAgICByb3dEYXRhOiByb3dEYXRhXG4gICAgICAgIH0pO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICBpZiAob25Sb3dEb3VibGVDbGljaykge1xuICAgICAgYTExeVByb3BzLm9uRG91YmxlQ2xpY2sgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgcmV0dXJuIG9uUm93RG91YmxlQ2xpY2soe1xuICAgICAgICAgIGV2ZW50OiBldmVudCxcbiAgICAgICAgICBpbmRleDogaW5kZXgsXG4gICAgICAgICAgcm93RGF0YTogcm93RGF0YVxuICAgICAgICB9KTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgaWYgKG9uUm93TW91c2VPdXQpIHtcbiAgICAgIGExMXlQcm9wcy5vbk1vdXNlT3V0ID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIHJldHVybiBvblJvd01vdXNlT3V0KHtcbiAgICAgICAgICBldmVudDogZXZlbnQsXG4gICAgICAgICAgaW5kZXg6IGluZGV4LFxuICAgICAgICAgIHJvd0RhdGE6IHJvd0RhdGFcbiAgICAgICAgfSk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIGlmIChvblJvd01vdXNlT3Zlcikge1xuICAgICAgYTExeVByb3BzLm9uTW91c2VPdmVyID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIHJldHVybiBvblJvd01vdXNlT3Zlcih7XG4gICAgICAgICAgZXZlbnQ6IGV2ZW50LFxuICAgICAgICAgIGluZGV4OiBpbmRleCxcbiAgICAgICAgICByb3dEYXRhOiByb3dEYXRhXG4gICAgICAgIH0pO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICBpZiAob25Sb3dSaWdodENsaWNrKSB7XG4gICAgICBhMTF5UHJvcHMub25Db250ZXh0TWVudSA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICByZXR1cm4gb25Sb3dSaWdodENsaWNrKHtcbiAgICAgICAgICBldmVudDogZXZlbnQsXG4gICAgICAgICAgaW5kZXg6IGluZGV4LFxuICAgICAgICAgIHJvd0RhdGE6IHJvd0RhdGFcbiAgICAgICAgfSk7XG4gICAgICB9O1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIF9leHRlbmRzKHt9LCBhMTF5UHJvcHMsIHtcbiAgICBjbGFzc05hbWU6IGNsYXNzTmFtZSxcbiAgICBrZXk6IGtleSxcbiAgICByb2xlOiBcInJvd1wiLFxuICAgIHN0eWxlOiBzdHlsZVxuICB9KSwgY29sdW1ucyk7XG59XG5kZWZhdWx0Um93UmVuZGVyZXIucHJvcFR5cGVzID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdwcm9kdWN0aW9uJyA/IG51bGwgOiBicGZycHRfcHJvcHR5cGVfUm93UmVuZGVyZXJQYXJhbXMgPT09IFByb3BUeXBlcy5hbnkgPyB7fSA6IGJwZnJwdF9wcm9wdHlwZV9Sb3dSZW5kZXJlclBhcmFtcztcbmltcG9ydCB7IGJwZnJwdF9wcm9wdHlwZV9Sb3dSZW5kZXJlclBhcmFtcyB9IGZyb20gXCIuL3R5cGVzXCI7XG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gXCJwcm9wLXR5cGVzXCI7IiwiaW1wb3J0IGNyZWF0ZU11bHRpU29ydCBmcm9tICcuL2NyZWF0ZU11bHRpU29ydCc7XG5pbXBvcnQgZGVmYXVsdENlbGxEYXRhR2V0dGVyIGZyb20gJy4vZGVmYXVsdENlbGxEYXRhR2V0dGVyJztcbmltcG9ydCBkZWZhdWx0Q2VsbFJlbmRlcmVyIGZyb20gJy4vZGVmYXVsdENlbGxSZW5kZXJlcic7XG5pbXBvcnQgZGVmYXVsdEhlYWRlclJvd1JlbmRlcmVyIGZyb20gJy4vZGVmYXVsdEhlYWRlclJvd1JlbmRlcmVyLmpzJztcbmltcG9ydCBkZWZhdWx0SGVhZGVyUmVuZGVyZXIgZnJvbSAnLi9kZWZhdWx0SGVhZGVyUmVuZGVyZXInO1xuaW1wb3J0IGRlZmF1bHRSb3dSZW5kZXJlciBmcm9tICcuL2RlZmF1bHRSb3dSZW5kZXJlcic7XG5pbXBvcnQgQ29sdW1uIGZyb20gJy4vQ29sdW1uJztcbmltcG9ydCBTb3J0RGlyZWN0aW9uIGZyb20gJy4vU29ydERpcmVjdGlvbic7XG5pbXBvcnQgU29ydEluZGljYXRvciBmcm9tICcuL1NvcnRJbmRpY2F0b3InO1xuaW1wb3J0IFRhYmxlIGZyb20gJy4vVGFibGUnO1xuZXhwb3J0IGRlZmF1bHQgVGFibGU7XG5leHBvcnQgeyBjcmVhdGVNdWx0aVNvcnQsIGRlZmF1bHRDZWxsRGF0YUdldHRlciwgZGVmYXVsdENlbGxSZW5kZXJlciwgZGVmYXVsdEhlYWRlclJvd1JlbmRlcmVyLCBkZWZhdWx0SGVhZGVyUmVuZGVyZXIsIGRlZmF1bHRSb3dSZW5kZXJlciwgQ29sdW1uLCBTb3J0RGlyZWN0aW9uLCBTb3J0SW5kaWNhdG9yLCBUYWJsZSB9OyIsInZhciBicGZycHRfcHJvcHR5cGVfQ2VsbERhdGFHZXR0ZXJQYXJhbXMgPSBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nID8gbnVsbCA6IHtcbiAgXCJjb2x1bW5EYXRhXCI6IFByb3BUeXBlcy5hbnksXG4gIFwiZGF0YUtleVwiOiBQcm9wVHlwZXMuc3RyaW5nLmlzUmVxdWlyZWQsXG4gIFwicm93RGF0YVwiOiBmdW5jdGlvbiByb3dEYXRhKHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSkge1xuICAgIGlmICghT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHByb3BzLCBwcm9wTmFtZSkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIlByb3AgYFwiLmNvbmNhdChwcm9wTmFtZSwgXCJgIGhhcyB0eXBlICdhbnknIG9yICdtaXhlZCcsIGJ1dCB3YXMgbm90IHByb3ZpZGVkIHRvIGBcIikuY29uY2F0KGNvbXBvbmVudE5hbWUsIFwiYC4gUGFzcyB1bmRlZmluZWQgb3IgYW55IG90aGVyIHZhbHVlLlwiKSk7XG4gICAgfVxuICB9XG59O1xudmFyIGJwZnJwdF9wcm9wdHlwZV9DZWxsUmVuZGVyZXJQYXJhbXMgPSBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nID8gbnVsbCA6IHtcbiAgXCJjZWxsRGF0YVwiOiBQcm9wVHlwZXMuYW55LFxuICBcImNvbHVtbkRhdGFcIjogUHJvcFR5cGVzLmFueSxcbiAgXCJkYXRhS2V5XCI6IFByb3BUeXBlcy5zdHJpbmcuaXNSZXF1aXJlZCxcbiAgXCJyb3dEYXRhXCI6IGZ1bmN0aW9uIHJvd0RhdGEocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lKSB7XG4gICAgaWYgKCFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocHJvcHMsIHByb3BOYW1lKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiUHJvcCBgXCIuY29uY2F0KHByb3BOYW1lLCBcImAgaGFzIHR5cGUgJ2FueScgb3IgJ21peGVkJywgYnV0IHdhcyBub3QgcHJvdmlkZWQgdG8gYFwiKS5jb25jYXQoY29tcG9uZW50TmFtZSwgXCJgLiBQYXNzIHVuZGVmaW5lZCBvciBhbnkgb3RoZXIgdmFsdWUuXCIpKTtcbiAgICB9XG4gIH0sXG4gIFwicm93SW5kZXhcIjogUHJvcFR5cGVzLm51bWJlci5pc1JlcXVpcmVkXG59O1xudmFyIGJwZnJwdF9wcm9wdHlwZV9IZWFkZXJSb3dSZW5kZXJlclBhcmFtcyA9IHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAncHJvZHVjdGlvbicgPyBudWxsIDoge1xuICBcImNsYXNzTmFtZVwiOiBQcm9wVHlwZXMuc3RyaW5nLmlzUmVxdWlyZWQsXG4gIFwiY29sdW1uc1wiOiBQcm9wVHlwZXMuYXJyYXlPZihmdW5jdGlvbiAocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lKSB7XG4gICAgaWYgKCFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocHJvcHMsIHByb3BOYW1lKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiUHJvcCBgXCIuY29uY2F0KHByb3BOYW1lLCBcImAgaGFzIHR5cGUgJ2FueScgb3IgJ21peGVkJywgYnV0IHdhcyBub3QgcHJvdmlkZWQgdG8gYFwiKS5jb25jYXQoY29tcG9uZW50TmFtZSwgXCJgLiBQYXNzIHVuZGVmaW5lZCBvciBhbnkgb3RoZXIgdmFsdWUuXCIpKTtcbiAgICB9XG4gIH0pLmlzUmVxdWlyZWQsXG4gIFwic3R5bGVcIjogZnVuY3Rpb24gc3R5bGUocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lKSB7XG4gICAgaWYgKCFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocHJvcHMsIHByb3BOYW1lKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiUHJvcCBgXCIuY29uY2F0KHByb3BOYW1lLCBcImAgaGFzIHR5cGUgJ2FueScgb3IgJ21peGVkJywgYnV0IHdhcyBub3QgcHJvdmlkZWQgdG8gYFwiKS5jb25jYXQoY29tcG9uZW50TmFtZSwgXCJgLiBQYXNzIHVuZGVmaW5lZCBvciBhbnkgb3RoZXIgdmFsdWUuXCIpKTtcbiAgICB9XG4gIH1cbn07XG52YXIgYnBmcnB0X3Byb3B0eXBlX0hlYWRlclJlbmRlcmVyUGFyYW1zID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdwcm9kdWN0aW9uJyA/IG51bGwgOiB7XG4gIFwiY29sdW1uRGF0YVwiOiBQcm9wVHlwZXMuYW55LFxuICBcImRhdGFLZXlcIjogUHJvcFR5cGVzLnN0cmluZy5pc1JlcXVpcmVkLFxuICBcImRpc2FibGVTb3J0XCI6IFByb3BUeXBlcy5ib29sLFxuICBcImxhYmVsXCI6IFByb3BUeXBlcy5hbnksXG4gIFwic29ydEJ5XCI6IFByb3BUeXBlcy5zdHJpbmcsXG4gIFwic29ydERpcmVjdGlvblwiOiBQcm9wVHlwZXMuc3RyaW5nXG59O1xudmFyIGJwZnJwdF9wcm9wdHlwZV9Sb3dSZW5kZXJlclBhcmFtcyA9IHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAncHJvZHVjdGlvbicgPyBudWxsIDoge1xuICBcImNsYXNzTmFtZVwiOiBQcm9wVHlwZXMuc3RyaW5nLmlzUmVxdWlyZWQsXG4gIFwiY29sdW1uc1wiOiBQcm9wVHlwZXMuYXJyYXlPZihmdW5jdGlvbiAocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lKSB7XG4gICAgaWYgKCFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocHJvcHMsIHByb3BOYW1lKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiUHJvcCBgXCIuY29uY2F0KHByb3BOYW1lLCBcImAgaGFzIHR5cGUgJ2FueScgb3IgJ21peGVkJywgYnV0IHdhcyBub3QgcHJvdmlkZWQgdG8gYFwiKS5jb25jYXQoY29tcG9uZW50TmFtZSwgXCJgLiBQYXNzIHVuZGVmaW5lZCBvciBhbnkgb3RoZXIgdmFsdWUuXCIpKTtcbiAgICB9XG4gIH0pLmlzUmVxdWlyZWQsXG4gIFwiaW5kZXhcIjogUHJvcFR5cGVzLm51bWJlci5pc1JlcXVpcmVkLFxuICBcImlzU2Nyb2xsaW5nXCI6IFByb3BUeXBlcy5ib29sLmlzUmVxdWlyZWQsXG4gIFwib25Sb3dDbGlja1wiOiBQcm9wVHlwZXMuZnVuYyxcbiAgXCJvblJvd0RvdWJsZUNsaWNrXCI6IFByb3BUeXBlcy5mdW5jLFxuICBcIm9uUm93TW91c2VPdmVyXCI6IFByb3BUeXBlcy5mdW5jLFxuICBcIm9uUm93TW91c2VPdXRcIjogUHJvcFR5cGVzLmZ1bmMsXG4gIFwicm93RGF0YVwiOiBmdW5jdGlvbiByb3dEYXRhKHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSkge1xuICAgIGlmICghT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHByb3BzLCBwcm9wTmFtZSkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIlByb3AgYFwiLmNvbmNhdChwcm9wTmFtZSwgXCJgIGhhcyB0eXBlICdhbnknIG9yICdtaXhlZCcsIGJ1dCB3YXMgbm90IHByb3ZpZGVkIHRvIGBcIikuY29uY2F0KGNvbXBvbmVudE5hbWUsIFwiYC4gUGFzcyB1bmRlZmluZWQgb3IgYW55IG90aGVyIHZhbHVlLlwiKSk7XG4gICAgfVxuICB9LFxuICBcInN0eWxlXCI6IGZ1bmN0aW9uIHN0eWxlKHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSkge1xuICAgIGlmICghT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHByb3BzLCBwcm9wTmFtZSkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIlByb3AgYFwiLmNvbmNhdChwcm9wTmFtZSwgXCJgIGhhcyB0eXBlICdhbnknIG9yICdtaXhlZCcsIGJ1dCB3YXMgbm90IHByb3ZpZGVkIHRvIGBcIikuY29uY2F0KGNvbXBvbmVudE5hbWUsIFwiYC4gUGFzcyB1bmRlZmluZWQgb3IgYW55IG90aGVyIHZhbHVlLlwiKSk7XG4gICAgfVxuICB9LFxuICBcImtleVwiOiBQcm9wVHlwZXMuc3RyaW5nLmlzUmVxdWlyZWRcbn07XG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gXCJwcm9wLXR5cGVzXCI7XG5leHBvcnQgeyBicGZycHRfcHJvcHR5cGVfQ2VsbERhdGFHZXR0ZXJQYXJhbXMgfTtcbmV4cG9ydCB7IGJwZnJwdF9wcm9wdHlwZV9DZWxsUmVuZGVyZXJQYXJhbXMgfTtcbmV4cG9ydCB7IGJwZnJwdF9wcm9wdHlwZV9IZWFkZXJSb3dSZW5kZXJlclBhcmFtcyB9O1xuZXhwb3J0IHsgYnBmcnB0X3Byb3B0eXBlX0hlYWRlclJlbmRlcmVyUGFyYW1zIH07XG5leHBvcnQgeyBicGZycHRfcHJvcHR5cGVfUm93UmVuZGVyZXJQYXJhbXMgfTsiLCJpbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrXCI7XG5pbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzXCI7XG5pbXBvcnQgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4gZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVyblwiO1xuaW1wb3J0IF9nZXRQcm90b3R5cGVPZiBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9nZXRQcm90b3R5cGVPZlwiO1xuaW1wb3J0IF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvYXNzZXJ0VGhpc0luaXRpYWxpemVkXCI7XG5pbXBvcnQgX2luaGVyaXRzIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2luaGVyaXRzXCI7XG5pbXBvcnQgX2RlZmluZVByb3BlcnR5IGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2RlZmluZVByb3BlcnR5XCI7XG5cbnZhciBfY2xhc3MsIF90ZW1wO1xuXG5mdW5jdGlvbiBvd25LZXlzKG9iamVjdCwgZW51bWVyYWJsZU9ubHkpIHsgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgc3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqZWN0KTsgaWYgKGVudW1lcmFibGVPbmx5KSBzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTsgfSk7IGtleXMucHVzaC5hcHBseShrZXlzLCBzeW1ib2xzKTsgfSByZXR1cm4ga2V5czsgfVxuXG5mdW5jdGlvbiBfb2JqZWN0U3ByZWFkKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldICE9IG51bGwgPyBhcmd1bWVudHNbaV0gOiB7fTsgaWYgKGkgJSAyKSB7IG93bktleXMoc291cmNlLCB0cnVlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7IH0pOyB9IGVsc2UgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoc291cmNlKSk7IH0gZWxzZSB7IG93bktleXMoc291cmNlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwga2V5KSk7IH0pOyB9IH0gcmV0dXJuIHRhcmdldDsgfVxuXG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgKiBhcyBSZWFjdERPTSBmcm9tICdyZWFjdC1kb20nO1xuaW1wb3J0IHsgcmVnaXN0ZXJTY3JvbGxMaXN0ZW5lciwgdW5yZWdpc3RlclNjcm9sbExpc3RlbmVyIH0gZnJvbSAnLi91dGlscy9vblNjcm9sbCc7XG5pbXBvcnQgeyBnZXREaW1lbnNpb25zLCBnZXRQb3NpdGlvbk9mZnNldCwgZ2V0U2Nyb2xsT2Zmc2V0IH0gZnJvbSAnLi91dGlscy9kaW1lbnNpb25zJztcbmltcG9ydCBjcmVhdGVEZXRlY3RFbGVtZW50UmVzaXplIGZyb20gJy4uL3ZlbmRvci9kZXRlY3RFbGVtZW50UmVzaXplJztcblxuLyoqXG4gKiBTcGVjaWZpZXMgdGhlIG51bWJlciBvZiBtaWxpc2Vjb25kcyBkdXJpbmcgd2hpY2ggdG8gZGlzYWJsZSBwb2ludGVyIGV2ZW50cyB3aGlsZSBhIHNjcm9sbCBpcyBpbiBwcm9ncmVzcy5cbiAqIFRoaXMgaW1wcm92ZXMgcGVyZm9ybWFuY2UgYW5kIG1ha2VzIHNjcm9sbGluZyBzbW9vdGhlci5cbiAqL1xuZXhwb3J0IHZhciBJU19TQ1JPTExJTkdfVElNRU9VVCA9IDE1MDtcblxudmFyIGdldFdpbmRvdyA9IGZ1bmN0aW9uIGdldFdpbmRvdygpIHtcbiAgcmV0dXJuIHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnID8gd2luZG93IDogdW5kZWZpbmVkO1xufTtcblxudmFyIFdpbmRvd1Njcm9sbGVyID0gKF90ZW1wID0gX2NsYXNzID1cbi8qI19fUFVSRV9fKi9cbmZ1bmN0aW9uIChfUmVhY3QkUHVyZUNvbXBvbmVudCkge1xuICBfaW5oZXJpdHMoV2luZG93U2Nyb2xsZXIsIF9SZWFjdCRQdXJlQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBXaW5kb3dTY3JvbGxlcigpIHtcbiAgICB2YXIgX2dldFByb3RvdHlwZU9mMjtcblxuICAgIHZhciBfdGhpcztcblxuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBXaW5kb3dTY3JvbGxlcik7XG5cbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuXG4gICAgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoX2dldFByb3RvdHlwZU9mMiA9IF9nZXRQcm90b3R5cGVPZihXaW5kb3dTY3JvbGxlcikpLmNhbGwuYXBwbHkoX2dldFByb3RvdHlwZU9mMiwgW3RoaXNdLmNvbmNhdChhcmdzKSkpO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcIl93aW5kb3dcIiwgZ2V0V2luZG93KCkpO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcIl9pc01vdW50ZWRcIiwgZmFsc2UpO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcIl9wb3NpdGlvbkZyb21Ub3BcIiwgMCk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwiX3Bvc2l0aW9uRnJvbUxlZnRcIiwgMCk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwiX2RldGVjdEVsZW1lbnRSZXNpemVcIiwgdm9pZCAwKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJfY2hpbGRcIiwgdm9pZCAwKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJzdGF0ZVwiLCBfb2JqZWN0U3ByZWFkKHt9LCBnZXREaW1lbnNpb25zKF90aGlzLnByb3BzLnNjcm9sbEVsZW1lbnQsIF90aGlzLnByb3BzKSwge1xuICAgICAgaXNTY3JvbGxpbmc6IGZhbHNlLFxuICAgICAgc2Nyb2xsTGVmdDogMCxcbiAgICAgIHNjcm9sbFRvcDogMFxuICAgIH0pKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJfcmVnaXN0ZXJDaGlsZFwiLCBmdW5jdGlvbiAoZWxlbWVudCkge1xuICAgICAgaWYgKGVsZW1lbnQgJiYgIShlbGVtZW50IGluc3RhbmNlb2YgRWxlbWVudCkpIHtcbiAgICAgICAgY29uc29sZS53YXJuKCdXaW5kb3dTY3JvbGxlciByZWdpc3RlckNoaWxkIGV4cGVjdHMgdG8gYmUgcGFzc2VkIEVsZW1lbnQgb3IgbnVsbCcpO1xuICAgICAgfVxuXG4gICAgICBfdGhpcy5fY2hpbGQgPSBlbGVtZW50O1xuXG4gICAgICBfdGhpcy51cGRhdGVQb3NpdGlvbigpO1xuICAgIH0pO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcIl9vbkNoaWxkU2Nyb2xsXCIsIGZ1bmN0aW9uIChfcmVmKSB7XG4gICAgICB2YXIgc2Nyb2xsVG9wID0gX3JlZi5zY3JvbGxUb3A7XG5cbiAgICAgIGlmIChfdGhpcy5zdGF0ZS5zY3JvbGxUb3AgPT09IHNjcm9sbFRvcCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHZhciBzY3JvbGxFbGVtZW50ID0gX3RoaXMucHJvcHMuc2Nyb2xsRWxlbWVudDtcblxuICAgICAgaWYgKHNjcm9sbEVsZW1lbnQpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBzY3JvbGxFbGVtZW50LnNjcm9sbFRvID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgc2Nyb2xsRWxlbWVudC5zY3JvbGxUbygwLCBzY3JvbGxUb3AgKyBfdGhpcy5fcG9zaXRpb25Gcm9tVG9wKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzY3JvbGxFbGVtZW50LnNjcm9sbFRvcCA9IHNjcm9sbFRvcCArIF90aGlzLl9wb3NpdGlvbkZyb21Ub3A7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJfcmVnaXN0ZXJSZXNpemVMaXN0ZW5lclwiLCBmdW5jdGlvbiAoZWxlbWVudCkge1xuICAgICAgaWYgKGVsZW1lbnQgPT09IHdpbmRvdykge1xuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgX3RoaXMuX29uUmVzaXplLCBmYWxzZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBfdGhpcy5fZGV0ZWN0RWxlbWVudFJlc2l6ZS5hZGRSZXNpemVMaXN0ZW5lcihlbGVtZW50LCBfdGhpcy5fb25SZXNpemUpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcIl91bnJlZ2lzdGVyUmVzaXplTGlzdGVuZXJcIiwgZnVuY3Rpb24gKGVsZW1lbnQpIHtcbiAgICAgIGlmIChlbGVtZW50ID09PSB3aW5kb3cpIHtcbiAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIF90aGlzLl9vblJlc2l6ZSwgZmFsc2UpO1xuICAgICAgfSBlbHNlIGlmIChlbGVtZW50KSB7XG4gICAgICAgIF90aGlzLl9kZXRlY3RFbGVtZW50UmVzaXplLnJlbW92ZVJlc2l6ZUxpc3RlbmVyKGVsZW1lbnQsIF90aGlzLl9vblJlc2l6ZSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwiX29uUmVzaXplXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIF90aGlzLnVwZGF0ZVBvc2l0aW9uKCk7XG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwiX19oYW5kbGVXaW5kb3dTY3JvbGxFdmVudFwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoIV90aGlzLl9pc01vdW50ZWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB2YXIgb25TY3JvbGwgPSBfdGhpcy5wcm9wcy5vblNjcm9sbDtcbiAgICAgIHZhciBzY3JvbGxFbGVtZW50ID0gX3RoaXMucHJvcHMuc2Nyb2xsRWxlbWVudDtcblxuICAgICAgaWYgKHNjcm9sbEVsZW1lbnQpIHtcbiAgICAgICAgdmFyIHNjcm9sbE9mZnNldCA9IGdldFNjcm9sbE9mZnNldChzY3JvbGxFbGVtZW50KTtcbiAgICAgICAgdmFyIHNjcm9sbExlZnQgPSBNYXRoLm1heCgwLCBzY3JvbGxPZmZzZXQubGVmdCAtIF90aGlzLl9wb3NpdGlvbkZyb21MZWZ0KTtcbiAgICAgICAgdmFyIHNjcm9sbFRvcCA9IE1hdGgubWF4KDAsIHNjcm9sbE9mZnNldC50b3AgLSBfdGhpcy5fcG9zaXRpb25Gcm9tVG9wKTtcblxuICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgaXNTY3JvbGxpbmc6IHRydWUsXG4gICAgICAgICAgc2Nyb2xsTGVmdDogc2Nyb2xsTGVmdCxcbiAgICAgICAgICBzY3JvbGxUb3A6IHNjcm9sbFRvcFxuICAgICAgICB9KTtcblxuICAgICAgICBvblNjcm9sbCh7XG4gICAgICAgICAgc2Nyb2xsTGVmdDogc2Nyb2xsTGVmdCxcbiAgICAgICAgICBzY3JvbGxUb3A6IHNjcm9sbFRvcFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJfX3Jlc2V0SXNTY3JvbGxpbmdcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICBpc1Njcm9sbGluZzogZmFsc2VcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKFdpbmRvd1Njcm9sbGVyLCBbe1xuICAgIGtleTogXCJ1cGRhdGVQb3NpdGlvblwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB1cGRhdGVQb3NpdGlvbigpIHtcbiAgICAgIHZhciBzY3JvbGxFbGVtZW50ID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB0aGlzLnByb3BzLnNjcm9sbEVsZW1lbnQ7XG4gICAgICB2YXIgb25SZXNpemUgPSB0aGlzLnByb3BzLm9uUmVzaXplO1xuICAgICAgdmFyIF90aGlzJHN0YXRlID0gdGhpcy5zdGF0ZSxcbiAgICAgICAgICBoZWlnaHQgPSBfdGhpcyRzdGF0ZS5oZWlnaHQsXG4gICAgICAgICAgd2lkdGggPSBfdGhpcyRzdGF0ZS53aWR0aDtcbiAgICAgIHZhciB0aGlzTm9kZSA9IHRoaXMuX2NoaWxkIHx8IFJlYWN0RE9NLmZpbmRET01Ob2RlKHRoaXMpO1xuXG4gICAgICBpZiAodGhpc05vZGUgaW5zdGFuY2VvZiBFbGVtZW50ICYmIHNjcm9sbEVsZW1lbnQpIHtcbiAgICAgICAgdmFyIG9mZnNldCA9IGdldFBvc2l0aW9uT2Zmc2V0KHRoaXNOb2RlLCBzY3JvbGxFbGVtZW50KTtcbiAgICAgICAgdGhpcy5fcG9zaXRpb25Gcm9tVG9wID0gb2Zmc2V0LnRvcDtcbiAgICAgICAgdGhpcy5fcG9zaXRpb25Gcm9tTGVmdCA9IG9mZnNldC5sZWZ0O1xuICAgICAgfVxuXG4gICAgICB2YXIgZGltZW5zaW9ucyA9IGdldERpbWVuc2lvbnMoc2Nyb2xsRWxlbWVudCwgdGhpcy5wcm9wcyk7XG5cbiAgICAgIGlmIChoZWlnaHQgIT09IGRpbWVuc2lvbnMuaGVpZ2h0IHx8IHdpZHRoICE9PSBkaW1lbnNpb25zLndpZHRoKSB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIGhlaWdodDogZGltZW5zaW9ucy5oZWlnaHQsXG4gICAgICAgICAgd2lkdGg6IGRpbWVuc2lvbnMud2lkdGhcbiAgICAgICAgfSk7XG4gICAgICAgIG9uUmVzaXplKHtcbiAgICAgICAgICBoZWlnaHQ6IGRpbWVuc2lvbnMuaGVpZ2h0LFxuICAgICAgICAgIHdpZHRoOiBkaW1lbnNpb25zLndpZHRoXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJjb21wb25lbnREaWRNb3VudFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICAgIHZhciBzY3JvbGxFbGVtZW50ID0gdGhpcy5wcm9wcy5zY3JvbGxFbGVtZW50O1xuICAgICAgdGhpcy5fZGV0ZWN0RWxlbWVudFJlc2l6ZSA9IGNyZWF0ZURldGVjdEVsZW1lbnRSZXNpemUoKTtcbiAgICAgIHRoaXMudXBkYXRlUG9zaXRpb24oc2Nyb2xsRWxlbWVudCk7XG5cbiAgICAgIGlmIChzY3JvbGxFbGVtZW50KSB7XG4gICAgICAgIHJlZ2lzdGVyU2Nyb2xsTGlzdGVuZXIodGhpcywgc2Nyb2xsRWxlbWVudCk7XG5cbiAgICAgICAgdGhpcy5fcmVnaXN0ZXJSZXNpemVMaXN0ZW5lcihzY3JvbGxFbGVtZW50KTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5faXNNb3VudGVkID0gdHJ1ZTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiY29tcG9uZW50RGlkVXBkYXRlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudERpZFVwZGF0ZShwcmV2UHJvcHMsIHByZXZTdGF0ZSkge1xuICAgICAgdmFyIHNjcm9sbEVsZW1lbnQgPSB0aGlzLnByb3BzLnNjcm9sbEVsZW1lbnQ7XG4gICAgICB2YXIgcHJldlNjcm9sbEVsZW1lbnQgPSBwcmV2UHJvcHMuc2Nyb2xsRWxlbWVudDtcblxuICAgICAgaWYgKHByZXZTY3JvbGxFbGVtZW50ICE9PSBzY3JvbGxFbGVtZW50ICYmIHByZXZTY3JvbGxFbGVtZW50ICE9IG51bGwgJiYgc2Nyb2xsRWxlbWVudCAhPSBudWxsKSB7XG4gICAgICAgIHRoaXMudXBkYXRlUG9zaXRpb24oc2Nyb2xsRWxlbWVudCk7XG4gICAgICAgIHVucmVnaXN0ZXJTY3JvbGxMaXN0ZW5lcih0aGlzLCBwcmV2U2Nyb2xsRWxlbWVudCk7XG4gICAgICAgIHJlZ2lzdGVyU2Nyb2xsTGlzdGVuZXIodGhpcywgc2Nyb2xsRWxlbWVudCk7XG5cbiAgICAgICAgdGhpcy5fdW5yZWdpc3RlclJlc2l6ZUxpc3RlbmVyKHByZXZTY3JvbGxFbGVtZW50KTtcblxuICAgICAgICB0aGlzLl9yZWdpc3RlclJlc2l6ZUxpc3RlbmVyKHNjcm9sbEVsZW1lbnQpO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJjb21wb25lbnRXaWxsVW5tb3VudFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICAgIHZhciBzY3JvbGxFbGVtZW50ID0gdGhpcy5wcm9wcy5zY3JvbGxFbGVtZW50O1xuXG4gICAgICBpZiAoc2Nyb2xsRWxlbWVudCkge1xuICAgICAgICB1bnJlZ2lzdGVyU2Nyb2xsTGlzdGVuZXIodGhpcywgc2Nyb2xsRWxlbWVudCk7XG5cbiAgICAgICAgdGhpcy5fdW5yZWdpc3RlclJlc2l6ZUxpc3RlbmVyKHNjcm9sbEVsZW1lbnQpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLl9pc01vdW50ZWQgPSBmYWxzZTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwicmVuZGVyXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIHZhciBjaGlsZHJlbiA9IHRoaXMucHJvcHMuY2hpbGRyZW47XG4gICAgICB2YXIgX3RoaXMkc3RhdGUyID0gdGhpcy5zdGF0ZSxcbiAgICAgICAgICBpc1Njcm9sbGluZyA9IF90aGlzJHN0YXRlMi5pc1Njcm9sbGluZyxcbiAgICAgICAgICBzY3JvbGxUb3AgPSBfdGhpcyRzdGF0ZTIuc2Nyb2xsVG9wLFxuICAgICAgICAgIHNjcm9sbExlZnQgPSBfdGhpcyRzdGF0ZTIuc2Nyb2xsTGVmdCxcbiAgICAgICAgICBoZWlnaHQgPSBfdGhpcyRzdGF0ZTIuaGVpZ2h0LFxuICAgICAgICAgIHdpZHRoID0gX3RoaXMkc3RhdGUyLndpZHRoO1xuICAgICAgcmV0dXJuIGNoaWxkcmVuKHtcbiAgICAgICAgb25DaGlsZFNjcm9sbDogdGhpcy5fb25DaGlsZFNjcm9sbCxcbiAgICAgICAgcmVnaXN0ZXJDaGlsZDogdGhpcy5fcmVnaXN0ZXJDaGlsZCxcbiAgICAgICAgaGVpZ2h0OiBoZWlnaHQsXG4gICAgICAgIGlzU2Nyb2xsaW5nOiBpc1Njcm9sbGluZyxcbiAgICAgICAgc2Nyb2xsTGVmdDogc2Nyb2xsTGVmdCxcbiAgICAgICAgc2Nyb2xsVG9wOiBzY3JvbGxUb3AsXG4gICAgICAgIHdpZHRoOiB3aWR0aFxuICAgICAgfSk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIFdpbmRvd1Njcm9sbGVyO1xufShSZWFjdC5QdXJlQ29tcG9uZW50KSwgX2RlZmluZVByb3BlcnR5KF9jbGFzcywgXCJwcm9wVHlwZXNcIiwgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdwcm9kdWN0aW9uJyA/IG51bGwgOiB7XG4gIC8qKlxuICAgKiBGdW5jdGlvbiByZXNwb25zaWJsZSBmb3IgcmVuZGVyaW5nIGNoaWxkcmVuLlxuICAgKiBUaGlzIGZ1bmN0aW9uIHNob3VsZCBpbXBsZW1lbnQgdGhlIGZvbGxvd2luZyBzaWduYXR1cmU6XG4gICAqICh7IGhlaWdodCwgaXNTY3JvbGxpbmcsIHNjcm9sbExlZnQsIHNjcm9sbFRvcCwgd2lkdGggfSkgPT4gUHJvcFR5cGVzLmVsZW1lbnRcbiAgICovXG4gIFwiY2hpbGRyZW5cIjogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcblxuICAvKiogQ2FsbGJhY2sgdG8gYmUgaW52b2tlZCBvbi1yZXNpemU6ICh7IGhlaWdodCwgd2lkdGggfSkgKi9cbiAgXCJvblJlc2l6ZVwiOiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLFxuXG4gIC8qKiBDYWxsYmFjayB0byBiZSBpbnZva2VkIG9uLXNjcm9sbDogKHsgc2Nyb2xsTGVmdCwgc2Nyb2xsVG9wIH0pICovXG4gIFwib25TY3JvbGxcIjogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcblxuICAvKiogRWxlbWVudCB0byBhdHRhY2ggc2Nyb2xsIGV2ZW50IGxpc3RlbmVycy4gRGVmYXVsdHMgdG8gd2luZG93LiAqL1xuICBcInNjcm9sbEVsZW1lbnRcIjogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLmFueSwgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiAodHlwZW9mIEVsZW1lbnQgPT09IFwiZnVuY3Rpb25cIiA/IFByb3BUeXBlcy5pbnN0YW5jZU9mKEVsZW1lbnQpIDogUHJvcFR5cGVzLmFueSkuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfV0pLFxuXG4gIC8qKlxuICAgKiBXYWl0IHRoaXMgYW1vdW50IG9mIHRpbWUgYWZ0ZXIgdGhlIGxhc3Qgc2Nyb2xsIGV2ZW50IGJlZm9yZSByZXNldHRpbmcgY2hpbGQgYHBvaW50ZXItZXZlbnRzYC5cbiAgICovXG4gIFwic2Nyb2xsaW5nUmVzZXRUaW1lSW50ZXJ2YWxcIjogUHJvcFR5cGVzLm51bWJlci5pc1JlcXVpcmVkLFxuXG4gIC8qKiBIZWlnaHQgdXNlZCBmb3Igc2VydmVyLXNpZGUgcmVuZGVyaW5nICovXG4gIFwic2VydmVySGVpZ2h0XCI6IFByb3BUeXBlcy5udW1iZXIuaXNSZXF1aXJlZCxcblxuICAvKiogV2lkdGggdXNlZCBmb3Igc2VydmVyLXNpZGUgcmVuZGVyaW5nICovXG4gIFwic2VydmVyV2lkdGhcIjogUHJvcFR5cGVzLm51bWJlci5pc1JlcXVpcmVkXG59KSwgX3RlbXApO1xuXG5fZGVmaW5lUHJvcGVydHkoV2luZG93U2Nyb2xsZXIsIFwiZGVmYXVsdFByb3BzXCIsIHtcbiAgb25SZXNpemU6IGZ1bmN0aW9uIG9uUmVzaXplKCkge30sXG4gIG9uU2Nyb2xsOiBmdW5jdGlvbiBvblNjcm9sbCgpIHt9LFxuICBzY3JvbGxpbmdSZXNldFRpbWVJbnRlcnZhbDogSVNfU0NST0xMSU5HX1RJTUVPVVQsXG4gIHNjcm9sbEVsZW1lbnQ6IGdldFdpbmRvdygpLFxuICBzZXJ2ZXJIZWlnaHQ6IDAsXG4gIHNlcnZlcldpZHRoOiAwXG59KTtcblxuZXhwb3J0IHsgV2luZG93U2Nyb2xsZXIgYXMgZGVmYXVsdCB9O1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tIFwicHJvcC10eXBlc1wiOyIsImltcG9ydCBXaW5kb3dTY3JvbGxlciwgeyBJU19TQ1JPTExJTkdfVElNRU9VVCB9IGZyb20gJy4vV2luZG93U2Nyb2xsZXInO1xuZXhwb3J0IGRlZmF1bHQgV2luZG93U2Nyb2xsZXI7XG5leHBvcnQgeyBXaW5kb3dTY3JvbGxlciwgSVNfU0NST0xMSU5HX1RJTUVPVVQgfTsiLCIvKipcbiAqIEdldHMgdGhlIGRpbWVuc2lvbnMgb2YgdGhlIGVsZW1lbnQsIGFjY291bnRpbmcgZm9yIEFQSSBkaWZmZXJlbmNlcyBiZXR3ZWVuXG4gKiBgd2luZG93YCBhbmQgb3RoZXIgRE9NIGVsZW1lbnRzLlxuICovXG4vLyBUT0RPIE1vdmUgdGhpcyBpbnRvIFdpbmRvd1Njcm9sbGVyIGFuZCBpbXBvcnQgZnJvbSB0aGVyZVxudmFyIGlzV2luZG93ID0gZnVuY3Rpb24gaXNXaW5kb3coZWxlbWVudCkge1xuICByZXR1cm4gZWxlbWVudCA9PT0gd2luZG93O1xufTtcblxudmFyIGdldEJvdW5kaW5nQm94ID0gZnVuY3Rpb24gZ2V0Qm91bmRpbmdCb3goZWxlbWVudCkge1xuICByZXR1cm4gZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXREaW1lbnNpb25zKHNjcm9sbEVsZW1lbnQsIHByb3BzKSB7XG4gIGlmICghc2Nyb2xsRWxlbWVudCkge1xuICAgIHJldHVybiB7XG4gICAgICBoZWlnaHQ6IHByb3BzLnNlcnZlckhlaWdodCxcbiAgICAgIHdpZHRoOiBwcm9wcy5zZXJ2ZXJXaWR0aFxuICAgIH07XG4gIH0gZWxzZSBpZiAoaXNXaW5kb3coc2Nyb2xsRWxlbWVudCkpIHtcbiAgICB2YXIgX3dpbmRvdyA9IHdpbmRvdyxcbiAgICAgICAgaW5uZXJIZWlnaHQgPSBfd2luZG93LmlubmVySGVpZ2h0LFxuICAgICAgICBpbm5lcldpZHRoID0gX3dpbmRvdy5pbm5lcldpZHRoO1xuICAgIHJldHVybiB7XG4gICAgICBoZWlnaHQ6IHR5cGVvZiBpbm5lckhlaWdodCA9PT0gJ251bWJlcicgPyBpbm5lckhlaWdodCA6IDAsXG4gICAgICB3aWR0aDogdHlwZW9mIGlubmVyV2lkdGggPT09ICdudW1iZXInID8gaW5uZXJXaWR0aCA6IDBcbiAgICB9O1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBnZXRCb3VuZGluZ0JveChzY3JvbGxFbGVtZW50KTtcbiAgfVxufVxuLyoqXG4gKiBHZXRzIHRoZSB2ZXJ0aWNhbCBhbmQgaG9yaXpvbnRhbCBwb3NpdGlvbiBvZiBhbiBlbGVtZW50IHdpdGhpbiBpdHMgc2Nyb2xsIGNvbnRhaW5lci5cbiAqIEVsZW1lbnRzIHRoYXQgaGF2ZSBiZWVuIOKAnHNjcm9sbGVkIHBhc3TigJ0gcmV0dXJuIG5lZ2F0aXZlIHZhbHVlcy5cbiAqIEhhbmRsZXMgZWRnZS1jYXNlIHdoZXJlIGEgdXNlciBpcyBuYXZpZ2F0aW5nIGJhY2sgKGhpc3RvcnkpIGZyb20gYW4gYWxyZWFkeS1zY3JvbGxlZCBwYWdlLlxuICogSW4gdGhpcyBjYXNlIHRoZSBib2R54oCZcyB0b3Agb3IgbGVmdCBwb3NpdGlvbiB3aWxsIGJlIGEgbmVnYXRpdmUgbnVtYmVyIGFuZCB0aGlzIGVsZW1lbnTigJlzIHRvcCBvciBsZWZ0IHdpbGwgYmUgaW5jcmVhc2VkIChieSB0aGF0IGFtb3VudCkuXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFBvc2l0aW9uT2Zmc2V0KGVsZW1lbnQsIGNvbnRhaW5lcikge1xuICBpZiAoaXNXaW5kb3coY29udGFpbmVyKSAmJiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpIHtcbiAgICB2YXIgY29udGFpbmVyRWxlbWVudCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcbiAgICB2YXIgZWxlbWVudFJlY3QgPSBnZXRCb3VuZGluZ0JveChlbGVtZW50KTtcbiAgICB2YXIgY29udGFpbmVyUmVjdCA9IGdldEJvdW5kaW5nQm94KGNvbnRhaW5lckVsZW1lbnQpO1xuICAgIHJldHVybiB7XG4gICAgICB0b3A6IGVsZW1lbnRSZWN0LnRvcCAtIGNvbnRhaW5lclJlY3QudG9wLFxuICAgICAgbGVmdDogZWxlbWVudFJlY3QubGVmdCAtIGNvbnRhaW5lclJlY3QubGVmdFxuICAgIH07XG4gIH0gZWxzZSB7XG4gICAgdmFyIHNjcm9sbE9mZnNldCA9IGdldFNjcm9sbE9mZnNldChjb250YWluZXIpO1xuXG4gICAgdmFyIF9lbGVtZW50UmVjdCA9IGdldEJvdW5kaW5nQm94KGVsZW1lbnQpO1xuXG4gICAgdmFyIF9jb250YWluZXJSZWN0ID0gZ2V0Qm91bmRpbmdCb3goY29udGFpbmVyKTtcblxuICAgIHJldHVybiB7XG4gICAgICB0b3A6IF9lbGVtZW50UmVjdC50b3AgKyBzY3JvbGxPZmZzZXQudG9wIC0gX2NvbnRhaW5lclJlY3QudG9wLFxuICAgICAgbGVmdDogX2VsZW1lbnRSZWN0LmxlZnQgKyBzY3JvbGxPZmZzZXQubGVmdCAtIF9jb250YWluZXJSZWN0LmxlZnRcbiAgICB9O1xuICB9XG59XG4vKipcbiAqIEdldHMgdGhlIHZlcnRpY2FsIGFuZCBob3Jpem9udGFsIHNjcm9sbCBhbW91bnQgb2YgdGhlIGVsZW1lbnQsIGFjY291bnRpbmcgZm9yIElFIGNvbXBhdGliaWxpdHlcbiAqIGFuZCBBUEkgZGlmZmVyZW5jZXMgYmV0d2VlbiBgd2luZG93YCBhbmQgb3RoZXIgRE9NIGVsZW1lbnRzLlxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRTY3JvbGxPZmZzZXQoZWxlbWVudCkge1xuICBpZiAoaXNXaW5kb3coZWxlbWVudCkgJiYgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHRvcDogJ3Njcm9sbFknIGluIHdpbmRvdyA/IHdpbmRvdy5zY3JvbGxZIDogZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCxcbiAgICAgIGxlZnQ6ICdzY3JvbGxYJyBpbiB3aW5kb3cgPyB3aW5kb3cuc2Nyb2xsWCA6IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxMZWZ0XG4gICAgfTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4ge1xuICAgICAgdG9wOiBlbGVtZW50LnNjcm9sbFRvcCxcbiAgICAgIGxlZnQ6IGVsZW1lbnQuc2Nyb2xsTGVmdFxuICAgIH07XG4gIH1cbn0iLCJpbXBvcnQgeyByZXF1ZXN0QW5pbWF0aW9uVGltZW91dCwgY2FuY2VsQW5pbWF0aW9uVGltZW91dCB9IGZyb20gJy4uLy4uL3V0aWxzL3JlcXVlc3RBbmltYXRpb25UaW1lb3V0JztcbnZhciBtb3VudGVkSW5zdGFuY2VzID0gW107XG52YXIgb3JpZ2luYWxCb2R5UG9pbnRlckV2ZW50cyA9IG51bGw7XG52YXIgZGlzYWJsZVBvaW50ZXJFdmVudHNUaW1lb3V0SWQgPSBudWxsO1xuXG5mdW5jdGlvbiBlbmFibGVQb2ludGVyRXZlbnRzSWZEaXNhYmxlZCgpIHtcbiAgaWYgKGRpc2FibGVQb2ludGVyRXZlbnRzVGltZW91dElkKSB7XG4gICAgZGlzYWJsZVBvaW50ZXJFdmVudHNUaW1lb3V0SWQgPSBudWxsO1xuXG4gICAgaWYgKGRvY3VtZW50LmJvZHkgJiYgb3JpZ2luYWxCb2R5UG9pbnRlckV2ZW50cyAhPSBudWxsKSB7XG4gICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLnBvaW50ZXJFdmVudHMgPSBvcmlnaW5hbEJvZHlQb2ludGVyRXZlbnRzO1xuICAgIH1cblxuICAgIG9yaWdpbmFsQm9keVBvaW50ZXJFdmVudHMgPSBudWxsO1xuICB9XG59XG5cbmZ1bmN0aW9uIGVuYWJsZVBvaW50ZXJFdmVudHNBZnRlckRlbGF5Q2FsbGJhY2soKSB7XG4gIGVuYWJsZVBvaW50ZXJFdmVudHNJZkRpc2FibGVkKCk7XG4gIG1vdW50ZWRJbnN0YW5jZXMuZm9yRWFjaChmdW5jdGlvbiAoaW5zdGFuY2UpIHtcbiAgICByZXR1cm4gaW5zdGFuY2UuX19yZXNldElzU2Nyb2xsaW5nKCk7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBlbmFibGVQb2ludGVyRXZlbnRzQWZ0ZXJEZWxheSgpIHtcbiAgaWYgKGRpc2FibGVQb2ludGVyRXZlbnRzVGltZW91dElkKSB7XG4gICAgY2FuY2VsQW5pbWF0aW9uVGltZW91dChkaXNhYmxlUG9pbnRlckV2ZW50c1RpbWVvdXRJZCk7XG4gIH1cblxuICB2YXIgbWF4aW11bVRpbWVvdXQgPSAwO1xuICBtb3VudGVkSW5zdGFuY2VzLmZvckVhY2goZnVuY3Rpb24gKGluc3RhbmNlKSB7XG4gICAgbWF4aW11bVRpbWVvdXQgPSBNYXRoLm1heChtYXhpbXVtVGltZW91dCwgaW5zdGFuY2UucHJvcHMuc2Nyb2xsaW5nUmVzZXRUaW1lSW50ZXJ2YWwpO1xuICB9KTtcbiAgZGlzYWJsZVBvaW50ZXJFdmVudHNUaW1lb3V0SWQgPSByZXF1ZXN0QW5pbWF0aW9uVGltZW91dChlbmFibGVQb2ludGVyRXZlbnRzQWZ0ZXJEZWxheUNhbGxiYWNrLCBtYXhpbXVtVGltZW91dCk7XG59XG5cbmZ1bmN0aW9uIG9uU2Nyb2xsV2luZG93KGV2ZW50KSB7XG4gIGlmIChldmVudC5jdXJyZW50VGFyZ2V0ID09PSB3aW5kb3cgJiYgb3JpZ2luYWxCb2R5UG9pbnRlckV2ZW50cyA9PSBudWxsICYmIGRvY3VtZW50LmJvZHkpIHtcbiAgICBvcmlnaW5hbEJvZHlQb2ludGVyRXZlbnRzID0gZG9jdW1lbnQuYm9keS5zdHlsZS5wb2ludGVyRXZlbnRzO1xuICAgIGRvY3VtZW50LmJvZHkuc3R5bGUucG9pbnRlckV2ZW50cyA9ICdub25lJztcbiAgfVxuXG4gIGVuYWJsZVBvaW50ZXJFdmVudHNBZnRlckRlbGF5KCk7XG4gIG1vdW50ZWRJbnN0YW5jZXMuZm9yRWFjaChmdW5jdGlvbiAoaW5zdGFuY2UpIHtcbiAgICBpZiAoaW5zdGFuY2UucHJvcHMuc2Nyb2xsRWxlbWVudCA9PT0gZXZlbnQuY3VycmVudFRhcmdldCkge1xuICAgICAgaW5zdGFuY2UuX19oYW5kbGVXaW5kb3dTY3JvbGxFdmVudCgpO1xuICAgIH1cbiAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZWdpc3RlclNjcm9sbExpc3RlbmVyKGNvbXBvbmVudCwgZWxlbWVudCkge1xuICBpZiAoIW1vdW50ZWRJbnN0YW5jZXMuc29tZShmdW5jdGlvbiAoaW5zdGFuY2UpIHtcbiAgICByZXR1cm4gaW5zdGFuY2UucHJvcHMuc2Nyb2xsRWxlbWVudCA9PT0gZWxlbWVudDtcbiAgfSkpIHtcbiAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIG9uU2Nyb2xsV2luZG93KTtcbiAgfVxuXG4gIG1vdW50ZWRJbnN0YW5jZXMucHVzaChjb21wb25lbnQpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHVucmVnaXN0ZXJTY3JvbGxMaXN0ZW5lcihjb21wb25lbnQsIGVsZW1lbnQpIHtcbiAgbW91bnRlZEluc3RhbmNlcyA9IG1vdW50ZWRJbnN0YW5jZXMuZmlsdGVyKGZ1bmN0aW9uIChpbnN0YW5jZSkge1xuICAgIHJldHVybiBpbnN0YW5jZSAhPT0gY29tcG9uZW50O1xuICB9KTtcblxuICBpZiAoIW1vdW50ZWRJbnN0YW5jZXMubGVuZ3RoKSB7XG4gICAgZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdzY3JvbGwnLCBvblNjcm9sbFdpbmRvdyk7XG5cbiAgICBpZiAoZGlzYWJsZVBvaW50ZXJFdmVudHNUaW1lb3V0SWQpIHtcbiAgICAgIGNhbmNlbEFuaW1hdGlvblRpbWVvdXQoZGlzYWJsZVBvaW50ZXJFdmVudHNUaW1lb3V0SWQpO1xuICAgICAgZW5hYmxlUG9pbnRlckV2ZW50c0lmRGlzYWJsZWQoKTtcbiAgICB9XG4gIH1cbn1cbmltcG9ydCB7IGJwZnJwdF9wcm9wdHlwZV9XaW5kb3dTY3JvbGxlciB9IGZyb20gXCIuLi9XaW5kb3dTY3JvbGxlci5qc1wiOyIsImV4cG9ydCB7IEFycm93S2V5U3RlcHBlciB9IGZyb20gJy4vQXJyb3dLZXlTdGVwcGVyJztcbmV4cG9ydCB7IEF1dG9TaXplciB9IGZyb20gJy4vQXV0b1NpemVyJztcbmV4cG9ydCB7IENlbGxNZWFzdXJlciwgQ2VsbE1lYXN1cmVyQ2FjaGUgfSBmcm9tICcuL0NlbGxNZWFzdXJlcic7XG5leHBvcnQgeyBDb2xsZWN0aW9uIH0gZnJvbSAnLi9Db2xsZWN0aW9uJztcbmV4cG9ydCB7IENvbHVtblNpemVyIH0gZnJvbSAnLi9Db2x1bW5TaXplcic7XG5leHBvcnQgeyBhY2Nlc3NpYmlsaXR5T3ZlcnNjYW5JbmRpY2VzR2V0dGVyLCBkZWZhdWx0Q2VsbFJhbmdlUmVuZGVyZXIsIGRlZmF1bHRPdmVyc2NhbkluZGljZXNHZXR0ZXIsIEdyaWQgfSBmcm9tICcuL0dyaWQnO1xuZXhwb3J0IHsgSW5maW5pdGVMb2FkZXIgfSBmcm9tICcuL0luZmluaXRlTG9hZGVyJztcbmV4cG9ydCB7IExpc3QgfSBmcm9tICcuL0xpc3QnO1xuZXhwb3J0IHsgY3JlYXRlQ2VsbFBvc2l0aW9uZXIgYXMgY3JlYXRlTWFzb25yeUNlbGxQb3NpdGlvbmVyLCBNYXNvbnJ5IH0gZnJvbSAnLi9NYXNvbnJ5JztcbmV4cG9ydCB7IE11bHRpR3JpZCB9IGZyb20gJy4vTXVsdGlHcmlkJztcbmV4cG9ydCB7IFNjcm9sbFN5bmMgfSBmcm9tICcuL1Njcm9sbFN5bmMnO1xuZXhwb3J0IHsgY3JlYXRlTXVsdGlTb3J0IGFzIGNyZWF0ZVRhYmxlTXVsdGlTb3J0LCBkZWZhdWx0Q2VsbERhdGFHZXR0ZXIgYXMgZGVmYXVsdFRhYmxlQ2VsbERhdGFHZXR0ZXIsIGRlZmF1bHRDZWxsUmVuZGVyZXIgYXMgZGVmYXVsdFRhYmxlQ2VsbFJlbmRlcmVyLCBkZWZhdWx0SGVhZGVyUmVuZGVyZXIgYXMgZGVmYXVsdFRhYmxlSGVhZGVyUmVuZGVyZXIsIGRlZmF1bHRIZWFkZXJSb3dSZW5kZXJlciBhcyBkZWZhdWx0VGFibGVIZWFkZXJSb3dSZW5kZXJlciwgZGVmYXVsdFJvd1JlbmRlcmVyIGFzIGRlZmF1bHRUYWJsZVJvd1JlbmRlcmVyLCBUYWJsZSwgQ29sdW1uLCBTb3J0RGlyZWN0aW9uLCBTb3J0SW5kaWNhdG9yIH0gZnJvbSAnLi9UYWJsZSc7XG5leHBvcnQgeyBXaW5kb3dTY3JvbGxlciB9IGZyb20gJy4vV2luZG93U2Nyb2xsZXInOyIsIi8vIFByb3Blcmx5IGhhbmRsZSBzZXJ2ZXItc2lkZSByZW5kZXJpbmcuXG52YXIgd2luO1xuXG5pZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgd2luID0gd2luZG93O1xufSBlbHNlIGlmICh0eXBlb2Ygc2VsZiAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgd2luID0gc2VsZjtcbn0gZWxzZSB7XG4gIHdpbiA9IHt9O1xufSAvLyByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKSBzaGltIGJ5IFBhdWwgSXJpc2hcbi8vIGh0dHA6Ly9wYXVsaXJpc2guY29tLzIwMTEvcmVxdWVzdGFuaW1hdGlvbmZyYW1lLWZvci1zbWFydC1hbmltYXRpbmcvXG5cblxudmFyIHJlcXVlc3QgPSB3aW4ucmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8IHdpbi53ZWJraXRSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHwgd2luLm1velJlcXVlc3RBbmltYXRpb25GcmFtZSB8fCB3aW4ub1JlcXVlc3RBbmltYXRpb25GcmFtZSB8fCB3aW4ubXNSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHwgZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gIHJldHVybiB3aW4uc2V0VGltZW91dChjYWxsYmFjaywgMTAwMCAvIDYwKTtcbn07XG5cbnZhciBjYW5jZWwgPSB3aW4uY2FuY2VsQW5pbWF0aW9uRnJhbWUgfHwgd2luLndlYmtpdENhbmNlbEFuaW1hdGlvbkZyYW1lIHx8IHdpbi5tb3pDYW5jZWxBbmltYXRpb25GcmFtZSB8fCB3aW4ub0NhbmNlbEFuaW1hdGlvbkZyYW1lIHx8IHdpbi5tc0NhbmNlbEFuaW1hdGlvbkZyYW1lIHx8IGZ1bmN0aW9uIChpZCkge1xuICB3aW4uY2xlYXJUaW1lb3V0KGlkKTtcbn07XG5cbmV4cG9ydCB2YXIgcmFmID0gcmVxdWVzdDtcbmV4cG9ydCB2YXIgY2FmID0gY2FuY2VsOyIsIi8qKlxuICogSGVscGVyIHV0aWxpdHkgdGhhdCB1cGRhdGVzIHRoZSBzcGVjaWZpZWQgY2FsbGJhY2sgd2hlbmV2ZXIgYW55IG9mIHRoZSBzcGVjaWZpZWQgaW5kaWNlcyBoYXZlIGNoYW5nZWQuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNyZWF0ZUNhbGxiYWNrTWVtb2l6ZXIoKSB7XG4gIHZhciByZXF1aXJlQWxsS2V5cyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogdHJ1ZTtcbiAgdmFyIGNhY2hlZEluZGljZXMgPSB7fTtcbiAgcmV0dXJuIGZ1bmN0aW9uIChfcmVmKSB7XG4gICAgdmFyIGNhbGxiYWNrID0gX3JlZi5jYWxsYmFjayxcbiAgICAgICAgaW5kaWNlcyA9IF9yZWYuaW5kaWNlcztcbiAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKGluZGljZXMpO1xuICAgIHZhciBhbGxJbml0aWFsaXplZCA9ICFyZXF1aXJlQWxsS2V5cyB8fCBrZXlzLmV2ZXJ5KGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgIHZhciB2YWx1ZSA9IGluZGljZXNba2V5XTtcbiAgICAgIHJldHVybiBBcnJheS5pc0FycmF5KHZhbHVlKSA/IHZhbHVlLmxlbmd0aCA+IDAgOiB2YWx1ZSA+PSAwO1xuICAgIH0pO1xuICAgIHZhciBpbmRleENoYW5nZWQgPSBrZXlzLmxlbmd0aCAhPT0gT2JqZWN0LmtleXMoY2FjaGVkSW5kaWNlcykubGVuZ3RoIHx8IGtleXMuc29tZShmdW5jdGlvbiAoa2V5KSB7XG4gICAgICB2YXIgY2FjaGVkVmFsdWUgPSBjYWNoZWRJbmRpY2VzW2tleV07XG4gICAgICB2YXIgdmFsdWUgPSBpbmRpY2VzW2tleV07XG4gICAgICByZXR1cm4gQXJyYXkuaXNBcnJheSh2YWx1ZSkgPyBjYWNoZWRWYWx1ZS5qb2luKCcsJykgIT09IHZhbHVlLmpvaW4oJywnKSA6IGNhY2hlZFZhbHVlICE9PSB2YWx1ZTtcbiAgICB9KTtcbiAgICBjYWNoZWRJbmRpY2VzID0gaW5kaWNlcztcblxuICAgIGlmIChhbGxJbml0aWFsaXplZCAmJiBpbmRleENoYW5nZWQpIHtcbiAgICAgIGNhbGxiYWNrKGluZGljZXMpO1xuICAgIH1cbiAgfTtcbn0iLCIvKipcbiAqIERldGVybWluZXMgYSBuZXcgb2Zmc2V0IHRoYXQgZW5zdXJlcyBhIGNlcnRhaW4gY2VsbCBpcyB2aXNpYmxlLCBnaXZlbiB0aGUgY3VycmVudCBvZmZzZXQuXG4gKiBJZiB0aGUgY2VsbCBpcyBhbHJlYWR5IHZpc2libGUgdGhlbiB0aGUgY3VycmVudCBvZmZzZXQgd2lsbCBiZSByZXR1cm5lZC5cbiAqIElmIHRoZSBjdXJyZW50IG9mZnNldCBpcyB0b28gZ3JlYXQgb3Igc21hbGwsIGl0IHdpbGwgYmUgYWRqdXN0ZWQganVzdCBlbm91Z2ggdG8gZW5zdXJlIHRoZSBzcGVjaWZpZWQgaW5kZXggaXMgdmlzaWJsZS5cbiAqXG4gKiBAcGFyYW0gYWxpZ24gRGVzaXJlZCBhbGlnbm1lbnQgd2l0aGluIGNvbnRhaW5lcjsgb25lIG9mIFwiYXV0b1wiIChkZWZhdWx0KSwgXCJzdGFydFwiLCBvciBcImVuZFwiXG4gKiBAcGFyYW0gY2VsbE9mZnNldCBPZmZzZXQgKHggb3IgeSkgcG9zaXRpb24gZm9yIGNlbGxcbiAqIEBwYXJhbSBjZWxsU2l6ZSBTaXplICh3aWR0aCBvciBoZWlnaHQpIG9mIGNlbGxcbiAqIEBwYXJhbSBjb250YWluZXJTaXplIFRvdGFsIHNpemUgKHdpZHRoIG9yIGhlaWdodCkgb2YgdGhlIGNvbnRhaW5lclxuICogQHBhcmFtIGN1cnJlbnRPZmZzZXQgQ29udGFpbmVyJ3MgY3VycmVudCAoeCBvciB5KSBvZmZzZXRcbiAqIEByZXR1cm4gT2Zmc2V0IHRvIHVzZSB0byBlbnN1cmUgdGhlIHNwZWNpZmllZCBjZWxsIGlzIHZpc2libGVcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZ2V0VXBkYXRlZE9mZnNldEZvckluZGV4KF9yZWYpIHtcbiAgdmFyIF9yZWYkYWxpZ24gPSBfcmVmLmFsaWduLFxuICAgICAgYWxpZ24gPSBfcmVmJGFsaWduID09PSB2b2lkIDAgPyAnYXV0bycgOiBfcmVmJGFsaWduLFxuICAgICAgY2VsbE9mZnNldCA9IF9yZWYuY2VsbE9mZnNldCxcbiAgICAgIGNlbGxTaXplID0gX3JlZi5jZWxsU2l6ZSxcbiAgICAgIGNvbnRhaW5lclNpemUgPSBfcmVmLmNvbnRhaW5lclNpemUsXG4gICAgICBjdXJyZW50T2Zmc2V0ID0gX3JlZi5jdXJyZW50T2Zmc2V0O1xuICB2YXIgbWF4T2Zmc2V0ID0gY2VsbE9mZnNldDtcbiAgdmFyIG1pbk9mZnNldCA9IG1heE9mZnNldCAtIGNvbnRhaW5lclNpemUgKyBjZWxsU2l6ZTtcblxuICBzd2l0Y2ggKGFsaWduKSB7XG4gICAgY2FzZSAnc3RhcnQnOlxuICAgICAgcmV0dXJuIG1heE9mZnNldDtcblxuICAgIGNhc2UgJ2VuZCc6XG4gICAgICByZXR1cm4gbWluT2Zmc2V0O1xuXG4gICAgY2FzZSAnY2VudGVyJzpcbiAgICAgIHJldHVybiBtYXhPZmZzZXQgLSAoY29udGFpbmVyU2l6ZSAtIGNlbGxTaXplKSAvIDI7XG5cbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIE1hdGgubWF4KG1pbk9mZnNldCwgTWF0aC5taW4obWF4T2Zmc2V0LCBjdXJyZW50T2Zmc2V0KSk7XG4gIH1cbn0iLCJpbXBvcnQgeyBjYWYsIHJhZiB9IGZyb20gJy4vYW5pbWF0aW9uRnJhbWUnO1xudmFyIGJwZnJwdF9wcm9wdHlwZV9BbmltYXRpb25UaW1lb3V0SWQgPSBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nID8gbnVsbCA6IHtcbiAgXCJpZFwiOiBQcm9wVHlwZXMubnVtYmVyLmlzUmVxdWlyZWRcbn07XG5leHBvcnQgdmFyIGNhbmNlbEFuaW1hdGlvblRpbWVvdXQgPSBmdW5jdGlvbiBjYW5jZWxBbmltYXRpb25UaW1lb3V0KGZyYW1lKSB7XG4gIHJldHVybiBjYWYoZnJhbWUuaWQpO1xufTtcbi8qKlxuICogUmVjdXJzaXZlbHkgY2FsbHMgcmVxdWVzdEFuaW1hdGlvbkZyYW1lIHVudGlsIGEgc3BlY2lmaWVkIGRlbGF5IGhhcyBiZWVuIG1ldCBvciBleGNlZWRlZC5cbiAqIFdoZW4gdGhlIGRlbGF5IHRpbWUgaGFzIGJlZW4gcmVhY2hlZCB0aGUgZnVuY3Rpb24geW91J3JlIHRpbWluZyBvdXQgd2lsbCBiZSBjYWxsZWQuXG4gKlxuICogQ3JlZGl0OiBKb2UgTGFtYmVydCAoaHR0cHM6Ly9naXN0LmdpdGh1Yi5jb20vam9lbGFtYmVydC8xMDAyMTE2I2ZpbGUtcmVxdWVzdHRpbWVvdXQtanMpXG4gKi9cblxuZXhwb3J0IHZhciByZXF1ZXN0QW5pbWF0aW9uVGltZW91dCA9IGZ1bmN0aW9uIHJlcXVlc3RBbmltYXRpb25UaW1lb3V0KGNhbGxiYWNrLCBkZWxheSkge1xuICB2YXIgc3RhcnQ7IC8vIHdhaXQgZm9yIGVuZCBvZiBwcm9jZXNzaW5nIGN1cnJlbnQgZXZlbnQgaGFuZGxlciwgYmVjYXVzZSBldmVudCBoYW5kbGVyIG1heSBiZSBsb25nXG5cbiAgUHJvbWlzZS5yZXNvbHZlKCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgc3RhcnQgPSBEYXRlLm5vdygpO1xuICB9KTtcblxuICB2YXIgdGltZW91dCA9IGZ1bmN0aW9uIHRpbWVvdXQoKSB7XG4gICAgaWYgKERhdGUubm93KCkgLSBzdGFydCA+PSBkZWxheSkge1xuICAgICAgY2FsbGJhY2suY2FsbCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBmcmFtZS5pZCA9IHJhZih0aW1lb3V0KTtcbiAgICB9XG4gIH07XG5cbiAgdmFyIGZyYW1lID0ge1xuICAgIGlkOiByYWYodGltZW91dClcbiAgfTtcbiAgcmV0dXJuIGZyYW1lO1xufTtcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSBcInByb3AtdHlwZXNcIjtcbmV4cG9ydCB7IGJwZnJwdF9wcm9wdHlwZV9BbmltYXRpb25UaW1lb3V0SWQgfTsiLCIvKipcbiAqIEJpbmFyeSBTZWFyY2ggQm91bmRzXG4gKiBodHRwczovL2dpdGh1Yi5jb20vbWlrb2xhbHlzZW5rby9iaW5hcnktc2VhcmNoLWJvdW5kc1xuICogTWlrb2xhIEx5c2Vua29cbiAqXG4gKiBJbmxpbmVkIGJlY2F1c2Ugb2YgQ29udGVudCBTZWN1cml0eSBQb2xpY3kgaXNzdWUgY2F1c2VkIGJ5IHRoZSB1c2Ugb2YgYG5ldyBGdW5jdGlvbiguLi4pYCBzeW50YXguXG4gKiBJc3N1ZSByZXBvcnRlZCBoZXJlOiBodHRwczovL2dpdGh1Yi5jb20vbWlrb2xhbHlzZW5rby9iaW5hcnktc2VhcmNoLWJvdW5kcy9pc3N1ZXMvNVxuICoqL1xuZnVuY3Rpb24gX0dFQShhLCBsLCBoLCB5KSB7XG4gIHZhciBpID0gaCArIDE7XG5cbiAgd2hpbGUgKGwgPD0gaCkge1xuICAgIHZhciBtID0gbCArIGggPj4+IDEsXG4gICAgICAgIHggPSBhW21dO1xuXG4gICAgaWYgKHggPj0geSkge1xuICAgICAgaSA9IG07XG4gICAgICBoID0gbSAtIDE7XG4gICAgfSBlbHNlIHtcbiAgICAgIGwgPSBtICsgMTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gaTtcbn1cblxuZnVuY3Rpb24gX0dFUChhLCBsLCBoLCB5LCBjKSB7XG4gIHZhciBpID0gaCArIDE7XG5cbiAgd2hpbGUgKGwgPD0gaCkge1xuICAgIHZhciBtID0gbCArIGggPj4+IDEsXG4gICAgICAgIHggPSBhW21dO1xuXG4gICAgaWYgKGMoeCwgeSkgPj0gMCkge1xuICAgICAgaSA9IG07XG4gICAgICBoID0gbSAtIDE7XG4gICAgfSBlbHNlIHtcbiAgICAgIGwgPSBtICsgMTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gaTtcbn1cblxuZnVuY3Rpb24gZGlzcGF0Y2hCc2VhcmNoR0UoYSwgeSwgYywgbCwgaCkge1xuICBpZiAodHlwZW9mIGMgPT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gX0dFUChhLCBsID09PSB2b2lkIDAgPyAwIDogbCB8IDAsIGggPT09IHZvaWQgMCA/IGEubGVuZ3RoIC0gMSA6IGggfCAwLCB5LCBjKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gX0dFQShhLCBjID09PSB2b2lkIDAgPyAwIDogYyB8IDAsIGwgPT09IHZvaWQgMCA/IGEubGVuZ3RoIC0gMSA6IGwgfCAwLCB5KTtcbiAgfVxufVxuXG5mdW5jdGlvbiBfR1RBKGEsIGwsIGgsIHkpIHtcbiAgdmFyIGkgPSBoICsgMTtcblxuICB3aGlsZSAobCA8PSBoKSB7XG4gICAgdmFyIG0gPSBsICsgaCA+Pj4gMSxcbiAgICAgICAgeCA9IGFbbV07XG5cbiAgICBpZiAoeCA+IHkpIHtcbiAgICAgIGkgPSBtO1xuICAgICAgaCA9IG0gLSAxO1xuICAgIH0gZWxzZSB7XG4gICAgICBsID0gbSArIDE7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGk7XG59XG5cbmZ1bmN0aW9uIF9HVFAoYSwgbCwgaCwgeSwgYykge1xuICB2YXIgaSA9IGggKyAxO1xuXG4gIHdoaWxlIChsIDw9IGgpIHtcbiAgICB2YXIgbSA9IGwgKyBoID4+PiAxLFxuICAgICAgICB4ID0gYVttXTtcblxuICAgIGlmIChjKHgsIHkpID4gMCkge1xuICAgICAgaSA9IG07XG4gICAgICBoID0gbSAtIDE7XG4gICAgfSBlbHNlIHtcbiAgICAgIGwgPSBtICsgMTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gaTtcbn1cblxuZnVuY3Rpb24gZGlzcGF0Y2hCc2VhcmNoR1QoYSwgeSwgYywgbCwgaCkge1xuICBpZiAodHlwZW9mIGMgPT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gX0dUUChhLCBsID09PSB2b2lkIDAgPyAwIDogbCB8IDAsIGggPT09IHZvaWQgMCA/IGEubGVuZ3RoIC0gMSA6IGggfCAwLCB5LCBjKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gX0dUQShhLCBjID09PSB2b2lkIDAgPyAwIDogYyB8IDAsIGwgPT09IHZvaWQgMCA/IGEubGVuZ3RoIC0gMSA6IGwgfCAwLCB5KTtcbiAgfVxufVxuXG5mdW5jdGlvbiBfTFRBKGEsIGwsIGgsIHkpIHtcbiAgdmFyIGkgPSBsIC0gMTtcblxuICB3aGlsZSAobCA8PSBoKSB7XG4gICAgdmFyIG0gPSBsICsgaCA+Pj4gMSxcbiAgICAgICAgeCA9IGFbbV07XG5cbiAgICBpZiAoeCA8IHkpIHtcbiAgICAgIGkgPSBtO1xuICAgICAgbCA9IG0gKyAxO1xuICAgIH0gZWxzZSB7XG4gICAgICBoID0gbSAtIDE7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGk7XG59XG5cbmZ1bmN0aW9uIF9MVFAoYSwgbCwgaCwgeSwgYykge1xuICB2YXIgaSA9IGwgLSAxO1xuXG4gIHdoaWxlIChsIDw9IGgpIHtcbiAgICB2YXIgbSA9IGwgKyBoID4+PiAxLFxuICAgICAgICB4ID0gYVttXTtcblxuICAgIGlmIChjKHgsIHkpIDwgMCkge1xuICAgICAgaSA9IG07XG4gICAgICBsID0gbSArIDE7XG4gICAgfSBlbHNlIHtcbiAgICAgIGggPSBtIC0gMTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gaTtcbn1cblxuZnVuY3Rpb24gZGlzcGF0Y2hCc2VhcmNoTFQoYSwgeSwgYywgbCwgaCkge1xuICBpZiAodHlwZW9mIGMgPT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gX0xUUChhLCBsID09PSB2b2lkIDAgPyAwIDogbCB8IDAsIGggPT09IHZvaWQgMCA/IGEubGVuZ3RoIC0gMSA6IGggfCAwLCB5LCBjKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gX0xUQShhLCBjID09PSB2b2lkIDAgPyAwIDogYyB8IDAsIGwgPT09IHZvaWQgMCA/IGEubGVuZ3RoIC0gMSA6IGwgfCAwLCB5KTtcbiAgfVxufVxuXG5mdW5jdGlvbiBfTEVBKGEsIGwsIGgsIHkpIHtcbiAgdmFyIGkgPSBsIC0gMTtcblxuICB3aGlsZSAobCA8PSBoKSB7XG4gICAgdmFyIG0gPSBsICsgaCA+Pj4gMSxcbiAgICAgICAgeCA9IGFbbV07XG5cbiAgICBpZiAoeCA8PSB5KSB7XG4gICAgICBpID0gbTtcbiAgICAgIGwgPSBtICsgMTtcbiAgICB9IGVsc2Uge1xuICAgICAgaCA9IG0gLSAxO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBpO1xufVxuXG5mdW5jdGlvbiBfTEVQKGEsIGwsIGgsIHksIGMpIHtcbiAgdmFyIGkgPSBsIC0gMTtcblxuICB3aGlsZSAobCA8PSBoKSB7XG4gICAgdmFyIG0gPSBsICsgaCA+Pj4gMSxcbiAgICAgICAgeCA9IGFbbV07XG5cbiAgICBpZiAoYyh4LCB5KSA8PSAwKSB7XG4gICAgICBpID0gbTtcbiAgICAgIGwgPSBtICsgMTtcbiAgICB9IGVsc2Uge1xuICAgICAgaCA9IG0gLSAxO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBpO1xufVxuXG5mdW5jdGlvbiBkaXNwYXRjaEJzZWFyY2hMRShhLCB5LCBjLCBsLCBoKSB7XG4gIGlmICh0eXBlb2YgYyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHJldHVybiBfTEVQKGEsIGwgPT09IHZvaWQgMCA/IDAgOiBsIHwgMCwgaCA9PT0gdm9pZCAwID8gYS5sZW5ndGggLSAxIDogaCB8IDAsIHksIGMpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBfTEVBKGEsIGMgPT09IHZvaWQgMCA/IDAgOiBjIHwgMCwgbCA9PT0gdm9pZCAwID8gYS5sZW5ndGggLSAxIDogbCB8IDAsIHkpO1xuICB9XG59XG5cbmZ1bmN0aW9uIF9FUUEoYSwgbCwgaCwgeSkge1xuICBsIC0gMTtcblxuICB3aGlsZSAobCA8PSBoKSB7XG4gICAgdmFyIG0gPSBsICsgaCA+Pj4gMSxcbiAgICAgICAgeCA9IGFbbV07XG5cbiAgICBpZiAoeCA9PT0geSkge1xuICAgICAgcmV0dXJuIG07XG4gICAgfSBlbHNlIGlmICh4IDw9IHkpIHtcbiAgICAgIGwgPSBtICsgMTtcbiAgICB9IGVsc2Uge1xuICAgICAgaCA9IG0gLSAxO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiAtMTtcbn1cblxuZnVuY3Rpb24gX0VRUChhLCBsLCBoLCB5LCBjKSB7XG4gIGwgLSAxO1xuXG4gIHdoaWxlIChsIDw9IGgpIHtcbiAgICB2YXIgbSA9IGwgKyBoID4+PiAxLFxuICAgICAgICB4ID0gYVttXTtcbiAgICB2YXIgcCA9IGMoeCwgeSk7XG5cbiAgICBpZiAocCA9PT0gMCkge1xuICAgICAgcmV0dXJuIG07XG4gICAgfSBlbHNlIGlmIChwIDw9IDApIHtcbiAgICAgIGwgPSBtICsgMTtcbiAgICB9IGVsc2Uge1xuICAgICAgaCA9IG0gLSAxO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiAtMTtcbn1cblxuZnVuY3Rpb24gZGlzcGF0Y2hCc2VhcmNoRVEoYSwgeSwgYywgbCwgaCkge1xuICBpZiAodHlwZW9mIGMgPT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gX0VRUChhLCBsID09PSB2b2lkIDAgPyAwIDogbCB8IDAsIGggPT09IHZvaWQgMCA/IGEubGVuZ3RoIC0gMSA6IGggfCAwLCB5LCBjKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gX0VRQShhLCBjID09PSB2b2lkIDAgPyAwIDogYyB8IDAsIGwgPT09IHZvaWQgMCA/IGEubGVuZ3RoIC0gMSA6IGwgfCAwLCB5KTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCB7XG4gIGdlOiBkaXNwYXRjaEJzZWFyY2hHRSxcbiAgZ3Q6IGRpc3BhdGNoQnNlYXJjaEdULFxuICBsdDogZGlzcGF0Y2hCc2VhcmNoTFQsXG4gIGxlOiBkaXNwYXRjaEJzZWFyY2hMRSxcbiAgZXE6IGRpc3BhdGNoQnNlYXJjaEVRXG59OyIsIi8qKlxuICogRGV0ZWN0IEVsZW1lbnQgUmVzaXplLlxuICogaHR0cHM6Ly9naXRodWIuY29tL3NkZWNpbWEvamF2YXNjcmlwdC1kZXRlY3QtZWxlbWVudC1yZXNpemVcbiAqIFNlYmFzdGlhbiBEZWNpbWFcbiAqXG4gKiBGb3JrZWQgZnJvbSB2ZXJzaW9uIDAuNS4zOyBpbmNsdWRlcyB0aGUgZm9sbG93aW5nIG1vZGlmaWNhdGlvbnM6XG4gKiAxKcKgR3VhcmQgYWdhaW5zdCB1bnNhZmUgJ3dpbmRvdycgYW5kICdkb2N1bWVudCcgcmVmZXJlbmNlcyAodG8gc3VwcG9ydCBTU1IpLlxuICogMinCoERlZmVyIGluaXRpYWxpemF0aW9uIGNvZGUgdmlhIGEgdG9wLWxldmVsIGZ1bmN0aW9uIHdyYXBwZXIgKHRvIHN1cHBvcnQgU1NSKS5cbiAqIDMpIEF2b2lkIHVubmVjZXNzYXJ5IHJlZmxvd3MgYnkgbm90IG1lYXN1cmluZyBzaXplIGZvciBzY3JvbGwgZXZlbnRzIGJ1YmJsaW5nIGZyb20gY2hpbGRyZW4uXG4gKiA0KSBBZGQgbm9uY2UgZm9yIHN0eWxlIGVsZW1lbnQuXG4gKiA1KSBBZGRlZCBzdXBwb3J0IGZvciBpbmplY3RpbmcgY3VzdG9tIHdpbmRvdyBvYmplY3RcbiAqKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNyZWF0ZURldGVjdEVsZW1lbnRSZXNpemUobm9uY2UsIGhvc3RXaW5kb3cpIHtcbiAgLy8gQ2hlY2sgYGRvY3VtZW50YCBhbmQgYHdpbmRvd2AgaW4gY2FzZSBvZiBzZXJ2ZXItc2lkZSByZW5kZXJpbmdcbiAgdmFyIF93aW5kb3c7XG5cbiAgaWYgKHR5cGVvZiBob3N0V2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgIF93aW5kb3cgPSBob3N0V2luZG93O1xuICB9IGVsc2UgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgX3dpbmRvdyA9IHdpbmRvdztcbiAgfSBlbHNlIGlmICh0eXBlb2Ygc2VsZiAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBfd2luZG93ID0gc2VsZjtcbiAgfSBlbHNlIHtcbiAgICBfd2luZG93ID0gZ2xvYmFsO1xuICB9XG5cbiAgdmFyIGF0dGFjaEV2ZW50ID0gdHlwZW9mIF93aW5kb3cuZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnICYmIF93aW5kb3cuZG9jdW1lbnQuYXR0YWNoRXZlbnQ7XG5cbiAgaWYgKCFhdHRhY2hFdmVudCkge1xuICAgIHZhciByZXF1ZXN0RnJhbWUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgcmFmID0gX3dpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHwgX3dpbmRvdy5tb3pSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHwgX3dpbmRvdy53ZWJraXRSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHwgZnVuY3Rpb24gKGZuKSB7XG4gICAgICAgIHJldHVybiBfd2luZG93LnNldFRpbWVvdXQoZm4sIDIwKTtcbiAgICAgIH07XG5cbiAgICAgIHJldHVybiBmdW5jdGlvbiAoZm4pIHtcbiAgICAgICAgcmV0dXJuIHJhZihmbik7XG4gICAgICB9O1xuICAgIH0oKTtcblxuICAgIHZhciBjYW5jZWxGcmFtZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBjYW5jZWwgPSBfd2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lIHx8IF93aW5kb3cubW96Q2FuY2VsQW5pbWF0aW9uRnJhbWUgfHwgX3dpbmRvdy53ZWJraXRDYW5jZWxBbmltYXRpb25GcmFtZSB8fCBfd2luZG93LmNsZWFyVGltZW91dDtcbiAgICAgIHJldHVybiBmdW5jdGlvbiAoaWQpIHtcbiAgICAgICAgcmV0dXJuIGNhbmNlbChpZCk7XG4gICAgICB9O1xuICAgIH0oKTtcblxuICAgIHZhciByZXNldFRyaWdnZXJzID0gZnVuY3Rpb24gcmVzZXRUcmlnZ2VycyhlbGVtZW50KSB7XG4gICAgICB2YXIgdHJpZ2dlcnMgPSBlbGVtZW50Ll9fcmVzaXplVHJpZ2dlcnNfXyxcbiAgICAgICAgICBleHBhbmQgPSB0cmlnZ2Vycy5maXJzdEVsZW1lbnRDaGlsZCxcbiAgICAgICAgICBjb250cmFjdCA9IHRyaWdnZXJzLmxhc3RFbGVtZW50Q2hpbGQsXG4gICAgICAgICAgZXhwYW5kQ2hpbGQgPSBleHBhbmQuZmlyc3RFbGVtZW50Q2hpbGQ7XG4gICAgICBjb250cmFjdC5zY3JvbGxMZWZ0ID0gY29udHJhY3Quc2Nyb2xsV2lkdGg7XG4gICAgICBjb250cmFjdC5zY3JvbGxUb3AgPSBjb250cmFjdC5zY3JvbGxIZWlnaHQ7XG4gICAgICBleHBhbmRDaGlsZC5zdHlsZS53aWR0aCA9IGV4cGFuZC5vZmZzZXRXaWR0aCArIDEgKyAncHgnO1xuICAgICAgZXhwYW5kQ2hpbGQuc3R5bGUuaGVpZ2h0ID0gZXhwYW5kLm9mZnNldEhlaWdodCArIDEgKyAncHgnO1xuICAgICAgZXhwYW5kLnNjcm9sbExlZnQgPSBleHBhbmQuc2Nyb2xsV2lkdGg7XG4gICAgICBleHBhbmQuc2Nyb2xsVG9wID0gZXhwYW5kLnNjcm9sbEhlaWdodDtcbiAgICB9O1xuXG4gICAgdmFyIGNoZWNrVHJpZ2dlcnMgPSBmdW5jdGlvbiBjaGVja1RyaWdnZXJzKGVsZW1lbnQpIHtcbiAgICAgIHJldHVybiBlbGVtZW50Lm9mZnNldFdpZHRoICE9IGVsZW1lbnQuX19yZXNpemVMYXN0X18ud2lkdGggfHwgZWxlbWVudC5vZmZzZXRIZWlnaHQgIT0gZWxlbWVudC5fX3Jlc2l6ZUxhc3RfXy5oZWlnaHQ7XG4gICAgfTtcblxuICAgIHZhciBzY3JvbGxMaXN0ZW5lciA9IGZ1bmN0aW9uIHNjcm9sbExpc3RlbmVyKGUpIHtcbiAgICAgIC8vIERvbid0IG1lYXN1cmUgKHdoaWNoIGZvcmNlcykgcmVmbG93IGZvciBzY3JvbGxzIHRoYXQgaGFwcGVuIGluc2lkZSBvZiBjaGlsZHJlbiFcbiAgICAgIGlmIChlLnRhcmdldC5jbGFzc05hbWUgJiYgdHlwZW9mIGUudGFyZ2V0LmNsYXNzTmFtZS5pbmRleE9mID09PSAnZnVuY3Rpb24nICYmIGUudGFyZ2V0LmNsYXNzTmFtZS5pbmRleE9mKCdjb250cmFjdC10cmlnZ2VyJykgPCAwICYmIGUudGFyZ2V0LmNsYXNzTmFtZS5pbmRleE9mKCdleHBhbmQtdHJpZ2dlcicpIDwgMCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHZhciBlbGVtZW50ID0gdGhpcztcbiAgICAgIHJlc2V0VHJpZ2dlcnModGhpcyk7XG5cbiAgICAgIGlmICh0aGlzLl9fcmVzaXplUkFGX18pIHtcbiAgICAgICAgY2FuY2VsRnJhbWUodGhpcy5fX3Jlc2l6ZVJBRl9fKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5fX3Jlc2l6ZVJBRl9fID0gcmVxdWVzdEZyYW1lKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKGNoZWNrVHJpZ2dlcnMoZWxlbWVudCkpIHtcbiAgICAgICAgICBlbGVtZW50Ll9fcmVzaXplTGFzdF9fLndpZHRoID0gZWxlbWVudC5vZmZzZXRXaWR0aDtcbiAgICAgICAgICBlbGVtZW50Ll9fcmVzaXplTGFzdF9fLmhlaWdodCA9IGVsZW1lbnQub2Zmc2V0SGVpZ2h0O1xuXG4gICAgICAgICAgZWxlbWVudC5fX3Jlc2l6ZUxpc3RlbmVyc19fLmZvckVhY2goZnVuY3Rpb24gKGZuKSB7XG4gICAgICAgICAgICBmbi5jYWxsKGVsZW1lbnQsIGUpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9O1xuICAgIC8qIERldGVjdCBDU1MgQW5pbWF0aW9ucyBzdXBwb3J0IHRvIGRldGVjdCBlbGVtZW50IGRpc3BsYXkvcmUtYXR0YWNoICovXG5cblxuICAgIHZhciBhbmltYXRpb24gPSBmYWxzZSxcbiAgICAgICAga2V5ZnJhbWVwcmVmaXggPSAnJyxcbiAgICAgICAgYW5pbWF0aW9uc3RhcnRldmVudCA9ICdhbmltYXRpb25zdGFydCcsXG4gICAgICAgIGRvbVByZWZpeGVzID0gJ1dlYmtpdCBNb3ogTyBtcycuc3BsaXQoJyAnKSxcbiAgICAgICAgc3RhcnRFdmVudHMgPSAnd2Via2l0QW5pbWF0aW9uU3RhcnQgYW5pbWF0aW9uc3RhcnQgb0FuaW1hdGlvblN0YXJ0IE1TQW5pbWF0aW9uU3RhcnQnLnNwbGl0KCcgJyksXG4gICAgICAgIHBmeCA9ICcnO1xuICAgIHtcbiAgICAgIHZhciBlbG0gPSBfd2luZG93LmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2Zha2VlbGVtZW50Jyk7XG5cbiAgICAgIGlmIChlbG0uc3R5bGUuYW5pbWF0aW9uTmFtZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGFuaW1hdGlvbiA9IHRydWU7XG4gICAgICB9XG5cbiAgICAgIGlmIChhbmltYXRpb24gPT09IGZhbHNlKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZG9tUHJlZml4ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBpZiAoZWxtLnN0eWxlW2RvbVByZWZpeGVzW2ldICsgJ0FuaW1hdGlvbk5hbWUnXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBwZnggPSBkb21QcmVmaXhlc1tpXTtcbiAgICAgICAgICAgIGtleWZyYW1lcHJlZml4ID0gJy0nICsgcGZ4LnRvTG93ZXJDYXNlKCkgKyAnLSc7XG4gICAgICAgICAgICBhbmltYXRpb25zdGFydGV2ZW50ID0gc3RhcnRFdmVudHNbaV07XG4gICAgICAgICAgICBhbmltYXRpb24gPSB0cnVlO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHZhciBhbmltYXRpb25OYW1lID0gJ3Jlc2l6ZWFuaW0nO1xuICAgIHZhciBhbmltYXRpb25LZXlmcmFtZXMgPSAnQCcgKyBrZXlmcmFtZXByZWZpeCArICdrZXlmcmFtZXMgJyArIGFuaW1hdGlvbk5hbWUgKyAnIHsgZnJvbSB7IG9wYWNpdHk6IDA7IH0gdG8geyBvcGFjaXR5OiAwOyB9IH0gJztcbiAgICB2YXIgYW5pbWF0aW9uU3R5bGUgPSBrZXlmcmFtZXByZWZpeCArICdhbmltYXRpb246IDFtcyAnICsgYW5pbWF0aW9uTmFtZSArICc7ICc7XG4gIH1cblxuICB2YXIgY3JlYXRlU3R5bGVzID0gZnVuY3Rpb24gY3JlYXRlU3R5bGVzKGRvYykge1xuICAgIGlmICghZG9jLmdldEVsZW1lbnRCeUlkKCdkZXRlY3RFbGVtZW50UmVzaXplJykpIHtcbiAgICAgIC8vb3BhY2l0eTowIHdvcmtzIGFyb3VuZCBhIGNocm9tZSBidWcgaHR0cHM6Ly9jb2RlLmdvb2dsZS5jb20vcC9jaHJvbWl1bS9pc3N1ZXMvZGV0YWlsP2lkPTI4NjM2MFxuICAgICAgdmFyIGNzcyA9IChhbmltYXRpb25LZXlmcmFtZXMgPyBhbmltYXRpb25LZXlmcmFtZXMgOiAnJykgKyAnLnJlc2l6ZS10cmlnZ2VycyB7ICcgKyAoYW5pbWF0aW9uU3R5bGUgPyBhbmltYXRpb25TdHlsZSA6ICcnKSArICd2aXNpYmlsaXR5OiBoaWRkZW47IG9wYWNpdHk6IDA7IH0gJyArICcucmVzaXplLXRyaWdnZXJzLCAucmVzaXplLXRyaWdnZXJzID4gZGl2LCAuY29udHJhY3QtdHJpZ2dlcjpiZWZvcmUgeyBjb250ZW50OiBcIiBcIjsgZGlzcGxheTogYmxvY2s7IHBvc2l0aW9uOiBhYnNvbHV0ZTsgdG9wOiAwOyBsZWZ0OiAwOyBoZWlnaHQ6IDEwMCU7IHdpZHRoOiAxMDAlOyBvdmVyZmxvdzogaGlkZGVuOyB6LWluZGV4OiAtMTsgfSAucmVzaXplLXRyaWdnZXJzID4gZGl2IHsgYmFja2dyb3VuZDogI2VlZTsgb3ZlcmZsb3c6IGF1dG87IH0gLmNvbnRyYWN0LXRyaWdnZXI6YmVmb3JlIHsgd2lkdGg6IDIwMCU7IGhlaWdodDogMjAwJTsgfScsXG4gICAgICAgICAgaGVhZCA9IGRvYy5oZWFkIHx8IGRvYy5nZXRFbGVtZW50c0J5VGFnTmFtZSgnaGVhZCcpWzBdLFxuICAgICAgICAgIHN0eWxlID0gZG9jLmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7XG4gICAgICBzdHlsZS5pZCA9ICdkZXRlY3RFbGVtZW50UmVzaXplJztcbiAgICAgIHN0eWxlLnR5cGUgPSAndGV4dC9jc3MnO1xuXG4gICAgICBpZiAobm9uY2UgIT0gbnVsbCkge1xuICAgICAgICBzdHlsZS5zZXRBdHRyaWJ1dGUoJ25vbmNlJywgbm9uY2UpO1xuICAgICAgfVxuXG4gICAgICBpZiAoc3R5bGUuc3R5bGVTaGVldCkge1xuICAgICAgICBzdHlsZS5zdHlsZVNoZWV0LmNzc1RleHQgPSBjc3M7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzdHlsZS5hcHBlbmRDaGlsZChkb2MuY3JlYXRlVGV4dE5vZGUoY3NzKSk7XG4gICAgICB9XG5cbiAgICAgIGhlYWQuYXBwZW5kQ2hpbGQoc3R5bGUpO1xuICAgIH1cbiAgfTtcblxuICB2YXIgYWRkUmVzaXplTGlzdGVuZXIgPSBmdW5jdGlvbiBhZGRSZXNpemVMaXN0ZW5lcihlbGVtZW50LCBmbikge1xuICAgIGlmIChhdHRhY2hFdmVudCkge1xuICAgICAgZWxlbWVudC5hdHRhY2hFdmVudCgnb25yZXNpemUnLCBmbik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICghZWxlbWVudC5fX3Jlc2l6ZVRyaWdnZXJzX18pIHtcbiAgICAgICAgdmFyIGRvYyA9IGVsZW1lbnQub3duZXJEb2N1bWVudDtcblxuICAgICAgICB2YXIgZWxlbWVudFN0eWxlID0gX3dpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQpO1xuXG4gICAgICAgIGlmIChlbGVtZW50U3R5bGUgJiYgZWxlbWVudFN0eWxlLnBvc2l0aW9uID09ICdzdGF0aWMnKSB7XG4gICAgICAgICAgZWxlbWVudC5zdHlsZS5wb3NpdGlvbiA9ICdyZWxhdGl2ZSc7XG4gICAgICAgIH1cblxuICAgICAgICBjcmVhdGVTdHlsZXMoZG9jKTtcbiAgICAgICAgZWxlbWVudC5fX3Jlc2l6ZUxhc3RfXyA9IHt9O1xuICAgICAgICBlbGVtZW50Ll9fcmVzaXplTGlzdGVuZXJzX18gPSBbXTtcbiAgICAgICAgKGVsZW1lbnQuX19yZXNpemVUcmlnZ2Vyc19fID0gZG9jLmNyZWF0ZUVsZW1lbnQoJ2RpdicpKS5jbGFzc05hbWUgPSAncmVzaXplLXRyaWdnZXJzJztcbiAgICAgICAgdmFyIHJlc2l6ZVRyaWdnZXJzSHRtbCA9ICc8ZGl2IGNsYXNzPVwiZXhwYW5kLXRyaWdnZXJcIj48ZGl2PjwvZGl2PjwvZGl2PicgKyAnPGRpdiBjbGFzcz1cImNvbnRyYWN0LXRyaWdnZXJcIj48L2Rpdj4nO1xuXG4gICAgICAgIGlmICh3aW5kb3cudHJ1c3RlZFR5cGVzKSB7XG4gICAgICAgICAgdmFyIHN0YXRpY1BvbGljeSA9IHRydXN0ZWRUeXBlcy5jcmVhdGVQb2xpY3koJ3JlYWN0LXZpcnR1YWxpemVkLWF1dG8tc2l6ZXInLCB7XG4gICAgICAgICAgICBjcmVhdGVIVE1MOiBmdW5jdGlvbiBjcmVhdGVIVE1MKCkge1xuICAgICAgICAgICAgICByZXR1cm4gcmVzaXplVHJpZ2dlcnNIdG1sO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGVsZW1lbnQuX19yZXNpemVUcmlnZ2Vyc19fLmlubmVySFRNTCA9IHN0YXRpY1BvbGljeS5jcmVhdGVIVE1MKCcnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBlbGVtZW50Ll9fcmVzaXplVHJpZ2dlcnNfXy5pbm5lckhUTUwgPSByZXNpemVUcmlnZ2Vyc0h0bWw7XG4gICAgICAgIH1cblxuICAgICAgICBlbGVtZW50LmFwcGVuZENoaWxkKGVsZW1lbnQuX19yZXNpemVUcmlnZ2Vyc19fKTtcbiAgICAgICAgcmVzZXRUcmlnZ2VycyhlbGVtZW50KTtcbiAgICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCBzY3JvbGxMaXN0ZW5lciwgdHJ1ZSk7XG4gICAgICAgIC8qIExpc3RlbiBmb3IgYSBjc3MgYW5pbWF0aW9uIHRvIGRldGVjdCBlbGVtZW50IGRpc3BsYXkvcmUtYXR0YWNoICovXG5cbiAgICAgICAgaWYgKGFuaW1hdGlvbnN0YXJ0ZXZlbnQpIHtcbiAgICAgICAgICBlbGVtZW50Ll9fcmVzaXplVHJpZ2dlcnNfXy5fX2FuaW1hdGlvbkxpc3RlbmVyX18gPSBmdW5jdGlvbiBhbmltYXRpb25MaXN0ZW5lcihlKSB7XG4gICAgICAgICAgICBpZiAoZS5hbmltYXRpb25OYW1lID09IGFuaW1hdGlvbk5hbWUpIHtcbiAgICAgICAgICAgICAgcmVzZXRUcmlnZ2VycyhlbGVtZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgZWxlbWVudC5fX3Jlc2l6ZVRyaWdnZXJzX18uYWRkRXZlbnRMaXN0ZW5lcihhbmltYXRpb25zdGFydGV2ZW50LCBlbGVtZW50Ll9fcmVzaXplVHJpZ2dlcnNfXy5fX2FuaW1hdGlvbkxpc3RlbmVyX18pO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGVsZW1lbnQuX19yZXNpemVMaXN0ZW5lcnNfXy5wdXNoKGZuKTtcbiAgICB9XG4gIH07XG5cbiAgdmFyIHJlbW92ZVJlc2l6ZUxpc3RlbmVyID0gZnVuY3Rpb24gcmVtb3ZlUmVzaXplTGlzdGVuZXIoZWxlbWVudCwgZm4pIHtcbiAgICBpZiAoYXR0YWNoRXZlbnQpIHtcbiAgICAgIGVsZW1lbnQuZGV0YWNoRXZlbnQoJ29ucmVzaXplJywgZm4pO1xuICAgIH0gZWxzZSB7XG4gICAgICBlbGVtZW50Ll9fcmVzaXplTGlzdGVuZXJzX18uc3BsaWNlKGVsZW1lbnQuX19yZXNpemVMaXN0ZW5lcnNfXy5pbmRleE9mKGZuKSwgMSk7XG5cbiAgICAgIGlmICghZWxlbWVudC5fX3Jlc2l6ZUxpc3RlbmVyc19fLmxlbmd0aCkge1xuICAgICAgICBlbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIHNjcm9sbExpc3RlbmVyLCB0cnVlKTtcblxuICAgICAgICBpZiAoZWxlbWVudC5fX3Jlc2l6ZVRyaWdnZXJzX18uX19hbmltYXRpb25MaXN0ZW5lcl9fKSB7XG4gICAgICAgICAgZWxlbWVudC5fX3Jlc2l6ZVRyaWdnZXJzX18ucmVtb3ZlRXZlbnRMaXN0ZW5lcihhbmltYXRpb25zdGFydGV2ZW50LCBlbGVtZW50Ll9fcmVzaXplVHJpZ2dlcnNfXy5fX2FuaW1hdGlvbkxpc3RlbmVyX18pO1xuXG4gICAgICAgICAgZWxlbWVudC5fX3Jlc2l6ZVRyaWdnZXJzX18uX19hbmltYXRpb25MaXN0ZW5lcl9fID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgZWxlbWVudC5fX3Jlc2l6ZVRyaWdnZXJzX18gPSAhZWxlbWVudC5yZW1vdmVDaGlsZChlbGVtZW50Ll9fcmVzaXplVHJpZ2dlcnNfXyk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHsvLyBQcmVhY3QgY29tcGF0OyBzZWUgZGV2ZWxvcGl0L3ByZWFjdC1jb21wYXQvaXNzdWVzLzIyOFxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiB7XG4gICAgYWRkUmVzaXplTGlzdGVuZXI6IGFkZFJlc2l6ZUxpc3RlbmVyLFxuICAgIHJlbW92ZVJlc2l6ZUxpc3RlbmVyOiByZW1vdmVSZXNpemVMaXN0ZW5lclxuICB9O1xufSIsIi8qKlxuICogQmluYXJ5IFNlYXJjaCBCb3VuZHNcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9taWtvbGFseXNlbmtvL2ludGVydmFsLXRyZWUtMWRcbiAqIE1pa29sYSBMeXNlbmtvXG4gKlxuICogSW5saW5lZCBiZWNhdXNlIG9mIENvbnRlbnQgU2VjdXJpdHkgUG9saWN5IGlzc3VlIGNhdXNlZCBieSB0aGUgdXNlIG9mIGBuZXcgRnVuY3Rpb24oLi4uKWAgc3ludGF4IGluIGFuIHVwc3RyZWFtIGRlcGVuZGVuY3kuXG4gKiBJc3N1ZSByZXBvcnRlZCBoZXJlOiBodHRwczovL2dpdGh1Yi5jb20vbWlrb2xhbHlzZW5rby9iaW5hcnktc2VhcmNoLWJvdW5kcy9pc3N1ZXMvNVxuICoqL1xuaW1wb3J0IGJvdW5kcyBmcm9tICcuL2JpbmFyeVNlYXJjaEJvdW5kcyc7XG52YXIgTk9UX0ZPVU5EID0gMDtcbnZhciBTVUNDRVNTID0gMTtcbnZhciBFTVBUWSA9IDI7XG5cbmZ1bmN0aW9uIEludGVydmFsVHJlZU5vZGUobWlkLCBsZWZ0LCByaWdodCwgbGVmdFBvaW50cywgcmlnaHRQb2ludHMpIHtcbiAgdGhpcy5taWQgPSBtaWQ7XG4gIHRoaXMubGVmdCA9IGxlZnQ7XG4gIHRoaXMucmlnaHQgPSByaWdodDtcbiAgdGhpcy5sZWZ0UG9pbnRzID0gbGVmdFBvaW50cztcbiAgdGhpcy5yaWdodFBvaW50cyA9IHJpZ2h0UG9pbnRzO1xuICB0aGlzLmNvdW50ID0gKGxlZnQgPyBsZWZ0LmNvdW50IDogMCkgKyAocmlnaHQgPyByaWdodC5jb3VudCA6IDApICsgbGVmdFBvaW50cy5sZW5ndGg7XG59XG5cbnZhciBwcm90byA9IEludGVydmFsVHJlZU5vZGUucHJvdG90eXBlO1xuXG5mdW5jdGlvbiBjb3B5KGEsIGIpIHtcbiAgYS5taWQgPSBiLm1pZDtcbiAgYS5sZWZ0ID0gYi5sZWZ0O1xuICBhLnJpZ2h0ID0gYi5yaWdodDtcbiAgYS5sZWZ0UG9pbnRzID0gYi5sZWZ0UG9pbnRzO1xuICBhLnJpZ2h0UG9pbnRzID0gYi5yaWdodFBvaW50cztcbiAgYS5jb3VudCA9IGIuY291bnQ7XG59XG5cbmZ1bmN0aW9uIHJlYnVpbGQobm9kZSwgaW50ZXJ2YWxzKSB7XG4gIHZhciBudHJlZSA9IGNyZWF0ZUludGVydmFsVHJlZShpbnRlcnZhbHMpO1xuICBub2RlLm1pZCA9IG50cmVlLm1pZDtcbiAgbm9kZS5sZWZ0ID0gbnRyZWUubGVmdDtcbiAgbm9kZS5yaWdodCA9IG50cmVlLnJpZ2h0O1xuICBub2RlLmxlZnRQb2ludHMgPSBudHJlZS5sZWZ0UG9pbnRzO1xuICBub2RlLnJpZ2h0UG9pbnRzID0gbnRyZWUucmlnaHRQb2ludHM7XG4gIG5vZGUuY291bnQgPSBudHJlZS5jb3VudDtcbn1cblxuZnVuY3Rpb24gcmVidWlsZFdpdGhJbnRlcnZhbChub2RlLCBpbnRlcnZhbCkge1xuICB2YXIgaW50ZXJ2YWxzID0gbm9kZS5pbnRlcnZhbHMoW10pO1xuICBpbnRlcnZhbHMucHVzaChpbnRlcnZhbCk7XG4gIHJlYnVpbGQobm9kZSwgaW50ZXJ2YWxzKTtcbn1cblxuZnVuY3Rpb24gcmVidWlsZFdpdGhvdXRJbnRlcnZhbChub2RlLCBpbnRlcnZhbCkge1xuICB2YXIgaW50ZXJ2YWxzID0gbm9kZS5pbnRlcnZhbHMoW10pO1xuICB2YXIgaWR4ID0gaW50ZXJ2YWxzLmluZGV4T2YoaW50ZXJ2YWwpO1xuXG4gIGlmIChpZHggPCAwKSB7XG4gICAgcmV0dXJuIE5PVF9GT1VORDtcbiAgfVxuXG4gIGludGVydmFscy5zcGxpY2UoaWR4LCAxKTtcbiAgcmVidWlsZChub2RlLCBpbnRlcnZhbHMpO1xuICByZXR1cm4gU1VDQ0VTUztcbn1cblxucHJvdG8uaW50ZXJ2YWxzID0gZnVuY3Rpb24gKHJlc3VsdCkge1xuICByZXN1bHQucHVzaC5hcHBseShyZXN1bHQsIHRoaXMubGVmdFBvaW50cyk7XG5cbiAgaWYgKHRoaXMubGVmdCkge1xuICAgIHRoaXMubGVmdC5pbnRlcnZhbHMocmVzdWx0KTtcbiAgfVxuXG4gIGlmICh0aGlzLnJpZ2h0KSB7XG4gICAgdGhpcy5yaWdodC5pbnRlcnZhbHMocmVzdWx0KTtcbiAgfVxuXG4gIHJldHVybiByZXN1bHQ7XG59O1xuXG5wcm90by5pbnNlcnQgPSBmdW5jdGlvbiAoaW50ZXJ2YWwpIHtcbiAgdmFyIHdlaWdodCA9IHRoaXMuY291bnQgLSB0aGlzLmxlZnRQb2ludHMubGVuZ3RoO1xuICB0aGlzLmNvdW50ICs9IDE7XG5cbiAgaWYgKGludGVydmFsWzFdIDwgdGhpcy5taWQpIHtcbiAgICBpZiAodGhpcy5sZWZ0KSB7XG4gICAgICBpZiAoNCAqICh0aGlzLmxlZnQuY291bnQgKyAxKSA+IDMgKiAod2VpZ2h0ICsgMSkpIHtcbiAgICAgICAgcmVidWlsZFdpdGhJbnRlcnZhbCh0aGlzLCBpbnRlcnZhbCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmxlZnQuaW5zZXJ0KGludGVydmFsKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5sZWZ0ID0gY3JlYXRlSW50ZXJ2YWxUcmVlKFtpbnRlcnZhbF0pO1xuICAgIH1cbiAgfSBlbHNlIGlmIChpbnRlcnZhbFswXSA+IHRoaXMubWlkKSB7XG4gICAgaWYgKHRoaXMucmlnaHQpIHtcbiAgICAgIGlmICg0ICogKHRoaXMucmlnaHQuY291bnQgKyAxKSA+IDMgKiAod2VpZ2h0ICsgMSkpIHtcbiAgICAgICAgcmVidWlsZFdpdGhJbnRlcnZhbCh0aGlzLCBpbnRlcnZhbCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnJpZ2h0Lmluc2VydChpbnRlcnZhbCk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMucmlnaHQgPSBjcmVhdGVJbnRlcnZhbFRyZWUoW2ludGVydmFsXSk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHZhciBsID0gYm91bmRzLmdlKHRoaXMubGVmdFBvaW50cywgaW50ZXJ2YWwsIGNvbXBhcmVCZWdpbik7XG4gICAgdmFyIHIgPSBib3VuZHMuZ2UodGhpcy5yaWdodFBvaW50cywgaW50ZXJ2YWwsIGNvbXBhcmVFbmQpO1xuICAgIHRoaXMubGVmdFBvaW50cy5zcGxpY2UobCwgMCwgaW50ZXJ2YWwpO1xuICAgIHRoaXMucmlnaHRQb2ludHMuc3BsaWNlKHIsIDAsIGludGVydmFsKTtcbiAgfVxufTtcblxucHJvdG8ucmVtb3ZlID0gZnVuY3Rpb24gKGludGVydmFsKSB7XG4gIHZhciB3ZWlnaHQgPSB0aGlzLmNvdW50IC0gdGhpcy5sZWZ0UG9pbnRzO1xuXG4gIGlmIChpbnRlcnZhbFsxXSA8IHRoaXMubWlkKSB7XG4gICAgaWYgKCF0aGlzLmxlZnQpIHtcbiAgICAgIHJldHVybiBOT1RfRk9VTkQ7XG4gICAgfVxuXG4gICAgdmFyIHJ3ID0gdGhpcy5yaWdodCA/IHRoaXMucmlnaHQuY291bnQgOiAwO1xuXG4gICAgaWYgKDQgKiBydyA+IDMgKiAod2VpZ2h0IC0gMSkpIHtcbiAgICAgIHJldHVybiByZWJ1aWxkV2l0aG91dEludGVydmFsKHRoaXMsIGludGVydmFsKTtcbiAgICB9XG5cbiAgICB2YXIgciA9IHRoaXMubGVmdC5yZW1vdmUoaW50ZXJ2YWwpO1xuXG4gICAgaWYgKHIgPT09IEVNUFRZKSB7XG4gICAgICB0aGlzLmxlZnQgPSBudWxsO1xuICAgICAgdGhpcy5jb3VudCAtPSAxO1xuICAgICAgcmV0dXJuIFNVQ0NFU1M7XG4gICAgfSBlbHNlIGlmIChyID09PSBTVUNDRVNTKSB7XG4gICAgICB0aGlzLmNvdW50IC09IDE7XG4gICAgfVxuXG4gICAgcmV0dXJuIHI7XG4gIH0gZWxzZSBpZiAoaW50ZXJ2YWxbMF0gPiB0aGlzLm1pZCkge1xuICAgIGlmICghdGhpcy5yaWdodCkge1xuICAgICAgcmV0dXJuIE5PVF9GT1VORDtcbiAgICB9XG5cbiAgICB2YXIgbHcgPSB0aGlzLmxlZnQgPyB0aGlzLmxlZnQuY291bnQgOiAwO1xuXG4gICAgaWYgKDQgKiBsdyA+IDMgKiAod2VpZ2h0IC0gMSkpIHtcbiAgICAgIHJldHVybiByZWJ1aWxkV2l0aG91dEludGVydmFsKHRoaXMsIGludGVydmFsKTtcbiAgICB9XG5cbiAgICB2YXIgciA9IHRoaXMucmlnaHQucmVtb3ZlKGludGVydmFsKTtcblxuICAgIGlmIChyID09PSBFTVBUWSkge1xuICAgICAgdGhpcy5yaWdodCA9IG51bGw7XG4gICAgICB0aGlzLmNvdW50IC09IDE7XG4gICAgICByZXR1cm4gU1VDQ0VTUztcbiAgICB9IGVsc2UgaWYgKHIgPT09IFNVQ0NFU1MpIHtcbiAgICAgIHRoaXMuY291bnQgLT0gMTtcbiAgICB9XG5cbiAgICByZXR1cm4gcjtcbiAgfSBlbHNlIHtcbiAgICBpZiAodGhpcy5jb3VudCA9PT0gMSkge1xuICAgICAgaWYgKHRoaXMubGVmdFBvaW50c1swXSA9PT0gaW50ZXJ2YWwpIHtcbiAgICAgICAgcmV0dXJuIEVNUFRZO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIE5PVF9GT1VORDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodGhpcy5sZWZ0UG9pbnRzLmxlbmd0aCA9PT0gMSAmJiB0aGlzLmxlZnRQb2ludHNbMF0gPT09IGludGVydmFsKSB7XG4gICAgICBpZiAodGhpcy5sZWZ0ICYmIHRoaXMucmlnaHQpIHtcbiAgICAgICAgdmFyIHAgPSB0aGlzO1xuICAgICAgICB2YXIgbiA9IHRoaXMubGVmdDtcblxuICAgICAgICB3aGlsZSAobi5yaWdodCkge1xuICAgICAgICAgIHAgPSBuO1xuICAgICAgICAgIG4gPSBuLnJpZ2h0O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHAgPT09IHRoaXMpIHtcbiAgICAgICAgICBuLnJpZ2h0ID0gdGhpcy5yaWdodDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YXIgbCA9IHRoaXMubGVmdDtcbiAgICAgICAgICB2YXIgciA9IHRoaXMucmlnaHQ7XG4gICAgICAgICAgcC5jb3VudCAtPSBuLmNvdW50O1xuICAgICAgICAgIHAucmlnaHQgPSBuLmxlZnQ7XG4gICAgICAgICAgbi5sZWZ0ID0gbDtcbiAgICAgICAgICBuLnJpZ2h0ID0gcjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvcHkodGhpcywgbik7XG4gICAgICAgIHRoaXMuY291bnQgPSAodGhpcy5sZWZ0ID8gdGhpcy5sZWZ0LmNvdW50IDogMCkgKyAodGhpcy5yaWdodCA/IHRoaXMucmlnaHQuY291bnQgOiAwKSArIHRoaXMubGVmdFBvaW50cy5sZW5ndGg7XG4gICAgICB9IGVsc2UgaWYgKHRoaXMubGVmdCkge1xuICAgICAgICBjb3B5KHRoaXMsIHRoaXMubGVmdCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb3B5KHRoaXMsIHRoaXMucmlnaHQpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gU1VDQ0VTUztcbiAgICB9XG5cbiAgICBmb3IgKHZhciBsID0gYm91bmRzLmdlKHRoaXMubGVmdFBvaW50cywgaW50ZXJ2YWwsIGNvbXBhcmVCZWdpbik7IGwgPCB0aGlzLmxlZnRQb2ludHMubGVuZ3RoOyArK2wpIHtcbiAgICAgIGlmICh0aGlzLmxlZnRQb2ludHNbbF1bMF0gIT09IGludGVydmFsWzBdKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5sZWZ0UG9pbnRzW2xdID09PSBpbnRlcnZhbCkge1xuICAgICAgICB0aGlzLmNvdW50IC09IDE7XG4gICAgICAgIHRoaXMubGVmdFBvaW50cy5zcGxpY2UobCwgMSk7XG5cbiAgICAgICAgZm9yICh2YXIgciA9IGJvdW5kcy5nZSh0aGlzLnJpZ2h0UG9pbnRzLCBpbnRlcnZhbCwgY29tcGFyZUVuZCk7IHIgPCB0aGlzLnJpZ2h0UG9pbnRzLmxlbmd0aDsgKytyKSB7XG4gICAgICAgICAgaWYgKHRoaXMucmlnaHRQb2ludHNbcl1bMV0gIT09IGludGVydmFsWzFdKSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMucmlnaHRQb2ludHNbcl0gPT09IGludGVydmFsKSB7XG4gICAgICAgICAgICB0aGlzLnJpZ2h0UG9pbnRzLnNwbGljZShyLCAxKTtcbiAgICAgICAgICAgIHJldHVybiBTVUNDRVNTO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBOT1RfRk9VTkQ7XG4gIH1cbn07XG5cbmZ1bmN0aW9uIHJlcG9ydExlZnRSYW5nZShhcnIsIGhpLCBjYikge1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGFyci5sZW5ndGggJiYgYXJyW2ldWzBdIDw9IGhpOyArK2kpIHtcbiAgICB2YXIgciA9IGNiKGFycltpXSk7XG5cbiAgICBpZiAocikge1xuICAgICAgcmV0dXJuIHI7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIHJlcG9ydFJpZ2h0UmFuZ2UoYXJyLCBsbywgY2IpIHtcbiAgZm9yICh2YXIgaSA9IGFyci5sZW5ndGggLSAxOyBpID49IDAgJiYgYXJyW2ldWzFdID49IGxvOyAtLWkpIHtcbiAgICB2YXIgciA9IGNiKGFycltpXSk7XG5cbiAgICBpZiAocikge1xuICAgICAgcmV0dXJuIHI7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIHJlcG9ydFJhbmdlKGFyciwgY2IpIHtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyArK2kpIHtcbiAgICB2YXIgciA9IGNiKGFycltpXSk7XG5cbiAgICBpZiAocikge1xuICAgICAgcmV0dXJuIHI7XG4gICAgfVxuICB9XG59XG5cbnByb3RvLnF1ZXJ5UG9pbnQgPSBmdW5jdGlvbiAoeCwgY2IpIHtcbiAgaWYgKHggPCB0aGlzLm1pZCkge1xuICAgIGlmICh0aGlzLmxlZnQpIHtcbiAgICAgIHZhciByID0gdGhpcy5sZWZ0LnF1ZXJ5UG9pbnQoeCwgY2IpO1xuXG4gICAgICBpZiAocikge1xuICAgICAgICByZXR1cm4gcjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gcmVwb3J0TGVmdFJhbmdlKHRoaXMubGVmdFBvaW50cywgeCwgY2IpO1xuICB9IGVsc2UgaWYgKHggPiB0aGlzLm1pZCkge1xuICAgIGlmICh0aGlzLnJpZ2h0KSB7XG4gICAgICB2YXIgciA9IHRoaXMucmlnaHQucXVlcnlQb2ludCh4LCBjYik7XG5cbiAgICAgIGlmIChyKSB7XG4gICAgICAgIHJldHVybiByO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiByZXBvcnRSaWdodFJhbmdlKHRoaXMucmlnaHRQb2ludHMsIHgsIGNiKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gcmVwb3J0UmFuZ2UodGhpcy5sZWZ0UG9pbnRzLCBjYik7XG4gIH1cbn07XG5cbnByb3RvLnF1ZXJ5SW50ZXJ2YWwgPSBmdW5jdGlvbiAobG8sIGhpLCBjYikge1xuICBpZiAobG8gPCB0aGlzLm1pZCAmJiB0aGlzLmxlZnQpIHtcbiAgICB2YXIgciA9IHRoaXMubGVmdC5xdWVyeUludGVydmFsKGxvLCBoaSwgY2IpO1xuXG4gICAgaWYgKHIpIHtcbiAgICAgIHJldHVybiByO1xuICAgIH1cbiAgfVxuXG4gIGlmIChoaSA+IHRoaXMubWlkICYmIHRoaXMucmlnaHQpIHtcbiAgICB2YXIgciA9IHRoaXMucmlnaHQucXVlcnlJbnRlcnZhbChsbywgaGksIGNiKTtcblxuICAgIGlmIChyKSB7XG4gICAgICByZXR1cm4gcjtcbiAgICB9XG4gIH1cblxuICBpZiAoaGkgPCB0aGlzLm1pZCkge1xuICAgIHJldHVybiByZXBvcnRMZWZ0UmFuZ2UodGhpcy5sZWZ0UG9pbnRzLCBoaSwgY2IpO1xuICB9IGVsc2UgaWYgKGxvID4gdGhpcy5taWQpIHtcbiAgICByZXR1cm4gcmVwb3J0UmlnaHRSYW5nZSh0aGlzLnJpZ2h0UG9pbnRzLCBsbywgY2IpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiByZXBvcnRSYW5nZSh0aGlzLmxlZnRQb2ludHMsIGNiKTtcbiAgfVxufTtcblxuZnVuY3Rpb24gY29tcGFyZU51bWJlcnMoYSwgYikge1xuICByZXR1cm4gYSAtIGI7XG59XG5cbmZ1bmN0aW9uIGNvbXBhcmVCZWdpbihhLCBiKSB7XG4gIHZhciBkID0gYVswXSAtIGJbMF07XG5cbiAgaWYgKGQpIHtcbiAgICByZXR1cm4gZDtcbiAgfVxuXG4gIHJldHVybiBhWzFdIC0gYlsxXTtcbn1cblxuZnVuY3Rpb24gY29tcGFyZUVuZChhLCBiKSB7XG4gIHZhciBkID0gYVsxXSAtIGJbMV07XG5cbiAgaWYgKGQpIHtcbiAgICByZXR1cm4gZDtcbiAgfVxuXG4gIHJldHVybiBhWzBdIC0gYlswXTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlSW50ZXJ2YWxUcmVlKGludGVydmFscykge1xuICBpZiAoaW50ZXJ2YWxzLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgdmFyIHB0cyA9IFtdO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgaW50ZXJ2YWxzLmxlbmd0aDsgKytpKSB7XG4gICAgcHRzLnB1c2goaW50ZXJ2YWxzW2ldWzBdLCBpbnRlcnZhbHNbaV1bMV0pO1xuICB9XG5cbiAgcHRzLnNvcnQoY29tcGFyZU51bWJlcnMpO1xuICB2YXIgbWlkID0gcHRzW3B0cy5sZW5ndGggPj4gMV07XG4gIHZhciBsZWZ0SW50ZXJ2YWxzID0gW107XG4gIHZhciByaWdodEludGVydmFscyA9IFtdO1xuICB2YXIgY2VudGVySW50ZXJ2YWxzID0gW107XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBpbnRlcnZhbHMubGVuZ3RoOyArK2kpIHtcbiAgICB2YXIgcyA9IGludGVydmFsc1tpXTtcblxuICAgIGlmIChzWzFdIDwgbWlkKSB7XG4gICAgICBsZWZ0SW50ZXJ2YWxzLnB1c2gocyk7XG4gICAgfSBlbHNlIGlmIChtaWQgPCBzWzBdKSB7XG4gICAgICByaWdodEludGVydmFscy5wdXNoKHMpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjZW50ZXJJbnRlcnZhbHMucHVzaChzKTtcbiAgICB9XG4gIH0gLy9TcGxpdCBjZW50ZXIgaW50ZXJ2YWxzXG5cblxuICB2YXIgbGVmdFBvaW50cyA9IGNlbnRlckludGVydmFscztcbiAgdmFyIHJpZ2h0UG9pbnRzID0gY2VudGVySW50ZXJ2YWxzLnNsaWNlKCk7XG4gIGxlZnRQb2ludHMuc29ydChjb21wYXJlQmVnaW4pO1xuICByaWdodFBvaW50cy5zb3J0KGNvbXBhcmVFbmQpO1xuICByZXR1cm4gbmV3IEludGVydmFsVHJlZU5vZGUobWlkLCBjcmVhdGVJbnRlcnZhbFRyZWUobGVmdEludGVydmFscyksIGNyZWF0ZUludGVydmFsVHJlZShyaWdodEludGVydmFscyksIGxlZnRQb2ludHMsIHJpZ2h0UG9pbnRzKTtcbn0gLy9Vc2VyIGZyaWVuZGx5IHdyYXBwZXIgdGhhdCBtYWtlcyBpdCBwb3NzaWJsZSB0byBzdXBwb3J0IGVtcHR5IHRyZWVzXG5cblxuZnVuY3Rpb24gSW50ZXJ2YWxUcmVlKHJvb3QpIHtcbiAgdGhpcy5yb290ID0gcm9vdDtcbn1cblxudmFyIHRwcm90byA9IEludGVydmFsVHJlZS5wcm90b3R5cGU7XG5cbnRwcm90by5pbnNlcnQgPSBmdW5jdGlvbiAoaW50ZXJ2YWwpIHtcbiAgaWYgKHRoaXMucm9vdCkge1xuICAgIHRoaXMucm9vdC5pbnNlcnQoaW50ZXJ2YWwpO1xuICB9IGVsc2Uge1xuICAgIHRoaXMucm9vdCA9IG5ldyBJbnRlcnZhbFRyZWVOb2RlKGludGVydmFsWzBdLCBudWxsLCBudWxsLCBbaW50ZXJ2YWxdLCBbaW50ZXJ2YWxdKTtcbiAgfVxufTtcblxudHByb3RvLnJlbW92ZSA9IGZ1bmN0aW9uIChpbnRlcnZhbCkge1xuICBpZiAodGhpcy5yb290KSB7XG4gICAgdmFyIHIgPSB0aGlzLnJvb3QucmVtb3ZlKGludGVydmFsKTtcblxuICAgIGlmIChyID09PSBFTVBUWSkge1xuICAgICAgdGhpcy5yb290ID0gbnVsbDtcbiAgICB9XG5cbiAgICByZXR1cm4gciAhPT0gTk9UX0ZPVU5EO1xuICB9XG5cbiAgcmV0dXJuIGZhbHNlO1xufTtcblxudHByb3RvLnF1ZXJ5UG9pbnQgPSBmdW5jdGlvbiAocCwgY2IpIHtcbiAgaWYgKHRoaXMucm9vdCkge1xuICAgIHJldHVybiB0aGlzLnJvb3QucXVlcnlQb2ludChwLCBjYik7XG4gIH1cbn07XG5cbnRwcm90by5xdWVyeUludGVydmFsID0gZnVuY3Rpb24gKGxvLCBoaSwgY2IpIHtcbiAgaWYgKGxvIDw9IGhpICYmIHRoaXMucm9vdCkge1xuICAgIHJldHVybiB0aGlzLnJvb3QucXVlcnlJbnRlcnZhbChsbywgaGksIGNiKTtcbiAgfVxufTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KHRwcm90bywgJ2NvdW50Jywge1xuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICBpZiAodGhpcy5yb290KSB7XG4gICAgICByZXR1cm4gdGhpcy5yb290LmNvdW50O1xuICAgIH1cblxuICAgIHJldHVybiAwO1xuICB9XG59KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0cHJvdG8sICdpbnRlcnZhbHMnLCB7XG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIGlmICh0aGlzLnJvb3QpIHtcbiAgICAgIHJldHVybiB0aGlzLnJvb3QuaW50ZXJ2YWxzKFtdKTtcbiAgICB9XG5cbiAgICByZXR1cm4gW107XG4gIH1cbn0pO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gY3JlYXRlV3JhcHBlcihpbnRlcnZhbHMpIHtcbiAgaWYgKCFpbnRlcnZhbHMgfHwgaW50ZXJ2YWxzLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiBuZXcgSW50ZXJ2YWxUcmVlKG51bGwpO1xuICB9XG5cbiAgcmV0dXJuIG5ldyBJbnRlcnZhbFRyZWUoY3JlYXRlSW50ZXJ2YWxUcmVlKGludGVydmFscykpO1xufSJdLCJzb3VyY2VSb290IjoiIn0=