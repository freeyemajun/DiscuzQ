(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[6],{"+9CB":function(e,t,n){"use strict";var r=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],i=function(e,t){var n=e[t+6]<<21|e[t+7]<<14|e[t+8]<<7|e[t+9];return n=n>=0?n:0,(16&e[t+5])>>4?n+20:n+10},a=function(e,t){return e.length-t<10||e[t]!=="I".charCodeAt(0)||e[t+1]!=="D".charCodeAt(0)||e[t+2]!=="3".charCodeAt(0)?t:(t+=i(e,t),a(e,t))},o=function(e){return e[0]<<21|e[1]<<14|e[2]<<7|e[3]};e.exports={isLikelyAacData:function(e){var t=a(e,0);return e.length>=t+2&&255===(255&e[t])&&240===(240&e[t+1])&&16===(22&e[t+1])},parseId3TagSize:i,parseAdtsSize:function(e,t){var n=(224&e[t+5])>>5,r=e[t+4]<<3;return 6144&e[t+3]|r|n},parseType:function(e,t){return e[t]==="I".charCodeAt(0)&&e[t+1]==="D".charCodeAt(0)&&e[t+2]==="3".charCodeAt(0)?"timed-metadata":!0&e[t]&&240===(240&e[t+1])?"audio":null},parseSampleRate:function(e){for(var t=0;t+5<e.length;){if(255===e[t]&&240===(246&e[t+1]))return r[(60&e[t+2])>>>2];t++}return null},parseAacTimestamp:function(e){var t,n,r;t=10,64&e[5]&&(t+=4,t+=o(e.subarray(10,14)));do{if((n=o(e.subarray(t+4,t+8)))<1)return null;if("PRIV"===String.fromCharCode(e[t],e[t+1],e[t+2],e[t+3])){r=e.subarray(t+10,t+n+10);for(var i=0;i<r.byteLength;i++)if(0===r[i]){if("com.apple.streaming.transportStreamTimestamp"===unescape(function(e,t,n){var r,i="";for(r=t;r<n;r++)i+="%"+("00"+e[r].toString(16)).slice(-2);return i}(r,0,i))){var a=r.subarray(i+1),s=(1&a[3])<<30|a[4]<<22|a[5]<<14|a[6]<<6|a[7]>>>2;return s*=4,s+=3&a[7]}break}}t+=10,t+=n}while(t<e.byteLength);return null}}},"+Lwc":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));n("brp2"),n("DQNa");var r=n("AR36"),i=n.n(r),a=function(e,t){e||i.a.formatDate(new Date,"yyyy-MM-dd"),e=i.a.formatDate(e,"YYYY/MM/DD HH:mm:ss");var n=new Date(e).getTime(),r=(t?new Date(t).getTime():Date.now())-n;r<=0&&(r=0);var a=Math.floor(r/1e3),o=Math.floor(a/60),s=Math.floor(a/3600),c=Math.floor(a/86400);return 0===c&&0===s&&0===o?"".concat(a||1,"\u79d2\u524d"):0===c&&0===s?"".concat(o,"\u5206\u949f\u524d"):0===c?"".concat(s,"\u5c0f\u65f6\u524d"):i.a.formatDate(e,"YYYY-MM-DD")}},"+M1K":function(e,t,n){var r=n("ppGB");e.exports=function(e){var t=r(e);if(t<0)throw RangeError("The argument can't be less than 0");return t}},"+X0y":function(e,t){var n={"":!0,up:!0};function r(e){return"number"===typeof e&&e>=0&&e<=100}e.exports=function(){var e=100,t=3,i=0,a=100,o=0,s=100,c="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return e},set:function(t){if(!r(t))throw new Error("Width must be between 0 and 100.");e=t}},lines:{enumerable:!0,get:function(){return t},set:function(e){if("number"!==typeof e)throw new TypeError("Lines must be set to a number.");t=e}},regionAnchorY:{enumerable:!0,get:function(){return a},set:function(e){if(!r(e))throw new Error("RegionAnchorX must be between 0 and 100.");a=e}},regionAnchorX:{enumerable:!0,get:function(){return i},set:function(e){if(!r(e))throw new Error("RegionAnchorY must be between 0 and 100.");i=e}},viewportAnchorY:{enumerable:!0,get:function(){return s},set:function(e){if(!r(e))throw new Error("ViewportAnchorY must be between 0 and 100.");s=e}},viewportAnchorX:{enumerable:!0,get:function(){return o},set:function(e){if(!r(e))throw new Error("ViewportAnchorX must be between 0 and 100.");o=e}},scroll:{enumerable:!0,get:function(){return c},set:function(e){var t=function(e){return"string"===typeof e&&!!n[e.toLowerCase()]&&e.toLowerCase()}(e);!1===t?console.warn("Scroll: an invalid or illegal string was specified."):c=t}}})}},"+Ycc":function(e,t,n){"use strict";var r=n("TqRt"),i=n("cDf5");n("ma9I"),n("qePV"),n("zKZe"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n("J4zp")),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!==typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(n("q1tI")),s=r(n("TSYQ")),c=r(n("MCNy")),u=n("VTYn"),l=r(n("XaQo")),d=r(n("MzE4")),p=n("nmBk"),f=r(n("jqTq")),h=r(n("b9ng"));function m(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}var v=function(e){var t=e.imgUrls,n=void 0===t?[]:t,r=e.currentImgIdx,i=void 0===r?0:r,m=(e.visible,e.onClose),v=void 0===m?function(){}:m,b=e.onSwipRight,y=void 0===b?function(){}:b,g=e.onSwipLeft,j=void 0===g?function(){}:g,x=e.onClickLock,O=void 0===x?function(){}:x,w=e.onClickUnLock,C=void 0===w?function(){}:w,k=e.onError,N=void 0===k?function(e){return""}:k,T=!1;"undefined"!==typeof window&&(T=(0,h.default)());var _=(0,u.useConfig)().clsPrefix,P=o.default.useRef(null),S=o.default.useRef(null),E=o.default.useRef(!1),A=o.default.useRef(null),I=o.default.useRef(!1),R=o.default.useRef(null),D=o.default.useRef(!1),L=o.default.useRef(null),M=o.default.useRef(!1),B=o.default.useRef(null),U=o.default.useRef(!1),F=o.default.useRef(null),W=o.default.useRef("normal"),q=o.default.useRef(null),z=o.default.useRef(i),V=o.default.useRef(n),X=o.default.useState(null),H=(0,a.default)(X,2),Y=H[0],Q=H[1],G=o.default.useState(null),J=(0,a.default)(G,2),K=J[0],Z=J[1],$=o.default.useState(!1),ee=(0,a.default)($,2),te=ee[0],ne=ee[1],re=o.default.useState(!1),ie=(0,a.default)(re,2),ae=ie[0],oe=ie[1],se=o.default.useState(!1),ce=(0,a.default)(se,2),ue=ce[0],le=ce[1],de=o.default.useState(1),pe=(0,a.default)(de,2),fe=pe[0],he=pe[1],me=o.default.useState(0),ve=(0,a.default)(me,2),be=ve[0],ye=ve[1],ge=o.default.useState(0),je=(0,a.default)(ge,2),xe=je[0],Oe=je[1],we=o.default.useState(0),Ce=(0,a.default)(we,2),ke=Ce[0],Ne=Ce[1],Te=o.default.useState(0),_e=(0,a.default)(Te,2),Pe=_e[0],Se=_e[1],Ee=o.default.useState(!1),Ae=(0,a.default)(Ee,2),Ie=Ae[0],Re=Ae[1],De=o.default.useState(0),Le=(0,a.default)(De,2),Me=(Le[0],Le[1],o.default.useState(0)),Be=(0,a.default)(Me,2),Ue=(Be[0],Be[1],o.default.useState(n[i]||"")),Fe=(0,a.default)(Ue,2),We=Fe[0],qe=Fe[1],ze=o.default.useRef(!0),Ve=o.default.useRef(null),Xe={},He=600;"undefined"!==typeof window&&(He=window.innerHeight);var Ye=o.default.useCallback((function(e){var t=e.noZoomPositionChange,n=void 0!==t&&t;le((function(e){var t=!1;if(oe((function(e){return e&&(t=!0),e})),ne((function(e){return e&&(t=!0),e})),!t)return e?(he(1),"long"!==W.current?(Oe(0),ye(0)):Oe(0),n||(Ne(0),Se(0))):he(2),!e}))}),[]),Qe=o.default.useCallback((function(){A.current&&clearTimeout(A.current),E.current=!0,A.current=setTimeout((function(){E.current=!1}),300)}),[]),Ge=o.default.useCallback((function(){M.current&&clearTimeout(B.current),M.current=!0,B.current=setTimeout((function(){M.current=!1}),300)}),[]),Je=o.default.useCallback((function(){U.current&&clearTimeout(F.current),U.current=!0,O(),F.current=setTimeout((function(){U.current=!1,C()}),300)}),[]),Ke=o.default.useCallback((function(){clearTimeout(R.current),I.current=!0,R.current=setTimeout((function(){I.current=!1}),500)}),[]),Ze=o.default.useCallback((function(){D.current||(D.current=!0,L.current=setTimeout((function(){D.current=!1}),300))}),[]),$e=(0,o.useCallback)((function(e){var t=e.x,n=e.y;if(q.current){var r=null,i=q.current.getBoundingClientRect().left,a=q.current.getBoundingClientRect().top;if(he((function(e){return r=e,e})),Oe((function(e){return e,e})),ye((function(e){return e,e})),"undefined"!==typeof window){var o=(t-i)/r,s=(n-a)/r;Ne((function(){return o})),Se((function(){return s}))}}}),[]),et=o.default.useCallback((function(){le((function(e){return e||(z.current+1!==V.current.length&&ne(!0),j(),setTimeout((function(){Oe(0),ye(0)}),300),e)}))}),[j]),tt=o.default.useCallback((function(){le((function(e){return e||(z.current+1!==1&&ne(!0),y(),setTimeout((function(){Oe(0),ye(0)}),300),e)}))}),[y]);(0,o.useEffect)((function(){return Ve.current&&(P.current=new l.default(Ve.current,{singleTap:function(){E.current||v()},doubleTap:function(e){var t=(0,p.get)(e.changedTouches[0],"pageX",0),n=(0,p.get)(e.changedTouches[0],"pageY",0);$e({x:t,y:n}),Ye({noZoomPositionChange:!0})},pinch:function(e){Qe(),Ze(),le(!0),Ge();var t=((0,p.get)(e.touches[0],"pageX",0)+(0,p.get)(e.touches[1],"pageX",0))/2,n=((0,p.get)(e.touches[0],"pageY",0)+(0,p.get)(e.touches[1],"pageY",0))/2;e.zoom>1&&!I.current&&e.zoom<=2.5&&($e({x:t,y:n}),Ke()),Number(e.zoom)<=1?he((function(e){return.85*e<=1?(Oe(0),"long"!==W.current&&ye(0),le(!1),1):.85*e})):he((function(t){return t>=3?t:e.zoom<t?t+e.zoom/3:(e.zoom-t)/3+t}))},pressMove:function(e){if(Qe(),!M.current){var t=function(){ye((function(t){var n=window.innerHeight;if(q.current){var r=q.current.getBoundingClientRect().top,i=q.current.getBoundingClientRect().bottom-n+89,a=r>=0,o=i<=0;if(e.deltaY>=0){if(a)return e.deltaY>=30&&v(),t;if(r<=0&&-r<=e.deltaY)return t+Math.abs(r)}if(e.deltaY<0){if(o)return t;if(i>=0&&i<=Math.abs(e.deltaY))return t-i}return t+e.deltaY}}))};le((function(n){return n?(Oe((function(t){var n=window.innerWidth;if(he((function(e){return e})),q.current){var r=q.current.getBoundingClientRect().left,i=q.current.getBoundingClientRect().right-n,a=r>=0,o=i<=0;if(e.deltaX>=0){if(r<=0&&Math.abs(r)<=e.deltaX)return t+Math.abs(r);if(a){if(Math.abs(e.deltaX)>15){if(D.current)return;Ze(),le(!1),tt()}return t}}if(e.deltaX<0){if(i>=0&&i<=Math.abs(e.deltaX))return t+i;if(o){if(Math.abs(e.deltaX)>15){if(D.current)return;Ze(),le(!1),et()}return t}}return t+e.deltaX}})),t(),n):(Z((function(n){n>window.innerHeight-89?t():e.deltaY>=30&&v(),Z(n)})),n)}))}},swipe:function(e){if(Qe(),Ge(),!D.current)switch(e.direction){case"Left":et();break;case"Right":tt()}}}),S.current=new d.default(Ve.current,{mouseMove:function(e){if(q.current){var t=window.innerWidth,n=window.innerHeight;q.current.getBoundingClientRect().left,q.current.getBoundingClientRect().right,q.current.getBoundingClientRect().top,q.current.getBoundingClientRect().bottom;Je(),e.preventDefault(),e.stopPropagation(),le((function(t){if(t)return Oe((function(t){return t+e.deltaX})),ye((function(t){return t+e.deltaY})),t;Z((function(t){t>window.innerHeight-89&&(Re(!0),ye((function(t){return t+e.deltaY}))),Z(t)}))}))}},zoomIn:function(e){var t=e.zoom;e.evt;le(!0),he((function(e){return e-t/10<=1?1:e-t/10}))},zoomOut:function(e){var t=e.zoom,n=e.evt;he((function(e){return e+t/10})),$e({x:n.x,y:n.y}),le(!0)}})),function(){P.current&&P.current.destroy(),S.current&&S.current.destroy()}}),[]),(0,o.useEffect)((function(){Re(!1);var e,t;return ze.current||ne(!0),ze.current=!1,z.current=i,V.current=n,t=setTimeout((function(){qe(n[i]),oe(!1),le(!1),Ne(0),Se(0)}),300),e=setTimeout((function(){if(!q.current)return oe(!0),void ne(!1);q.current&&q.current.complete||ae?ne(!1):ne(!0)}),300),function(){clearTimeout(e),clearTimeout(t)}}),[i]),Y&&Object.assign(Xe,{width:Y}),K&&Object.assign(Xe,{height:K}),te?Object.assign(Xe,{visibility:"hidden",opacity:0}):Object.assign(Xe,{visibility:"visible",opacity:1}),He-89<K&&Object.assign(Xe,{top:"calc(50% + ".concat(be,"px)")}),ue&&Object.assign(Xe,{transform:"translate(-50%, -50%) scale(".concat(fe,") translateZ(0)"),top:"calc(50% + ".concat(be,"px)"),left:"calc(50% + ".concat(xe,"px)")}),ke&&Pe&&Object.assign(Xe,{transformOrigin:"".concat(ke,"px ").concat(Pe,"px")});return o.default.createElement("div",{className:"".concat(_,"-img-previewer__viewer-wrapper"),ref:Ve},!ae&&o.default.createElement("img",{style:Xe,ref:q,draggable:!1,onLoad:function(e){!function(e){var t=e.height,n=e.width;if("undefined"!==typeof window){var r="width",i=1;t>=n&&(r="height");var a=window.innerHeight,o=window.innerWidth;switch(r){case"width":ye(0),Oe(0),n>o?(i=n/o,Q(o),Z(t/i),W.current="width"):(Q(n),Z(t),W.current="normal");break;case"height":t>=a?t/n>=2.5?(Re(!0),n<=o?(Q(n),Z(t),ye(t/2-a/2),W.current="long"):(Q(o),Z(t/(i=n/o)),ye(t/i/2-a/2),W.current="long")):(Re(!1),ye(0),Oe(0),n>=o?(Q(o),Z(t/(i=n/o)),W.current="normal"):(i=t/a,Z(a),Q(n/i),W.current="normal")):(Re(!1),ye(0),Oe(0),n>=o?(Q(o),Z(t/(i=n/o))):(Q(n),Z(t)),W.current="normal")}}}({height:e.target.naturalHeight,width:e.target.naturalWidth}),setTimeout((function(){ne(!1)}),300)},onClick:function(e){e.stopPropagation(),e.preventDefault()},onError:function(e){var t=N(i);t&&t!==We?qe(t):(ne(!1),oe(!0))},onDoubleTap:function(e){e.stopPropagation(),e.preventDefault()},onTap:function(e){e.stopPropagation(),e.preventDefault()},onDoubleClick:function(){T||Ye({noZoomPositionChange:!1})},className:(0,s.default)("".concat(_,"-img-previewer__viewer-instance"),{"is-hidden":te,"is-movable":ue||Ie}),src:We}),te?o.default.createElement("div",{className:"".concat(_,"-img-previewer__viewer-loading")},o.default.createElement(f.default,{type:"spinner"})):ae?o.default.createElement("div",{className:"".concat(_,"-img-previewer__viewer-loading is-error")},o.default.createElement(c.default,{name:"PictureErrorOutlined",size:50}),"\u56fe\u50cf\u52a0\u8f7d\u5931\u8d25"):null)};t.default=v},"+omo":function(e,t,n){"use strict";var r=n("TqRt");n("ma9I"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("lSNA")),a=r(n("q1tI")),o=n("VTYn"),s=r(n("TSYQ")),c=function(e){var t=e.leftChildren,n=e.rightChildren,r=e.isPlay,c=void 0!==r&&r,u=(0,o.useConfig)().clsPrefix;return a.default.createElement("div",{className:"".concat(u,"-audio-bg-view")},a.default.createElement("div",{className:"".concat(u,"-audio-bg-view__left")},t),function(){for(var e=[],t=0;t<20;t++)e.push(a.default.createElement("div",{className:(0,s.default)("".concat(u,"-audio-bg-view__hz-").concat(t+1),(0,i.default)({},"".concat(u,"-audio-bg-view__hz-").concat(t+1,"--animation"),c)),key:t}));return a.default.createElement("div",{className:"".concat(u,"-audio-bg-view__center")},a.default.createElement("div",{className:"".concat(u,"-audio-bg-view__hz")},e))}(),a.default.createElement("div",{className:"".concat(u,"-audio-bg-view__right")},a.default.createElement("div",{className:"".concat(u,"-audio-bg-view__right-text")},n)))};t.default=c},"+p52":function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n("lwsE"),i=n.n(r),a=n("q1tI"),o=n.n(a);var s=n("KDBa").default,c=n("tale"),u=o.a.createElement,l=function e(){i()(this,e)};l.pluginName=c.name_en,l.version=c.version,l.type=c.type,l.appid=c.app_id,l.author=c.author,l.platform=c.view.display.platform,l.target=c.view.display.target,l.hookName=c.view.display.hookName,l.component=u(s,null),l.options={}},"+pgT":function(e,t,n){"use strict";var r=n("TqRt");n("zKZe"),n("07d7"),n("5s+n"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;r(n("QILm"));var i=r(n("pVnL")),a=r(n("o0o1"));n("ls82");var o=r(n("yXPU")),s=r(n("W8MJ")),c=r(n("PJYZ")),u=r(n("lSNA")),l=r(n("lwsE")),d=r(n("7W2i")),p=r(n("a1gu")),f=r(n("Nsbk")),h=r(n("q1tI")),m=n("GDuN"),v=n("T6Gt"),b=n("GLpR"),y=n("uScP"),g=r(n("uhBA")),j=r(n("KxVQ"));function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){(0,u.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function w(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,f.default)(e);if(t){var i=(0,f.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,p.default)(this,n)}}var C=new(function(e){(0,d.default)(n,e);var t=w(n);function n(){return(0,l.default)(this,n),t.apply(this,arguments)}return n}(g.default)),k=function(e){(0,d.default)(n,e);var t=w(n);function n(e){var r;return(0,l.default)(this,n),r=t.call(this,e),(0,u.default)((0,c.default)(r),"onShow",void 0),(0,u.default)((0,c.default)(r),"onHide",void 0),(0,u.default)((0,c.default)(r),"isControlledComponent",(function(){return void 0!==r.props.visible})),(0,u.default)((0,c.default)(r),"getDefaultState",(function(e){return r.state[e]})),(0,u.default)((0,c.default)(r),"onClose",(function(){r.isControlledComponent()||r.setState({visible:!1}),r.state.options.onClose&&(0,y.isCallable)(r.state.options.onClose)&&r.state.options.onClose()})),(0,u.default)((0,c.default)(r),"onCancel",(0,o.default)(a.default.mark((function e(){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(0,y.isCallable)(r.state.options.onCancel)){e.next=3;break}return e.next=3,r.state.options.onCancel();case 3:case"end":return e.stop()}}),e)})))),(0,u.default)((0,c.default)(r),"onConfirm",(0,o.default)(a.default.mark((function e(){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(0,y.isCallable)(r.state.options.onConfirm)){e.next=5;break}return r.setState({confirmDisabled:!0}),e.next=4,r.state.options.onConfirm();case 4:r.setState({confirmDisabled:!1});case 5:case"end":return e.stop()}}),e)})))),(0,j.default)({componentName:"dialog"}),r.state={visible:!!r.props.defaultVisible&&r.props.defaultVisible,options:O({},r.props),confirmDisabled:r.props.confirmDisabled},r.onShow=function(e){r.setState({visible:!0,options:O(O({},r.props),e)})},r.onHide=function(){r.setState({visible:!1})},r.props.inContext&&(C.on("show",r.onShow),C.on("hide",r.onHide)),r}return(0,s.default)(n,[{key:"componentDidUpdate",value:function(e,t,n){var r=e.visible,i=this.props.visible;i===r||i||this.onClose()}},{key:"componentWillUnmount",value:function(){C.off("show",this.onShow),C.off("hide",this.onHide)}},{key:"render",value:function(){var e=this.RenderComponent;return h.default.createElement(e,(0,i.default)({},this.state.options,{confirmDisabled:this.state.confirmDisabled,visible:this.isControlledComponent()?this.props.visible:this.getDefaultState("visible"),onClose:this.onClose,onCancel:this.onCancel,onConfirm:this.onConfirm}),this.state.options.content||this.props.children)}}]),n}((0,m.baseComponentFactory)({viewAdapter:v.DialogViewAdapter,logicalAdapter:b.DialogLogicalAdapter}));t.default=k,(0,u.default)(k,"confirm",void 0),(0,u.default)(k,"info",void 0),(0,u.default)(k,"waring",void 0),(0,u.default)(k,"success",void 0),(0,u.default)(k,"error",void 0),(0,u.default)(k,"defaultProps",{maskClosable:!0,mask:!0,inContext:!1,width:400,attach:"",title:"",type:"confirm",confirmDisabled:!1,confirmLoading:!1,cancelBtn:"\u53d6\u6d88",confirmBtn:"\u786e\u8ba4",onCancel:function(){},onConfirm:function(){}}),(0,u.default)(k,"show",(function(){C.emit("show")})),(0,u.default)(k,"hide",(function(){C.emit("hide")}));var N=function(e){var t=n("i8i4");return function(n){var r=Object.assign({},n);return new Promise((function(n){var s=document.createElement("div");t.render(h.default.createElement(k,(0,i.default)({},r,{type:e,inContext:!0,onClose:function(){r.onClose&&(0,y.isCallable)(r.onClose)&&r.onClose(),t.unmountComponentAtNode(s)},onConfirm:(0,o.default)(a.default.mark((function e(){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.onConfirm&&r.onConfirm()instanceof Promise)){e.next=4;break}return e.next=3,r.onConfirm();case 3:n(!0);case 4:t.unmountComponentAtNode(s);case 6:case"end":return e.stop()}}),e)}))),onCancel:(0,o.default)(a.default.mark((function e(){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.onCancel&&r.onCancel()instanceof Promise)){e.next=4;break}return e.next=3,r.onCancel();case 3:n(!1);case 4:t.unmountComponentAtNode(s);case 5:case"end":return e.stop()}}),e)})))})),s),C.emit("show",{})}))}};k.confirm=N("confirm"),k.info=N("info"),k.success=N("success"),k.waring=N("warning"),k.error=N("error"),k.hide=function(){return C.emit("hide")}},"//rY":function(e,t,n){"use strict";var r=n("TqRt"),i=n("cDf5");n("sMBO"),n("rB9j"),n("EnZy"),Object.defineProperty(t,"__esModule",{value:!0}),t.fileToObject=function(e){return l(l({},e),{},{lastModified:e.lastModified,lastModifiedDate:e.lastModifiedDate,name:e.name,size:e.size,type:e.type,uid:e.uid,percent:0,originFileObj:e})},t.isImageUrl=t.isImageFileType=void 0,t.useForceUpdate=function(){var e=s.useReducer((function(e){return e+1}),0);return(0,o.default)(e,2)[1]};var a=r(n("lSNA")),o=r(n("J4zp")),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!==typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(n("q1tI"));function c(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){(0,a.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d=function(e){return"string"===typeof e&&0===(null===e||void 0===e?void 0:e.indexOf("image"))};t.isImageFileType=d;t.isImageUrl=function(e){if(e.type&&!e.thumbUrl)return d(e.type);var t=e.thumbUrl||e.url,n=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").split("/"),t=e[e.length-1].split(/#|\?/)[0];return(/\.[^./\\]*$/.exec(t)||[""])[0]}(t);return!(!/^data:image\//.test(t)&&!/(webp|svg|png|gif|jpg|jpeg|jfif|bmp|dpg|ico)$/i.test(n))||!/^data:/.test(t)&&!n}},"/1yQ":function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));n("ma9I"),n("2B1R");var r=n("nKUr"),i=n("lSNA"),a=n.n(i),o=n("q1tI"),s="_3REF96Z71d2I5dtdjscSM3",c="_3qm9OL5eEf-zbeCGJoNw6R",u="_2WC0jU-ebBR0fvNPSadPvE",l="_1dhC4sihwgjHToomcO36-2",d="_1La18KwjAZNrwPpjXP1C8b",p="_2pUuuVDFCCPIUXfVAS8qit";function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e){var t=e.emojis,n=void 0===t?[]:t,i=e.onClick,a=e.show,f=e.pc,m=e.onEmojiBlur,v=void 0===m?function(){}:m,b=e.atTop,y=void 0===b||b,g=e.style,j=Object(o.useState)(!1),x=j[0],O=j[1],w=Object(o.useRef)(),C=function(e){var t;null!==(t=w.current)&&void 0!==t&&t.show&&!w.current.contains(e.currentTarget)&&v()};Object(o.useEffect)((function(){return document.addEventListener("click",C),function(){document.removeEventListener("click",C)}}),[]),Object(o.useEffect)((function(){O(a),w.current.show=a}),[a]);var k=f?l:d;return Object(r.jsx)("div",{ref:w,id:"dzq-toolbar-emoji",className:"".concat(s," ").concat(k," dzq-toolbar-emoji ").concat(y?"":p),style:h(h({},g),{},{display:x?"block":"none"}),onClick:function(e){return e.stopPropagation()},children:Object(r.jsx)("div",{className:c,children:n.map((function(e){return Object(r.jsx)("img",{className:u,alt:e.code,src:e.url,onClick:function(t){i(e)}},e.code)}))})})}},"/Z23":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e,t){var n=null;return function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];clearTimeout(n),n=setTimeout((function(){e.apply(void 0,i)}),t)}};t.default=r},"/c/8":function(e,t,n){"use strict";n("qePV"),n("toAj"),n("4l63");var r=n("nKUr"),i=n("o0o1"),a=n.n(i),o=(n("ls82"),n("yXPU")),s=n.n(o),c=n("q1tI"),u=n("MCNy"),l=n.n(u),d=n("k8W2"),p=n.n(d),f=n("5f2u"),h=n.n(f),m=n("40Bt"),v=n.n(m),b=n("TibX"),y={container:"_3z5TvklBC52HB_YDuAzSKi",header:"lCWCCH8gUZA2USGw5ZCFQ",headerLeft:"_2YBCk7Qxv8Ih7yOlgk87o3",headerIcon:"_3AFG3tsFIsx9_3zeZSxrMl",body:"_2yz1J9KKydBRjY6QeQGuHN",percentage:"UdPb66Hndx3MJC-fc73uF",text:"_37Yh8hIR8VHSunHvJI4YmM",slider:"_3yqT57nexabybEP0jkko5L",perCent:"_3ZAxH3kkOYSN8Wsn0upVzf",maxMoney:"_1xsk6Byc0AvEzXs1gy2-4l",rewardMoney:"_3xR7nvF8iUSuCRvDZQw5vJ",moneyNum:"_2WaFLcQKrA5SbZyB6kKKj1",money:"Lzh7pW764TCUt6ZJ3KM51",unit:"_2ETIShw7Vjmd5-EkzQWaHe",button:"_3mRt_QeJTc6aRwVGkMftWm",ok:"_1WONvKsg8VI_yPd5feRtvI",cancel:"_1nt1WRECsaEpD7n7mJInij"};t.a=function(e){var t=e.visible,n=e.onOkClick,i=e.onCancel,o=e.remainMoney,u=e.money,d=parseInt(o/u*100),f=Object(c.useState)(0),m=f[0],g=f[1],j=Object(c.useState)(0),x=j[0],O=j[1],w=Object(c.useState)(!1),C=w[0],k=w[1];Object(c.useEffect)((function(){k(x>=o)}),[x]);var N=function(){var e=s()(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("function"!==typeof n){e.next=11;break}return e.prev=1,e.next=4,n(x);case 4:e.sent&&(g(0),O(0)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}();return Object(r.jsx)(p.a,{position:"center",visible:t,onClose:i,children:Object(r.jsxs)("div",{className:y.container,children:[Object(r.jsxs)("div",{className:y.main,children:[Object(r.jsxs)("div",{className:y.header,children:[Object(r.jsx)("div",{className:y.headerLeft,children:"\u91c7\u7eb3\u56de\u590d\u60ac\u8d4f"}),Object(r.jsx)("div",{className:y.headerIcon,children:Object(r.jsx)(l.a,{size:12,name:"CloseOutlined",onClick:i})})]}),Object(r.jsxs)("div",{className:y.body,children:[Object(r.jsxs)("div",{className:y.percentage,children:[Object(r.jsx)("div",{className:y.text,children:"\u60ac\u8d4f\u767e\u5206\u6bd4"}),Object(r.jsxs)("div",{className:y.slider,children:[Object(r.jsx)(v.a,{value:m,defaultValue:m,max:d,min:0,step:5,onChange:Object(b.b)((function(e){return function(e){g(Number(e)),O((.01*Number(e)*u).toFixed(2))}(e)}),100),formatter:function(e){return"".concat(e)}}),Object(r.jsx)("div",{className:y.perCent,children:"%"}),C&&Object(r.jsx)("div",{className:y.maxMoney,children:"*\u5df2\u8fbe\u5230\u6700\u5927\u53ef\u7528\u91d1\u989d"})]})]}),Object(r.jsxs)("div",{className:y.rewardMoney,children:[Object(r.jsx)("div",{className:y.text,children:"\u60ac\u8d4f\u91d1\u989d"}),Object(r.jsxs)("div",{className:y.money,children:[x,Object(r.jsx)("span",{className:y.unit,children:"\u5143"})]})]})]})]}),Object(r.jsxs)("div",{className:y.button,children:[Object(r.jsx)(h.a,{onClick:i,className:y.cancel,children:"\u53d6\u6d88"}),Object(r.jsx)(h.a,{onClick:N,className:y.ok,type:"primary",children:"\u786e\u5b9a"})]})]})})}},"/j3c":function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.forwardRefWithStatics=function(e,t){return(0,a.default)((0,i.forwardRef)(e),t)};var i=n("q1tI"),a=r(n("2mql"))},"0CxO":function(e,t,n){var r=n("7zRj"),i=Object.create||function(){function e(){}return function(t){if(1!==arguments.length)throw new Error("Object.create shim only accepts one parameter.");return e.prototype=t,new e}}();function a(e,t){this.name="ParsingError",this.code=e.code,this.message=t||e.message}function o(e){function t(e,t,n,r){return 3600*(0|e)+60*(0|t)+(0|n)+(0|r)/1e3}var n=e.match(/^(\d+):(\d{1,2})(:\d{1,2})?\.(\d{3})/);return n?n[3]?t(n[1],n[2],n[3].replace(":",""),n[4]):n[1]>59?t(n[1],n[2],0,n[4]):t(0,n[1],n[2],n[4]):null}function s(){this.values=i(null)}function c(e,t,n,r){var i=r?e.split(r):[e];for(var a in i)if("string"===typeof i[a]){var o=i[a].split(n);if(2===o.length)t(o[0].trim(),o[1].trim())}}function u(e,t,n){var r=e;function i(){var t=o(e);if(null===t)throw new a(a.Errors.BadTimeStamp,"Malformed timestamp: "+r);return e=e.replace(/^[^\sa-zA-Z-]+/,""),t}function u(){e=e.replace(/^\s+/,"")}if(u(),t.startTime=i(),u(),"--\x3e"!==e.substr(0,3))throw new a(a.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '--\x3e'): "+r);e=e.substr(3),u(),t.endTime=i(),u(),function(e,t){var r=new s;c(e,(function(e,t){switch(e){case"region":for(var i=n.length-1;i>=0;i--)if(n[i].id===t){r.set(e,n[i].region);break}break;case"vertical":r.alt(e,t,["rl","lr"]);break;case"line":var a=t.split(","),o=a[0];r.integer(e,o),r.percent(e,o)&&r.set("snapToLines",!1),r.alt(e,o,["auto"]),2===a.length&&r.alt("lineAlign",a[1],["start","center","end"]);break;case"position":a=t.split(","),r.percent(e,a[0]),2===a.length&&r.alt("positionAlign",a[1],["start","center","end"]);break;case"size":r.percent(e,t);break;case"align":r.alt(e,t,["start","center","end","left","right"])}}),/:/,/\s/),t.region=r.get("region",null),t.vertical=r.get("vertical","");try{t.line=r.get("line","auto")}catch(i){}t.lineAlign=r.get("lineAlign","start"),t.snapToLines=r.get("snapToLines",!0),t.size=r.get("size",100);try{t.align=r.get("align","center")}catch(i){t.align=r.get("align","middle")}try{t.position=r.get("position","auto")}catch(i){t.position=r.get("position",{start:0,left:0,center:50,middle:50,end:100,right:100},t.align)}t.positionAlign=r.get("positionAlign",{start:"start",left:"start",center:"center",middle:"center",end:"end",right:"end"},t.align)}(e,t)}a.prototype=i(Error.prototype),a.prototype.constructor=a,a.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}},s.prototype={set:function(e,t){this.get(e)||""===t||(this.values[e]=t)},get:function(e,t,n){return n?this.has(e)?this.values[e]:t[n]:this.has(e)?this.values[e]:t},has:function(e){return e in this.values},alt:function(e,t,n){for(var r=0;r<n.length;++r)if(t===n[r]){this.set(e,t);break}},integer:function(e,t){/^-?\d+$/.test(t)&&this.set(e,parseInt(t,10))},percent:function(e,t){return!!(t.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(t=parseFloat(t))>=0&&t<=100)&&(this.set(e,t),!0)}};var l=r.createElement&&r.createElement("textarea"),d={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},p={white:"rgba(255,255,255,1)",lime:"rgba(0,255,0,1)",cyan:"rgba(0,255,255,1)",red:"rgba(255,0,0,1)",yellow:"rgba(255,255,0,1)",magenta:"rgba(255,0,255,1)",blue:"rgba(0,0,255,1)",black:"rgba(0,0,0,1)"},f={v:"title",lang:"lang"},h={rt:"ruby"};function m(e,t){function n(){if(!t)return null;var e,n=t.match(/^([^<]*)(<[^>]*>?)?/);return e=n[1]?n[1]:n[2],t=t.substr(e.length),e}function r(e,t){return!h[t.localName]||h[t.localName]===e.localName}function i(t,n){var r=d[t];if(!r)return null;var i=e.document.createElement(r),a=f[t];return a&&n&&(i[a]=n.trim()),i}for(var a,s,c=e.document.createElement("div"),u=c,m=[];null!==(a=n());)if("<"!==a[0])u.appendChild(e.document.createTextNode((s=a,l.innerHTML=s,s=l.textContent,l.textContent="",s)));else{if("/"===a[1]){m.length&&m[m.length-1]===a.substr(2).replace(">","")&&(m.pop(),u=u.parentNode);continue}var v,b=o(a.substr(1,a.length-2));if(b){v=e.document.createProcessingInstruction("timestamp",b),u.appendChild(v);continue}var y=a.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!y)continue;if(!(v=i(y[1],y[3])))continue;if(!r(u,v))continue;if(y[2]){var g=y[2].split(".");g.forEach((function(e){var t=/^bg_/.test(e),n=t?e.slice(3):e;if(p.hasOwnProperty(n)){var r=t?"background-color":"color",i=p[n];v.style[r]=i}})),v.className=g.join(" ")}m.push(y[1]),u.appendChild(v),u=v}return c}var v=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];function b(e){for(var t=0;t<v.length;t++){var n=v[t];if(e>=n[0]&&e<=n[1])return!0}return!1}function y(e){var t=[],n="";if(!e||!e.childNodes)return"ltr";function r(e,t){for(var n=t.childNodes.length-1;n>=0;n--)e.push(t.childNodes[n])}function i(e){if(!e||!e.length)return null;var t=e.pop(),n=t.textContent||t.innerText;if(n){var a=n.match(/^.*(\n|\r)/);return a?(e.length=0,a[0]):n}return"ruby"===t.tagName?i(e):t.childNodes?(r(e,t),i(e)):void 0}for(r(t,e);n=i(t);)for(var a=0;a<n.length;a++)if(b(n.charCodeAt(a)))return"rtl";return"ltr"}function g(){}function j(e,t,n){g.call(this),this.cue=t,this.cueDiv=m(e,t.text);var r={color:"rgba(255, 255, 255, 1)",backgroundColor:"rgba(0, 0, 0, 0.8)",position:"relative",left:0,right:0,top:0,bottom:0,display:"inline",writingMode:""===t.vertical?"horizontal-tb":"lr"===t.vertical?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext"};this.applyStyles(r,this.cueDiv),this.div=e.document.createElement("div"),r={direction:y(this.cueDiv),writingMode:""===t.vertical?"horizontal-tb":"lr"===t.vertical?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext",textAlign:"middle"===t.align?"center":t.align,font:n.font,whiteSpace:"pre-line",position:"absolute"},this.applyStyles(r),this.div.appendChild(this.cueDiv);var i=0;switch(t.positionAlign){case"start":i=t.position;break;case"center":i=t.position-t.size/2;break;case"end":i=t.position-t.size}""===t.vertical?this.applyStyles({left:this.formatStyle(i,"%"),width:this.formatStyle(t.size,"%")}):this.applyStyles({top:this.formatStyle(i,"%"),height:this.formatStyle(t.size,"%")}),this.move=function(e){this.applyStyles({top:this.formatStyle(e.top,"px"),bottom:this.formatStyle(e.bottom,"px"),left:this.formatStyle(e.left,"px"),right:this.formatStyle(e.right,"px"),height:this.formatStyle(e.height,"px"),width:this.formatStyle(e.width,"px")})}}function x(e){var t,n,r,i;if(e.div){n=e.div.offsetHeight,r=e.div.offsetWidth,i=e.div.offsetTop;var a=(a=e.div.childNodes)&&(a=a[0])&&a.getClientRects&&a.getClientRects();e=e.div.getBoundingClientRect(),t=a?Math.max(a[0]&&a[0].height||0,e.height/a.length):0}this.left=e.left,this.right=e.right,this.top=e.top||i,this.height=e.height||n,this.bottom=e.bottom||i+(e.height||n),this.width=e.width||r,this.lineHeight=void 0!==t?t:e.lineHeight}function O(e,t,n,r){var i=new x(t),a=t.cue,o=function(e){if("number"===typeof e.line&&(e.snapToLines||e.line>=0&&e.line<=100))return e.line;if(!e.track||!e.track.textTrackList||!e.track.textTrackList.mediaElement)return-1;for(var t=e.track,n=t.textTrackList,r=0,i=0;i<n.length&&n[i]!==t;i++)"showing"===n[i].mode&&r++;return-1*++r}(a),s=[];if(a.snapToLines){var c;switch(a.vertical){case"":s=["+y","-y"],c="height";break;case"rl":s=["+x","-x"],c="width";break;case"lr":s=["-x","+x"],c="width"}var u=i.lineHeight,l=u*Math.round(o),d=n[c]+u,p=s[0];Math.abs(l)>d&&(l=l<0?-1:1,l*=Math.ceil(d/u)*u),o<0&&(l+=""===a.vertical?n.height:n.width,s=s.reverse()),i.move(p,l)}else{var f=i.lineHeight/n.height*100;switch(a.lineAlign){case"center":o-=f/2;break;case"end":o-=f}switch(a.vertical){case"":t.applyStyles({top:t.formatStyle(o,"%")});break;case"rl":t.applyStyles({left:t.formatStyle(o,"%")});break;case"lr":t.applyStyles({right:t.formatStyle(o,"%")})}s=["+y","-x","+x","-y"],i=new x(t)}var h=function(e,t){for(var i,a=new x(e),o=1,s=0;s<t.length;s++){for(;e.overlapsOppositeAxis(n,t[s])||e.within(n)&&e.overlapsAny(r);)e.move(t[s]);if(e.within(n))return e;var c=e.intersectPercentage(n);o>c&&(i=new x(e),o=c),e=new x(a)}return i||a}(i,s);t.move(h.toCSSCompatValues(n))}function w(){}g.prototype.applyStyles=function(e,t){for(var n in t=t||this.div,e)e.hasOwnProperty(n)&&(t.style[n]=e[n])},g.prototype.formatStyle=function(e,t){return 0===e?0:e+t},j.prototype=i(g.prototype),j.prototype.constructor=j,x.prototype.move=function(e,t){switch(t=void 0!==t?t:this.lineHeight,e){case"+x":this.left+=t,this.right+=t;break;case"-x":this.left-=t,this.right-=t;break;case"+y":this.top+=t,this.bottom+=t;break;case"-y":this.top-=t,this.bottom-=t}},x.prototype.overlaps=function(e){return this.left<e.right&&this.right>e.left&&this.top<e.bottom&&this.bottom>e.top},x.prototype.overlapsAny=function(e){for(var t=0;t<e.length;t++)if(this.overlaps(e[t]))return!0;return!1},x.prototype.within=function(e){return this.top>=e.top&&this.bottom<=e.bottom&&this.left>=e.left&&this.right<=e.right},x.prototype.overlapsOppositeAxis=function(e,t){switch(t){case"+x":return this.left<e.left;case"-x":return this.right>e.right;case"+y":return this.top<e.top;case"-y":return this.bottom>e.bottom}},x.prototype.intersectPercentage=function(e){return Math.max(0,Math.min(this.right,e.right)-Math.max(this.left,e.left))*Math.max(0,Math.min(this.bottom,e.bottom)-Math.max(this.top,e.top))/(this.height*this.width)},x.prototype.toCSSCompatValues=function(e){return{top:this.top-e.top,bottom:e.bottom-this.bottom,left:this.left-e.left,right:e.right-this.right,height:this.height,width:this.width}},x.getSimpleBoxPosition=function(e){var t=e.div?e.div.offsetHeight:e.tagName?e.offsetHeight:0,n=e.div?e.div.offsetWidth:e.tagName?e.offsetWidth:0,r=e.div?e.div.offsetTop:e.tagName?e.offsetTop:0;return{left:(e=e.div?e.div.getBoundingClientRect():e.tagName?e.getBoundingClientRect():e).left,right:e.right,top:e.top||r,height:e.height||t,bottom:e.bottom||r+(e.height||t),width:e.width||n}},w.StringDecoder=function(){return{decode:function(e){if(!e)return"";if("string"!==typeof e)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(e))}}},w.convertCueToDOMTree=function(e,t){return e&&t?m(e,t):null};w.processCues=function(e,t,n){if(!e||!t||!n)return null;for(;n.firstChild;)n.removeChild(n.firstChild);var r=e.document.createElement("div");if(r.style.position="absolute",r.style.left="0",r.style.right="0",r.style.top="0",r.style.bottom="0",r.style.margin="1.5%",n.appendChild(r),function(e){for(var t=0;t<e.length;t++)if(e[t].hasBeenReset||!e[t].displayState)return!0;return!1}(t)){var i=[],a=x.getSimpleBoxPosition(r),o={font:Math.round(.05*a.height*100)/100+"px sans-serif"};!function(){for(var n,s,c=0;c<t.length;c++)s=t[c],n=new j(e,s,o),r.appendChild(n.div),O(0,n,a,i),s.displayState=n.div,i.push(x.getSimpleBoxPosition(n))}()}else for(var s=0;s<t.length;s++)r.appendChild(t[s].displayState)},w.Parser=function(e,t,n){n||(n=t,t={}),t||(t={}),this.window=e,this.vttjs=t,this.state="INITIAL",this.buffer="",this.decoder=n||new TextDecoder("utf8"),this.regionList=[]},w.Parser.prototype={reportOrThrowError:function(e){if(!(e instanceof a))throw e;this.onparsingerror&&this.onparsingerror(e)},parse:function(e){var t=this;function n(){for(var e=t.buffer,n=0;n<e.length&&"\r"!==e[n]&&"\n"!==e[n];)++n;var r=e.substr(0,n);return"\r"===e[n]&&++n,"\n"===e[n]&&++n,t.buffer=e.substr(n),r}function r(e){e.match(/X-TIMESTAMP-MAP/)?c(e,(function(e,n){switch(e){case"X-TIMESTAMP-MAP":!function(e){var n=new s;c(e,(function(e,t){switch(e){case"MPEGT":n.integer(e+"S",t);break;case"LOCA":n.set(e+"L",o(t))}}),/[^\d]:/,/,/),t.ontimestampmap&&t.ontimestampmap({MPEGTS:n.get("MPEGTS"),LOCAL:n.get("LOCAL")})}(n)}}),/=/):c(e,(function(e,n){switch(e){case"Region":!function(e){var n=new s;if(c(e,(function(e,t){switch(e){case"id":n.set(e,t);break;case"width":n.percent(e,t);break;case"lines":n.integer(e,t);break;case"regionanchor":case"viewportanchor":var r=t.split(",");if(2!==r.length)break;var i=new s;if(i.percent("x",r[0]),i.percent("y",r[1]),!i.has("x")||!i.has("y"))break;n.set(e+"X",i.get("x")),n.set(e+"Y",i.get("y"));break;case"scroll":n.alt(e,t,["up"])}}),/=/,/\s/),n.has("id")){var r=new(t.vttjs.VTTRegion||t.window.VTTRegion);r.width=n.get("width",100),r.lines=n.get("lines",3),r.regionAnchorX=n.get("regionanchorX",0),r.regionAnchorY=n.get("regionanchorY",100),r.viewportAnchorX=n.get("viewportanchorX",0),r.viewportAnchorY=n.get("viewportanchorY",100),r.scroll=n.get("scroll",""),t.onregion&&t.onregion(r),t.regionList.push({id:n.get("id"),region:r})}}(n)}}),/:/)}e&&(t.buffer+=t.decoder.decode(e,{stream:!0}));try{var i;if("INITIAL"===t.state){if(!/\r\n|\n/.test(t.buffer))return this;var l=(i=n()).match(/^WEBVTT([ \t].*)?$/);if(!l||!l[0])throw new a(a.Errors.BadSignature);t.state="HEADER"}for(var d=!1;t.buffer;){if(!/\r\n|\n/.test(t.buffer))return this;switch(d?d=!1:i=n(),t.state){case"HEADER":/:/.test(i)?r(i):i||(t.state="ID");continue;case"NOTE":i||(t.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(i)){t.state="NOTE";break}if(!i)continue;t.cue=new(t.vttjs.VTTCue||t.window.VTTCue)(0,0,"");try{t.cue.align="center"}catch(f){t.cue.align="middle"}if(t.state="CUE",-1===i.indexOf("--\x3e")){t.cue.id=i;continue}case"CUE":try{u(i,t.cue,t.regionList)}catch(f){t.reportOrThrowError(f),t.cue=null,t.state="BADCUE";continue}t.state="CUETEXT";continue;case"CUETEXT":var p=-1!==i.indexOf("--\x3e");if(!i||p&&(d=!0)){t.oncue&&t.oncue(t.cue),t.cue=null,t.state="ID";continue}t.cue.text&&(t.cue.text+="\n"),t.cue.text+=i.replace(/\u2028/g,"\n").replace(/u2029/g,"\n");continue;case"BADCUE":i||(t.state="ID");continue}}}catch(f){t.reportOrThrowError(f),"CUETEXT"===t.state&&t.cue&&t.oncue&&t.oncue(t.cue),t.cue=null,t.state="INITIAL"===t.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){var e=this;try{if(e.buffer+=e.decoder.decode(),(e.cue||"HEADER"===e.state)&&(e.buffer+="\n\n",e.parse()),"INITIAL"===e.state)throw new a(a.Errors.BadSignature)}catch(t){e.reportOrThrowError(t)}return e.onflush&&e.onflush(),this}},e.exports=w},"0KMJ":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n("DQNa"),n("TWNs"),n("rB9j"),n("JfAA"),n("TZCg"),n("UxlC");var r=function(e,t){var n=new Date(e),r={"M+":n.getMonth()+1,"d+":n.getDate(),"h+":n.getHours(),"m+":n.getMinutes(),"s+":n.getSeconds(),"q+":Math.floor((n.getMonth()+3)/3),S:n.getMilliseconds()};for(var i in/(y+)/.test(t)&&(t=t.replace(RegExp.$1,"".concat(n.getFullYear()).substr(4-RegExp.$1.length))),r)new RegExp("(".concat(i,")")).test(t)&&(t=t.replace(RegExp.$1,"".concat(r[i]).padStart(2,"0")));return t}},"0Tbm":function(e,t,n){!function(t){var n=/^(?=((?:[a-zA-Z0-9+\-.]+:)?))\1(?=((?:\/\/[^\/?#]*)?))\2(?=((?:(?:[^?#\/]*\/)*[^;?#\/]*)?))\3((?:;[^?#]*)?)(\?[^#]*)?(#[^]*)?$/,r=/^(?=([^\/?#]*))\1([^]*)$/,i=/(?:\/|^)\.(?=\/)/g,a=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,o={buildAbsoluteURL:function(e,t,n){if(n=n||{},e=e.trim(),!(t=t.trim())){if(!n.alwaysNormalize)return e;var i=o.parseURL(e);if(!i)throw new Error("Error trying to parse base URL.");return i.path=o.normalizePath(i.path),o.buildURLFromParts(i)}var a=o.parseURL(t);if(!a)throw new Error("Error trying to parse relative URL.");if(a.scheme)return n.alwaysNormalize?(a.path=o.normalizePath(a.path),o.buildURLFromParts(a)):t;var s=o.parseURL(e);if(!s)throw new Error("Error trying to parse base URL.");if(!s.netLoc&&s.path&&"/"!==s.path[0]){var c=r.exec(s.path);s.netLoc=c[1],s.path=c[2]}s.netLoc&&!s.path&&(s.path="/");var u={scheme:s.scheme,netLoc:a.netLoc,path:null,params:a.params,query:a.query,fragment:a.fragment};if(!a.netLoc&&(u.netLoc=s.netLoc,"/"!==a.path[0]))if(a.path){var l=s.path,d=l.substring(0,l.lastIndexOf("/")+1)+a.path;u.path=o.normalizePath(d)}else u.path=s.path,a.params||(u.params=s.params,a.query||(u.query=s.query));return null===u.path&&(u.path=n.alwaysNormalize?o.normalizePath(a.path):a.path),o.buildURLFromParts(u)},parseURL:function(e){var t=n.exec(e);return t?{scheme:t[1]||"",netLoc:t[2]||"",path:t[3]||"",params:t[4]||"",query:t[5]||"",fragment:t[6]||""}:null},normalizePath:function(e){for(e=e.split("").reverse().join("").replace(i,"");e.length!==(e=e.replace(a,"")).length;);return e.split("").reverse().join("")},buildURLFromParts:function(e){return e.scheme+e.netLoc+e.path+e.params+e.query+e.fragment}};e.exports=o}()},"0TkE":function(e,t,n){"use strict";var r=n("67WC"),i=n("tycR").find,a=r.aTypedArray;(0,r.exportTypedArrayMethod)("find",(function(e){return i(a(this),e,arguments.length>1?arguments[1]:void 0)}))},1:function(e,t){},"10ky":function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var r=n("VbXa"),i=n.n(r),a=n("CCF8"),o=n.n(a),s=n("pVnL"),c=n.n(s),u=n("PJYZ"),l=n.n(u),d=n("hQev"),p=n.n(d),f=function(e){function t(){var t;return(t=e.call(this)||this).buffer="",t}return i()(t,e),t.prototype.push=function(e){var t;for(this.buffer+=e,t=this.buffer.indexOf("\n");t>-1;t=this.buffer.indexOf("\n"))this.trigger("data",this.buffer.substring(0,t)),this.buffer=this.buffer.substring(t+1)},t}(o.a),h=function(e){for(var t,n=e.split(new RegExp('(?:^|,)((?:[^=]*)=(?:"[^"]*"|[^,]*))')),r={},i=n.length;i--;)""!==n[i]&&((t=/([^=]*)=(.*)/.exec(n[i]).slice(1))[0]=t[0].replace(/^\s+|\s+$/g,""),t[1]=t[1].replace(/^\s+|\s+$/g,""),t[1]=t[1].replace(/^['"](.*)['"]$/g,"$1"),r[t[0]]=t[1]);return r},m=function(e){function t(){var t;return(t=e.call(this)||this).customParsers=[],t.tagMappers=[],t}i()(t,e);var n=t.prototype;return n.push=function(e){var t,n,r=this;0!==(e=e.trim()).length&&("#"===e[0]?this.tagMappers.reduce((function(t,n){var r=n(e);return r===e?t:t.concat([r])}),[e]).forEach((function(e){for(var i=0;i<r.customParsers.length;i++)if(r.customParsers[i].call(r,e))return;if(0===e.indexOf("#EXT"))if(e=e.replace("\r",""),t=/^#EXTM3U/.exec(e))r.trigger("data",{type:"tag",tagType:"m3u"});else{if(t=/^#EXTINF:?([0-9\.]*)?,?(.*)?$/.exec(e))return n={type:"tag",tagType:"inf"},t[1]&&(n.duration=parseFloat(t[1])),t[2]&&(n.title=t[2]),void r.trigger("data",n);if(t=/^#EXT-X-TARGETDURATION:?([0-9.]*)?/.exec(e))return n={type:"tag",tagType:"targetduration"},t[1]&&(n.duration=parseInt(t[1],10)),void r.trigger("data",n);if(t=/^#ZEN-TOTAL-DURATION:?([0-9.]*)?/.exec(e))return n={type:"tag",tagType:"totalduration"},t[1]&&(n.duration=parseInt(t[1],10)),void r.trigger("data",n);if(t=/^#EXT-X-VERSION:?([0-9.]*)?/.exec(e))return n={type:"tag",tagType:"version"},t[1]&&(n.version=parseInt(t[1],10)),void r.trigger("data",n);if(t=/^#EXT-X-MEDIA-SEQUENCE:?(\-?[0-9.]*)?/.exec(e))return n={type:"tag",tagType:"media-sequence"},t[1]&&(n.number=parseInt(t[1],10)),void r.trigger("data",n);if(t=/^#EXT-X-DISCONTINUITY-SEQUENCE:?(\-?[0-9.]*)?/.exec(e))return n={type:"tag",tagType:"discontinuity-sequence"},t[1]&&(n.number=parseInt(t[1],10)),void r.trigger("data",n);if(t=/^#EXT-X-PLAYLIST-TYPE:?(.*)?$/.exec(e))return n={type:"tag",tagType:"playlist-type"},t[1]&&(n.playlistType=t[1]),void r.trigger("data",n);if(t=/^#EXT-X-BYTERANGE:?([0-9.]*)?@?([0-9.]*)?/.exec(e))return n={type:"tag",tagType:"byterange"},t[1]&&(n.length=parseInt(t[1],10)),t[2]&&(n.offset=parseInt(t[2],10)),void r.trigger("data",n);if(t=/^#EXT-X-ALLOW-CACHE:?(YES|NO)?/.exec(e))return n={type:"tag",tagType:"allow-cache"},t[1]&&(n.allowed=!/NO/.test(t[1])),void r.trigger("data",n);if(t=/^#EXT-X-MAP:?(.*)$/.exec(e)){if(n={type:"tag",tagType:"map"},t[1]){var a=h(t[1]);if(a.URI&&(n.uri=a.URI),a.BYTERANGE){var o=a.BYTERANGE.split("@"),s=o[0],c=o[1];n.byterange={},s&&(n.byterange.length=parseInt(s,10)),c&&(n.byterange.offset=parseInt(c,10))}}r.trigger("data",n)}else if(t=/^#EXT-X-STREAM-INF:?(.*)$/.exec(e)){if(n={type:"tag",tagType:"stream-inf"},t[1]){if(n.attributes=h(t[1]),n.attributes.RESOLUTION){var u=n.attributes.RESOLUTION.split("x"),l={};u[0]&&(l.width=parseInt(u[0],10)),u[1]&&(l.height=parseInt(u[1],10)),n.attributes.RESOLUTION=l}n.attributes.BANDWIDTH&&(n.attributes.BANDWIDTH=parseInt(n.attributes.BANDWIDTH,10)),n.attributes["PROGRAM-ID"]&&(n.attributes["PROGRAM-ID"]=parseInt(n.attributes["PROGRAM-ID"],10))}r.trigger("data",n)}else{if(t=/^#EXT-X-MEDIA:?(.*)$/.exec(e))return n={type:"tag",tagType:"media"},t[1]&&(n.attributes=h(t[1])),void r.trigger("data",n);if(t=/^#EXT-X-ENDLIST/.exec(e))r.trigger("data",{type:"tag",tagType:"endlist"});else if(t=/^#EXT-X-DISCONTINUITY/.exec(e))r.trigger("data",{type:"tag",tagType:"discontinuity"});else{if(t=/^#EXT-X-PROGRAM-DATE-TIME:?(.*)$/.exec(e))return n={type:"tag",tagType:"program-date-time"},t[1]&&(n.dateTimeString=t[1],n.dateTimeObject=new Date(t[1])),void r.trigger("data",n);if(t=/^#EXT-X-KEY:?(.*)$/.exec(e))return n={type:"tag",tagType:"key"},t[1]&&(n.attributes=h(t[1]),n.attributes.IV&&("0x"===n.attributes.IV.substring(0,2).toLowerCase()&&(n.attributes.IV=n.attributes.IV.substring(2)),n.attributes.IV=n.attributes.IV.match(/.{8}/g),n.attributes.IV[0]=parseInt(n.attributes.IV[0],16),n.attributes.IV[1]=parseInt(n.attributes.IV[1],16),n.attributes.IV[2]=parseInt(n.attributes.IV[2],16),n.attributes.IV[3]=parseInt(n.attributes.IV[3],16),n.attributes.IV=new Uint32Array(n.attributes.IV))),void r.trigger("data",n);if(t=/^#EXT-X-START:?(.*)$/.exec(e))return n={type:"tag",tagType:"start"},t[1]&&(n.attributes=h(t[1]),n.attributes["TIME-OFFSET"]=parseFloat(n.attributes["TIME-OFFSET"]),n.attributes.PRECISE=/YES/.test(n.attributes.PRECISE)),void r.trigger("data",n);if(t=/^#EXT-X-CUE-OUT-CONT:?(.*)?$/.exec(e))return n={type:"tag",tagType:"cue-out-cont"},t[1]?n.data=t[1]:n.data="",void r.trigger("data",n);if(t=/^#EXT-X-CUE-OUT:?(.*)?$/.exec(e))return n={type:"tag",tagType:"cue-out"},t[1]?n.data=t[1]:n.data="",void r.trigger("data",n);if(t=/^#EXT-X-CUE-IN:?(.*)?$/.exec(e))return n={type:"tag",tagType:"cue-in"},t[1]?n.data=t[1]:n.data="",void r.trigger("data",n);r.trigger("data",{type:"tag",data:e.slice(4)})}}}else r.trigger("data",{type:"comment",text:e.slice(1)})})):this.trigger("data",{type:"uri",uri:e}))},n.addParser=function(e){var t=this,n=e.expression,r=e.customType,i=e.dataParser,a=e.segment;"function"!==typeof i&&(i=function(e){return e}),this.customParsers.push((function(e){if(n.exec(e))return t.trigger("data",{type:"custom",data:i(e),customType:r,segment:a}),!0}))},n.addTagMapper=function(e){var t=e.expression,n=e.map;this.tagMappers.push((function(e){return t.test(e)?n(e):e}))},t}(o.a),v=function(e){function t(){var t;(t=e.call(this)||this).lineStream=new f,t.parseStream=new m,t.lineStream.pipe(t.parseStream);var n,r,i=l()(t),a=[],o={},s=function(){},u={AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},d=0;t.manifest={allowCache:!0,discontinuityStarts:[],segments:[]};var h=0;return t.parseStream.on("data",(function(e){var t,l;({tag:function(){({"allow-cache":function(){this.manifest.allowCache=e.allowed,"allowed"in e||(this.trigger("info",{message:"defaulting allowCache to YES"}),this.manifest.allowCache=!0)},byterange:function(){var t={};"length"in e&&(o.byterange=t,t.length=e.length,"offset"in e||(e.offset=h)),"offset"in e&&(o.byterange=t,t.offset=e.offset),h=t.offset+t.length},endlist:function(){this.manifest.endList=!0},inf:function(){"mediaSequence"in this.manifest||(this.manifest.mediaSequence=0,this.trigger("info",{message:"defaulting media sequence to zero"})),"discontinuitySequence"in this.manifest||(this.manifest.discontinuitySequence=0,this.trigger("info",{message:"defaulting discontinuity sequence to zero"})),e.duration>0&&(o.duration=e.duration),0===e.duration&&(o.duration=.01,this.trigger("info",{message:"updating zero segment duration to a small value"})),this.manifest.segments=a},key:function(){if(e.attributes)if("NONE"!==e.attributes.METHOD)if(e.attributes.URI){if("urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed"===e.attributes.KEYFORMAT){return-1===["SAMPLE-AES","SAMPLE-AES-CTR","SAMPLE-AES-CENC"].indexOf(e.attributes.METHOD)?void this.trigger("warn",{message:"invalid key method provided for Widevine"}):("SAMPLE-AES-CENC"===e.attributes.METHOD&&this.trigger("warn",{message:"SAMPLE-AES-CENC is deprecated, please use SAMPLE-AES-CTR instead"}),"data:text/plain;base64,"!==e.attributes.URI.substring(0,23)?void this.trigger("warn",{message:"invalid key URI provided for Widevine"}):e.attributes.KEYID&&"0x"===e.attributes.KEYID.substring(0,2)?void(this.manifest.contentProtection={"com.widevine.alpha":{attributes:{schemeIdUri:e.attributes.KEYFORMAT,keyId:e.attributes.KEYID.substring(2)},pssh:p()(e.attributes.URI.split(",")[1])}}):void this.trigger("warn",{message:"invalid key ID provided for Widevine"}))}e.attributes.METHOD||this.trigger("warn",{message:"defaulting key method to AES-128"}),r={method:e.attributes.METHOD||"AES-128",uri:e.attributes.URI},"undefined"!==typeof e.attributes.IV&&(r.iv=e.attributes.IV)}else this.trigger("warn",{message:"ignoring key declaration without URI"});else r=null;else this.trigger("warn",{message:"ignoring key declaration without attribute list"})},"media-sequence":function(){isFinite(e.number)?this.manifest.mediaSequence=e.number:this.trigger("warn",{message:"ignoring invalid media sequence: "+e.number})},"discontinuity-sequence":function(){isFinite(e.number)?(this.manifest.discontinuitySequence=e.number,d=e.number):this.trigger("warn",{message:"ignoring invalid discontinuity sequence: "+e.number})},"playlist-type":function(){/VOD|EVENT/.test(e.playlistType)?this.manifest.playlistType=e.playlistType:this.trigger("warn",{message:"ignoring unknown playlist type: "+e.playlist})},map:function(){n={},e.uri&&(n.uri=e.uri),e.byterange&&(n.byterange=e.byterange)},"stream-inf":function(){this.manifest.playlists=a,this.manifest.mediaGroups=this.manifest.mediaGroups||u,e.attributes?(o.attributes||(o.attributes={}),c()(o.attributes,e.attributes)):this.trigger("warn",{message:"ignoring empty stream-inf attributes"})},media:function(){if(this.manifest.mediaGroups=this.manifest.mediaGroups||u,e.attributes&&e.attributes.TYPE&&e.attributes["GROUP-ID"]&&e.attributes.NAME){var n=this.manifest.mediaGroups[e.attributes.TYPE];n[e.attributes["GROUP-ID"]]=n[e.attributes["GROUP-ID"]]||{},t=n[e.attributes["GROUP-ID"]],(l={default:/yes/i.test(e.attributes.DEFAULT)}).default?l.autoselect=!0:l.autoselect=/yes/i.test(e.attributes.AUTOSELECT),e.attributes.LANGUAGE&&(l.language=e.attributes.LANGUAGE),e.attributes.URI&&(l.uri=e.attributes.URI),e.attributes["INSTREAM-ID"]&&(l.instreamId=e.attributes["INSTREAM-ID"]),e.attributes.CHARACTERISTICS&&(l.characteristics=e.attributes.CHARACTERISTICS),e.attributes.FORCED&&(l.forced=/yes/i.test(e.attributes.FORCED)),t[e.attributes.NAME]=l}else this.trigger("warn",{message:"ignoring incomplete or missing media group"})},discontinuity:function(){d+=1,o.discontinuity=!0,this.manifest.discontinuityStarts.push(a.length)},"program-date-time":function(){"undefined"===typeof this.manifest.dateTimeString&&(this.manifest.dateTimeString=e.dateTimeString,this.manifest.dateTimeObject=e.dateTimeObject),o.dateTimeString=e.dateTimeString,o.dateTimeObject=e.dateTimeObject},targetduration:function(){!isFinite(e.duration)||e.duration<0?this.trigger("warn",{message:"ignoring invalid target duration: "+e.duration}):this.manifest.targetDuration=e.duration},totalduration:function(){!isFinite(e.duration)||e.duration<0?this.trigger("warn",{message:"ignoring invalid total duration: "+e.duration}):this.manifest.totalDuration=e.duration},start:function(){e.attributes&&!isNaN(e.attributes["TIME-OFFSET"])?this.manifest.start={timeOffset:e.attributes["TIME-OFFSET"],precise:e.attributes.PRECISE}:this.trigger("warn",{message:"ignoring start declaration without appropriate attribute list"})},"cue-out":function(){o.cueOut=e.data},"cue-out-cont":function(){o.cueOutCont=e.data},"cue-in":function(){o.cueIn=e.data}}[e.tagType]||s).call(i)},uri:function(){o.uri=e.uri,a.push(o),this.manifest.targetDuration&&!("duration"in o)&&(this.trigger("warn",{message:"defaulting segment duration to the target duration"}),o.duration=this.manifest.targetDuration),r&&(o.key=r),o.timeline=d,n&&(o.map=n),o={}},comment:function(){},custom:function(){e.segment?(o.custom=o.custom||{},o.custom[e.customType]=e.data):(this.manifest.custom=this.manifest.custom||{},this.manifest.custom[e.customType]=e.data)}})[e.type].call(i)})),t}i()(t,e);var n=t.prototype;return n.push=function(e){this.lineStream.push(e)},n.end=function(){this.lineStream.push("\n")},n.addParser=function(e){this.parseStream.addParser(e)},n.addTagMapper=function(e){this.parseStream.addTagMapper(e)},t}(o.a)},"1ABj":function(e,t){e.exports=function(e,t){throw new Error("Decorating class property failed. Please ensure that proposal-class-properties is enabled and runs after the decorators transform.")}},"1dYe":function(e,t,n){"use strict";var r=n("67WC"),i=n("tycR").forEach,a=r.aTypedArray;(0,r.exportTypedArrayMethod)("forEach",(function(e){i(a(this),e,arguments.length>1?arguments[1]:void 0)}))},"1h1e":function(e,t){var n=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,r=new RegExp("[\\-\\.0-9"+n.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),i=new RegExp("^"+n.source+r.source+"*(?::"+n.source+r.source+"*)?$");function a(){}function o(e,t){return t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber,t}function s(e,t,n,r,i,a){for(var o,s=++t,c=0;;){var u=e.charAt(s);switch(u){case"=":if(1===c)o=e.slice(t,s),c=3;else{if(2!==c)throw new Error("attribute equal must after attrName");c=3}break;case"'":case'"':if(3===c||1===c){if(1===c&&(a.warning('attribute value must after "="'),o=e.slice(t,s)),t=s+1,!((s=e.indexOf(u,t))>0))throw new Error("attribute value no end '"+u+"' match");l=e.slice(t,s).replace(/&#?\w+;/g,i),n.add(o,l,t-1),c=5}else{if(4!=c)throw new Error('attribute value must after "="');l=e.slice(t,s).replace(/&#?\w+;/g,i),n.add(o,l,t),a.warning('attribute "'+o+'" missed start quot('+u+")!!"),t=s+1,c=5}break;case"/":switch(c){case 0:n.setTagName(e.slice(t,s));case 5:case 6:case 7:c=7,n.closed=!0;case 4:case 1:case 2:break;default:throw new Error("attribute invalid close char('/')")}break;case"":return a.error("unexpected end of input"),0==c&&n.setTagName(e.slice(t,s)),s;case">":switch(c){case 0:n.setTagName(e.slice(t,s));case 5:case 6:case 7:break;case 4:case 1:"/"===(l=e.slice(t,s)).slice(-1)&&(n.closed=!0,l=l.slice(0,-1));case 2:2===c&&(l=o),4==c?(a.warning('attribute "'+l+'" missed quot(")!!'),n.add(o,l.replace(/&#?\w+;/g,i),t)):("http://www.w3.org/1999/xhtml"===r[""]&&l.match(/^(?:disabled|checked|selected)$/i)||a.warning('attribute "'+l+'" missed value!! "'+l+'" instead!!'),n.add(l,l,t));break;case 3:throw new Error("attribute value missed!!")}return s;case"\x80":u=" ";default:if(u<=" ")switch(c){case 0:n.setTagName(e.slice(t,s)),c=6;break;case 1:o=e.slice(t,s),c=2;break;case 4:var l=e.slice(t,s).replace(/&#?\w+;/g,i);a.warning('attribute "'+l+'" missed quot(")!!'),n.add(o,l,t);case 5:c=6}else switch(c){case 2:n.tagName;"http://www.w3.org/1999/xhtml"===r[""]&&o.match(/^(?:disabled|checked|selected)$/i)||a.warning('attribute "'+o+'" missed value!! "'+o+'" instead2!!'),n.add(o,o,t),t=s,c=1;break;case 5:a.warning('attribute space is required"'+o+'"!!');case 6:c=1,t=s;break;case 3:c=4,t=s;break;case 7:throw new Error("elements closed character '/' and '>' must be connected to")}}s++}}function c(e,t,n){for(var r=e.tagName,i=null,a=e.length;a--;){var o=e[a],s=o.qName,c=o.value;if((f=s.indexOf(":"))>0)var u=o.prefix=s.slice(0,f),l=s.slice(f+1),p="xmlns"===u&&l;else l=s,u=null,p="xmlns"===s&&"";o.localName=l,!1!==p&&(null==i&&(i={},d(n,n={})),n[p]=i[p]=c,o.uri="http://www.w3.org/2000/xmlns/",t.startPrefixMapping(p,c))}for(a=e.length;a--;){(u=(o=e[a]).prefix)&&("xml"===u&&(o.uri="http://www.w3.org/XML/1998/namespace"),"xmlns"!==u&&(o.uri=n[u||""]))}var f;(f=r.indexOf(":"))>0?(u=e.prefix=r.slice(0,f),l=e.localName=r.slice(f+1)):(u=null,l=e.localName=r);var h=e.uri=n[u||""];if(t.startElement(h,l,r,e),!e.closed)return e.currentNSMap=n,e.localNSMap=i,!0;if(t.endElement(h,l,r),i)for(u in i)t.endPrefixMapping(u)}function u(e,t,n,r,i){if(/^(?:script|textarea)$/i.test(n)){var a=e.indexOf("</"+n+">",t),o=e.substring(t+1,a);if(/[&<]/.test(o))return/^script$/i.test(n)?(i.characters(o,0,o.length),a):(o=o.replace(/&#?\w+;/g,r),i.characters(o,0,o.length),a)}return t+1}function l(e,t,n,r){var i=r[n];return null==i&&((i=e.lastIndexOf("</"+n+">"))<t&&(i=e.lastIndexOf("</"+n)),r[n]=i),i<t}function d(e,t){for(var n in e)t[n]=e[n]}function p(e,t,n,r){switch(e.charAt(t+2)){case"-":return"-"===e.charAt(t+3)?(i=e.indexOf("--\x3e",t+4))>t?(n.comment(e,t+4,i-t-4),i+3):(r.error("Unclosed comment"),-1):-1;default:if("CDATA["==e.substr(t+3,6)){var i=e.indexOf("]]>",t+9);return n.startCDATA(),n.characters(e,t+9,i-t-9),n.endCDATA(),i+3}var a=function(e,t){var n,r=[],i=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;i.lastIndex=t,i.exec(e);for(;n=i.exec(e);)if(r.push(n),n[1])return r}(e,t),o=a.length;if(o>1&&/!doctype/i.test(a[0][0])){var s=a[1][0],c=o>3&&/^public$/i.test(a[2][0])&&a[3][0],u=o>4&&a[4][0],l=a[o-1];return n.startDTD(s,c&&c.replace(/^(['"])(.*?)\1$/,"$2"),u&&u.replace(/^(['"])(.*?)\1$/,"$2")),n.endDTD(),l.index+l[0].length}}return-1}function f(e,t,n){var r=e.indexOf("?>",t);if(r){var i=e.substring(t,r).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);if(i){i[0].length;return n.processingInstruction(i[1],i[2]),r+2}return-1}return-1}function h(e){}function m(e,t){return e.__proto__=t,e}a.prototype={parse:function(e,t,n){var r=this.domBuilder;r.startDocument(),d(t,t={}),function(e,t,n,r,i){function a(e){if(e>65535){var t=55296+((e-=65536)>>10),n=56320+(1023&e);return String.fromCharCode(t,n)}return String.fromCharCode(e)}function d(e){var t=e.slice(1,-1);return t in n?n[t]:"#"===t.charAt(0)?a(parseInt(t.substr(1).replace("x","0x"))):(i.error("entity not found:"+e),e)}function m(t){if(t>w){var n=e.substring(w,t).replace(/&#?\w+;/g,d);j&&v(w),r.characters(n,0,t-w),w=t}}function v(t,n){for(;t>=y&&(n=g.exec(e));)b=n.index,y=b+n[0].length,j.lineNumber++;j.columnNumber=t-b+1}var b=0,y=0,g=/.*(?:\r\n?|\n)|.*$/g,j=r.locator,x=[{currentNSMap:t}],O={},w=0;for(;;){try{var C=e.indexOf("<",w);if(C<0){if(!e.substr(w).match(/^\s*$/)){var k=r.doc,N=k.createTextNode(e.substr(w));k.appendChild(N),r.currentElement=N}return}switch(C>w&&m(C),e.charAt(C+1)){case"/":var T=e.indexOf(">",C+3),_=e.substring(C+2,T),P=x.pop();T<0?(_=e.substring(C+2).replace(/[\s<].*/,""),i.error("end tag name: "+_+" is not complete:"+P.tagName),T=C+1+_.length):_.match(/\s</)&&(_=_.replace(/[\s<].*/,""),i.error("end tag name: "+_+" maybe not complete"),T=C+1+_.length);var S=P.localNSMap,E=P.tagName==_;if(E||P.tagName&&P.tagName.toLowerCase()==_.toLowerCase()){if(r.endElement(P.uri,P.localName,_),S)for(var A in S)r.endPrefixMapping(A);E||i.fatalError("end tag name: "+_+" is not match the current start tagName:"+P.tagName)}else x.push(P);T++;break;case"?":j&&v(C),T=f(e,C,r);break;case"!":j&&v(C),T=p(e,C,r,i);break;default:j&&v(C);var I=new h,R=x[x.length-1].currentNSMap,D=(T=s(e,C,I,R,d,i),I.length);if(!I.closed&&l(e,T,I.tagName,O)&&(I.closed=!0,n.nbsp||i.warning("unclosed xml attribute")),j&&D){for(var L=o(j,{}),M=0;M<D;M++){var B=I[M];v(B.offset),B.locator=o(j,{})}r.locator=L,c(I,r,R)&&x.push(I),r.locator=j}else c(I,r,R)&&x.push(I);"http://www.w3.org/1999/xhtml"!==I.uri||I.closed?T++:T=u(e,T,I.tagName,d,r)}}catch(U){i.error("element parse error: "+U),T=-1}T>w?w=T:m(Math.max(C,w)+1)}}(e,t,n,r,this.errorHandler),r.endDocument()}},h.prototype={setTagName:function(e){if(!i.test(e))throw new Error("invalid tagName:"+e);this.tagName=e},add:function(e,t,n){if(!i.test(e))throw new Error("invalid attribute:"+e);this[this.length++]={qName:e,value:t,offset:n}},length:0,getLocalName:function(e){return this[e].localName},getLocator:function(e){return this[e].locator},getQName:function(e){return this[e].qName},getURI:function(e){return this[e].uri},getValue:function(e){return this[e].value}},m({},m.prototype)instanceof m||(m=function(e,t){function n(){}for(t in n.prototype=t,n=new n,e)n[t]=e[t];return n}),t.XMLReader=a},"29xw":function(e,t,n){var r=n("f+Ey").toUnsigned;e.exports=function(e){var t={version:e[0],flags:new Uint8Array(e.subarray(1,4)),baseMediaDecodeTime:r(e[4]<<24|e[5]<<16|e[6]<<8|e[7])};return 1===t.version&&(t.baseMediaDecodeTime*=Math.pow(2,32),t.baseMediaDecodeTime+=r(e[8]<<24|e[9]<<16|e[10]<<8|e[11])),t}},"2mql":function(e,t,n){"use strict";var r=n("TOwV"),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function c(e){return r.isMemo(e)?o:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=o;var u=Object.defineProperty,l=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,p=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,h=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(h){var i=f(n);i&&i!==h&&e(t,i,r)}var o=l(n);d&&(o=o.concat(d(n)));for(var s=c(t),m=c(n),v=0;v<o.length;++v){var b=o[v];if(!a[b]&&(!r||!r[b])&&(!m||!m[b])&&(!s||!s[b])){var y=p(n,b);try{u(t,b,y)}catch(g){}}}}return t}},"2w7u":function(e,t,n){"use strict";n("2B1R"),n("qePV");var r=n("nKUr"),i=n("o0o1"),a=n.n(i),o=(n("ls82"),n("yXPU")),s=n.n(o),c=n("q1tI"),u=n("MCNy"),l=n.n(u),d=n("k8W2"),p=n.n(d),f=n("5f2u"),h=n.n(f),m=n("7O/2"),v=n.n(m),b=n("BGqZ"),y=n.n(b),g=n("wdT/"),j=n.n(g),x={container:"NFTblKkXQ26O-d0UHn2dN",header:"_21abSJTgSPJoGUVtmM1zY3",headerLeft:"_3oM_lGEIwPS_wZh3NYTdFV",headerIcon:"wmlDpU_mQFexb3ciHwyv-",body:"_3DNlvDhRTsO_vpqnlbfyON",radioGroup:"_1Np1QxgSuecyNthldExT6g",reportTitle:"_3JRomVzZZCTv7Zpe4SeP6e",other:"_2HmQzPuknafz4Pw-kNVve4",reportIcon:"GpRmmpmNXRQ7B1OOAbuLN",textarea:"_2vrC_F2s_fOXuJ1pqx7L52",input:"_11PhSRlMhdyRhrU7wfwmIh",button:"_13VyvY0AOPypJlQgelXG7U",ok:"_1wYm_OJiGOJS5UhmE8OHAy",cancel:"_3ThUGUslcxbZDtP6vKf-kS"};t.a=function(e){var t=e.visible,n=e.onOkClick,i=e.onCancel,o=e.inputText,u=void 0===o?"\u8bf7\u8f93\u5165\u5176\u4ed6\u7406\u7531":o,d=e.reportContent,f=void 0===d?["\u5e7f\u544a\u5783\u573e","\u8fdd\u89c4\u5185\u5bb9","\u6076\u610f\u704c\u6c34","\u91cd\u590d\u53d1\u5e16"]:d,m=Object(c.useState)(""),b=m[0],g=m[1],O=Object(c.useState)(""),w=O[0],C=O[1],k=Object(c.useState)(""),N=k[0],T=k[1],_=Object(c.useState)(!1),P=_[0],S=_[1],E=function(){var e=s()(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(N.length>450)){e.next=3;break}return j.a.error({content:"\u4e3e\u62a5\u5185\u5bb9\u4e0d\u80fd\u5927\u4e8e450\u4e2a\u5b57\u7b26"}),e.abrupt("return");case 3:if("function"!==typeof n){e.next=14;break}return e.prev=4,e.next=7,n(N);case 7:e.sent&&(S(!1),g(""),C(""),T("")),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(){return e.apply(this,arguments)}}();return Object(r.jsx)(p.a,{position:"center",visible:t,onClose:i,children:Object(r.jsxs)("div",{className:x.container,children:[Object(r.jsxs)("div",{className:x.header,children:[Object(r.jsx)("div",{className:x.headerLeft,children:"\u4e3e\u62a5"}),Object(r.jsx)("div",{className:x.headerIcon,children:Object(r.jsx)(l.a,{size:12,name:"CloseOutlined",onClick:i})})]}),Object(r.jsxs)("div",{className:x.body,children:[t&&Object(r.jsxs)(y.a.Group,{value:b,onChange:function(e){return function(e){"other"===e?(C(""),T("")):(g(e),T(f[Number(e)]))}(e)},children:[Object(r.jsx)("div",{className:x.radioGroup,children:f.map((function(e,t){return Object(r.jsxs)("div",{className:x.reportTitle,children:[Object(r.jsx)(y.a,{name:"".concat(t)}),Object(r.jsx)("div",{className:x.content,children:e})]},t)}))}),Object(r.jsx)("div",{className:x.other,children:Object(r.jsxs)("div",{className:x.reportTitle,onClick:function(){S(!P)},style:{cursor:"pointer"},children:[Object(r.jsx)("div",{className:x.content,children:"\u5176\u4ed6\u7406\u7531"}),Object(r.jsx)(l.a,{className:x.reportIcon,size:12,name:P?"UpwardOutlined":"UnderOutlined"})]})})]}),P&&Object(r.jsx)("div",{className:x.textarea,children:Object(r.jsx)(v.a,{className:x.input,rows:5,showLimit:!0,value:w,onChange:function(e){return t=e.target.value,C(t),void T(t);var t},placeholder:u})})]}),Object(r.jsxs)("div",{className:x.button,children:[Object(r.jsx)(h.a,{onClick:i,className:x.cancel,children:"\u53d6\u6d88"}),Object(r.jsx)(h.a,{onClick:E,className:x.ok,type:"primary",children:"\u786e\u5b9a"})]})]})})}},"3D7k":function(e,t,n){"use strict";var r=n("rnXk"),i=n("JW/Y").handleRollover,a={};a.ts=n("Qj6V"),a.aac=n("+9CB");var o=n("NsZL").ONE_SECOND_IN_TS,s=188,c=71,u=function(e,t,n){for(var r,i,o,u,l=0,d=s,p=!1;d<=e.byteLength;)if(e[l]!==c||e[d]!==c&&d!==e.byteLength)l++,d++;else{switch(r=e.subarray(l,d),a.ts.parseType(r,t.pid)){case"pes":i=a.ts.parsePesType(r,t.table),o=a.ts.parsePayloadUnitStartIndicator(r),"audio"===i&&o&&(u=a.ts.parsePesTime(r))&&(u.type="audio",n.audio.push(u),p=!0)}if(p)break;l+=s,d+=s}for(l=(d=e.byteLength)-s,p=!1;l>=0;)if(e[l]!==c||e[d]!==c&&d!==e.byteLength)l--,d--;else{switch(r=e.subarray(l,d),a.ts.parseType(r,t.pid)){case"pes":i=a.ts.parsePesType(r,t.table),o=a.ts.parsePayloadUnitStartIndicator(r),"audio"===i&&o&&(u=a.ts.parsePesTime(r))&&(u.type="audio",n.audio.push(u),p=!0)}if(p)break;l-=s,d-=s}},l=function(e,t,n){for(var r,i,o,u,l,d,p,f=0,h=s,m=!1,v={data:[],size:0};h<e.byteLength;)if(e[f]!==c||e[h]!==c)f++,h++;else{switch(r=e.subarray(f,h),a.ts.parseType(r,t.pid)){case"pes":if(i=a.ts.parsePesType(r,t.table),o=a.ts.parsePayloadUnitStartIndicator(r),"video"===i&&(o&&!m&&(u=a.ts.parsePesTime(r))&&(u.type="video",n.video.push(u),m=!0),!n.firstKeyFrame)){if(o&&0!==v.size){for(l=new Uint8Array(v.size),d=0;v.data.length;)p=v.data.shift(),l.set(p,d),d+=p.byteLength;if(a.ts.videoPacketContainsKeyFrame(l)){var b=a.ts.parsePesTime(l);b?(n.firstKeyFrame=b,n.firstKeyFrame.type="video"):console.warn("Failed to extract PTS/DTS from PES at first keyframe. This could be an unusual TS segment, or else mux.js did not parse your TS segment correctly. If you know your TS segments do contain PTS/DTS on keyframes please file a bug report! You can try ffprobe to double check for yourself.")}v.size=0}v.data.push(r),v.size+=r.byteLength}}if(m&&n.firstKeyFrame)break;f+=s,h+=s}for(f=(h=e.byteLength)-s,m=!1;f>=0;)if(e[f]!==c||e[h]!==c)f--,h--;else{switch(r=e.subarray(f,h),a.ts.parseType(r,t.pid)){case"pes":i=a.ts.parsePesType(r,t.table),o=a.ts.parsePayloadUnitStartIndicator(r),"video"===i&&o&&(u=a.ts.parsePesTime(r))&&(u.type="video",n.video.push(u),m=!0)}if(m)break;f-=s,h-=s}},d=function(e){var t={pid:null,table:null},n={};for(var i in function(e,t){for(var n,r=0,i=s;i<e.byteLength;)if(e[r]!==c||e[i]!==c)r++,i++;else{switch(n=e.subarray(r,i),a.ts.parseType(n,t.pid)){case"pat":t.pid||(t.pid=a.ts.parsePat(n));break;case"pmt":t.table||(t.table=a.ts.parsePmt(n))}if(t.pid&&t.table)return;r+=s,i+=s}}(e,t),t.table){if(t.table.hasOwnProperty(i))switch(t.table[i]){case r.H264_STREAM_TYPE:n.video=[],l(e,t,n),0===n.video.length&&delete n.video;break;case r.ADTS_STREAM_TYPE:n.audio=[],u(e,t,n),0===n.audio.length&&delete n.audio}}return n};e.exports={inspect:function(e,t){var n;return(n=a.aac.isLikelyAacData(e)?function(e){for(var t,n=!1,r=0,i=null,s=null,c=0,u=0;e.length-u>=3;){switch(a.aac.parseType(e,u)){case"timed-metadata":if(e.length-u<10){n=!0;break}if((c=a.aac.parseId3TagSize(e,u))>e.length){n=!0;break}null===s&&(t=e.subarray(u,u+c),s=a.aac.parseAacTimestamp(t)),u+=c;break;case"audio":if(e.length-u<7){n=!0;break}if((c=a.aac.parseAdtsSize(e,u))>e.length){n=!0;break}null===i&&(t=e.subarray(u,u+c),i=a.aac.parseSampleRate(t)),r++,u+=c;break;default:u++}if(n)return null}if(null===i||null===s)return null;var l=o/i;return{audio:[{type:"audio",dts:s,pts:s},{type:"audio",dts:s+1024*r*l,pts:s+1024*r*l}]}}(e):d(e))&&(n.audio||n.video)?(function(e,t){if(e.audio&&e.audio.length){var n=t;"undefined"===typeof n&&(n=e.audio[0].dts),e.audio.forEach((function(e){e.dts=i(e.dts,n),e.pts=i(e.pts,n),e.dtsTime=e.dts/o,e.ptsTime=e.pts/o}))}if(e.video&&e.video.length){var r=t;if("undefined"===typeof r&&(r=e.video[0].dts),e.video.forEach((function(e){e.dts=i(e.dts,r),e.pts=i(e.pts,r),e.dtsTime=e.dts/o,e.ptsTime=e.pts/o})),e.firstKeyFrame){var a=e.firstKeyFrame;a.dts=i(a.dts,r),a.pts=i(a.pts,r),a.dtsTime=a.dts/o,a.ptsTime=a.dts/o}}}(n,t),n):null},parseAudioPes_:u}},"3XaU":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(){if("undefined"!==typeof window){var e,t,n=(null===(e=window)||void 0===e||null===(t=e.navigator)||void 0===t?void 0:t.userAgent)||"";return["iPhone","iPad"].some((function(e){return~n.indexOf(e)}))}return!1};t.default=r},"3zPy":function(e,t){function n(e){if(e&&"object"===typeof e){var t=e.which||e.keyCode||e.charCode;t&&(e=t)}if("number"===typeof e)return o[e];var n,a=String(e);return(n=r[a.toLowerCase()])?n:(n=i[a.toLowerCase()])||(1===a.length?a.charCodeAt(0):void 0)}n.isEventKey=function(e,t){if(e&&"object"===typeof e){var n=e.which||e.keyCode||e.charCode;if(null===n||void 0===n)return!1;if("string"===typeof t){var a;if(a=r[t.toLowerCase()])return a===n;if(a=i[t.toLowerCase()])return a===n}else if("number"===typeof t)return t===n;return!1}};var r=(t=e.exports=n).code=t.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,command:91,"left command":91,"right command":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,"my computer":182,"my calculator":183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},i=t.aliases={windows:91,"\u21e7":16,"\u2325":18,"\u2303":17,"\u2318":91,ctl:17,control:17,option:18,pause:19,break:19,caps:20,return:13,escape:27,spc:32,spacebar:32,pgup:33,pgdn:34,ins:45,del:46,cmd:91};for(a=97;a<123;a++)r[String.fromCharCode(a)]=a-32;for(var a=48;a<58;a++)r[a-48]=a;for(a=1;a<13;a++)r["f"+a]=a+111;for(a=0;a<10;a++)r["numpad "+a]=a+96;var o=t.names=t.title={};for(a in r)o[r[a]]=a;for(var s in i)r[s]=i[s]},"40Bt":function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("lwsE")),a=r(n("W8MJ")),o=r(n("7W2i")),s=r(n("a1gu")),c=r(n("Nsbk")),u=r(n("lSNA")),l=r(n("q1tI")),d=n("GDuN"),p=n("q1fC"),f=n("isGe"),h=n("AItd"),m=r(n("KxVQ"));function v(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.default)(e);if(t){var i=(0,c.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,s.default)(this,n)}}var b=function(e){(0,o.default)(n,e);var t=v(n);function n(e){var r;return(0,i.default)(this,n),r=t.call(this,e),(0,m.default)({componentName:"slider"}),r}return(0,a.default)(n,[{key:"render",value:function(){var e=this.RenderComponent;return l.default.createElement(e,this.props,this.props.children)}}]),n}((0,d.baseComponentFactory)({viewAdapter:p.SliderViewAdapter,logicalAdapter:f.SliderLogicalAdapter}));t.default=b,(0,u.default)(b,"defaultProps",{onChange:h.noop,min:0,max:100,step:1,disabled:!1,formatter:function(e){return e}})},"4Vs1":function(e,t,n){"use strict";var r=n("TqRt");n("ma9I"),n("FZtP"),Object.defineProperty(t,"__esModule",{value:!0}),t.createInnerAudioContext=void 0;var i=r(n("J4zp")),a=n("TGR9");t.createInnerAudioContext=function(){var e=new Audio,t={},n={error:(0,a.createCallbackManager)(),stop:(0,a.createCallbackManager)()};t.play=function(){return e.play()},t.pause=function(){return e.pause()},t.stop=function(){t.pause(),t.seek(0),n.stop.trigger()},t.seek=function(t){e.currentTime=t},t.destroy=function(){t.stop(),e=null};["src","autoplay","loop","volume","duration","currentTime","buffered","paused"].forEach((function(n){Object.defineProperty(t,n,{get:function(){return e?e[n]:""},set:function(t){e[n]=t}})})),Object.defineProperty(t,"startTime",{value:0}),Object.defineProperty(t,"obeyMuteSwitch",{value:!0});var r=[["on",e.addEventListener],["off",e.removeEventListener]];return["Canplay","Ended","Pause","Play","Seeked","Seeking","TimeUpdate","Waiting","Error","Loadedmetadata"].forEach((function(n){r.forEach((function(r){var a=(0,i.default)(r,2),o=a[0],s=a[1];Object.defineProperty(t,"".concat(o).concat(n),{get:function(){return function(t){return s.call(e,n.toLowerCase(),t)}}})}))})),t}},"4Y/G":function(e,t,n){"use strict";var r=n("TqRt");n("sMBO"),Object.defineProperty(t,"__esModule",{value:!0}),t.RadioGroup=function(e){var t=e.value,n=e.defaultValue,r=e.onChange,i=void 0===r?c.noop:r,p=e.disabled,h=void 0!==p&&p,m=e.type,v=e.block,b=e.className,y=e.style,g=e.children,j=(0,u.useDefault)(t,n,i),x=(0,a.default)(j,2),O=x[0],w=x[1];(0,d.useReport)({componentName:"radioGroup"});var C={inject:function(e){if(!e.radio)return e;if("boolean"===typeof e.checked)return e;var t=e.name;return"undefined"===typeof t?(console.warn('<Radio> managed by <RadioGroup> must include the "name" prop'),e):f(f({},e),{},{type:m,block:v,checked:O===e.name,disabled:e.disabled||h,onChange:function(n,r){"function"!==typeof e.onChange?"function"===typeof w&&w(t,r):e.onChange(n,r)}})}};return o.default.createElement("div",{className:(0,s.default)("tea-checkbox-group",b,{"tea-checkbox-group--outline":"button"===m}),style:y},o.default.createElement(l.CheckContext.Provider,{value:C},g))};var i=r(n("lSNA")),a=r(n("J4zp")),o=r(n("q1tI")),s=r(n("TSYQ")),c=n("AItd"),u=n("0UJW"),l=n("uafh"),d=n("KxVQ");function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){(0,i.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}},"4Y6B":function(e){e.exports=JSON.parse('{"name_cn":"\u5546\u54c1\u8d34\u63d2\u4ef6","name_en":"shop","description":"\u5546\u54c1\u8d34\u63d2\u4ef6","type":9,"app_id":"61540fef8f4de8","version":"1.0.0","status":1,"icon":"https://discuz.chat/dzq-img/active.png","filter_enable":false,"author":{"name":"fishcui","email":"fishcui@tencent.com"},"view":{"display":{"target":["plugin_index","plugin_detail"],"hookName":"thread_extension_display_hook","platform":["pc","h5","mini"],"disables":false},"postDisplay":{"version":"1.0.0","target":"plugin_post","hookName":"post_extension_content_hook","platform":["pc","h5","mini"],"disables":false},"postEntry":{"target":"plugin_post","hookName":"post_extension_entry_hook","platform":["pc","h5","mini"],"disables":false},"qrCodePage":{"target":"plugin_system","hookName":"add_page_hook","platform":["pc","h5"],"path":"/minishop/qrcode","miniPageConfig":{"navigationBarTitleText":"\u4e8c\u7ef4\u7801"},"disables":false},"selectProductPage":{"target":"plugin_system","hookName":"add_page_hook","platform":["pc","h5","mini"],"path":"/selectProduct","miniPageConfig":{"navigationBarTitleText":"\u9009\u62e9\u5546\u54c1"},"disables":false},"userCenterEntry":{"target":"plugin_user","hookName":"user_extension_action_hook","platform":["pc","h5","mini"],"disables":false}}}')},"4hN0":function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("q1tI")),a=r(n("TSYQ")),o=n("VTYn"),s=r(n("b9ng")),c=function(e){var t=e.imgUrls,n=void 0===t?[]:t,r=e.currentImgIdx,c=(0,o.useConfig)().clsPrefix,u=!1;return"undefined"!==typeof window&&(u=(0,s.default)()),0!==n.length&&u?i.default.createElement("div",{className:(0,a.default)("".concat(c,"-img-previewer__mobile-cursor"))},r+1," / ",n.length):null};t.default=c},"4zmG":function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.RadioWebLayout=void 0;var i=r(n("pVnL")),a=r(n("q1tI")),o=n("/j3c"),s=r(n("T4r6")),c=n("4Y/G"),u=(0,o.forwardRefWithStatics)((function(e,t){return a.default.createElement(s.default,(0,i.default)({ref:t,radio:!0},e))}),{Group:c.RadioGroup});t.RadioWebLayout=u},"5LZQ":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UploadViewAdapter=void 0;var r=(0,n("1d9p").baseLayoutFactory)({layoutImplement:function(){return n("lGLX").UploadWebLayout}});t.UploadViewAdapter=r},"5MUC":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));n("QWBl"),n("sMBO"),n("T63A"),n("tkto"),n("FZtP");var r=n("J4zp"),i=n.n(r),a={101:"IMAGE",102:"VOICE",103:"VIDEO",104:"GOODS",105:"QA",106:"RED_PACKET",107:"REWARD",108:"VOTE",109:"VOTE_THREAD",110:"FILE",111:"QA_IMAGE",10002:"IFRAME"};function o(e){var t={plugin:{}};return e&&Object.keys(e)&&Object.entries(e).forEach((function(e){var n=i()(e,2)[1];if(n){var r=n.tomId,o=n.body,s=n._plugin;a[r]?t[a[r]]=o:s&&(t.plugin[null===s||void 0===s?void 0:s.name]={tomId:r,body:o,_plugin:s})}})),t}},"5Yz+":function(e,t,n){"use strict";var r=n("/GqU"),i=n("ppGB"),a=n("UMSQ"),o=n("pkCn"),s=n("rkAj"),c=Math.min,u=[].lastIndexOf,l=!!u&&1/[1].lastIndexOf(1,-0)<0,d=o("lastIndexOf"),p=s("indexOf",{ACCESSORS:!0,1:0}),f=l||!d||!p;e.exports=f?function(e){if(l)return u.apply(this,arguments)||0;var t=r(this),n=a(t.length),o=n-1;for(arguments.length>1&&(o=c(o,i(arguments[1]))),o<0&&(o=n+o);o>=0;o--)if(o in t&&t[o]===e)return o||0;return-1}:u},"5h7R":function(e,t,n){"use strict";var r=n("TqRt"),i=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.AudioWebLayout=void 0;var a=r(n("o0o1"));n("ls82");var o=r(n("yXPU")),s=r(n("lwsE")),c=r(n("W8MJ")),u=r(n("PJYZ")),l=r(n("7W2i")),d=r(n("a1gu")),p=r(n("Nsbk")),f=r(n("lSNA")),h=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!==typeof e)return{default:e};var n=w(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(n("q1tI")),m=r(n("TSYQ")),v=n("4Vs1"),b=n("VTYn"),y=r(n("MCNy")),g=r(n("9p2j")),j=r(n("jqTq")),x=r(n("+omo")),O=r(n("3XaU"));function w(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(w=function(e){return e?n:t})(e)}function C(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,p.default)(e);if(t){var i=(0,p.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,d.default)(this,n)}}var k=function(e){(0,l.default)(n,e);var t=C(n);function n(e){var r;if((0,s.default)(this,n),r=t.call(this,e),(0,f.default)((0,u.default)(r),"eventListenerPlayImpl",(function(e){if(e!==(0,u.default)(r)&&r.props.singleton){var t=r.state.audioCtx;t&&t.pause&&(t.pause(),r.setState({audioCtx:t}))}})),(0,f.default)((0,u.default)(r),"playOrStopAudio",(0,o.default)(a.default.mark((function e(){var t,n;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.props.emitter.emit("play",(0,u.default)(r)),t=r.state.audioImg,r.setAudioImg("iconLoading"),e.next=5,r.props.beforePlay();case 5:if(!1!==e.sent){e.next=9;break}return r.setAudioImg(t),e.abrupt("return");case 9:(n=r.state.audioCtx).paused&&!r.props.disabled?n.play():n.pause();case 11:case"end":return e.stop()}}),e)})))),(0,f.default)((0,u.default)(r),"audioMount",(function(e){var t=r.state.audioImg;e.src=r.props.src,e.loop=!!r.props.loop,e.onTimeUpdate((function(){e.currentTime>0&&e.currentTime<=1?r.setState({currentTime:0}):e.currentTime!==Math.floor(e.currentTime)&&r.setState({currentTime:Math.floor(e.currentTime)});var t=Math.floor(e.duration);r.state.duration!==t&&r.setState({duration:t})})),e.onLoadedmetadata((function(){"iconLoading"===t&&(!(0,O.default)()&&r.setAudioImg("PlayOutlined"),setTimeout((function(){r.setState({duration:e.duration})}),10))})),e.onWaiting((function(){"iconLoading"!==t&&r.setAudioImg("iconLoading")})),e.onPlay((function(){r.setAudioImg("PauseOutlined"),r.props.onPlay()})),e.onPause((function(){r.setAudioImg("PlayOutlined");var e=r.props.onPause;(void 0===e?function(){}:e)()})),e.onEnded((function(){"iconPaused"!==t&&r.setAudioImg("PlayOutlined"),r.setState({currentTime:0});var e=r.props.onEnded;(void 0===e?function(){}:e)()})),e.onError((function(e){"CloseOutlined"!==t&&r.setAudioImg("CloseOutlined");var n=r.props.onError;(void 0===n?function(){}:n)(),console.error(e.errMsg)}))})),(0,f.default)((0,u.default)(r),"audioTime",(function(){var e=r.state,t=e.audioImg,n=e.duration,i=void 0===n?0:n;return r.props.disabled?"\u52a0\u8f7d\u5931\u8d25":"iconLoading"===t?"\u52a0\u8f7d\u4e2d":"CloseOutlined"===t?"\u52a0\u8f7d\u5931\u8d25":0===i||i===1/0?"\u672a\u77e5\u957f\u5ea6":i>60?"\u7ea6".concat(Math.floor(i/60),"\u5206\u949f"):"\u7ea6".concat(Math.floor(i),"\u79d2")})),(0,f.default)((0,u.default)(r),"renderAudioIcon",(function(){var e=r.context.clsPrefix,t=r.props.disabled,n=r.state.audioImg,i=(0,m.default)("".concat(e,"-audio__wrapper-inner-btn"),{"is-disabled":t||"CloseOutlined"===n});return t?h.default.createElement(y.default,{name:"CloseOutlined",className:i}):"iconLoading"===n?h.default.createElement(j.default,{className:i,type:"spinner"}):h.default.createElement(y.default,{onClick:r.playOrStopAudio,name:n,className:i})})),(0,f.default)((0,u.default)(r),"renderContent",(function(){var e=r.context.clsPrefix,t=r.state,n=100*t.currentTime/t.duration||0;return h.default.createElement("div",{className:"".concat(e,"-audio__wrapper")},h.default.createElement(g.default,{type:"circle",percent:n,lineWidth:3,isShowText:!1}),h.default.createElement("div",{className:"".concat(e,"-audio__wrapper-inner")},r.renderAudioIcon()))})),(0,f.default)((0,u.default)(r),"renderText",(function(){var e=r.context.clsPrefix,t=r.props.onDelete;return h.default.createElement("div",{className:"".concat(e,"-audio__right")},h.default.createElement("span",{className:"".concat(e,"-audio__tip")},r.audioTime()),t&&h.default.createElement(y.default,{name:"DeleteOutlined",className:"".concat(e,"-audio__delete"),onClick:function(){t()}}))})),r.state={audioCtx:null,audioImg:"iconLoading",currentTime:0,duration:0,childrenRef:null},(0,O.default)())var i=setTimeout((function(){r.setAudioImg("PlayOutlined"),clearTimeout(i)}));return r}return(0,c.default)(n,[{key:"componentDidMount",value:function(){var e=(0,v.createInnerAudioContext)();this.audioMount(e),this.setState({audioCtx:e}),this.props.emitter.on("play",this.eventListenerPlayImpl)}},{key:"componentWillReceiveProps",value:function(e){var t=e.src||"";if(this.props.src!==t&&""!==t){var n=this.state.audioCtx;n.paused||n.stop(),n.src=e.src,this.setState({currentTime:0,duration:0})}}},{key:"componentWillUnmount",value:function(){var e=this.state.audioCtx;this.props.emitter.removeListener("play",this.eventListenerPlayImpl),e?(e.stop(),e.destroy()):this.setState=function(){}}},{key:"setAudioImg",value:function(e){this.setState({audioImg:e})}},{key:"render",value:function(){var e=this.context.clsPrefix,t=this.state.audioImg;return h.default.createElement("div",{className:(0,m.default)("".concat(e,"-audio"))},h.default.createElement(x.default,{leftChildren:this.renderContent(),rightChildren:this.renderText(),isPlay:"PauseOutlined"===t}))}}]),n}(h.Component);t.AudioWebLayout=k,(0,f.default)(k,"contextType",b.ConfigContext)},"6+00":function(e,t,n){},"64aw":function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("pVnL")),a=r(n("lwsE")),o=r(n("W8MJ")),s=r(n("PJYZ")),c=r(n("7W2i")),u=r(n("a1gu")),l=r(n("Nsbk")),d=r(n("lSNA")),p=r(n("q1tI")),f=n("GDuN"),h=n("kGPg"),m=n("kPfF"),v=r(n("mkfw")),b=r(n("KxVQ"));function y(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,l.default)(e);if(t){var i=(0,l.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,u.default)(this,n)}}var g=function(e){(0,c.default)(n,e);var t=y(n);function n(e){var r;return(0,a.default)(this,n),r=t.call(this,e),(0,d.default)((0,s.default)(r),"setChildrenRef",(function(e){r.setState({childrenRef:e})})),(0,d.default)((0,s.default)(r),"getState",(function(){return r.state.childrenRef.state})),(0,b.default)({componentName:"audio"}),r}return(0,o.default)(n,[{key:"render",value:function(){var e=this.RenderComponent;return p.default.createElement(e,(0,i.default)({ref:this.setChildrenRef},this.props),this.props.children)}}]),n}((0,f.baseComponentFactory)({viewAdapter:h.ViewAdapter,logicalAdapter:m.LogicalAdapter}));t.default=g,(0,d.default)(g,"defaultProps",{beforePlay:function(){},onError:function(){},onPlay:function(){},onPause:function(){},onEnded:function(){},onRef:function(){},loop:!1,singleton:!0,emitter:v.default})},"67WC":function(e,t,n){"use strict";var r,i=n("qYE9"),a=n("g6v/"),o=n("2oRo"),s=n("hh1v"),c=n("UTVS"),u=n("9d/t"),l=n("kRJp"),d=n("busE"),p=n("m/L8").f,f=n("4WOD"),h=n("0rvr"),m=n("tiKp"),v=n("kOOl"),b=o.Int8Array,y=b&&b.prototype,g=o.Uint8ClampedArray,j=g&&g.prototype,x=b&&f(b),O=y&&f(y),w=Object.prototype,C=w.isPrototypeOf,k=m("toStringTag"),N=v("TYPED_ARRAY_TAG"),T=i&&!!h&&"Opera"!==u(o.opera),_=!1,P={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},S={BigInt64Array:8,BigUint64Array:8},E=function(e){if(!s(e))return!1;var t=u(e);return c(P,t)||c(S,t)};for(r in P)o[r]||(T=!1);if((!T||"function"!=typeof x||x===Function.prototype)&&(x=function(){throw TypeError("Incorrect invocation")},T))for(r in P)o[r]&&h(o[r],x);if((!T||!O||O===w)&&(O=x.prototype,T))for(r in P)o[r]&&h(o[r].prototype,O);if(T&&f(j)!==O&&h(j,O),a&&!c(O,k))for(r in _=!0,p(O,k,{get:function(){return s(this)?this[N]:void 0}}),P)o[r]&&l(o[r],N,r);e.exports={NATIVE_ARRAY_BUFFER_VIEWS:T,TYPED_ARRAY_TAG:_&&N,aTypedArray:function(e){if(E(e))return e;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(e){if(h){if(C.call(x,e))return e}else for(var t in P)if(c(P,r)){var n=o[t];if(n&&(e===n||C.call(n,e)))return e}throw TypeError("Target is not a typed array constructor")},exportTypedArrayMethod:function(e,t,n){if(a){if(n)for(var r in P){var i=o[r];i&&c(i.prototype,e)&&delete i.prototype[e]}O[e]&&!n||d(O,e,n?t:T&&y[e]||t)}},exportTypedArrayStaticMethod:function(e,t,n){var r,i;if(a){if(h){if(n)for(r in P)(i=o[r])&&c(i,e)&&delete i[e];if(x[e]&&!n)return;try{return d(x,e,n?t:T&&b[e]||t)}catch(s){}}for(r in P)!(i=o[r])||i[e]&&!n||d(i,e,t)}},isView:function(e){if(!s(e))return!1;var t=u(e);return"DataView"===t||c(P,t)||c(S,t)},isTypedArray:E,TypedArray:x,TypedArrayPrototype:O}},"6R/c":function(e,t,n){"use strict";var r=n("67WC"),i=n("TWQb").indexOf,a=r.aTypedArray;(0,r.exportTypedArrayMethod)("indexOf",(function(e){return i(a(this),e,arguments.length>1?arguments[1]:void 0)}))},"6oOf":function(e,t,n){"use strict";n("toAj"),Object.defineProperty(t,"__esModule",{value:!0}),t.transferFileSize=void 0;var r=1048576;t.transferFileSize=function(e){return"number"!==typeof e?e:e>=r?"".concat(parseFloat((e/r).toFixed(2))," MB"):e>=1024?"".concat(parseFloat((e/1024).toFixed(2))," KB"):"".concat(e," B")}},"7mQc":function(e,t,n){"use strict";n("ma9I"),n("2B1R"),n("sMBO");var r,i=n("nKUr"),a=n("lwsE"),o=n.n(a),s=n("W8MJ"),c=n.n(s),u=n("7W2i"),l=n.n(u),d=n("a1gu"),p=n.n(d),f=n("Nsbk"),h=n.n(f),m=n("q1tI"),v=n.n(m),b={commentList:"_12qvho7RASo3RYLvIBJOAb",header:"Z7BPO99wJJ4eEL5Gd7_Le",showGet:"CmStlG9Kndqk5WtNgoNfy",revise:"_2bIaOGhhg_6kgdtqYR7cVh",headerRigth:"LcU-rXvDLLeH8IMX1FTtZ",redpacket:"_1tDx5_BJhgv-37FIrzM1NQ",showMoneyNum:"_3dCKR5qsTlMib9bDaBXGF6",moneyNumber:"_1sBbQfebcRzEqQxQetJfdb",more:"_3BAUJCHhzEIViy06dhcP7A",moreIcon:"_2NJbkFNgsjNNpmrSOgOwxd",content:"_3GZjKlBEYCTcyA1_9Ghvgj",commentListAvatar:"Okxf3j7yCUr2e0qP8nWZA",commentListContent:"_1PQYxcxLbj4leH2I1QRTha",commentListContentText:"hWVT9rMtFtQjRZpuzN4mG",active:"_2eIzY5N1AUgjPhmM3p_Lqy",commentHeader:"_1QQ7vlVOmUwYKVwkI1alsv",userInfo:"_35I0zbqoP38m6J3KJMYzku",commentListName:"XsH85Rt4NDVFgPlX-rcXC",masterBox:"_2WuhG0PVr5r8kXJuAw-uG1",masterText:"_1D1lHI-lZ2hc0uqcsO6QMl",groupsBox:"_1oMotrN3dkzMahK4Hz5Up_",groups:"q1Id4WXFqvgojIzqI8YZ5",isApproved:"_3xiy2P5AIRBSYvNnQ5gr0b",commentListText:"_199SQcLKIRDB0MBqOchqRm",imageDisplay:"_1Zx5Tf2uSKfHqKeULuCx_F",commentListFooter:"x0Kw-9t6-igJ5fsc8qeaX",commentBtn:"_3Owtbcoleh9rIInz_Au9i7",commentTime:"_5I-hlRhLZr0p4c4GQEHLi",commentLike:"_15VtAWND5WZi8kCulEjhcn",moreReply:"_3LfcWWghHo7wfBwlEUBach",extra:"_1J1R7eGWBzhlDprB2Z_HNh",extraBottom:"_2HlNnPuKxK2QR-CxbH6nIg",imageNumber:"Ra-WE8kAPreEpuf7Rd-mm",image:"_24-HM8ZNt4cwLeAMEtsi3K",rewardImage:"_2r6I8_T2cy3W0J4zdqA-mK",hongbaoLikeNum:"_2brzqotmuQSTfA5yH_zTLn",iconzan:"_2VqeWAq05Rrkv0FCgczyNo"},y=n("Bvw4"),g=n("MCNy"),j=n.n(g),x={replyList:"_1nvmqUd5CDlhjGCCyZ7rYM",replyListAvatar:"_1FDDVKT9CZcE2iDpB5QJg_",replyListContent:"_2wBw5l_kyWOzzDLwbCxGt5",replyListContentText:"Lm6tclTwewAWqfb3aAm4L",active:"_2MhBuMLIxxj1u2ThuHnKXf",replyListName:"dJ0MrHwOt1N3tio0aiP7-",userInfo:"_3sh1qGCqGkwKvoy-iwvjcD",replyListNameText:"_1oqd9lYeqF25-H3-0pcDWU",masterBox:"_1ywl-dlo3qclb91buvwHVK",masterText:"mMTyDySc3hj5kCZwRrhlK",groupsBox:"_3lJtxvHCwyD0hh1tMDjHSg",groups:"_2AKUOZ3N3EepU7MpKyCItL",isApproved:"_2WWgEaN5fd7ORRYdVgbpfu",replyListText:"yGsZ75SeYKJGDyYfiGQqw",content:"_1xEDcUSLtZN-b6HpckkL2w",imageDisplay:"_3dk7tZWy0eY12MAyiGGrHo",commentUser:"_3wjBfTCuP60jYeT0hYp72Y",iconAt:"_28ibdVs1hg0X7iBIxvCQw8",replyedUserName:"_1fy1Ucu-trCJGlbhavyXMV",replyedAvatar:"_1FKtXwFk0m5mxR6QrtYE1c",avatar:"_331XSAkYYLw7oZn1mwTdmX",positionTop:"TKpWrU_2z2lOkwh8BlyzC",replyListFooter:"_1_vwiR6PPBR8rWI_54ceqn",replyTime:"ETGrgydSIRyRBJ66-U9aj",replyLike:"_1gyFM9vMrcREteOiyo3W_K",extraBottom:"buZGeezLbbUpYq02EpPAU"},O=n("+Lwc"),w=n("yuBF"),C=n("Q6w4"),k=n("5WlO"),N=n("TSYQ"),T=n.n(N),_=n("RGe9"),P=n("TibX"),S=n("vPOe"),E=n("HLiX"),A=n("u7s3");function I(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var i=h()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return p()(this,n)}}var R,D=Object(w.observer)(r=function(e){l()(n,e);var t=I(n);function n(){var e;o()(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).transformer=function(t){var n,r,a,o,s,c=e.props.threadId===(null===(n=e.props)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.commentUserId),u=!(null===(a=e.props)||void 0===a||null===(o=a.data)||void 0===o||null===(s=o.commentUser)||void 0===s||!s.avatar),l=e.props.data.commentUserId?Object(i.jsxs)("div",{className:"".concat(x.commentUser," ").concat(u?"":x.positionTop),children:[Object(i.jsx)("span",{className:x.iconAt,children:"@"}),Object(i.jsx)("div",{className:x.replyedAvatar,onClick:function(){e.avatarClick(3)},children:Object(i.jsx)(y.a,{className:x.avatar,image:(e.props.data.commentUser.nickname||e.props.data.commentUser.userName)&&e.props.data.commentUser.avatar,name:e.props.data.commentUser.nickname||e.props.data.replyUser.userName||"\u5f02",circle:!0,size:"small"})}),Object(i.jsx)("span",{className:x.replyedUserName,onClick:function(){e.avatarClick(3)},children:e.props.data.commentUser.nickname||e.props.data.commentUser.userName||"\u7528\u6237\u5f02\u5e38"}),c&&!e.props.isAnonymous&&Object(i.jsx)("div",{className:x.masterBox,children:Object(i.jsx)("span",{className:x.masterText,children:"\u4f5c\u8005"})})]}):"";return t.unshift(l),t},e.toCommentDetail=function(){"function"===typeof e.props.toCommentDetail&&e.props.toCommentDetail()},e}return c()(n,[{key:"likeClick",value:function(){"function"===typeof this.props.likeClick&&this.props.likeClick()}},{key:"replyClick",value:function(){"function"===typeof this.props.replyClick&&this.props.replyClick()}},{key:"deleteClick",value:function(){"function"===typeof this.props.deleteClick&&this.props.deleteClick()}},{key:"avatarClick",value:function(e){"function"===typeof this.props.avatarClick&&this.props.avatarClick(e)}},{key:"generatePermissions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{canApprove:e.canApprove||!1,canDelete:e.canDelete||!1,canEdit:e.canEdit||!1,canHide:e.canHide||!1,canLike:e.canLike||!1}}},{key:"filterContent",value:function(){var e,t,n=(null===(e=this.props)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.content)||"";return n=C.a.parse(n),n=Object(k.a)(n),n=Object(S.a)(n)}},{key:"render",value:function(){var e,t,n,r,a,o,s,c,u,l,d,p,f,h,m,v,b,g,j,w,C,k,N,S,I,R,D,L,M,B,U,F,W=this,q=this.generatePermissions(this.props.data),z=q.canLike,V=(q.canDelete,q.canHide),X=((null===(e=this.props.data)||void 0===e?void 0:e.user)||{}).groups,H=this.props.threadId===(null===(t=this.props)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.userId),Y=1===(null===(r=this.props)||void 0===r||null===(a=r.data)||void 0===a?void 0:a.isApproved);return Object(i.jsxs)("div",{className:x.replyList,children:[Object(i.jsx)("div",{className:x.replyListAvatar,onClick:function(){W.avatarClick(2)},children:Object(i.jsx)(y.a,{image:((null===(o=this.props.data)||void 0===o||null===(s=o.user)||void 0===s?void 0:s.nickname)||(null===(c=this.props.data)||void 0===c||null===(u=c.user)||void 0===u?void 0:u.userName))&&(null===(l=this.props.data)||void 0===l||null===(d=l.user)||void 0===d?void 0:d.avatar),name:(null===(p=this.props.data)||void 0===p||null===(f=p.user)||void 0===f?void 0:f.nickname)||(null===(h=this.props.data)||void 0===h||null===(m=h.user)||void 0===m?void 0:m.userName)||"\u5f02",circle:!0,size:"small"})}),Object(i.jsxs)("div",{className:x.replyListContent,children:[Object(i.jsxs)("div",{className:"".concat(x.replyListContentText," ").concat(this.props.active&&x.active),children:[Object(i.jsxs)("div",{className:x.replyListName,children:[Object(i.jsxs)("div",{className:x.userInfo,children:[Object(i.jsx)("div",{className:x.replyListName,onClick:function(){W.avatarClick(2)},children:Object(i.jsx)("span",{className:x.replyListNameText,children:(null===(v=this.props.data)||void 0===v||null===(b=v.user)||void 0===b?void 0:b.nickname)||(null===(g=this.props.data)||void 0===g||null===(j=g.user)||void 0===j?void 0:j.userName)||"\u7528\u6237\u5f02\u5e38"})}),H&&!this.props.isAnonymous&&Object(i.jsx)("div",{className:x.masterBox,children:Object(i.jsx)("span",{className:x.masterText,children:"\u4f5c\u8005"})}),!(null===X||void 0===X||!X.isDisplay)&&Object(i.jsx)("div",{className:x.groupsBox,children:null!==X&&void 0!==X&&X.level?Object(i.jsx)(A.a,{groupLevel:null===X||void 0===X?void 0:X.level,groupName:(null===X||void 0===X?void 0:X.name)||(null===X||void 0===X?void 0:X.groupName),groupNameStyle:{maxWidth:"100px"}}):Object(i.jsx)("div",{className:x.groups,children:(null===X||void 0===X?void 0:X.name)||(null===X||void 0===X?void 0:X.groupName)})})]}),Y?Object(i.jsx)("div",{}):Object(i.jsx)("div",{className:x.isApproved,children:"\u5ba1\u6838\u4e2d"})]}),Object(i.jsxs)("div",{className:x.replyListText,children:[Object(i.jsx)("div",{className:T()(x.content),children:Object(i.jsx)(E.a,{onRedirectToDetail:function(){return W.toCommentDetail()},transformer:this.transformer,useShowMore:!!this.props.isShowOne,content:null===(w=this.props)||void 0===w||null===(C=w.data)||void 0===C?void 0:C.content,customHoverBg:!0})}),((null===(k=this.props.data)||void 0===k||null===(N=k.images)||void 0===N?void 0:N.length)||(null===(S=this.props.data)||void 0===S||null===(I=S.attachments)||void 0===I?void 0:I.length))&&Object(i.jsx)("div",{className:x.imageDisplay,children:Object(i.jsx)(_.a,{platform:"h5",imgData:(null===(R=this.props.data)||void 0===R?void 0:R.images)||(null===(D=this.props.data)||void 0===D?void 0:D.attachments)})})]})]}),Object(i.jsxs)("div",{className:x.replyListFooter,children:[Object(i.jsx)("div",{className:x.replyTime,children:Object(O.a)(this.props.data.createdAt)}),(null===(L=this.props.data)||void 0===L?void 0:L.user)&&Object(i.jsxs)("div",{className:x.extraBottom,children:[Object(i.jsx)("div",{className:null!==(M=this.props)&&void 0!==M&&null!==(B=M.data)&&void 0!==B&&B.isLiked?x.replyLike:x.replyLiked,children:Object(i.jsxs)("span",{onClick:Object(P.a)((function(){return W.likeClick(z)}),500),children:["\u8d5e\xa0",0===(null===(U=this.props)||void 0===U||null===(F=U.data)||void 0===F?void 0:F.likeCount)?"":this.props.data.likeCount]})}),!this.props.disabledReply&&Object(i.jsx)("div",{className:x.replyReply,children:Object(i.jsx)("span",{onClick:function(){return W.replyClick()},children:"\u56de\u590d"})}),V&&Object(i.jsx)("div",{className:x.replyDelete,children:Object(i.jsx)("span",{onClick:function(){return W.deleteClick()},children:"\u5220\u9664"})})]})]})]})]})}}]),n}(v.a.Component))||r,L=n("ZlQF");function M(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var i=h()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return p()(this,n)}}var B=Object(w.inject)("user")(R=Object(w.observer)(R=function(e){l()(n,e);var t=M(n);function n(e){var r;return o()(this,n),(r=t.call(this,e)).toCommentDetail=function(e){"function"===typeof r.props.onCommentClick&&r.props.onCommentClick(e)},r.state={isShowOne:r.props.isShowOne||!1},r.needReply=r.props.data.lastThreeComments,r}return c()(n,[{key:"filterContent",value:function(){var e,t,n=(null===(e=this.props)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.content)||"";return n=C.a.parse(n),n=Object(k.a)(n)}},{key:"avatarClick",value:function(){var e;"function"===typeof(null===(e=this.props)||void 0===e?void 0:e.avatarClick)&&this.props.avatarClick()}},{key:"likeClick",value:function(){"function"===typeof this.props.likeClick&&this.props.likeClick()}},{key:"replyClick",value:function(){"function"===typeof this.props.replyClick&&this.props.replyClick()}},{key:"deleteClick",value:function(){"function"===typeof this.props.deleteClick&&this.props.deleteClick()}},{key:"editClick",value:function(){"function"===typeof this.props.editClick&&this.props.editClick()}},{key:"replyLikeClick",value:function(e){"function"===typeof this.props.replyLikeClick&&this.props.replyLikeClick(e)}},{key:"replyReplyClick",value:function(e){"function"===typeof this.props.replyReplyClick&&this.props.replyReplyClick(e)}},{key:"replyDeleteClick",value:function(e){"function"===typeof this.props.replyDeleteClick&&this.props.replyDeleteClick(e)}},{key:"replyAvatarClick",value:function(e,t){"function"===typeof this.props.replyAvatarClick&&this.props.replyAvatarClick(e,t)}},{key:"generatePermissions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{canApprove:e.canApprove||!1,canDelete:e.canDelete||!1,canEdit:e.canEdit||!1,canHide:e.canHide||!1,canLike:e.canLike||!1}}},{key:"render",value:function(){var e,t,n,r,a,o,s,c,u,l,d,p,f,h,m,v,g,x,w,C,k,N,S,I,R,M,B,U,F,W,q,z,V,X,H,Y,Q,G,J,K,Z,$,ee,te,ne,re,ie,ae,oe,se,ce,ue=this,le=this.generatePermissions(this.props.data),de=(le.canDelete,le.canEdit,le.canLike),pe=le.canHide,fe=((null===(e=this.props.data)||void 0===e?void 0:e.user)||{}).groups,he=this.props.threadId===(null===(t=this.props)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.userId),me=this.props.thread,ve=1===(null===(r=this.props)||void 0===r||null===(a=r.data)||void 0===a?void 0:a.isApproved),be=this.props,ye=be.redPacketData,ge=be.disabledReply,je=void 0!==ge&&ge,xe=1===(null===ye||void 0===ye?void 0:ye.condition)&&(null===ye||void 0===ye?void 0:ye.remainNumber),Oe=null===ye||void 0===ye?void 0:ye.likenum,we=null===(o=this.props)||void 0===o||null===(s=o.data)||void 0===s?void 0:s.likeCount,Ce=(null===(c=this.props)||void 0===c||null===(u=c.data)||void 0===u?void 0:u.userId)===(null===(l=this.props)||void 0===l||null===(d=l.user)||void 0===d||null===(p=d.userInfo)||void 0===p?void 0:p.id);return Object(i.jsxs)("div",{className:"".concat(b.commentList," dzq-comment"),children:[Object(i.jsx)("div",{className:b.header,children:Object(i.jsxs)("div",{className:b.showGet,children:[Object(i.jsx)("div",{}),Object(i.jsxs)("div",{className:b.headerRigth,children:[Ce&&1*xe>0&&we<Oe&&!(null!==(f=this.props.data)&&void 0!==f&&f.redPacketAmount)&&Object(i.jsxs)("div",{className:b.hongbaoLikeNum,children:[Object(i.jsx)(j.a,{className:b.iconzan,size:12,name:"PraiseOutlined"}),"\u518d\u96c6 ",Object(i.jsxs)("span",{children:[" \xa0",Oe-we," \xa0"]})," \u8d5e\u53ef\u9886\u7ea2\u5305"]}),null!==(h=this.props.data)&&void 0!==h&&h.rewards?Object(i.jsxs)("div",{className:b.imageNumber,children:[Object(i.jsx)("img",{className:b.rewardImage,src:"/dzq-img/coin.png",alt:"\u60ac\u8d4f\u56fe\u6807"}),Object(i.jsxs)("div",{className:b.showMoneyNum,children:["\u83b7\u5f97",Object(i.jsxs)("span",{className:b.moneyNumber,children:["\xa0",this.props.data.rewards,"\xa0"]}),"\u5143\u60ac\u8d4f\u91d1"]})]}):"",null!==(m=this.props.data)&&void 0!==m&&m.redPacketAmount?Object(i.jsxs)("div",{className:"".concat(b.redpacket," ").concat(b.imageNumber),children:[Object(i.jsx)("img",{className:b.image,src:"/dzq-img/redpacket-mini.png",alt:"\u7ea2\u5305\u56fe\u6807"}),Object(i.jsxs)("div",{className:b.showMoneyNum,children:["\u83b7\u5f97",Object(i.jsxs)("span",{className:b.moneyNumber,children:["\xa0",this.props.data.redPacketAmount,"\xa0"]}),"\u5143\u7ea2\u5305"]})]}):"",this.state.isShowOne?"":Object(i.jsx)("div",{className:b.more,onClick:this.props.onMoreClick,children:Object(i.jsx)(j.a,{size:20,color:"#8590A6",name:"MoreVOutlined",className:b.moreIcon})})]})]})}),Object(i.jsxs)("div",{className:b.content,children:[Object(i.jsxs)("div",{className:b.commentListAvatar,onClick:function(){return ue.avatarClick()},children:[Object(i.jsx)(L.a,{href:"/user/".concat(null===(v=this.props)||void 0===v||null===(g=v.data)||void 0===g?void 0:g.userId),text:(null===(x=this.props.data)||void 0===x||null===(w=x.user)||void 0===w?void 0:w.nickname)||(null===(C=this.props.data)||void 0===C||null===(k=C.user)||void 0===k?void 0:k.userName)||"\u5f02"}),Object(i.jsx)(y.a,{image:((null===(N=this.props.data)||void 0===N||null===(S=N.user)||void 0===S?void 0:S.nickname)||(null===(I=this.props.data)||void 0===I||null===(R=I.user)||void 0===R?void 0:R.userName))&&(null===(M=this.props.data)||void 0===M||null===(B=M.user)||void 0===B?void 0:B.avatar),name:(null===(U=this.props.data)||void 0===U||null===(F=U.user)||void 0===F?void 0:F.nickname)||(null===(W=this.props.data)||void 0===W||null===(q=W.user)||void 0===q?void 0:q.userName)||"\u5f02",circle:!0})]}),Object(i.jsxs)("div",{className:b.commentListContent,children:[Object(i.jsx)(L.a,{href:"/thread/comment/".concat(null===(z=this.props)||void 0===z?void 0:z.data.id,"?threadId=").concat(null===me||void 0===me||null===(V=me.threadData)||void 0===V?void 0:V.id),text:null===(X=this.props)||void 0===X||null===(H=X.data)||void 0===H?void 0:H.content}),Object(i.jsxs)("div",{className:"".concat(b.commentListContentText," ").concat(this.props.active&&b.active),children:[Object(i.jsxs)("div",{className:b.commentHeader,children:[Object(i.jsxs)("div",{className:b.userInfo,children:[Object(i.jsx)("div",{className:b.commentListName,children:(null===(Y=this.props.data)||void 0===Y||null===(Q=Y.user)||void 0===Q?void 0:Q.nickname)||(null===(G=this.props.data)||void 0===G||null===(J=G.user)||void 0===J?void 0:J.userName)||"\u7528\u6237\u5f02\u5e38"}),he&&!this.props.isAnonymous&&Object(i.jsx)("div",{className:b.masterBox,children:Object(i.jsx)("span",{className:b.masterText,children:"\u4f5c\u8005"})}),!(null===fe||void 0===fe||!fe.isDisplay)&&Object(i.jsx)("div",{className:b.groupsBox,children:null!==fe&&void 0!==fe&&fe.level?Object(i.jsx)(A.a,{groupLevel:null===fe||void 0===fe?void 0:fe.level,groupName:(null===fe||void 0===fe?void 0:fe.name)||(null===fe||void 0===fe?void 0:fe.groupName),groupNameStyle:{maxWidth:"100px"}}):Object(i.jsx)("div",{className:b.groups,children:(null===fe||void 0===fe?void 0:fe.name)||(null===fe||void 0===fe?void 0:fe.groupName)})})]}),ve?Object(i.jsx)("div",{}):Object(i.jsx)("div",{className:b.isApproved,children:"\u5ba1\u6838\u4e2d"})]}),Object(i.jsx)("div",{className:T()(b.commentListText),children:Object(i.jsx)(E.a,{onRedirectToDetail:function(){return ue.toCommentDetail()},useShowMore:!!this.state.isShowOne,content:null===(K=this.props)||void 0===K||null===(Z=K.data)||void 0===Z?void 0:Z.content,customHoverBg:!0})}),(null===($=this.props.data)||void 0===$?void 0:$.images.length)>0&&Object(i.jsx)("div",{className:b.imageDisplay,children:Object(i.jsx)(_.a,{platform:"h5",imgData:null===(ee=this.props.data)||void 0===ee?void 0:ee.images})})]}),(null===(te=this.props.data)||void 0===te?void 0:te.user)&&Object(i.jsxs)("div",{className:b.commentListFooter,children:[Object(i.jsxs)("div",{className:b.commentBtn,children:[Object(i.jsx)("div",{className:b.commentTime,children:Object(O.a)(this.props.data.createdAt)}),Object(i.jsxs)("div",{className:b.extraBottom,children:[Object(i.jsx)("div",{className:null!==(ne=this.props)&&void 0!==ne&&null!==(re=ne.data)&&void 0!==re&&re.isLiked?b.commentLike:b.commentLiked,children:Object(i.jsxs)("span",{onClick:Object(P.a)((function(){return ue.likeClick(de)}),500),children:["\u8d5e\xa0",(null===(ie=this.props)||void 0===ie||null===(ae=ie.data)||void 0===ae?void 0:ae.likeCount)>0?this.props.data.likeCount:""]})}),!je&&Object(i.jsx)("div",{className:b.commentReply,children:Object(i.jsx)("span",{onClick:function(){return ue.replyClick()},children:"\u56de\u590d"})}),this.props.isShowAdopt&&Object(i.jsx)("div",{className:b.commentAdopt,children:Object(i.jsx)("span",{onClick:function(){return ue.props.onAboptClick()},children:"\u91c7\u7eb3"})}),pe&&Object(i.jsx)("div",{className:b.extra,children:pe&&Object(i.jsx)("div",{className:b.revise,onClick:function(){return ue.deleteClick()},children:"\u5220\u9664"})})]})]}),(null===(oe=this.props.data)||void 0===oe?void 0:oe.replyCount)-1>0&&this.state.isShowOne?Object(i.jsxs)("div",{className:b.moreReply,onClick:function(){return ue.toCommentDetail()},children:["\u67e5\u770b\u4e4b\u524d",(null===(se=this.props.data)||void 0===se?void 0:se.replyCount)-1,"\u6761\u56de\u590d..."]}):"",this.props.originThread||"",(null===(ce=this.needReply)||void 0===ce?void 0:ce.length)>0&&Object(i.jsx)("div",{className:b.replyList,children:this.state.isShowOne?Object(i.jsx)(D,{isAnonymous:this.props.isAnonymous,data:this.needReply[0],isShowOne:!0,avatarClick:function(e){return ue.replyAvatarClick(ue.needReply[0],e)},likeClick:function(){return ue.replyLikeClick(ue.needReply[0])},replyClick:function(){return ue.replyReplyClick(ue.needReply[0])},deleteClick:function(){return ue.replyDeleteClick(ue.needReply[0])},toCommentDetail:function(){return ue.toCommentDetail()},threadId:this.props.threadId,disabledReply:je},this.needReply[0].id):(this.needReply||[]).map((function(e,t){return Object(i.jsx)("div",{ref:e.id===ue.props.postId?ue.props.positionRef:null,children:Object(i.jsx)(D,{isAnonymous:ue.props.isAnonymous,data:e,avatarClick:function(t){return ue.replyAvatarClick(e,t)},likeClick:function(){return ue.replyLikeClick(e)},replyClick:function(){return ue.replyReplyClick(e)},deleteClick:function(){return ue.replyDeleteClick(e)},toCommentDetail:function(){return ue.toCommentDetail(e)},active:ue.props.postId===e.id,threadId:ue.props.threadId,disabledReply:je},e.id||t)},e.id||t)}))})]})]})]})]})}}]),n}(v.a.Component))||R)||R;t.a=B},"7zRj":function(e,t,n){(function(t){var r,i="undefined"!==typeof t?t:"undefined"!==typeof window?window:{},a=n(1);"undefined"!==typeof document?r=document:(r=i["__GLOBAL_DOCUMENT_CACHE@4"])||(r=i["__GLOBAL_DOCUMENT_CACHE@4"]=a),e.exports=r}).call(this,n("ntbh"))},"83zQ":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useWebAdapter=void 0;var r=n("q1tI");t.useWebAdapter=function(){return{abc:(0,r.useCallback)((function(){console.log("test")}),[])}}},"8PLW":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));n("DQNa"),n("R5XZ");var r=n("lwsE"),i=n.n(r),a=n("W8MJ"),o=n.n(a);var s=function(){function e(){i()(this,e),this.__ang_cdown_timer=null}return o()(e,[{key:"start",value:function(e,t){var n=this,r=function(e,t){var n=new Date(e).getTime()-(t=t?new Date(t).getTime():(new Date).getTime());n<=0&&(n=0);var r=Math.floor(n/1e3%60)||0,i=Math.floor(n/6e4%60)||0,a=Math.floor(n/36e5%24)||0;return{remain:n,days:Math.floor(n/864e5)||0,seconds:r,minutes:i,hours:a}}(e);r.remain>0?("function"===typeof t&&t(r),this.__ang_cdown_timer=setTimeout((function(){n.start(e,t)}),1e3)):(clearTimeout(this.__ang_cdown_timer),"function"===typeof t&&t(r))}},{key:"stop",value:function(){clearTimeout(this.__ang_cdown_timer)}}]),e}()},"9Xmw":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r;n("07d7"),n("5s+n");function i(){return new Promise((function(e){if(void 0===r){var t=new Image;t.onload=function(){r=1===t.width&&2===t.height,e(r)},t.src="data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q=="}else e(r)}))}},"9p2j":function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("lwsE")),a=r(n("W8MJ")),o=r(n("7W2i")),s=r(n("a1gu")),c=r(n("Nsbk")),u=r(n("lSNA")),l=r(n("q1tI")),d=n("GDuN"),p=n("gzjk"),f=n("CObF"),h=r(n("KxVQ"));function m(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.default)(e);if(t){var i=(0,c.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,s.default)(this,n)}}var v=function(e){(0,o.default)(n,e);var t=m(n);function n(e){var r;return(0,i.default)(this,n),r=t.call(this,e),(0,h.default)({componentName:"progress"}),r}return(0,a.default)(n,[{key:"render",value:function(){var e=this.RenderComponent;return l.default.createElement(e,this.props,this.props.children)}}]),n}((0,d.baseComponentFactory)({viewAdapter:p.ProgressViewAdapter,logicalAdapter:f.ProgressLogicalAdapter}));t.default=v,(0,u.default)(v,"defaultProps",{style:{},percent:0,theme:"default",lineWidth:2,width:160,className:"",text:"",isShowText:!0})},AJmO:function(e,t,n){"use strict";var r=n("TqRt"),i=n("cDf5");n("ma9I"),Object.defineProperty(t,"__esModule",{value:!0}),t.DividerWebLayout=u;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!==typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(n("q1tI")),o=n("VTYn"),s=r(n("TSYQ"));function c(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function u(e){var t=e.mode,n=e.children,r=e.dashed,i=e.orientation,c=e.className,u=e.style,l=(0,a.useContext)(o.ConfigContext).clsPrefix,d="".concat(l,"-divider"),p=(0,s.default)(c,d,"".concat(d,"--").concat(t),{"is-dashed":r}),f=(0,s.default)("".concat(d,"__text"),"is-".concat(i));return a.default.createElement("div",{className:p,style:u},n&&"horizontal"===t&&a.default.createElement("div",{className:f},n))}u.defaultProps={mode:"horizontal",dashed:!1,orientation:"center"}},ATtJ:function(e,t,n){"use strict";n("pNMO"),n("4Brf"),n("ma9I"),n("2B1R"),n("sMBO");var r=n("lSNA"),i=n.n(r),a=n("nKUr"),o=n("o0o1"),s=n.n(o),c=(n("ls82"),n("yXPU")),u=n.n(c),l=n("q1tI"),d={mobileDialogWrapper:"Xc2FXk4uXyg3YxPACL3bi",dialogWrapper:"_2JBL03-tMLR7hmx7Rf4x8x",mobileTabPanel:"_2qTx9y5qLmqIYXqRr_8qOh",mobileOperation:"_247qKebOoofpxMddw2m989",mobileUpgradePrice:"_3NwSsC_xG-cSmDJqPKrzsn",price:"_1jAgcs0y8ZjkAHz_dZdYP4",mobileUpgradeBtn:"_2s--Nnouc3vSjakF2uUEwR",tabPanel:"_24UvQ1VNEmidjHhYndTwUM",operation:"_2R_BnpCQSjYzRPgFsai5jf",top:"_13uO2GBqZnJMdb8lUpyXAX",upgradePrice:"_21O4CYhJ_blImePae_6-dn",time:"_2Fqk0RPvGNWGGqNRsCFKVh",upgradeBtn:"_2t41U1PdwLpJ9NrkzGEKgC",tips:"_1RCT3GW7Aff9ler4di_SCi",title:"_3pofOc93__8oDuY6cQLLqV",text:"PyQ2nEb0oyEdSV4m9U9bL",symbol:"_1kqJD4W_ZlFmtveJiAkiOK",memberShipCardWrapper:"_2wOAJ50WTHWSSTsixqaHjj",memberShipNoMargin:"_1eCg-0GFid52Y1i4a8jeQD",MemberShipCardContent:"_1-7Y0UtA-1mSmIonk5KRU",roleType:"_3zXh4e7lpJWbqwATQxEsRs",tagline:"_2ALuwQrlARKzonkvmrFKVt",RenewalFee:"_1TXUJmEF527JoGUYdB8xh0",btn:"OgZAoGuTQYm_1xgzl00l7",feeTimer:"_28OyNDj5j9ntA-sAhdI3lK",feeDayContainer:"_2kyZ5Adgn7PHCwaksRsx47",feeDay:"_6r9M_R1oNPRQ72suzb-a2",noTimeDate:"_2KZjcqmk49iI04ci6RoYAb"},p=n("5f2u"),f=n.n(p),h=n("+pgT"),m=n.n(h),v=n("zkTq"),b=n.n(v),y=n("yuBF"),g=n("AR36"),j=n.n(g),x=n("bAjH"),O=n("iuED"),w=n("TSYQ"),C=n.n(w),k=n("z8Av");t.a=Object(y.inject)("site","user")(Object(y.observer)((function(e){var t=e.site,n=e.user,r=e.onRenewalFeeClick,o=e.shipCardClassName,c=e.showRenderCard,p=void 0===c||c,h=e.visible,v=void 0!==h&&h,y=e.onClose,g=void 0===y?function(){}:y,w=e.groupLevel,N=e.router,T=t.siteMode,_=t.isPC,P=n.userInfo,S=n.paid,E=n.isAdmini,A=n.isIndefiniteDuration,I=n.expiredDays,R=n.expiredAt,D=n.payGroups,L=P.group,M=L.level,B=(L.remainDays,L.expirationTime),U=L.groupName,F=L.description,W=L.isTop,q=L.hasPayGroup,z=L.amount,V=L.groupId,X=L.typeTime,H=L.remainTime,Y=x.f[M]||{},Q="pay"===T,G=Object(l.useState)(v),J=G[0],K=G[1],Z=Object(l.useState)(1),$=Z[0],ee=Z[1];Object(l.useEffect)(u()(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.queryPayGroups();case 1:case"end":return e.stop()}}),e)}))),[]),Object(l.useEffect)((function(){v&&K(v)}),[v]),Object(l.useEffect)((function(){ee(w)}),[w]);var te=function(e){_?(ee(e),K(!0)):N&&N.push("/my/upgrade")},ne=function(){"function"===typeof r&&r()},re=function(){var e=u()(s.a.mark((function e(r){var i,a,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=r.amount,a=r.groupId,o=r.title,K(!1),e.prev=2,e.next=5,Object(O.a)({amount:i,groupId:a,title:o,user:n,site:t});case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(t){return e.apply(this,arguments)}}(),ie=function(){return j.a.isCurrentYear(R)?"MM\u6708DD\u65e5":"YYYY\u5e74MM\u6708DD\u65e5"},ae=function(){return M>0?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("div",{className:d.feeDayContainer,children:[Object(a.jsx)("span",{className:d.feeDay,style:{color:Y.otherColor},children:H}),Object(a.jsx)("span",{style:{color:Y.desAndDateColor},children:{0:"\u5929",1:"\u65f6",2:"\u5206"}[X]})]}),Object(a.jsxs)("span",{style:{color:Y.desAndDateColor},children:[j.a.formatDate(B,ie()),"\u5230\u671f"]})]}):Q&&S?0===I?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("span",{className:d.feeDay,children:"0"}),"\u5929"]}):A?Object(a.jsx)("span",{className:d.noTimeDate,children:"\u65e0\u9650\u671f"}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("div",{className:d.feeDayContainer,children:[Object(a.jsx)("span",{className:d.feeDay,children:I}),"\u5929"]}),Object(a.jsxs)("span",{style:{color:Y.desAndDateColor},children:[j.a.formatDate(R,ie()),"\u5230\u671f"]})]}):void 0},oe=function(){var e={backgroundColor:Y.otherColor,borderColor:Y.otherColor,color:Y.leftBtnTextColor},t={marginLeft:"8px",backgroundColor:Y.rightBtnBgColor,borderColor:Y.otherColor,color:Y.otherColor};if(M>0)return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(f.a,{onClick:function(){return re({amount:z,title:"\u4ed8\u8d39\u7528\u6237\u7ec4\u7eed\u8d39",groupId:V})},type:"primary",className:d.btn,style:e,children:"\u7eed\u8d39"}),!W&&Object(a.jsx)(f.a,{onClick:function(){te(M+1)},type:"primary",className:d.btn,style:t,children:"\u5347\u7ea7"})]});var n=Object(a.jsx)(f.a,{onClick:function(){te(M+1)},type:"primary",className:d.btn,children:"\u5347\u7ea7"});return Q&&S&&!A?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(f.a,{onClick:ne,type:"primary",className:d.btn,style:{marginRight:"12px"},children:"\u7eed\u8d39"}),q&&n]}):q?n:void 0},se=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.groupName,r=e.level,s=e.description,c=x.f[r]||{};return Object(a.jsx)("div",{className:C()("".concat(d.memberShipCardWrapper," ").concat(o),i()({},d.memberShipNoMargin,t&&_)),style:{backgroundImage:"url(".concat(c.bgImg,")")},children:Object(a.jsxs)("div",{className:d.MemberShipCardContent,children:[Object(a.jsx)("div",{className:d.roleType,style:{color:c.groupNameColor},children:n}),Object(a.jsx)("div",{className:d.tagline,style:{color:c.desAndDateColor},children:r>0?s:"\u8bbf\u95ee\u6d77\u91cf\u7ad9\u70b9\u5185\u5bb9"}),Object(a.jsxs)("div",{className:d.RenewalFee,style:{visibility:t?"hidden":"visible"},children:[oe(),Object(a.jsx)("div",{className:d.feeTimer,children:ae()})]})]})})};return E?null:Object(a.jsxs)("div",{className:d.wrapper,onClick:function(e){return e.stopPropagation()},children:[p&&se({groupName:U,level:M,description:F}),J&&Object(a.jsxs)(m.a,{className:_?d.dialogWrapper:d.mobileDialogWrapper,visible:!0,maskClosable:!0,onClose:function(){g(),K(!1)},children:[_?null:Object(a.jsx)(k.a,{allowJump:!1,customJum:function(){g(),K(!1)}}),Object(a.jsx)(b.a,{activeId:$,onActive:function(e){return ee(e)},children:D.map((function(e){var t,n=e.name,r=e.level,o=e.description,s=e.fee,c=e.notice,u=e.amount,l=e.groupId,p=e.days,h={groupName:n,level:r,description:o};return Object(a.jsx)(b.a.TabPanel,{id:r,label:n,children:Object(a.jsxs)("div",{className:d.tabPanelContent,children:[Object(a.jsxs)("div",{className:C()(d.tabPanel,i()({},d.mobileTabPanel,!_)),children:[se(h,!0),Object(a.jsxs)("div",{className:C()(d.operation,i()({},d.mobileOperation,!_)),children:[Object(a.jsxs)("div",{className:d.top,children:[Object(a.jsxs)("div",{className:C()((t={},i()(t,d.upgradePrice,_),i()(t,d.mobileUpgradePrice,!_),t)),children:[Object(a.jsx)("span",{className:d.symbol,children:"\uffe5"}),Object(a.jsx)("span",{className:d.price,children:s})]}),Object(a.jsxs)("div",{className:d.time,children:["\u6709\u6548\u671f\uff1a","".concat(p,"\u5929")]})]}),Object(a.jsx)(f.a,{className:d.upgradeBtn,style:{margin:_?"":0,visibility:r>L.level?"visible":"hidden"},onClick:function(){return re({amount:u,title:n,groupId:l})},children:"\u7acb\u5373\u5347\u7ea7"})]})]}),Object(a.jsxs)("div",{className:d.tips,style:{padding:_?"":"16px"},children:[Object(a.jsx)("div",{className:d.title,children:"\u8d2d\u4e70\u987b\u77e5"}),Object(a.jsx)("div",{className:d.text,children:c})]})]})},r)}))})]})]})})))},AV0F:function(e,t,n){"use strict";n.d(t,"d",(function(){return d})),n.d(t,"c",(function(){return p})),n.d(t,"b",(function(){return f})),n.d(t,"a",(function(){return h}));n("DQNa"),n("4l63"),n("rB9j"),n("UxlC");var r,i=n("lSNA"),a=n.n(i),o=n("0KMJ");function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u=function(e){return Object(o.a)(e,"yyyy-MM-dd hh:mm:ss")},l=function(e){return e?new Date(null===e||void 0===e?void 0:e.replace(/-/g,"/")):e},d=function(e,t){var n=e.activityStartTime,r=e.activityEndTime,i=e.title,a=e.content,o=e.actPlace,s=e.totalNumber,l=e.additionalInfoType,d=e.registerStartTime?e.registerStartTime:e.activityStartTime,p=e.registerEndTime?e.registerEndTime:e.activityEndTime,f={title:i,content:a,totalNumber:s?parseInt(s,10):0,activityStartTime:u(n),activityEndTime:u(r),registerStartTime:u(d),registerEndTime:u(p),additionalInfoType:l};return o&&(f=c(c({},f),{},{position:{address:o,location:o,longitude:0,latitude:0}})),{tomId:t,body:f}},p=function(e){var t=e.activityStartTime,n=e.activityEndTime,r=e.registerStartTime,i=e.registerEndTime,a=e.title,o=e.content,s=e.totalNumber,c=e.position,u=e.additionalInfoType;return{activityStartTime:l(t),activityEndTime:l(n),registerStartTime:l(r),registerEndTime:l(i),title:a,content:o,actPlace:(null===c||void 0===c?void 0:c.location)||"",totalNumber:0===s?"":s,actPeopleLimitType:0===s?0:1,additionalInfoType:u}},f={name:1,mobile:2,weixin:3,address:4},h=(r={},a()(r,f.name,{value:"\u59d3\u540d",key:"name"}),a()(r,f.mobile,{value:"\u624b\u673a\u53f7",key:"mobile"}),a()(r,f.weixin,{value:"\u5fae\u4fe1\u53f7",key:"weixin"}),a()(r,f.address,{value:"\u8054\u7cfb\u5730\u5740",key:"address"}),r)},AwrB:function(e,t,n){"use strict";var r=n("TqRt"),i=n("cDf5");n("ma9I"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n("o0o1"));n("ls82");var o=r(n("yXPU")),s=r(n("J4zp")),c=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!==typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(n("q1tI")),u=n("VTYn"),l=n("TJTF"),d=n("vNgL");function p(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}var f=function(e){var t=e.style,n=void 0===t?{}:t,r=e.percent,i=void 0===r?0:r,p=e.theme,f=void 0===p?"default":p,h=e.lineWidth,m=void 0===h?2:h,v=(e.width,e.className),b=void 0===v?"":v,y=e.text,g=void 0===y?"":y,j=e.isShowText,x=void 0===j||j,O=e.tips,w=void 0===O?"":O,C=e.children,k=e.lineCap,N=void 0===k?"butt":k,T=(0,u.useConfig)().clsPrefix,_=(0,c.useState)({canvas:null,ctx:null,width:0,height:0}),P=(0,s.default)(_,2),S=P[0],E=P[1],A=(0,c.useRef)(null),I=(0,c.useRef)(null);(0,c.useEffect)((function(){R()}),[]),(0,c.useEffect)((function(){S.ctx&&D()}),[i,S]);var R=function(){var e=(0,o.default)(a.default.mark((function e(){var t,n,r,i,o;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=A.current,n=A.current.getContext("2d"),r=I.current.getBoundingClientRect(),i=r.width,o=r.height,3,t.width=3*i,t.height=3*o,n.scale(3,3),E({canvas:t,ctx:n,width:i,height:o});case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),D=function(){var e=S.ctx,t=S.height,n=S.width,r=function(){var e=S.width,t=S.height,n=(0,l.toFixed)(.5*Math.min(e,t));return n>m&&(n-=m),{radius:n,range:i/100*2*Math.PI,offsetRadian:-.5*Math.PI}}(),a=r.radius,o=r.range,s=r.offsetRadian;e.clearRect(0,0,n,t),e.lineWidth=m,e.lineCap=N,e.beginPath(),e.strokeStyle="#F6F7F9",e.arc((0,l.toFixed)(n/2),(0,l.toFixed)(t/2),a,0,2*Math.PI),e.stroke(),0!==o&&(e.beginPath(),e.strokeStyle=L(),e.arc((0,l.toFixed)(n/2),(0,l.toFixed)(t/2),a,s,o+s),e.stroke())},L=function(){return"default"===f?"#FEC32D":"success"===f?"#57BD6A":"danger"===f?"#E54545":"#FEC32D"};return c.default.createElement("div",{className:"".concat(T,"-progress-circle")},c.default.createElement("div",{ref:I,className:"".concat(T,"-progress-circle__area ").concat(b),style:n},c.default.createElement("canvas",{ref:A,className:"".concat(T,"-progress-circle__canvas")}),!C&&x&&c.default.createElement("div",{className:"".concat(T,"-progress-circle__current-text"),id:"progress-num"},g?c.default.createElement("span",{className:"text--chinese"},(0,d.injectValue)(g)(i)):c.default.createElement(c.default.Fragment,null,i,c.default.createElement("span",{className:"text--symbol"},"%"))),C&&c.default.createElement("div",{className:"".concat(T,"-progress-circle__children")},C)),c.default.createElement("div",{className:"".concat(T,"-progress-circle__tips")},w))};t.default=f},BF8C:function(e,t,n){"use strict";var r=n("vgmO"),i=n("pVnL"),a=n("g2LC");function o(e,t,n){var r=e;return a(t)?(n=t,"string"===typeof e&&(r={uri:e})):r=i({},t,{uri:e}),r.callback=n,r}function s(e,t,n){return c(t=o(e,t,n))}function c(e){if("undefined"===typeof e.callback)throw new Error("callback argument missing");var t=!1,n=function(n,r,i){t||(t=!0,e.callback(n,r,i))};function r(){var e=void 0;if(e=u.response?u.response:u.responseText||function(e){try{if("document"===e.responseType)return e.responseXML;var t=e.responseXML&&"parsererror"===e.responseXML.documentElement.nodeName;if(""===e.responseType&&!t)return e.responseXML}catch(n){}return null}(u),v)try{e=JSON.parse(e)}catch(t){}return e}function i(e){return clearTimeout(l),e instanceof Error||(e=new Error(""+(e||"Unknown XMLHttpRequest Error"))),e.statusCode=0,n(e,b)}function a(){if(!c){var t;clearTimeout(l),t=e.useXDR&&void 0===u.status?200:1223===u.status?204:u.status;var i=b,a=null;return 0!==t?(i={body:r(),statusCode:t,method:p,headers:{},url:d,rawRequest:u},u.getAllResponseHeaders&&(i.headers=function(e){var t={};return e?(e.trim().split("\n").forEach((function(e){var n=e.indexOf(":"),r=e.slice(0,n).trim().toLowerCase(),i=e.slice(n+1).trim();"undefined"===typeof t[r]?t[r]=i:Array.isArray(t[r])?t[r].push(i):t[r]=[t[r],i]})),t):t}(u.getAllResponseHeaders()))):a=new Error("Internal XMLHttpRequest Error"),n(a,i,i.body)}}var o,c,u=e.xhr||null;u||(u=e.cors||e.useXDR?new s.XDomainRequest:new s.XMLHttpRequest);var l,d=u.url=e.uri||e.url,p=u.method=e.method||"GET",f=e.body||e.data,h=u.headers=e.headers||{},m=!!e.sync,v=!1,b={body:void 0,headers:{},statusCode:0,method:p,url:d,rawRequest:u};if("json"in e&&!1!==e.json&&(v=!0,h.accept||h.Accept||(h.Accept="application/json"),"GET"!==p&&"HEAD"!==p&&(h["content-type"]||h["Content-Type"]||(h["Content-Type"]="application/json"),f=JSON.stringify(!0===e.json?f:e.json))),u.onreadystatechange=function(){4===u.readyState&&setTimeout(a,0)},u.onload=a,u.onerror=i,u.onprogress=function(){},u.onabort=function(){c=!0},u.ontimeout=i,u.open(p,d,!m,e.username,e.password),m||(u.withCredentials=!!e.withCredentials),!m&&e.timeout>0&&(l=setTimeout((function(){if(!c){c=!0,u.abort("timeout");var e=new Error("XMLHttpRequest timeout");e.code="ETIMEDOUT",i(e)}}),e.timeout)),u.setRequestHeader)for(o in h)h.hasOwnProperty(o)&&u.setRequestHeader(o,h[o]);else if(e.headers&&!function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}(e.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in e&&(u.responseType=e.responseType),"beforeSend"in e&&"function"===typeof e.beforeSend&&e.beforeSend(u),u.send(f||null),u}e.exports=s,e.exports.default=s,s.XMLHttpRequest=r.XMLHttpRequest||function(){},s.XDomainRequest="withCredentials"in new s.XMLHttpRequest?s.XMLHttpRequest:r.XDomainRequest,function(e,t){for(var n=0;n<e.length;n++)t(e[n])}(["get","put","post","patch","head","delete"],(function(e){s["delete"===e?"del":e]=function(t,n,r){return(n=o(t,n,r)).method=e.toUpperCase(),c(n)}}))},BGqZ:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=(0,n("dhkc").RadioViewAdapter)();t.default=r},BIHw:function(e,t,n){"use strict";var r=n("I+eb"),i=n("or9q"),a=n("ewvW"),o=n("UMSQ"),s=n("ppGB"),c=n("ZfDv");r({target:"Array",proto:!0},{flat:function(){var e=arguments.length?arguments[0]:void 0,t=a(this),n=o(t.length),r=c(t,0);return r.length=i(r,t,t,n,0,void 0===e?1:s(e)),r}})},BNbG:function(e,t,n){},C3nd:function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));n("ma9I"),n("07d7"),n("5s+n");var r=n("lSNA"),i=n.n(r),a=n("nKUr"),o=n("lwsE"),s=n.n(o),c=n("W8MJ"),u=n.n(c),l=n("7W2i"),d=n.n(l),p=n("a1gu"),f=n.n(p),h=n("Nsbk"),m=n.n(h),v=n("q1tI"),b=n.n(v),y=n("yuBF");function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function x(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m()(e);if(t){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return f()(this,n)}}function O(e){var t;return Object(y.inject)("site")(t=function(t){d()(r,t);var n=x(r);function r(){var e;s()(this,r);for(var t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];return(e=n.call.apply(n,[this].concat(i))).tcaptcha=null,e.qcloudCaptcha=!1,e.loadTencentCaptcha=function(){var t,n=e.props.site.webConfig;if(e.qcloudCaptcha=null===n||void 0===n||null===(t=n.qcloud)||void 0===t?void 0:t.qcloudCaptcha,e.qcloudCaptcha&&!window.TencentCaptcha){var r=window.document.createElement("script");r.src="https://ssl.captcha.qq.com/TCaptcha.js",r.async=!0,window.document.body.append(r)}},e.showCaptcha=function(){return new Promise((function(t,n){var r,i,a;if(e.qcloudCaptcha)if(window.TencentCaptcha){var o=null===(r=e.props.site)||void 0===r||null===(i=r.webConfig)||void 0===i||null===(a=i.qcloud)||void 0===a?void 0:a.qcloudCaptchaAppId;e.tcaptcha=new window.TencentCaptcha(o,(function(e){return 0===e.ret?t({captchaRandStr:e.randstr,captchaTicket:e.ticket}):n(!1)})),e.tcaptcha.show()}else n({Code:"captcha_not_available",Message:"\u56fe\u5f62\u9a8c\u8bc1\u7801\u52a0\u8f7d\u5931\u8d25\uff0c\u8bf7\u5237\u65b0\u9875\u9762"});else t({captchaRandStr:"",captchaTicket:""})}))},e}return u()(r,[{key:"componentDidMount",value:function(){this.loadTencentCaptcha()}},{key:"render",value:function(){return Object(a.jsx)(e,j(j({},this.props),{},{showCaptcha:this.showCaptcha}))}}]),r}(b.a.Component))||t}},CCF8:function(e,t,n){"use strict";var r=function(){function e(){this.listeners={}}var t=e.prototype;return t.on=function(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)},t.off=function(e,t){if(!this.listeners[e])return!1;var n=this.listeners[e].indexOf(t);return this.listeners[e]=this.listeners[e].slice(0),this.listeners[e].splice(n,1),n>-1},t.trigger=function(e){var t=this.listeners[e];if(t)if(2===arguments.length)for(var n=t.length,r=0;r<n;++r)t[r].call(this,arguments[1]);else for(var i=Array.prototype.slice.call(arguments,1),a=t.length,o=0;o<a;++o)t[o].apply(this,i)},t.dispose=function(){this.listeners={}},t.pipe=function(e){this.on("data",(function(t){e.push(t)}))},e}();e.exports=r},CObF:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProgressLogicalAdapter=void 0;var r=(0,n("mlqK").baseAdapterFactory)({defaultAdapter:{},adapterImplement:function(){return n("LveU").ProgressWebAdapter}});t.ProgressLogicalAdapter=r},COiX:function(e,t,n){"use strict";var r=n("TqRt");n("ma9I"),Object.defineProperty(t,"__esModule",{value:!0}),t.AudioPlayerWebLayout=void 0;var i=r(n("lwsE")),a=r(n("W8MJ")),o=r(n("PJYZ")),s=r(n("7W2i")),c=r(n("a1gu")),u=r(n("Nsbk")),l=r(n("lSNA")),d=r(n("q1tI")),p=r(n("TSYQ")),f=r(n("MCNy")),h=r(n("40Bt")),m=r(n("jqTq")),v=r(n("g2Pl")),b=n("5h7R"),y=n("6oOf"),g=r(n("/Z23"));function j(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,u.default)(e);if(t){var i=(0,u.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,c.default)(this,n)}}var x=function(e){(0,s.default)(n,e);var t=j(n);function n(){var e;(0,i.default)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a)),(0,l.default)((0,o.default)(e),"renderContent",(function(){var t=e.context.clsPrefix,n=e.props,r=n.fileName,i=n.fileSize;return d.default.createElement("div",{className:"".concat(t,"-audio-player__wrapper")},d.default.createElement("img",{alt:"\u56fe\u7247",src:"https://imgcache.qq.com/operation/dianshi/other/audio-outlined.d04f8b9380204fe1b1b671f59145695f56cc222d.png",className:"".concat(t,"-audio-player__wrapper-icon")}),d.default.createElement("div",{className:"".concat(t,"-audio-player__wrapper-inner")},d.default.createElement("div",{className:"".concat(t,"-audio-player__wrapper-inner-fileName")},r),d.default.createElement("div",{className:"".concat(t,"-audio-player__wrapper-inner-fileSize")},(0,y.transferFileSize)(i))))})),(0,l.default)((0,o.default)(e),"renderPlayIcon",(function(){var t=e.context.clsPrefix,n=e.props.disabled,r=e.state.audioImg,i=(0,p.default)("".concat(t,"-audio-player__wrapper-inner-btn"),{"is-disabled":n||"CloseOutlined"===r});return n?d.default.createElement(f.default,{name:"CloseOutlined",className:i,size:12}):"iconLoading"===r?d.default.createElement(m.default,{className:i,type:"spinner",size:12}):d.default.createElement(f.default,{onClick:e.playOrStopAudio,name:r,className:i,size:12})})),(0,l.default)((0,o.default)(e),"renderOperation",(function(){var t=e.context.clsPrefix,n=e.props,r=n.onDelete,i=n.onLink,a=n.onDownload;n.onPlay,n.disabled,e.state.audioImg;return d.default.createElement("div",{className:"".concat(t,"-audio-player__right")},e.renderPlayIcon(),i&&d.default.createElement("div",{className:"".concat(t,"-audio-player__right-link"),onClick:function(){return i()}},"\u94fe\u63a5"),a&&d.default.createElement("div",{className:"".concat(t,"-audio-player__right-download"),onClick:function(){return a()}},"\u4e0b\u8f7d"),r&&d.default.createElement(f.default,{name:"DeleteOutlined",className:"".concat(t,"-audio-player__right-delete"),onClick:function(){r()}}))})),(0,l.default)((0,o.default)(e),"progressChange",(0,g.default)((function(t){var n=e.state.duration*t/100;e.setState({currentTime:n}),e.seek(n)}))),(0,l.default)((0,o.default)(e),"seekTimeout",null),(0,l.default)((0,o.default)(e),"seek",(function(t){clearTimeout(e.seekTimeout),e.seekTimeout=setTimeout((function(){e.state.audioCtx.seek(t)}),100)})),(0,l.default)((0,o.default)(e),"renderProgress",(function(){var t=e.context.clsPrefix,n=e.state,r=100*n.currentTime/n.duration||0;return d.default.createElement("div",{className:"".concat(t,"-audio-player__progress")},d.default.createElement(h.default,{value:r,step:.1,formatter:function(e){return null},onChange:e.progressChange}))})),e}return(0,a.default)(n,[{key:"render",value:function(){var e=this.context.clsPrefix,t=(this.state.audioImg,this.props),n=t.style,r=t.className;return d.default.createElement("div",{className:(0,p.default)("".concat(e,"-audio-player"),r),style:n},d.default.createElement(v.default,{leftChildren:this.renderContent(),rightChildren:this.renderOperation(),bottomChildren:this.renderProgress()}))}}]),n}(b.AudioWebLayout);t.AudioPlayerWebLayout=x},CyXQ:function(e,t,n){var r=n("ppGB"),i=n("UMSQ");e.exports=function(e){if(void 0===e)return 0;var t=r(e),n=i(t);if(t!==n)throw RangeError("Wrong length or index");return n}},DMt2:function(e,t,n){var r=n("UMSQ"),i=n("EUja"),a=n("HYAF"),o=Math.ceil,s=function(e){return function(t,n,s){var c,u,l=String(a(t)),d=l.length,p=void 0===s?" ":String(s),f=r(n);return f<=d||""==p?l:(c=f-d,(u=i.call(p,o(c/p.length))).length>c&&(u=u.slice(0,c)),e?l+u:u+l)}};e.exports={start:s(!1),end:s(!0)}},DYmA:function(e,t,n){"use strict";n("ma9I"),n("E9XD"),n("brp2"),n("DQNa");var r=n("RIqP"),i=n.n(r);t.a={createUpdateLikeUsersData:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return{avatar:e.avatarUrl,userId:e.id,userName:e.nickname,type:t,createdAt:Date.now(),nickname:(null===e||void 0===e?void 0:e.nickname)||""}},setThreadDetailLikedUsers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;if(!e)return null;var r=e.users,a=void 0===r?[]:r,o=[];return t?o=[n].concat(i()(a)):a.reduce((function(e,t){return(t.userId!==n.userId||t.userId===n.userId&&1!==t.type)&&e.push(t),e}),o),o}}},DxNY:function(e,t,n){"use strict";var r=n("TqRt"),i=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n("J4zp")),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!==typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(n("q1tI")),s=r(n("TSYQ")),c=r(n("MCNy")),u=n("VTYn"),l=r(n("b9ng"));function d(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}var p=function(e){var t=e.onSwipRight,n=void 0===t?function(){}:t,r=e.onSwipLeft,i=void 0===r?function(){}:r,d=e.onClose,p=void 0===d?function(){}:d,f=e.imgUrls,h=void 0===f?[]:f,m=e.currentImgIdx,v=void 0===m?0:m,b=(0,u.useConfig)().clsPrefix,y=o.default.useState(!1),g=(0,a.default)(y,2),j=g[0],x=g[1],O=o.default.useState(!1),w=(0,a.default)(O,2),C=w[0],k=w[1],N=o.default.useState(!1),T=(0,a.default)(N,2),_=T[0],P=T[1],S=o.default.useRef(null),E=o.default.useRef(null),A=o.default.useRef(null),I=!1;return"undefined"!==typeof window&&(I=(0,l.default)()),(0,o.useEffect)((function(){if(0===h.length)return k(!0),void P(!0);k(0===v),v+1===h.length?P(!0):P(!1)}),[h,v]),(0,o.useEffect)((function(){var e=function(){A.current||(x(!0),S.current&&clearTimeout(S.current),S.current=setTimeout((function(){x(!1)}),2e3))},t=function(){x(!0),A.current=!0,"undefined"!==typeof window&&document.removeEventListener("mousemove",e),S.current&&clearTimeout(S.current)},n=function(){A.current=null,"undefined"!==typeof window&&document.addEventListener("mousemove",e,!1)};return"undefined"!==typeof window&&document.addEventListener("mousemove",e,!1),E.current&&(I||(E.current.addEventListener("mouseenter",t,!1),E.current.addEventListener("mouseleave",n,!1))),function(){"undefined"!==typeof window&&document.removeEventListener("mousemove",e),E.current&&(E.current.removeEventListener("mouseenter",t),E.current.removeEventListener("mouseleave",n))}}),[]),(0,o.useEffect)((function(){var e=function(e){"ArrowLeft"===e.key&&n(),"ArrowRight"===e.key&&i()};return"undefined"!==typeof window&&document.addEventListener("keydown",e),function(){"undefined"!==typeof window&&document.removeEventListener("keydown",e)}}),[]),!I&&o.default.createElement("div",{className:(0,s.default)("".concat(b,"-img-previewer__pc-controller-wrapper"),{"is-active":j}),onClick:function(e){e.stopPropagation(),e.preventDefault()},ref:E},o.default.createElement("div",{className:(0,s.default)("".concat(b,"-img-previewer__pc-controller-close")),onClick:p},o.default.createElement(c.default,{name:"CloseOutlined",size:8,color:"white"})),o.default.createElement("div",{className:(0,s.default)("".concat(b,"-img-previewer__pc-controller-swiper"))},o.default.createElement("div",{className:(0,s.default)("".concat(b,"-img-previewer__pc-controller-left-swiper"),{"is-disabled":C}),onClick:n},o.default.createElement(c.default,{name:"RightOutlined",size:16})),o.default.createElement("div",{className:(0,s.default)("".concat(b,"-img-previewer__pc-controller-right-swiper"),{"is-disabled":_}),onClick:i},o.default.createElement(c.default,{name:"RightOutlined",size:16}))))};t.default=p},FF6l:function(e,t,n){"use strict";var r=n("ewvW"),i=n("I8vh"),a=n("UMSQ"),o=Math.min;e.exports=[].copyWithin||function(e,t){var n=r(this),s=a(n.length),c=i(e,s),u=i(t,s),l=arguments.length>2?arguments[2]:void 0,d=o((void 0===l?s:i(l,s))-u,s-c),p=1;for(u<c&&c<u+d&&(p=-1,u+=d-1,c+=d-1);d-- >0;)u in n?n[c]=n[u]:delete n[c],c+=p,u+=p;return n}},FflX:function(e,t,n){var r=n("f+Ey").toUnsigned,i=n("jv9p"),a=function(e,t){var n,o,s,c,u,l=[];if(!t.length)return null;for(n=0;n<e.byteLength;)o=r(e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3]),s=i(e.subarray(n+4,n+8)),c=o>1?n+o:e.byteLength,s===t[0]&&(1===t.length?l.push(e.subarray(n+8,c)):(u=a(e.subarray(n+8,c),t.slice(1))).length&&(l=l.concat(u))),n=c;return l};e.exports=a},FhbE:function(e,t,n){"use strict";n("2B1R"),n("rB9j"),n("hByQ"),n("R5XZ");var r,i=n("nKUr"),a=n("o0o1"),o=n.n(a),s=(n("ls82"),n("yXPU")),c=n.n(s),u=n("lwsE"),l=n.n(u),d=n("W8MJ"),p=n.n(d),f=n("7W2i"),h=n.n(f),m=n("a1gu"),v=n.n(m),b=n("Nsbk"),y=n.n(b),g=n("q1tI"),j=n("k8W2"),x=n.n(j),O=n("DetZ"),w=n.n(O),C=n("V+Sr"),k=n.n(C),N=n("85EP"),T=n.n(N),_=n("5f2u"),P=n.n(_),S=n("MCNy"),E=n.n(S),A=n("wdT/"),I=n.n(A),R="_2SlQVQwLxGt1k4mdwyNRsH",D="_3oRksL7vGqA5HFOuCtJ4rZ",L="_2j2cnD1XumHI_TABVekjQR",M="_13E2yAqKQOP40o2SgkQebo",B="_1-VNSOmPrgxDoBx0ZznYYg",U="KtCH4lss5_H_sp19I-ClD",F="_36P6185-SiGlT19ofeXyke",W="_17TlRiFdSGV4vyLtPsM4EH",q="_3-6xh-16RtoS7Pc3Cegrb7",z="_11Pme_Yj_y4XwFUdlNW9C6",V="jf5PHgshNtorVepU9z1Ve",X="_2ZEtfCYDsJlFi7P6CuSJam",H="-VT99Q-pNe1oC1aj6e2g0",Y="eIXA9KsY1lco3w33TC2iI",Q="_1TNCqhCaL922X4Yu5GeMge",G="_3rJH21aN-gwPJun4yrYYM3",J="_185XwYDicmw77YPKN8ZCa7",K="_87x9jDEvOxBcbeTrwMj5B",Z="_2jZ9Xulhv81Rmu032zVEaM",$="_1GoHwGbdopjQlVQJ5TB5U",ee="_311gGzZz5O18gFlswhhptO",te=n("yuBF"),ne=n("VVxn"),re=n("u7s3");n("DQNa"),n("07d7"),n("JfAA");function ie(e){for(var t=0,n=0;n<e.length;n++)t+=e.charCodeAt(n);var r=function(e,t,n){var r,i,a,o=Math.floor(6*e),s=6*e-o,c=n*(1-t),u=n*(1-s*t),l=n*(1-(1-s)*t);switch(o%6){case 0:r=n,i=l,a=c;break;case 1:r=u,i=n,a=c;break;case 2:r=c,i=n,a=l;break;case 3:r=c,i=u,a=n;break;case 4:r=l,i=c,a=n;break;case 5:r=n,i=c,a=u}return{r:Math.floor(255*r),g:Math.floor(255*i),b:Math.floor(255*a)}}(t%360/360,.3,.9);return"#"+r.r.toString(16)+r.g.toString(16)+r.b.toString(16)}function ae(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y()(e);if(t){var i=y()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}var oe=Object(te.inject)("threadPost")(r=Object(te.inject)("search")(r=Object(te.observer)(r=function(e){h()(n,e);var t=ae(n);function n(e){var r;return l()(this,n),(r=t.call(this,e)).onScrollBottom=function(){return r.getSearchKeyword()?r.fetchAllUser():r.fetchFollow()},r.handleCancel=function(){r.props.onCancel()},r.getBackgroundColor=function(e){return ie(e?e.charAt(0).toUpperCase():"")},r.getSearchKeyword=function(){return r.state.keywords||r.props.threadPost.editorHintAtKey},r.formatData=function(e){var t,n,i,a,o,s,c=!r.getSearchKeyword(),u=c?null===e||void 0===e||null===(t=e.user)||void 0===t?void 0:t.avatar:e.avatar,l=c?null===e||void 0===e||null===(n=e.user)||void 0===n?void 0:n.userName:e.username,d=c?null===e||void 0===e||null===(i=e.user)||void 0===i?void 0:i.nickname:e.nickname;return{avatar:u,username:l,groupName:c?null===e||void 0===e||null===(a=e.group)||void 0===a?void 0:a.groupName:e.groupName,level:c?null===e||void 0===e||null===(o=e.group)||void 0===o?void 0:o.level:e.level,userId:c?null===(s=e.user)||void 0===s?void 0:s.userId:e.userId,nickname:d}},r.state={keywords:"",checkUser:[],page:1,perPage:10,finish:!1},r.timer=null,r}return p()(n,[{key:"componentDidMount",value:function(){this.onScrollBottom()}},{key:"fetchFollow",value:function(){var e=c()(o.a.mark((function e(){var t,n,r,i,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.threadPost,n=this.state,r=n.page,i=n.perPage,e.next=4,t.fetchFollow({page:r,perPage:i});case 4:0===(null===(a=e.sent)||void 0===a?void 0:a.code)?this.setState({page:r+1,finish:r*i>t.followsTotalCount}):(this.setState({finish:!0}),I.a.error({content:a.msg}));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"fetchAllUser",value:function(){var e=c()(o.a.mark((function e(){var t,n,r,i,a,s,c,u;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.search,n=this.state,r=n.page,i=n.perPage,a=this.getSearchKeyword(),e.next=5,t.getUsersList({search:a,type:"nickname",page:r,perPage:i});case 5:s=e.sent,c=s.code,u=s.data,0===c?this.setState({page:a===this.getSearchKeyword()?r+1:1,finish:r*i>=(null===u||void 0===u?void 0:u.totalCount)}):(this.setState({finish:!0}),I.a.error({content:s.msg}));case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateKeywords",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.setState({keywords:e,page:1,finish:!1}),this.searchInput()}},{key:"searchInput",value:function(){var e=this;clearTimeout(this.timer),this.timer=setTimeout((function(){e.onScrollBottom()}),300)}},{key:"submitSelect",value:function(){0!==this.state.checkUser.length&&(this.props.getAtList(this.state.checkUser),this.props.threadPost.setEditorHintAtKey(""),this.props.onCancel())}},{key:"renderItem",value:function(){var e,t=this,n=this.props,r=n.threadPost,a=n.search,o=this.getSearchKeyword()?(null===(e=a.users)||void 0===e?void 0:e.pageData)||[]:r.follows||[];return 0===o.length?null:o.map((function(e){var n=t.formatData(e),r=n.avatar,a=n.nickname,o=n.groupName,s=n.userId,c=n.level;return Object(i.jsx)("div",{className:z,children:Object(i.jsx)("div",{className:V,children:Object(i.jsxs)(k.a,{name:a,children:[Object(i.jsx)("div",{className:X,children:r?Object(i.jsx)(T.a,{image:r}):Object(i.jsx)(T.a,{text:a.toUpperCase(),style:{backgroundColor:"#".concat(t.getBackgroundColor(a))}})}),Object(i.jsxs)("div",{className:H,children:[Object(i.jsx)("div",{className:Y,children:a}),c?Object(i.jsx)(re.a,{className:Q,groupLevel:c,groupName:o}):Object(i.jsx)("div",{className:Q,children:o})]})]})})},s)}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.pc,r=t.visible,a=t.style,o=void 0===a?{}:a,s=t.threadPost,c=this.state,u=c.keywords,l=c.checkUser,d=c.finish,p=n?"pc":"h5",f=u||s.editorHintAtKey,h=Object(i.jsxs)("div",{className:D,onClick:function(e){return e.stopPropagation()},children:[Object(i.jsxs)("div",{className:L,children:[Object(i.jsxs)("div",{className:M,children:[!n&&Object(i.jsx)("div",{className:B,children:Object(i.jsx)(E.a,{className:U,name:"SearchOutlined",size:16})}),Object(i.jsx)(w.a,{value:f,placeholder:"\u9009\u62e9\u597d\u53cb\u6216\u76f4\u63a5\u8f93\u5165\u5708\u53cb",onChange:function(t){return e.updateKeywords(t.target.value)}}),!n&&f&&Object(i.jsx)("div",{className:B,onClick:function(){return e.updateKeywords()},children:Object(i.jsx)(E.a,{className:F,name:"WrongOutlined",size:16})})]}),!n&&Object(i.jsx)("div",{className:W,onClick:this.handleCancel,children:"\u53d6\u6d88"})]}),Object(i.jsx)(k.a.Group,{className:q,value:l,onChange:function(t){return e.setState({checkUser:t})},children:Object(i.jsx)(ne.a,{showLoadingInCenter:!0,className:$,wrapperClass:ee,height:n?"auto":"calc(100vh - 120px)",noMore:d,onRefresh:this.onScrollBottom,immediateCheck:!1,platform:p,children:this.renderItem()})}),Object(i.jsx)("div",{className:G,children:Object(i.jsx)(P.a,{className:l.length>0?J:"",onClick:function(){return e.submitSelect()},children:l.length?"@ \u5df2\u9009(".concat(l.length,")"):"\u5c1a\u672a\u9009"})})]});return n?Object(i.jsxs)("div",{className:K,style:o,id:"dzq-toolbar-at",children:[Object(i.jsx)("div",{className:Z,children:"@\u5708\u53cb"}),h]}):Object(i.jsx)(x.a,{className:"".concat(R),position:"center",visible:r,children:h})}}]),n}(g.Component))||r)||r)||r;oe.defaultProps={visible:!1,onCancel:function(){},getAtList:function(){}};t.a=oe},"Fwt+":function(e,t,n){"use strict";var r=n("67WC"),i=n("UMSQ"),a=n("I8vh"),o=n("SEBh"),s=r.aTypedArray;(0,r.exportTypedArrayMethod)("subarray",(function(e,t){var n=s(this),r=n.length,c=a(e,r);return new(o(n,n.constructor))(n.buffer,n.byteOffset+c*n.BYTES_PER_ELEMENT,i((void 0===t?r:a(t,r))-c))}))},GC2F:function(e,t,n){var r=n("+M1K");e.exports=function(e,t){var n=r(e);if(n%t)throw RangeError("Wrong offset");return n}},GCVD:function(e,t,n){"use strict";n.d(t,"a",(function(){return Q}));n("ma9I"),n("TeQF"),n("QWBl"),n("pDQq"),n("qePV"),n("5DmW"),n("tkto"),n("07d7"),n("B6y2"),n("5s+n"),n("FZtP");var r,i,a,o,s,c,u,l,d,p,f,h,m,v,b,y,g,j,x,O,w,C,k,N,T=n("o0o1"),_=n.n(T),P=(n("ls82"),n("yXPU")),S=n.n(P),E=n("RIqP"),A=n.n(E),I=n("lSNA"),R=n.n(I),D=n("yG8O"),L=n.n(D),M=n("lwsE"),B=n.n(M),U=n("W8MJ"),F=n.n(U),W=n("U+yc"),q=n.n(W),z=(n("1ABj"),n("/V48")),V=n("sho3"),X=n("+3IH");function H(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?H(Object(n),!0).forEach((function(t){R()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Q=(r=function(){function e(){return B()(this,e),L()(this,"lists",i,this),L()(this,"registerList",a,this),L()(this,"getList",o,this),L()(this,"listAdapter",s,this),L()(this,"forceUpdateList",c,this),L()(this,"updateList",u,this),L()(this,"fetchList",l,this),L()(this,"setListRequestError",d,this),L()(this,"getListRequestError",p,this),L()(this,"deleteListItem",f,this),L()(this,"deleteTargetListItem",h,this),L()(this,"setList",m,this),L()(this,"clearList",v,this),L()(this,"getAllLists",b,this),L()(this,"setAttribute",y,this),L()(this,"getAttribute",g,this),L()(this,"getAttributes",j,this),L()(this,"addThreadInTargetList",x,this),L()(this,"findAssignThreadInLists",O,this),L()(this,"findAssignThreadInTargetList",w,this),L()(this,"updateAssignThreadInfoInLists",C,this),L()(this,"deleteAssignThreadInTargetList",k,this),L()(this,"deleteAssignThreadInLists",N,this),e.instance||(e.instance=this),e.instance}return F()(e,[{key:"setTargetListDataByList",value:function(e){var t=e.namespace,n=e.list;this.lists[t]||this.registerList({namespace:t}),this.lists[t].data={1:n}}}],[{key:"getInstance",value:function(){return this.instance?this.instance:this.instance=new e}}]),e}(),i=q()(r.prototype,"lists",[z.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),a=q()(r.prototype,"registerList",[z.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){var n=t.namespace;e.lists[n]||Object(z.extendObservable)(e.lists,R()({},n,{data:{},requestError:{isError:!1,errorText:"\u52a0\u8f7d\u5931\u8d25"},attribs:{}}))}}}),o=q()(r.prototype,"getList",[z.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){var n=t.namespace;return e.lists[n]?e.listAdapter(e.lists[n]):(e.registerList({namespace:n}),[])}}}),s=q()(r.prototype,"listAdapter",[z.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(e){var t=e.data,n=[];return Object.values(t).forEach((function(e){n=[].concat(A()(n),A()(e))})),n}}}),c=q()(r.prototype,"forceUpdateList",[z.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.lists=Y({},e.lists)}}}),q()(r.prototype,"setTargetListDataByList",[z.action],Object.getOwnPropertyDescriptor(r.prototype,"setTargetListDataByList"),r.prototype),u=q()(r.prototype,"updateList",[z.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.lists=Y({},t)}}}),l=q()(r.prototype,"fetchList",[z.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=S()(_.a.mark((function t(n,r){var i,a,o,s,c,u,l,d,p,f,h,m;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=n.namespace,a=n.filter,o=void 0===a?{}:a,s=n.sequence,c=void 0===s?0:s,u=n.perPage,l=void 0===u?10:u,d=n.page,p=d,d||(p=e.getAttribute({namespace:i,key:"currentPage"})+1||1),f=o,o.categoryids&&o.categoryids instanceof Array&&((null===(h=o.categoryids)||void 0===h?void 0:h.filter((function(e){return e}))).length||delete f.categoryids),t.next=7,Object(V.readThreadList)({params:{perPage:l,page:p,filter:f,sequence:c}},r);case 7:if(0!==(m=t.sent).code||!m.data){t.next=10;break}return t.abrupt("return",m);case 10:return e.setListRequestError({namespace:i,errorText:(null===m||void 0===m?void 0:m.msg)||""}),t.abrupt("return",Promise.reject((null===m||void 0===m?void 0:m.msg)||""));case 12:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}}),d=q()(r.prototype,"setListRequestError",[z.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){var n=t.namespace,r=t.errorText;e.lists[n]||e.registerList({namespace:n}),e.lists[n].requestError.isError=!0,e.lists[n].requestError.errorText=r,e.lists=Y({},e.lists)}}}),p=q()(r.prototype,"getListRequestError",[z.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){var n=t.namespace;return e.lists[n]||e.registerList({namespace:n}),e.lists[n].requestError}}}),f=q()(r.prototype,"deleteListItem",[z.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){var n=t.item;e.deleteAssignThreadInLists({threadId:n.threadId})}}}),h=q()(r.prototype,"deleteTargetListItem",[z.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){var n=t.namespace,r=t.item;e.deleteAssignThreadInTargetList({namespace:n,threadId:r.threadId})}}}),m=q()(r.prototype,"setList",[z.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){var n=t.namespace,r=t.data,i=t.page,a=i;i||(a=e.getAttribute({namespace:n,key:"currentPage"})+1||1),e.lists[n]||e.registerList({namespace:n}),e.lists[n].data[a]=Object(z.observable)(Object(X.a)(r,"data.pageData")||[]),(!e.getAttribute({namespace:n,key:"currentPage"})||Number(e.getAttribute({namespace:n,key:"currentPage"}))<=Number(Object(X.a)(r,"data.currentPage")))&&e.setAttribute({namespace:n,key:"currentPage",value:Object(X.a)(r,"data.currentPage")}),e.setAttribute({namespace:n,key:"totalPage",value:Object(X.a)(r,"data.totalPage")}),e.setAttribute({namespace:n,key:"totalCount",value:Object(X.a)(r,"data.totalCount")}),e.lists=Y({},e.lists)}}}),v=q()(r.prototype,"clearList",[z.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){var n=t.namespace;e.lists[n]&&(e.lists[n].data={},e.lists[n].attribs={},e.lists[n].requestError={isError:!1,errorText:""},e.lists=Y({},e.lists))}}}),b=q()(r.prototype,"getAllLists",[z.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){return e.lists}}}),y=q()(r.prototype,"setAttribute",[z.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){var n=t.namespace,r=t.key,i=t.value;e.lists[n]&&(e.lists[n].attribs[r]=i,e.lists=Y({},e.lists))}}}),g=q()(r.prototype,"getAttribute",[z.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){var n=t.namespace,r=t.key;return e.lists[n]?e.lists[n].attribs[r]:null}}}),j=q()(r.prototype,"getAttributes",[z.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){var n=t.namespace;return e.lists[n]?e.lists[n].attribs:null}}}),x=q()(r.prototype,"addThreadInTargetList",[z.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){var n=t.namespace,r=t.threadInfo,i=t.updater,a=void 0===i?null:i;e.lists[n]||(e.registerList({namespace:n}),e.lists[n].data[1]=[]),e.lists[n].data[1]&&(a?a(e.lists[n].data[1]):"my"===n?e.lists[n].data[1][0]&&e.lists[n].data[1][0].userStickStatus?e.lists.my.data[1].splice(1,0,r):e.lists.my.data[1].unshift(r):e.lists[n].data[1].unshift(r));var o=e.getAttribute({namespace:n,key:"totalCount"});void 0!==o&&null!==o&&e.setAttribute({namespace:n,key:"totalCount",value:o+1}),e.lists=Y({},e.lists)}}}),O=q()(r.prototype,"findAssignThreadInLists",[z.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){var n=t.threadId,r=[];return Object.keys(e.lists).forEach((function(t){var i=e.findAssignThreadInTargetList({namespace:t,threadId:n});i&&(r=[].concat(A()(r),[i]))})),r}}}),w=q()(r.prototype,"findAssignThreadInTargetList",[z.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){var n=t.threadId,r=t.namespace;if(!e.lists[r])return null;var i=null,a=e.lists[r].data;return Object.keys(a).forEach((function(e){a[e].forEach((function(t,a){t.threadId===n&&(i={listName:r,page:e,index:a,data:t})}))})),i}}}),C=q()(r.prototype,"updateAssignThreadInfoInLists",[z.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){var n=t.threadId,r=t.threadInfo;e.findAssignThreadInLists({threadId:n}).filter((function(e){return!(null===e||void 0===e||!e.listName)})).forEach((function(t){var n,i,a,o,s=t.listName,c=t.page,u=t.index;null!==(n=e.lists)&&void 0!==n&&null!==(i=n[s])&&void 0!==i&&null!==(a=i.data)&&void 0!==a&&null!==(o=a[c])&&void 0!==o&&o[u]&&(e.lists[s].data[c][u]=Y(Y({},e.lists[s].data[c][u]),r))})),e.lists=Y({},e.lists)}}}),k=q()(r.prototype,"deleteAssignThreadInTargetList",[z.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){var n=t.namespace,r=t.threadId,i=e.findAssignThreadInTargetList({namespace:n,threadId:r});if(i){var a=i.page,o=i.index;e.lists[n].data[a].splice(o,1),e.lists[n].attribs.totalCount-=1,e.lists=Y({},e.lists)}}}}),N=q()(r.prototype,"deleteAssignThreadInLists",[z.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){var n=t.threadId;e.findAssignThreadInLists({threadId:n}).forEach((function(t){var n=t.listName,r=t.page,i=t.index;e.lists[n].data[r].splice(i,1),e.lists[n].attribs.totalCount-=1})),e.lists=Y({},e.lists)}}}),r)},GLpR:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DialogLogicalAdapter=void 0;var r=(0,n("mlqK").baseAdapterFactory)({defaultAdapter:{},adapterImplement:function(){return n("BNbG").DialogWebAdapter}});t.DialogLogicalAdapter=r},HLiX:function(e,t,n){"use strict";(function(e){n("ma9I"),n("TeQF"),n("fbCW"),n("yq1k"),n("yXV3"),n("uqXc"),n("4l63"),n("rB9j"),n("JTJg"),n("Rm1S"),n("UxlC"),n("EnZy"),n("R5XZ");var r=n("lSNA"),i=n.n(r),a=n("nKUr"),o=n("J4zp"),s=n.n(o),c=n("QILm"),u=n.n(c),l=n("q1tI"),d=(n("yuBF"),n("MCNy")),p=n.n(d),f=n("Qais"),h=n.n(f),m=n("Jw8/"),v=n.n(m),b=n("z6Ap"),y=n("TSYQ"),g=n.n(y),j=n("XBbA"),x=n("Q6w4"),O=n("5WlO"),w=n("vPOe"),C=(n("vcV1"),n("n4oF")),k=n("JHFX"),N=n("vgfq");function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.a=function(t){var n=t.content,r=t.needShowMore,i=void 0===r||r,o=t.useShowMore,c=void 0!==o&&o,d=t.onRedirectToDetail,f=void 0===d?b.e:d,m=t.customHoverBg,y=void 0!==m&&m,T=t.usePointer,P=void 0===T||T,S=t.onOpen,E=void 0===S?b.e:S,A=t.onClose,I=void 0===A?b.e:A,R=t.updateViewCount,D=void 0===R?b.e:R,L=t.transformer,M=void 0===L?function(e){return e}:L,B=t.onTextItemClick,U=void 0===B?null:B,F=u()(t,["content","needShowMore","useShowMore","onRedirectToDetail","customHoverBg","usePointer","onOpen","onClose","updateViewCount","transformer","onTextItemClick"]),W=Object(l.useState)(!1),q=W[0],z=W[1],V=Object(l.useState)(""),X=V[0],H=V[1],Y=Object(l.useState)(!1),Q=Y[0],G=Y[1],J=Object(l.useState)(!1),K=J[0],Z=J[1],$=Object(l.useState)([]),ee=$[0],te=$[1],ne=Object(l.useState)([]),re=ne[0],ie=ne[1],ae=Object(l.useState)(""),oe=ae[0],se=ae[1],ce=Object(l.useRef)(null),ue=Object(l.useRef)(null),le={x:0,y:0},de=Object(l.useState)(c),pe=de[0],fe=de[1],he=function(e){var t=e.split("?"),n=s()(t,1)[0],r=n.substr(n.lastIndexOf(".")+1);return Object(k.a)(e,r,7)},me=Object(l.useMemo)((function(){var e=n?x.a.parse(n):"";return e=function(e){var t,n=null===(t=e.match(/<img.*?[\/]?>/g))||void 0===t?void 0:t.filter((function(e){return!e.includes("emoji")}));if(n&&n.length){for(var r=[],i=[],a=0;a<n.length;a++){var o=n[a].match(/src=[\'\"]?([^\'\"]*)[\'\"]?/i);if(o&&o.length){var s=o[0],c=(s=s?s.substring(5,s.length-1):"")?he(s):"",u=n[a].replace(s,c);i.push(s),r.push({smSrc:c,lgSrc:s}),e=e.replace(n[a],u)}}i.length&&te(i),r.length&&ie(r)}return e}(e=Object(O.a)(e))}),[n]),ve=Object(l.useCallback)((function(e){e&&e.stopPropagation(),D(),q?f&&f():(fe(!1),E())}),[q]),be=Object(l.useCallback)((function(e){e&&e.stopPropagation(),fe(!0),D(),I()}),[q]),ye=function(e){var t,n,r;"a"!==e.target.localName&&(e.pageX===le.x&&e.pageY===le.y?(e&&e.stopPropagation(),null!==e&&void 0!==e&&null!==(t=e.target)&&void 0!==t&&t.getAttribute("src")&&-1===(null===e||void 0===e||null===(n=e.target)||void 0===n||null===(r=n.className)||void 0===r?void 0:r.indexOf("qq-emotion"))||f()):console.log(e.pageX!==le.x||e.pageY!==le.y,e,le))};Object(l.useEffect)((function(){K&&ce&&ce.current&&ce.current.show()}),[K]);return Object(l.useEffect)((function(){var e=parseInt((ue.current.offsetWidth||704)/16),t=Object(j.a)(me,e);G(!(t<6*e&&t<=1200)),t>1200?(pe&&function(e){var t=me.substring(0,e),n=t.lastIndexOf("<img")>0?t.lastIndexOf("<img"):t.length;t=t.substring(0,n),H(t)}(1200),z(!0)):z(!1)}),[me]),Object(a.jsxs)("div",_(_({className:g()(N.a.container,P?N.a.usePointer:"")},F),{},{children:[Object(a.jsx)("div",{ref:ue,className:"".concat(N.a.contentWrapper," ").concat(pe&&Q?N.a.hideCover:""," ").concat(y?N.a.bg:""),onClick:Q?ve:ye,onMouseDown:function(e){le={x:e.pageX,y:e.pageY}},children:Object(a.jsxs)("div",{className:N.a.content,children:[Object(a.jsx)(h.a,{content:pe&&X?X:Object(w.a)(me),onClick:ye,onImgClick:function(e){var t;if(D(),null!==e&&void 0!==e&&null!==(t=e.attribs)&&void 0!==t&&t.src){Z(!0);var n=re.find((function(t){return t.smSrc===e.attribs.src}));se((null===n||void 0===n?void 0:n.lgSrc)||e.attribs.src)}},onLinkClick:function(){D(),setTimeout((function(){}),500)},transformer:M,iframeWhiteList:["bilibili","youku","iqiyi","music.163.com","ixigua","qq.com","myqcloud.com",Object(C.a)()?e.ctx.req.headers.host:window.location.hostname]}),K&&Object(a.jsx)(v.a,{ref:ce,onClose:function(){Z(!1)},imgUrls:ee,currentUrl:oe}),U&&Object(a.jsx)("div",{className:N.a.shade,onClick:U})]})}),i&&Q&&Object(a.jsxs)("div",{className:N.a.showMore,onClick:pe?ve:be,children:[Object(a.jsx)("div",{className:N.a.hidePercent,children:{showMore:"\u67e5\u770b\u66f4\u591a",closeMore:"\u6298\u53e0"}[pe?"showMore":"closeMore"]}),Object(a.jsx)(p.a,{className:pe?N.a.icon:N.a.icon_d,name:"RightOutlined",size:12})]})]}))}}).call(this,n("ntbh"))},"Hg/G":function(e,t,n){"use strict";n("ma9I");var r=n("nKUr"),i=n("q1tI"),a=n.n(i),o="_3ldvJzUDWXfrhETzFOpffv",s="_1OGnAgUs72U6OpFsou3LCQ",c="_3dDSq_5OYP_g9LDJZMLec_",u="_3SXOuQjXC01TmCMVQ8q_yg",l="rV1D8jz42Qag-BV-KF8P-",d="_21zS_phqu-QXSJgEiz8N6D",p=function(e){var t=e.image,n=e.title,i=e.amount,a=void 0===i?0:i,p=e.loading,f=e.className,h=void 0===f?"":f,m=e.onClick,v=p?"\u5185\u5bb9\u52a0\u8f7d\u4e2d":n||"\u6682\u65e0\u5185\u5bb9";return Object(r.jsxs)("div",{className:"".concat(o," ").concat(h),onClick:m,children:[Object(r.jsx)("img",{alt:"\u56fe\u7247",className:"".concat(s," ").concat(t?"":c),src:t}),Object(r.jsxs)("div",{className:u,children:[Object(r.jsx)("div",{className:l,children:v}),Object(r.jsxs)("div",{className:d,children:["\xa5",a]})]})]})};t.a=a.a.memo(p)},HoAE:function(e,t,n){"use strict";n("ma9I"),n("R5XZ");var r=n("nKUr"),i=n("q1tI"),a=n.n(i),o=n("5f2u"),s=n.n(o),c=n("MCNy"),u=n.n(c),l=n("z6Ap"),d="NKI5Fhgnr_Pk5e5edg2Gn",p="_2EFEQXHJKYxTT2eAqoUAsc",f="_2jD30ozLZ4ZskbJTDpa5GI",h=function(e){var t=e.defaultShow,n=void 0!==t&&t,a=e.className,o=void 0===a?"":a,c=e.text,h=void 0===c?"\u6682\u65e0\u6570\u636e":c,m=e.icon,v=void 0===m?"":m,b=e.onClick,y=void 0===b?l.e:b,g=e.isShowBtn,j=void 0!==g&&g,x=e.btnText,O=void 0===x?"\u70b9\u51fb\u5237\u65b0":x,w=Object(i.useState)(!n),C=w[0],k=w[1];return Object(i.useEffect)((function(){var e=setTimeout((function(){clearTimeout(e),k(!1)}),1e3);return function(){clearTimeout(e)}}),[]),Object(r.jsxs)("div",{className:"".concat(d," ").concat(o),children:[Object(r.jsxs)("div",{className:p,children:[v&&Object(r.jsx)(u.a,{name:v,size:48,className:f}),!C&&Object(r.jsx)("span",{children:h})]}),j&&Object(r.jsx)(s.a,{onClick:y,children:O})]})};t.a=a.a.memo(h)},"Hu/N":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ViewAdapter=void 0;var r=(0,n("1d9p").baseLayoutFactory)({layoutImplement:function(){return n("COiX").AudioPlayerWebLayout}});t.ViewAdapter=r},IZzc:function(e,t,n){"use strict";var r=n("67WC"),i=r.aTypedArray,a=r.exportTypedArrayMethod,o=[].sort;a("sort",(function(e){return o.call(i(this),e)}))},JMBi:function(e,t,n){"use strict";n("ma9I");var r=n("nKUr"),i=n("q1tI"),a=n("yuBF"),o="_1GH0Y3Jn8RA5fXYbnJwXwd",s="_2IvNRlQ9YTUX7QzsZn9QA4",c="_3Nl5vjkZF6_IR2jNSHAR6o",u="AeKO3ejDuPL2Pt-Z4eigM",l="_2la-Op90Z73r47GHuEas0f",d="_2O9N5MrgKCYa-y-HUi7SPM",p="_3UUiN_Mr3gS5HqBSORjaPC",f="_22scE66aveOpFmgBwo9GK1",h="BZWiirORsNjpKEEg-T4ZA",m=n("h29V"),v=n.n(m),b=n("MCNy"),y=n.n(b),g=n("wdT/"),j=n.n(g),x=n("z6Ap");n("toAj");t.a=Object(a.inject)("baselayout")(Object(a.observer)((function(e){var t,n=e.coverUrl,a=e.url,m=e.time,b=e.status,g=void 0===b?0:b,O=e.baselayout,w=void 0===O?{}:O,C=e.v_width,k=void 0===C?null:C,N=e.v_height,T=void 0===N?null:N,_=e.onVideoReady,P=void 0===_?x.e:_,S=e.updateViewCount,E=void 0===S?x.e:S,A=e.canViewVideo,I=void 0===A||A,R=null,D=Object(i.useRef)(),L=Object(i.useState)(null),M=L[0],B=L[1],U=Object(i.useState)(null),F=U[0],W=U[1];return Object(i.useEffect)((function(){var e=D.current.getBoundingClientRect(),t=function(e){var t,n,r=e.parentWidth,i=void 0===r?343:r,a=e.v_width,o=void 0===a?null:a,s=e.v_height,c=void 0===s?null:s,u=e.viewHeight;if(o&&c&&o<c){var l=c,d=o;if(u/c>.7)t=l=(.7*u).toFixed(2),(n=d=(o*(l/c).toFixed(2)).toFixed(2))>i&&(n=i,t=(t*(i/d).toFixed(2)).toFixed(2));else{var p=(d/l).toFixed(2);n=(.75*i).toFixed(2),t=(.75*i/p).toFixed(2)}}else n=i,t=o&&c?(i/(o/c).toFixed(2)).toFixed(2):(9*i/16).toFixed(2)||"224";return{width:n,height:t}}({parentWidth:(null===e||void 0===e?void 0:e.width)||343,v_width:k,v_height:T,viewHeight:window.innerHeight}),n=t.width,r=t.height,i="NaN"!==r&&r?r:0;B(n),W(i)}),[]),Object(i.useEffect)((function(){var e;null!==D&&void 0!==D&&null!==(e=D.current)&&void 0!==e&&e.clientHeight&&P&&P()}),[null===D||void 0===D||null===(t=D.current)||void 0===t?void 0:t.clientHeight]),Object(r.jsxs)("div",{id:"common-video-play",className:o,style:{width:"".concat(M,"px"),height:"".concat(F,"px")},ref:D,children:[M&&a&&Object(r.jsx)(v.a,{className:s,onReady:function(e){R=e},onPlay:function(e){var t,n,r,i;(E(),R&&e&&w)&&(w.playingVideoDom&&w.pauseWebPlayingVideo(e.target),w.playingAudioDom&&w.pauseWebPlayingAudio(),w.playingVideoDom=e.target,w.playingVideoPos=(null===(t=e.target)||void 0===t||null===(n=t.parentNode)||void 0===n||null===(r=n.parentNode)||void 0===r||null===(i=r.parentNode)||void 0===i?void 0:i.offsetTop)||-1)},src:a,width:M,height:F,poster:n,duration:m,playsinline:!0,preload:"none"}),!I&&Object(r.jsx)("div",{className:d,style:!a&&{backgroundImage:"url(".concat(n,")")},onClick:function(){return j.a.warning({content:"\u6682\u2f46\u6743\u9650\u64ad\u653e\u89c6\u9891"})}}),1!==g&&Object(r.jsx)("div",{className:c,children:Object(r.jsxs)("div",{className:"".concat(u," ").concat(0===g?p:h),children:[Object(r.jsx)(y.a,{className:f,size:20,name:0===g?"TipsOutlined":"WrongOutlined"}),Object(r.jsx)("span",{className:l,children:0===g?"\u89c6\u9891\u6b63\u5728\u8f6c\u7801\u4e2d\uff0c\u8f6c\u7801\u6210\u529f\u540e\u624d\u80fd\u6b63\u5e38\u663e\u793a\uff01":"\u9519\u8bef"})]})})]})})))},"JW/Y":function(e,t,n){"use strict";var r=n("QykG"),i="shared",a=function(e,t){var n=1;for(e>t&&(n=-1);Math.abs(t-e)>4294967296;)e+=8589934592*n;return e},o=function(e){var t,n;o.prototype.init.call(this),this.type_=e||i,this.push=function(e){this.type_!==i&&e.type!==this.type_||(void 0===n&&(n=e.dts),e.dts=a(e.dts,n),e.pts=a(e.pts,n),t=e.dts,this.trigger("data",e))},this.flush=function(){n=t,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.discontinuity=function(){n=void 0,t=void 0},this.reset=function(){this.discontinuity(),this.trigger("reset")}};o.prototype=new r,e.exports={TimestampRolloverStream:o,handleRollover:a}},JaFt:function(e,t,n){"use strict";var r=n("67WC"),i=n("1Y/n").right,a=r.aTypedArray;(0,r.exportTypedArrayMethod)("reduceRight",(function(e){return i(a(this),e,arguments.length,arguments.length>1?arguments[1]:void 0)}))},JuNc:function(e,t,n){"use strict";n.d(t,"a",(function(){return A}));n("ma9I"),n("sMBO");var r=n("nKUr"),i=n("q1tI"),a=n("20a2"),o=n("MCNy"),s=n.n(o),c=n("882Z"),u=n.n(c),l="_3vzgE0JO7yODLegGF3e_o6",d="_1YGjNfVpC2qVZuHqiuf9h8",p="_2VBTbTd0x7DeNWAffQ_bSJ",f="_31QIZmB_bRT6P_oqqWQLxo",h="_3q7Rb6x0OaaOTa6tzylA-K",m="_3nRa4jRRQYlqTb7hlu0hZu",v="_1F1XnlfafPOTg8zmNfZERI",b="_12Dbc2mDcbtynMdpsNwTRy",y="_3ILFi3whBgLurrabJlWFXq",g="_2eV5b6ey1asz--WBvbZTXt",j="_1lrXVAF6HQ3R0wwMzklQ7V",x="_3VK4KZUwCSzxuUYrD9iKEo",O="_1WKKY06KgqHNROQPkwon0M",w="xB98cJT4ayfIc_0oCaLMN",C="_10ZtQEL4Goa2PIyupkJ2vP",k="_2x7ZKpM5yBHsCprWp95Tmk",N=n("Bvw4"),T=(n("+Lwc"),n("TSYQ")),_=n.n(T),P=n("ZlQF"),S=n("u7s3"),E=n("ATtJ");function A(e){var t=0;e.isEssence&&(t+=1),e.isPay&&(t+=1),e.isReward&&(t+=1),e.isRed&&(t+=1);var n=Object(i.useState)(!1),o=n[0],c=n[1],T="pc"===e.platform,A=Object(a.useRouter)();return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(P.a,{href:"/user/".concat(e.userId),text:e.name||""}),Object(r.jsxs)("div",{className:l,children:[Object(r.jsx)(N.a,{isShowUserInfo:!e.hideInfoPopip&&"pc"===e.platform,userId:e.userId,className:_()(p,d),circle:!0,image:e.avatar,name:e.name||"",onClick:function(t){return e.onClick&&e.onClick(t)},unifyOnClick:e.unifyOnClick,platform:e.platform}),Object(r.jsxs)("div",{className:f,children:[Object(r.jsxs)("div",{className:h,children:[Object(r.jsx)("div",{className:_()(m,"pc"===e.platform&&v,d),onClick:function(t){return e.onClick(t)},children:e.name}),!e.isAnonymous&&e.groupName&&Object(r.jsx)("div",{className:b,children:e.groupLevel?Object(r.jsx)(S.a,{onClick:function(){T?c(!0):A.push("/my/upgrade?level=".concat(e.groupLevel))},groupLevel:e.groupLevel,groupName:e.groupName,groupNameStyle:t<3?{maxWidth:"82.5px"}:{maxWidth:"58px"}}):Object(r.jsx)("div",{className:"".concat(y," ").concat(t>3?g:""),children:e.groupName})}),e.extraInfo&&e.extraInfo]}),Object(r.jsxs)("div",{className:j,children:[e.time&&Object(r.jsx)("span",{className:x,children:e.time.substr(0,10)}),e.location&&Object(r.jsxs)("div",{className:O,children:[Object(r.jsx)(s.a,{name:"PositionOutlined",size:14}),Object(r.jsx)("span",{children:e.location})]}),e.view&&Object(r.jsxs)("div",{className:w,children:[Object(r.jsx)(s.a,{name:"EyeOutlined",className:C,size:14}),Object(r.jsx)("span",{children:e.view})]})]})]}),Object(r.jsxs)("div",{className:k,children:[e.isEssence&&Object(r.jsx)(u.a,{type:"orange",children:t>2&&!T?"\u7cbe":"\u7cbe\u534e"}),e.isReward&&Object(r.jsx)(u.a,{type:"warning",children:t>2&&!T?"\u60ac":"\u60ac\u8d4f"}),e.isRed&&Object(r.jsx)(u.a,{type:"danger",children:t>2&&!T?"\u7ea2":"\u7ea2\u5305"}),e.isPay&&Object(r.jsx)(u.a,{type:"success",children:t>2&&!T?"\u4ed8":"\u4ed8\u8d39"}),e.extraTag&&e.extraTag]}),o&&Object(r.jsx)(E.a,{showRenderCard:!1,visible:o,onClose:function(){return c(!1)},groupLevel:e.groupLevel,groupName:e.groupName})]})]})}},"Jw8/":function(e,t,n){"use strict";var r=n("TqRt"),i=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n("pVnL")),o=r(n("QILm")),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!==typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(n("q1tI")),c=r(n("Wgwo")),u=r(n("qMd1")),l=["imgUrls","visible","current","onClose"];function d(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}var p=(0,c.default)(),f=((0,u.default)(),(0,s.forwardRef)((function(e,t){var n=e.imgUrls,r=void 0===n?[]:n,i=e.visible,c=void 0!==i&&i,u=e.current,d=void 0===u?"":u,f=e.onClose,h=void 0===f?function(){}:f,m=(0,o.default)(e,l);return s.default.createElement(p,(0,a.default)({ref:t,imgs:r,visible:c,currentUrl:d,onClose:h},m))})));t.default=f},K4wu:function(e,t,n){var r=n("vgmO"),i=e.exports={WebVTT:n("0CxO"),VTTCue:n("sDzi"),VTTRegion:n("+X0y")};r.vttjs=i,r.WebVTT=i.WebVTT;var a=i.VTTCue,o=i.VTTRegion,s=r.VTTCue,c=r.VTTRegion;i.shim=function(){r.VTTCue=a,r.VTTRegion=o},i.restore=function(){r.VTTCue=s,r.VTTRegion=c},r.VTTCue||i.shim()},KAYj:function(e,t,n){"use strict";var r,i,a,o,s,c,u=n("f+Ey").toUnsigned,l=n("f+Ey").toHexString,d=n("FflX"),p=n("jv9p"),f=n("yqws"),h=n("ii1t"),m=n("29xw");r=function(e){return d(e,["moov","trak"]).reduce((function(e,t){var n,r,i,a,o;return(n=d(t,["tkhd"])[0])?(r=n[0],a=u(n[i=0===r?12:20]<<24|n[i+1]<<16|n[i+2]<<8|n[i+3]),(o=d(t,["mdia","mdhd"])[0])?(i=0===(r=o[0])?12:20,e[a]=u(o[i]<<24|o[i+1]<<16|o[i+2]<<8|o[i+3]),e):null):null}),{})},i=function(e,t){var n,r,i;return n=d(t,["moof","traf"]),r=[].concat.apply([],n.map((function(t){return d(t,["tfhd"]).map((function(n){var r,i,a;return r=u(n[4]<<24|n[5]<<16|n[6]<<8|n[7]),i=e[r]||9e4,(a="number"!==typeof(a=d(t,["tfdt"]).map((function(e){var t,n;return t=e[0],n=u(e[4]<<24|e[5]<<16|e[6]<<8|e[7]),1===t&&(n*=Math.pow(2,32),n+=u(e[8]<<24|e[9]<<16|e[10]<<8|e[11])),n}))[0])||isNaN(a)?1/0:a)/i}))}))),i=Math.min.apply(null,r),isFinite(i)?i:0},a=function(e,t){var n,r=d(t,["moof","traf"]),i=0,a=0;if(r&&r.length){var o=d(r[0],["tfhd"])[0],s=d(r[0],["trun"])[0],c=d(r[0],["tfdt"])[0];if(o)n=f(o).trackId;if(c)i=m(c).baseMediaDecodeTime;if(s){var u=h(s);u.samples&&u.samples.length&&(a=u.samples[0].compositionTimeOffset||0)}}return(i+a)/(e[n]||9e4)},o=function(e){var t=d(e,["moov","trak"]),n=[];return t.forEach((function(e){var t=d(e,["mdia","hdlr"]),r=d(e,["tkhd"]);t.forEach((function(e,t){var i,a,o=p(e.subarray(8,12)),s=r[t];"vide"===o&&(a=0===(i=new DataView(s.buffer,s.byteOffset,s.byteLength)).getUint8(0)?i.getUint32(12):i.getUint32(20),n.push(a))}))})),n},c=function(e){var t=0===e[0]?12:20;return u(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])},s=function(e){var t=d(e,["moov","trak"]),n=[];return t.forEach((function(e){var t,r,i={},a=d(e,["tkhd"])[0];a&&(r=(t=new DataView(a.buffer,a.byteOffset,a.byteLength)).getUint8(0),i.id=0===r?t.getUint32(12):t.getUint32(20));var o=d(e,["mdia","hdlr"])[0];if(o){var s=p(o.subarray(8,12));i.type="vide"===s?"video":"soun"===s?"audio":s}var u=d(e,["mdia","minf","stbl","stsd"])[0];if(u){var f=u.subarray(8);i.codec=p(f.subarray(4,8));var h,m=d(f,[i.codec])[0];m&&(/^[a-z]vc[1-9]$/i.test(i.codec)?(h=m.subarray(78),"avcC"===p(h.subarray(4,8))&&h.length>11?(i.codec+=".",i.codec+=l(h[9]),i.codec+=l(h[10]),i.codec+=l(h[11])):i.codec="avc1.4d400d"):/^mp4[a,v]$/i.test(i.codec)?(h=m.subarray(28),"esds"===p(h.subarray(4,8))&&h.length>20&&0!==h[19]?(i.codec+="."+l(h[19]),i.codec+="."+l(h[20]>>>2&63).replace(/^0/,"")):i.codec="mp4a.40.2"):i.codec=i.codec.toLowerCase())}var v=d(e,["mdia","mdhd"])[0];v&&(i.timescale=c(v)),n.push(i)})),n},e.exports={findBox:d,parseType:p,timescale:r,startTime:i,compositionStartTime:a,videoTrackIds:o,tracks:s,getTimescaleFromMediaHeader:c}},KDBa:function(e,t,n){"use strict";n.r(t);n("ma9I"),n("TeQF"),n("2B1R"),n("DQNa"),n("wLYn"),n("tkto"),n("07d7"),n("rB9j"),n("JfAA"),n("Rm1S"),n("UxlC");var r=n("QILm"),i=n.n(r),a=n("o0o1"),o=n.n(a),s=n("lSNA"),c=n.n(s),u=(n("ls82"),n("yXPU")),l=n.n(u),d=n("lwsE"),p=n.n(d),f=n("W8MJ"),h=n.n(f),m=n("PJYZ"),v=n.n(m),b=n("7W2i"),y=n.n(b),g=n("a1gu"),j=n.n(g),x=n("Nsbk"),O=n.n(x),w=n("q1tI"),C=n.n(w),k=(n("yuBF"),n("5f2u")),N=n.n(k),T=n("MCNy"),_=n.n(T),P=n("85EP"),S=n.n(P),E=n("wdT/"),A=n.n(E),I=n("+pgT"),R=n.n(I),D=n("DetZ"),L=n.n(D),M=n("WAV8"),B=n("8PLW"),U=n("lN2P"),F=n("AV0F"),W=n("TSYQ"),q=n.n(W),z={wrapper:"_3_WH-OUPjA0nnDhYXlfC0Q","wrapper-header":"Zy8KKOk9YhHKePnrsAdGu","wrapper-header__left":"DdV8PMS5jXyvbt2k7WJET","wrapper-header__right":"_28frnldj6QxKT7xYAPhWfV","wrapper-content":"_11isS0icNQMA52PSbiezBu","wrapper-content__detail":"_1dBNMIENFImsjoqZy7jMQa","text-clamp":"_2ZJ96WWxrZFtmdyiwH_fC5",more:"_3rTqaWuZOJIEdHHb1At9m0","wrapper-content__tip":"ENG1jpte7Lbv6Sc0_7R_x","wrapper-tip__content":"CG_KXtUYNxlvNmwmXfYMT","wrapper-tip_title":"tEcHFsbIIx_IPVk82zLlD","wrapper-tip_detail":"_2lnw_mUEDWQ3SgS-773Iiu",mt4n:"_3k7uOB_jTTzfTgZLQQYizA","wrapper-content__limit":"_2iwzuDB4CJDuNSUCC29EzB","wrapper-footer__top":"_2OiW7CZAQqITge1aUxlh_1",users:"PZ_epXE03v6XM73CriHda",one:"_123i-7mqtRvkZkrjHF5qU6",two:"jVP1eOcyGwh03SvZaOlBa",three:"_1VzFv4PikNzZox2CfH8toP",m10:"IIjIjfNs3xDu5ZuJFMJxS",h5:"_1iYR2u97zmSKrvlhzF_hQU","text-primary":"FFaOiojyTmW5CwIzF3JTI",donebtn:"_37_HZzuu_PTDYiKFP51-Vq",isregisterd:"_1yJygedAcz_fObciQ-Orph",applybtn:"gKkvu2Xe24QtdMv06VrAF"},V=n("YMl3"),X=C.a.createElement;function H(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?H(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Q(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=O()(e);if(t){var i=O()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return j()(this,n)}}var G=null,J=function(e){y()(n,e);var t=Q(n);function n(e){var r;return p()(this,n),(r=t.call(this,e)).applyStartCountDown=function(e){G.start(e,(function(e){var t,n=e.days,i=e.hours,a=e.minutes,o=e.seconds;(r.setState({minutes:a,seconds:o,days:n,hours:i}),0===n&&0===i&&0===a&&0===o)&&(r.setState({isApplyEnd:!0}),null===(t=G)||void 0===t||t.stop())}))},r.getUserCls=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.length>=3?z.three:2===e.length?z.two:1===e.length?z.one:void 0},r.getActStatusText=function(){var e=(r.props.renderData||{}).body,t=r.state,n=t.isApplyEnd;return t.isApplyStart?null!==e&&void 0!==e&&e.isMemberFull?"\u4eba\u6570\u5df2\u6ee1":n?"\u62a5\u540d\u5df2\u7ed3\u675f":void 0:"\u62a5\u540d\u672a\u5f00\u59cb"},r.submit=l()(o.a.mark((function e(){var t,n,i,a,s,c,u,l,d,p,f,h,m,v,b,y,g,j,x,O,w,C,k,N,T;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.props,n=t.renderData,i=t.userInfo,a=t.threadData,s=t.updateThread,c=t.updateListThreadIndexes,u=t.recomputeRowHeights,d=(l=n||{}).tomId,p=l.body,f=l._plugin,h=p.isRegistered,m=p.activityId,v=p.registerUsers,b=p.totalNumber,y=h?r.deleteRegister:r.createRegister,r.setState({loading:!0,isAttachShow:!1}),g={activityId:m},Object.keys(r.state.additionalInfo)&&(g.additionalInfo=r.state.additionalInfo),e.next=9,y({data:g});case 9:return j=e.sent,r.setState({loading:!1}),0===j.code?(O=(x=i).id,w=v.filter((function(e){return e.userId!==O})),C=null===p||void 0===p?void 0:p.currentNumber,h?C=(null===p||void 0===p?void 0:p.currentNumber)-1:(w.unshift({userId:O,avatar:x.avatarUrl,nickname:x.nickname}),C=(null===p||void 0===p?void 0:p.currentNumber)+1),k=r.state.isDetailPage?null===a||void 0===a?void 0:a.id:null===a||void 0===a?void 0:a.threadId,N={body:Y(Y({},p),{},{isRegistered:!h,registerUsers:w,currentNumber:C,isMemberFull:C===b&&b>0}),tomId:d,threadId:k,_plugin:f},s(d,N),(T=c(k,d,N))&&u&&u(T),A.a.info({content:h?"\u53d6\u6d88\u62a5\u540d\u6210\u529f":"\u62a5\u540d\u6210\u529f"})):A.a.error({content:j.msg||"\u62a5\u540d\u5931\u8d25"}),e.abrupt("return",j);case 13:case"end":return e.stop()}}),e)}))),r.handleActOperate=l()(o.a.mark((function e(){var t,n,i,a,s,c,u;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=r.props,n=t.renderData,(0,t.isLogin)()){e.next=4;break}return U.a.saveAndLogin(),e.abrupt("return");case 4:if(i=(n||{}).body,a=i.isRegistered,s=i.additionalInfoType,c=void 0===s?[]:s,r.state.isAttachShow||a||!c||!c.length){e.next=9;break}return r.setState({isAttachShow:!0}),e.abrupt("return");case 9:return e.next=11,r.submit();case 11:return u=e.sent,e.abrupt("return",u);case 13:case"end":return e.stop()}}),e)}))),r.handleMoreClick=function(){var e=r.props,t=e.dzqRouter,n=e.threadData,i=r.state.isDetailPage?null===n||void 0===n?void 0:n.id:null===n||void 0===n?void 0:n.threadId;i&&t.push({url:"/thread/".concat(i)})},r.handleAttachClose=function(){return r.setState({isAttachShow:!1})},r.handleAttachInfoChange=function(e,t){var n=(F.a[null===t||void 0===t?void 0:t.toString()]||{}).key;if(n){var i=r.state.additionalInfo,a=e.target.value;t===F.b.mobile&&(a=a.match(/\d{0,11}/g)[0]||""),i[n]=a,r.setState({additionalInfo:i})}},r.handleAttachConfirm=function(){for(var e,t=(r.props.renderData||{}).body,n=r.state.additionalInfo,i=void 0===n?{}:n,a=(t||{}).additionalInfoType,o=null===(e=a||[])||void 0===e?void 0:e.length,s=!1,c=0;c<o;c++){var u,l=a[c];if(!i[null===(u=F.a[l])||void 0===u?void 0:u.key]){var d;s=!0,A.a.info({content:"\u8bf7\u8f93\u5165".concat(null===(d=F.a[l])||void 0===d?void 0:d.value)});break}}s||r.handleActOperate()},r.state={isDetailPage:"/thread/[id]"===e.dzqRouter.router.router.pathname,popupShow:!1,loading:!1,days:0,hours:0,minutes:0,seconds:0,isApplyEnd:!1,isApplyStart:!1,isAttachShow:!1,additionalInfo:{}},r.handleActOperate=r.handleActOperate.bind(v()(r)),r.createRegister=r.createRegister.bind(v()(r)),r.deleteRegister=r.deleteRegister.bind(v()(r)),r}return h()(n,[{key:"componentDidMount",value:function(){G||(G=new B.a),this.initCountDown()}},{key:"componentDidUpdate",value:function(e,t){null===e.renderData&&null!==this.props.renderData&&this.initCountDown()}},{key:"componentWillUnmount",value:function(){var e;G||null===(e=G)||void 0===e||e.stop()}},{key:"initCountDown",value:function(){var e=this,t=(this.props.renderData||{}).body;if(null!==t&&void 0!==t&&t.registerEndTime||null!==t&&void 0!==t&&t.registerStartTime){var n,r,i=null===t||void 0===t||null===(n=t.registerStartTime)||void 0===n?void 0:n.replace(/-/g,"/"),a=null===t||void 0===t||null===(r=t.registerEndTime)||void 0===r?void 0:r.replace(/-/g,"/");(new Date).getTime()<new Date(i).getTime()?G.start(i,(function(t){var n=t.days,r=t.hours,i=t.minutes,o=t.seconds;e.setState({minutes:i,seconds:o,days:n,hours:r}),0===n&&0===r&&0===i&&0===o&&(e.setState({isApplyStart:!0}),e.applyStartCountDown(a))})):(this.setState({isApplyStart:!0}),this.applyStartCountDown(a))}}},{key:"deleteRegister",value:function(){var e=l()(o.a.mark((function e(t){var n,r,a,s,c,u,l;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.params,r=void 0===n?{}:n,a=t.data,s=void 0===a?{}:a,c=i()(t,["params","data"]),u=Y({url:"/plugin/activity/api/register/cancel",method:"POST",params:r,data:s},c),e.next=5,this.props.dzqRequest.dispatcher(u);case 5:return l=e.sent,e.abrupt("return",l);case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",this.props.dzqRequestHandleError(e.t0));case 12:case"end":return e.stop()}}),e,this,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},{key:"createRegister",value:function(){var e=l()(o.a.mark((function e(t){var n,r,a,s,c,u,l;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.params,r=void 0===n?{}:n,a=t.data,s=void 0===a?{}:a,c=i()(t,["params","data"]),u=Y({url:"/plugin/activity/api/register/append",method:"POST",params:r,data:s},c),e.next=5,this.props.dzqRequest.dispatcher(u);case 5:return l=e.sent,e.abrupt("return",l);case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",this.props.dzqRequestHandleError(e.t0));case 12:case"end":return e.stop()}}),e,this,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},{key:"exportInfo",value:function(){var e=l()(o.a.mark((function e(){var t,n,r,i,a,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,n=this.props,r=n.renderData,i=n.siteData,a=(r||{}).body,s=a.activityId,A.a.info({content:"\u5bfc\u51fa\u4e2d..."}),window.open("".concat(null===i||void 0===i||null===(t=i.envConfig)||void 0===t?void 0:t.COMMON_BASE_URL,"/plugin/activity/api/register/export?activityId=").concat(s)),e.next=11;break;case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",this.props.dzqRequestHandleError(e.t0));case 11:case"end":return e.stop()}}),e,this,[[0,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e,t,n=this,r=this.props,i=r.siteData,a=r.renderData,o=this.state,s=o.isApplyEnd,u=o.minutes,l=o.seconds,d=o.days,p=o.hours,f=o.isApplyStart,h=o.additionalInfo;if(!a)return null;var m=(a||{}).body,v=m||{},b=v.isRegistered,y=v.additionalInfoType,g=(null===m||void 0===m?void 0:m.isExpired)||(null===m||void 0===m?void 0:m.isMemberFull)||s||!f,j=this.state.popupShow,x="h5"===i.platform?z.h5:z.pc;return X(C.a.Fragment,null,X("div",{className:q()(z.wrapper,x)},X("div",{className:z["wrapper-header"]},X("div",{className:z["wrapper-header__left"]},(null===m||void 0===m?void 0:m.title)&&(null===m||void 0===m?void 0:m.title)),X("div",{className:z["wrapper-header__right"]},!s&&X(C.a.Fragment,null,"\u8fd8\u6709",X("span",{className:z["text-primary"]},d),"\u5929",X("span",{className:z["text-primary"]},p),"\u5c0f\u65f6",X("span",{className:z["text-primary"]},u),"\u5206",X("span",{className:z["text-primary"]},l),"\u79d2",f?"\u7ed3\u675f\u62a5\u540d":"\u5f00\u59cb\u62a5\u540d"),s&&X(C.a.Fragment,null,"\u62a5\u540d\u5df2\u7ed3\u675f"))),X("div",{className:z["wrapper-content"]},(null===m||void 0===m?void 0:m.content)&&X(C.a.Fragment,null,X("div",{className:q()(z["wrapper-content__detail"],c()({},z["text-clamp"],!this.state.isDetailPage))},null===m||void 0===m?void 0:m.content),!this.state.isDetailPage&&X("div",{className:q()(z["text-primary"],z.more),onClick:this.handleMoreClick},"\u67e5\u770b\u8be6\u60c5>")),X("div",{className:q()(z["wrapper-content__tip"],z.mt4n)},X(_.a,{name:"TimeOutlined",size:"12"}),X("div",{className:z["wrapper-tip__content"]},X("span",{className:z["wrapper-tip_title"]},"\u6d3b\u52a8\u65f6\u95f4"),X("span",{className:z["wrapper-tip_detail"]},null===m||void 0===m?void 0:m.activityStartTime," ~ ",null===m||void 0===m?void 0:m.activityEndTime))),(null===m||void 0===m||null===(e=m.position)||void 0===e?void 0:e.location)&&X("div",{className:z["wrapper-content__tip"]},X(_.a,{name:"PositionOutlined",size:"12"}),X("div",{className:z["wrapper-tip__content"]},X("span",{className:z["wrapper-tip_title"]},"\u6d3b\u52a8\u5730\u5740"),X("span",{className:z["wrapper-tip_detail"]},null===m||void 0===m||null===(t=m.position)||void 0===t?void 0:t.location))),0!==(null===m||void 0===m?void 0:m.totalNumber)&&X("div",{className:z["wrapper-content__limit"]},"\u9650",X("span",{className:z["text-primary"]},null===m||void 0===m?void 0:m.totalNumber),"\u4eba\u53c2\u4e0e")),X("div",{className:z["wrapper-footer"]},X("div",{className:z["wrapper-footer__top"]},X("div",{className:q()(z.users,this.getUserCls((null===m||void 0===m?void 0:m.registerUsers)||[])),onClick:function(){return n.setState({popupShow:!0})}},((null===m||void 0===m?void 0:m.registerUsers)||[]).map((function(e,t){return t<=2?X(S.a,{circle:!0,size:"small",text:e.nickname,image:e.avatar,key:e.nickname}):null})),X("span",{className:z.m10},null===m||void 0===m?void 0:m.currentNumber,"\u4eba\u5df2\u62a5\u540d")),(!g||b)&&X(N.a,{type:"primary",loading:this.state.loading,className:q()(z.applybtn,c()({},z.isregisterd,b)),onClick:this.handleActOperate},b?"\u53d6\u6d88\u62a5\u540d":"\u7acb\u5373\u62a5\u540d")),g&&X(N.a,{full:!0,disabled:!0,className:z.donebtn},this.getActStatusText()))),j&&X(M.a,{isCustom:!0,activityId:null===m||void 0===m?void 0:m.activityId,visible:j,onHidden:function(){return n.setState({popupShow:!1})},tipData:{platform:i.platform},exportFn:this.exportInfo.bind(this)}),this.state.isAttachShow&&X(R.a,{title:"\u586b\u5199\u4fe1\u606f",visible:this.state.isAttachShow,onCancel:this.handleAttachClose,onClose:this.handleAttachClose,onConfirm:this.handleAttachConfirm,isNew:!0,type:"confirm",className:q()(V.a["dzqp-act"],"h5"===i.platform?V.a.h5:V.a.pc)},(y||[]).map((function(e){var t,r,i;return X("div",{className:V.a["dzqp-act--item"]},X("div",{className:V.a["dzqp-act--item_title"],key:e},null===(t=F.a[null===e||void 0===e?void 0:e.toString()])||void 0===t?void 0:t.value),X("div",{className:V.a["dzqp-act--item_right"]},X(L.a,{className:V.a["dzqp-act--item_right"],htmlType:e===F.b.mobile?"number":"text",mode:e===F.b.mobile?"number":"text",placeholder:"\u8bf7\u8f93\u5165".concat(null===(r=F.a[null===e||void 0===e?void 0:e.toString()])||void 0===r?void 0:r.value),maxLength:50,value:h[null===(i=F.a[null===e||void 0===e?void 0:e.toString()])||void 0===i?void 0:i.key]||"",onChange:function(t){return n.handleAttachInfoChange(t,e)}})))}))))}}]),n}(C.a.Component);t.default=J},KN4Y:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=(r=n("vgmO"))&&"object"===typeof r&&"default"in r?r.default:r,a={mp4:/^(av0?1|avc0?[1234]|vp0?9|flac|opus|mp3|mp4a|mp4v|stpp.ttml.im1t)/,webm:/^(vp0?[89]|av0?1|opus|vorbis)/,ogg:/^(vp0?[89]|theora|flac|opus|vorbis)/,video:/^(av0?1|avc0?[1234]|vp0?[89]|hvc1|hev1|theora|mp4v)/,audio:/^(mp4a|flac|vorbis|opus|ac-[34]|ec-3|alac|mp3)/,text:/^(stpp.ttml.im1t)/,muxerVideo:/^(avc0?1)/,muxerAudio:/^(mp4a)/,muxerText:/a^/},o=["video","audio","text"],s=["Video","Audio","Text"],c=function(e){return e?e.replace(/avc1\.(\d+)\.(\d+)/i,(function(e,t,n){return"avc1."+("00"+Number(t).toString(16)).slice(-2)+"00"+("00"+Number(n).toString(16)).slice(-2)})):e},u=function(e){return e.map(c)},l=function(e){void 0===e&&(e="");var t=e.split(","),n={},r=[];return t.forEach((function(e){var t;e=e.trim(),o.forEach((function(r){var i=a[r].exec(e.toLowerCase());if(i&&!(i.length<=1)){t=r;var o=e.substring(0,i[1].length),s=e.replace(o,"");n[r]={type:o,details:s}}})),t||r.push(e)})),r.length&&(n.unknown=r),n},d=function(e){return void 0===e&&(e=""),a.audio.test(e.trim().toLowerCase())},p=function(e){return void 0===e&&(e=""),a.text.test(e.trim().toLowerCase())},f=function(e){if(e&&"string"===typeof e){var t=e.toLowerCase().split(",").map((function(e){return c(e.trim())})),n="video";1===t.length&&d(t[0])?n="audio":1===t.length&&p(t[0])&&(n="application");var r="mp4";return t.every((function(e){return a.mp4.test(e)}))?r="mp4":t.every((function(e){return a.webm.test(e)}))?r="webm":t.every((function(e){return a.ogg.test(e)}))&&(r="ogg"),n+"/"+r+';codecs="'+e+'"'}};t.DEFAULT_AUDIO_CODEC="mp4a.40.2",t.DEFAULT_VIDEO_CODEC="avc1.4d400d",t.browserSupportsCodec=function(e){return void 0===e&&(e=""),i.MediaSource&&i.MediaSource.isTypeSupported&&i.MediaSource.isTypeSupported(f(e))||!1},t.codecsFromDefault=function(e,t){if(!e.mediaGroups.AUDIO||!t)return null;var n=e.mediaGroups.AUDIO[t];if(!n)return null;for(var r in n){var i=n[r];if(i.default&&i.playlists)return l(i.playlists[0].attributes.CODECS)}return null},t.getMimeForCodec=f,t.isAudioCodec=d,t.isTextCodec=p,t.isVideoCodec=function(e){return void 0===e&&(e=""),a.video.test(e.trim().toLowerCase())},t.mapLegacyAvcCodecs=function(e){return e.replace(/avc1\.(\d+)\.(\d+)/i,(function(e){return u([e])[0]}))},t.muxerSupportsCodec=function(e){return void 0===e&&(e=""),e.toLowerCase().split(",").every((function(e){e=e.trim();for(var t=0;t<s.length;t++){if(a["muxer"+s[t]].test(e))return!0}return!1}))},t.parseCodecs=l,t.translateLegacyCodec=c,t.translateLegacyCodecs=u},KVSy:function(e,t,n){"use strict";var r=n("67WC"),i=n("SEBh"),a=n("0Dky"),o=r.aTypedArray,s=r.aTypedArrayConstructor,c=r.exportTypedArrayMethod,u=[].slice;c("slice",(function(e,t){for(var n=u.call(o(this),e,t),r=i(this,this.constructor),a=0,c=n.length,l=new(s(r))(c);c>a;)l[a]=n[a++];return l}),a((function(){new Int8Array(1).slice()})))},KdhP:function(e,t,n){function r(e){this.options=e||{locator:{}}}function i(){this.cdata=!1}function a(e,t){t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber}function o(e){if(e)return"\n@"+(e.systemId||"")+"#[line:"+e.lineNumber+",col:"+e.columnNumber+"]"}function s(e,t,n){return"string"==typeof e?e.substr(t,n):e.length>=t+n||t?new java.lang.String(e,t,n)+"":e}function c(e,t){e.currentElement?e.currentElement.appendChild(t):e.doc.appendChild(t)}r.prototype.parseFromString=function(e,t){var n=this.options,r=new u,a=n.domBuilder||new i,s=n.errorHandler,c=n.locator,l=n.xmlns||{},d={lt:"<",gt:">",amp:"&",quot:'"',apos:"'"};return c&&a.setDocumentLocator(c),r.errorHandler=function(e,t,n){if(!e){if(t instanceof i)return t;e=t}var r={},a=e instanceof Function;function s(t){var i=e[t];!i&&a&&(i=2==e.length?function(n){e(t,n)}:e),r[t]=i&&function(e){i("[xmldom "+t+"]\t"+e+o(n))}||function(){}}return n=n||{},s("warning"),s("error"),s("fatalError"),r}(s,a,c),r.domBuilder=n.domBuilder||a,/\/x?html?$/.test(t)&&(d.nbsp="\xa0",d.copy="\xa9",l[""]="http://www.w3.org/1999/xhtml"),l.xml=l.xml||"http://www.w3.org/XML/1998/namespace",e?r.parse(e,l,d):r.errorHandler.error("invalid doc source"),a.doc},i.prototype={startDocument:function(){this.doc=(new l).createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(e,t,n,r){var i=this.doc,o=i.createElementNS(e,n||t),s=r.length;c(this,o),this.currentElement=o,this.locator&&a(this.locator,o);for(var u=0;u<s;u++){e=r.getURI(u);var l=r.getValue(u),d=(n=r.getQName(u),i.createAttributeNS(e,n));this.locator&&a(r.getLocator(u),d),d.value=d.nodeValue=l,o.setAttributeNode(d)}},endElement:function(e,t,n){var r=this.currentElement;r.tagName;this.currentElement=r.parentNode},startPrefixMapping:function(e,t){},endPrefixMapping:function(e){},processingInstruction:function(e,t){var n=this.doc.createProcessingInstruction(e,t);this.locator&&a(this.locator,n),c(this,n)},ignorableWhitespace:function(e,t,n){},characters:function(e,t,n){if(e=s.apply(this,arguments)){if(this.cdata)var r=this.doc.createCDATASection(e);else r=this.doc.createTextNode(e);this.currentElement?this.currentElement.appendChild(r):/^\s*$/.test(e)&&this.doc.appendChild(r),this.locator&&a(this.locator,r)}},skippedEntity:function(e){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(e){(this.locator=e)&&(e.lineNumber=0)},comment:function(e,t,n){e=s.apply(this,arguments);var r=this.doc.createComment(e);this.locator&&a(this.locator,r),c(this,r)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(e,t,n){var r=this.doc.implementation;if(r&&r.createDocumentType){var i=r.createDocumentType(e,t,n);this.locator&&a(this.locator,i),c(this,i)}},warning:function(e){console.warn("[xmldom warning]\t"+e,o(this.locator))},error:function(e){console.error("[xmldom error]\t"+e,o(this.locator))},fatalError:function(e){throw console.error("[xmldom fatalError]\t"+e,o(this.locator)),e}},"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,(function(e){i.prototype[e]=function(){return null}}));var u=n("1h1e").XMLReader,l=t.DOMImplementation=n("dJxt").DOMImplementation;t.XMLSerializer=n("dJxt").XMLSerializer,t.DOMParser=r},KhEo:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DividerLogicalAdapter=void 0;var r=(0,n("mlqK").baseAdapterFactory)({defaultAdapter:{},adapterImplement:function(){return n("6+00").DividerWebAdapter}});t.DividerLogicalAdapter=r},LveU:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProgressWebAdapter=void 0;t.ProgressWebAdapter={}},LwBt:function(e,t,n){"use strict";var r=n("TqRt"),i=n("cDf5");n("zKZe"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n("pVnL")),o=r(n("J4zp")),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!==typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(n("q1tI")),c=r(n("TSYQ")),u=n("VTYn"),l=r(n("MCNy")),d=r(n("jqTq")),p=r(n("b9ng"));function f(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}var h=function(e){var t=s.default.useState(!1),n=(0,o.default)(t,2),r=n[0],i=n[1],f=s.default.useState(!0),h=(0,o.default)(f,2),m=h[0],v=h[1],b=(0,u.useConfig)().clsPrefix,y=s.default.useState(e.src||""),g=(0,o.default)(y,2),j=g[0],x=g[1],O=s.default.useRef(null),w=!1;if("undefined"!==typeof window&&(w=(0,p.default)()),(0,s.useEffect)((function(){O.current&&O.current.complete?v(!1):v(!0)})),r)return s.default.createElement("div",{className:(0,c.default)("".concat(b,"-img-previewer__controller-item is-error"),{"is-mobile":w,"is-active":e.isActive}),onClick:e.onClick},s.default.createElement(l.default,{size:20,name:"PictureErrorOutlined",color:"white"}));var C={};return m&&Object.assign(C,{display:"none",visibility:"hidden"}),s.default.createElement(s.default.Fragment,null,s.default.createElement("img",(0,a.default)({alt:"\u56fe\u7247",ref:O,style:C,onLoad:function(){v(!1)}},e,{src:j,onError:function(t){var n=e.onError(e.idx||0);if(n&&n!==j)return x(n),void v(!0);i(!0)}})),m&&s.default.createElement("div",{className:(0,c.default)("".concat(b,"-img-previewer__controller-item"),{"is-mobile":w,"is-loading":C})},s.default.createElement(d.default,{size:20,color:"white",type:"spinner"})))};t.default=h},MRl3:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("lwsE")),a=r(n("W8MJ")),o=r(n("7W2i")),s=r(n("a1gu")),c=r(n("Nsbk")),u=r(n("lSNA")),l=r(n("q1tI")),d=n("GDuN"),p=n("5LZQ"),f=n("NX9C"),h=r(n("KxVQ"));function m(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.default)(e);if(t){var i=(0,c.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,s.default)(this,n)}}var v=function(e){(0,o.default)(n,e);var t=m(n);function n(e){var r;return(0,i.default)(this,n),r=t.call(this,e),(0,h.default)({componentName:"upload"}),r}return(0,a.default)(n,[{key:"render",value:function(){var e=this.RenderComponent;return l.default.createElement(e,this.props,this.props.children)}}]),n}((0,d.baseComponentFactory)({viewAdapter:p.UploadViewAdapter,logicalAdapter:f.UploadLogicalAdapter}));t.default=v,(0,u.default)(v,"defaultProps",{})},MoCz:function(e,t,n){"use strict";var r=n("67WC"),i=n("5Yz+"),a=r.aTypedArray;(0,r.exportTypedArrayMethod)("lastIndexOf",(function(e){return i.apply(a(this),arguments)}))},"Mwu/":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return a}));n("fbCW");var r=11,i=10,a=function(e){var t,n,r=(e||{}).siteData,i=(((void 0===r?{}:r).pluginConfig||[]).find((function(e){if("61540fef8f4de8"===e.app_id)return e}))||{}).setting,a=void 0===i?{}:i;return!(null===a||void 0===a||null===(t=a.publicValue)||void 0===t||!t.wxshopOpen||null===a||void 0===a||null===(n=a.publicValue)||void 0===n||!n.wxAppId)}},MzE4:function(e,t,n){"use strict";n("toAj"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,"undefined"!==typeof window&&function(e,t){var n,r,i="";function a(t,a,o,s){t[n](i+a,"wheel"==r?o:function(t){!t&&(t=e.event);var n={originalEvent:t,target:t.target||t.srcElement,type:"wheel",deltaMode:"MozMousePixelScroll"==t.type?0:1,deltaX:0,deltaZ:0,preventDefault:function(){t.preventDefault?t.preventDefault():t.returnValue=!1}};return"mousewheel"==r?(n.deltaY=-1/40*t.wheelDelta,t.wheelDeltaX&&(n.deltaX=-1/40*t.wheelDeltaX)):n.deltaY=t.detail,o(n)},s||!1)}e.addEventListener?n="addEventListener":(n="attachEvent",i="on"),r="onwheel"in t.createElement("div")?"wheel":void 0!==t.onmousewheel?"mousewheel":"DOMMouseScroll",e.addWheelListener=function(e,t,n){a(e,r,t,n),"DOMMouseScroll"==r&&a(e,"MozMousePixelScroll",t,n)}}(window,document);var r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.element="string"===typeof e?document.querySelector(e):e,this.start=this.start.bind(this),this.move=this.move.bind(this),this.end=this.end.bind(this),this.wheelDelta=this.wheelDelta.bind(this),this.dragStart=this.dragStart.bind(this),this.mouseMove=t.mouseMove.bind(this),this.zoomIn=t.zoomIn.bind(this),this.zoomOut=t.zoomOut.bind(this),this.startPosition=null,this.endPosition=null,this.currentPosition=null,this.element.addEventListener("mousedown",this.start,!1),this.element.addEventListener("mousemove",this.move,!1),this.element.addEventListener("mouseleave",this.end,!1),this.element.addEventListener("mouseup",this.end,!1),this.element.dragStart=this.dragStart,window.addWheelListener(document,this.wheelDelta,!1)};r.prototype={dragStart:function(e){return e.preventDefault(),e.stopPropagation(),!1},start:function(e){this.startPosition={x:e.clientX,y:e.clientY},this.endPosition=null,this.currentPosition=null},move:function(e){this.startPosition&&(this.endPosition||(this.currentPosition?(e.deltaX=e.clientX-this.currentPosition.x,e.deltaY=e.clientY-this.currentPosition.y):(e.deltaX=e.clientX-this.startPosition.x,e.deltaY=e.clientY-this.startPosition.y),this.currentPosition={x:e.clientX,y:e.clientY},this.mouseMove(e)))},end:function(e){this.endPosition={x:e.clientX,y:e.clientY},this.startPosition=null},destroy:function(){this.element.removeEventListener("mousedown",this.start),this.element.removeEventListener("mousemove",this.move),this.element.removeEventListener("mouseleave",this.end),this.element.removeEventListener("mouseup",this.end)},wheelDelta:function(e){e.deltaY>=0?this.zoomIn&&this.zoomIn({evt:e,zoom:(e.deltaY/100).toFixed(1)}):this.zoomOut&&this.zoomOut({evt:e,zoom:-(e.deltaY/100).toFixed(1)})}};var i=r;t.default=i},N1by:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return M}));n("ma9I"),n("2B1R");var r=n("lwsE"),i=n.n(r),a=n("W8MJ"),o=n.n(a),s=n("7W2i"),c=n.n(s),u=n("a1gu"),l=n.n(u),d=n("Nsbk"),p=n.n(d),f=n("q1tI"),h=n.n(f),m=n("MCNy"),v=n.n(m),b=n("+pgT"),y=n.n(b),g=n("Mwu/"),j="_23etnPq8ERnHbaR_upNxC_",x="_2Dwrjty_dt7MbewPsWDVJB",O="-HmxEY5qWV9pcUx0mY-2C",w="_3Z6X0p5SgtS-RxivbC2RdE",C="_2AfAcgXyQY9TJku39g9LNR",k="_1h66LEzw8wCqWUDQLFbF3r",N="_3XPtESVBDlZXU-irkNZuI0",T="_2AZEXo64-SFu7h1OYxQq4-",_="_1kiZ1MBscKgr-CxXTZL5Cs",P="_2gPOqXZzo6WPhID_PlRnfU",S="TN98HCVLbczRTmW7F4zga",E="_1WgqpEBzmemG-RbzU24cmg",A="_1wiYV8r-iDlp6JL4Vfp0eV",I=n("TSYQ"),R=n.n(I),D=h.a.createElement;function L(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p()(e);if(t){var i=p()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var M=function(e){c()(n,e);var t=L(n);function n(){var e;i()(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).handleBuy=function(t,n){var r=t||{},i=r.detailContent,a=r.detailQrcode,o=r.title,s=e.props.siteData;if(n===g.b&&window.open(i),n===g.a){var c=D(h.a.Fragment,null,D("div",{className:P},"\u626b\u7801\u67e5\u770b\u5546\u54c1\u8be6\u60c5"),D("div",{className:S},D("img",{className:E,src:a,title:o,alt:o})));y.a.info({className:A,isNew:!0,title:"\u8d2d\u4e70\u5546\u54c1",content:c,width:"h5"===s.platform?285:400})}},e}return o()(n,[{key:"render",value:function(){var e=this,t=this.props.renderData;return t?(((t||{}).body||{}).products||[]).map((function(t){var n=t.data,r=t.type;return D("div",{className:j,key:null===n||void 0===n?void 0:n.id,onClick:function(){return e.handleBuy(n,r)}},D("div",{className:x},D("img",{className:O,src:null===n||void 0===n?void 0:n.imagePath,title:null===n||void 0===n?void 0:n.title,alt:null===n||void 0===n?void 0:n.title}),D("div",{className:w},D("div",{className:C},null===n||void 0===n?void 0:n.title),D("div",{className:k},null===n||void 0===n?void 0:n.price))),r===g.a&&D("div",{className:R()(N,_)},D(v.a,{size:"20",name:"ShoppingCartOutlined"}),D("div",{className:T},"\u8d2d\u4e70\u5546\u54c1")))})):null}}]),n}(h.a.Component)},NDL1:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("8OJ3"));var a=function(e,t){var n=t.src,r=t.poster,a=t.initialTime,o=(0,i.default)(e,t);return n&&o.src(n),r&&o.poster(r),a&&o.currentTime(a),o};t.default=a},NIbD:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WebAdapter=void 0;t.WebAdapter={}},NOng:function(e,t,n){"use strict";var r=n("nKUr"),i=n("q1tI"),a=n("yuBF"),o="_1lLeditTiDPMYHWEd1_HXi",s="_2uad9szrLiGSb2CQhJk4wO",c="_180kp78T63pfzced8ZLAXc",u=n("64aw"),l=n.n(u),d=n("z6Ap");t.a=Object(a.inject)("baselayout")(Object(a.observer)((function(e){var t=e.isPay,n=void 0!==t&&t,a=e.url,u=e.onPay,p=void 0===u?d.e:u,f=e.baselayout,h=e.updateViewCount,m=void 0===h?d.e:h,v=Object(i.useRef)(),b=Object(i.useRef)();return Object(r.jsx)("div",{className:o,children:n?Object(r.jsx)("div",{className:s,children:Object(r.jsx)("img",{alt:"\u97f3\u9891\u64ad\u653e",src:"/dzq-img/pay-audio.png",className:c,onClick:p})}):Object(r.jsx)("div",{ref:b,children:Object(r.jsx)(l.a,{src:a,onPlay:function(){var e,t,n=null===v||void 0===v||null===(e=v.current)||void 0===e||null===(t=e.getState())||void 0===t?void 0:t.audioCtx;if(m(),n&&f&&v&&b){var r,i,o,s,c,u,l,d,p,h,y,g=(null===b||void 0===b||null===(r=b.current)||void 0===r||null===(i=r.parentNode)||void 0===i||null===(o=i.previousElementSibling)||void 0===o?void 0:o.offsetHeight)||0,j=(null===b||void 0===b||null===(s=b.current)||void 0===s||null===(c=s.parentNode)||void 0===c||null===(u=c.parentNode)||void 0===u||null===(l=u.previousElementSibling)||void 0===l?void 0:l.offsetHeight)||0,x=g+((null===b||void 0===b||null===(d=b.current)||void 0===d||null===(p=d.parentNode)||void 0===p||null===(h=p.parentNode)||void 0===h||null===(y=h.parentNode)||void 0===y?void 0:y.offsetTop)||0)+j;f.playingVideoDom&&f.pauseWebPlayingVideo(),f.playingAudioDom&&f.pauseWebPlayingAudio(a),f.playingAudioPos=x>0?x:-1,f.playingAudioDom=n,f.playingAudioWrapperId=a}},disabled:!a,ref:v})})})})))},NX9C:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UploadLogicalAdapter=void 0;var r=(0,n("mlqK").baseAdapterFactory)({defaultAdapter:{},adapterImplement:function(){return n("wi0z").UploadWebAdapter}});t.UploadLogicalAdapter=r},NsZL:function(e,t){var n,r,i,a,o,s,c,u=9e4;n=function(e){return e*u},r=function(e,t){return e*t},i=function(e){return e/u},a=function(e,t){return e/t},o=function(e,t){return n(a(e,t))},s=function(e,t){return r(i(e),t)},c=function(e,t,n){return i(n?e:e-t)},e.exports={ONE_SECOND_IN_TS:u,secondsToVideoTs:n,secondsToAudioTs:r,videoTsToSeconds:i,audioTsToSeconds:a,audioTsToVideoTs:o,videoTsToAudioTs:s,metadataTsToSeconds:c}},Nsua:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DividerViewAdapter=void 0;var r=(0,n("1d9p").baseLayoutFactory)({layoutImplement:function(){return n("AJmO").DividerWebLayout}});t.DividerViewAdapter=r},OEh5:function(e,t,n){"use strict";var r=n("TqRt"),i=n("cDf5");n("ma9I"),n("qePV"),n("zKZe"),Object.defineProperty(t,"__esModule",{value:!0}),t.SliderWebLayout=void 0;var a=r(n("pVnL")),o=r(n("lSNA")),s=r(n("o0o1"));n("ls82");var c=r(n("yXPU")),u=r(n("J4zp")),l=r(n("QILm")),d=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!==typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(n("q1tI")),p=r(n("TSYQ")),f=n("VTYn"),h=n("0UJW"),m=n("a20H"),v=["className","value","onChange","min","max","step","disabled","formatter"];function b(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}t.SliderWebLayout=function(e){var t=Object.assign({},e),n=(0,f.useConfig)().clsPrefix,r=(0,h.useDefaultValue)(t,0),i=r.className,b=r.value,y=r.onChange,g=r.min,j=r.max,x=r.step,O=r.disabled,w=r.formatter,C=(0,l.default)(r,v),k=Math.max(100,j),N=(0,d.useState)(null),T=(0,u.default)(N,2),_=T[0],P=T[1],S=(0,d.useRef)(!1),E=(0,d.useRef)(null),A=(0,d.useRef)(null),I=(0,d.useRef)(null),R=function(e){return Math.round(Math.max(g,Math.min(j,e))/x)*x},D=function(e){return"targetTouches"in e?e.targetTouches[0]:e},L=function(e){("boolean"!==typeof e.cancelable||e.cancelable)&&e.preventDefault(),W(e)},M=function(e){("boolean"!==typeof e.cancelable||e.cancelable)&&e.preventDefault(),q()},B=function(e){("boolean"!==typeof e.cancelable||e.cancelable)&&e.preventDefault()};function U(){document.removeEventListener("mousemove",W),document.removeEventListener("touchstart",B),document.removeEventListener("touchmove",L),document.removeEventListener("mouseup",q),document.removeEventListener("touchend",M)}var F=function(e){if(("boolean"!==typeof e.cancelable||e.cancelable)&&e.preventDefault(),!O){S.current=!0;var t=D(e).pageX;A.current=t,I.current=R(b),U(),document.addEventListener("mousemove",W),document.addEventListener("touchstart",B),document.addEventListener("touchmove",L,{passive:!1}),document.addEventListener("mouseup",q),document.addEventListener("touchend",M,{passive:!1})}},W=function(e){if(!O&&S.current){var t=D(e).pageX-A.current,n=R(I.current+t/_.width*k);y(n,{event:e})}},q=function(){U(),S.current=!1},z=function(e){if(U(),!O){var t;t="click"===e.type?e.clientX:"undefined"!==typeof e.changedTouches[0].x?e.changedTouches[0].x:e.changedTouches[0].clientX;var n=R((t-_.left)/_.width*k);y(n,{event:e})}};(0,d.useEffect)((function(){return V(),function(){U()}}),[]);var V=function(){var e=(0,c.default)(s.default.mark((function e(){var t,n,r;return s.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,m.getRect)(E);case 2:t=e.sent,n=(0,u.default)(t,1),r=n[0],P(r);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),X=w(b),H=Math.min(Number(b),100);return d.default.createElement("div",(0,a.default)({className:(0,p.default)("".concat(n,"-slider"),i,(0,o.default)({},"".concat(n,"-slider--disabled"),O)),onClick:z,onTouchEnd:z},C),d.default.createElement("div",{className:"".concat(n,"-slider__progress"),ref:E},d.default.createElement("div",{className:"".concat(n,"-slider__progress--stick ").concat(n,"-slider__feature")}),d.default.createElement("div",{className:"".concat(n,"-slider__progress__button"),style:{left:"".concat(H/k*100,"%")},onTouchStart:F,onTouchMove:W,onTouchEnd:q,onMouseDown:F,onMouseMove:W,onDragStart:function(e){return e.preventDefault()},onMouseUp:q}),d.default.createElement("div",{className:(0,p.default)("".concat(n,"-slider__progress--active"),(0,o.default)({},"".concat(n,"-slider__progress--disabled"),O)),style:{width:"".concat(H/k*100,"%")}}),d.default.createElement("div",{className:"".concat(n,"-slider__progress--max"),style:{width:"".concat(100-j,"%")}})),d.default.createElement("div",{className:"".concat(n,"-slider__feature")}),X&&d.default.createElement("div",{className:"".concat(n,"-slider__value")},X))}},Onu3:function(e,t,n){"use strict";var r=n("67WC"),i=n("tycR").findIndex,a=r.aTypedArray;(0,r.exportTypedArrayMethod)("findIndex",(function(e){return i(a(this),e,arguments.length>1?arguments[1]:void 0)}))},P8wP:function(e,t,n){"use strict";var r=n("67WC"),i=n("tycR").map,a=n("SEBh"),o=r.aTypedArray,s=r.aTypedArrayConstructor;(0,r.exportTypedArrayMethod)("map",(function(e){return i(o(this),e,arguments.length>1?arguments[1]:void 0,(function(e,t){return new(s(a(e,e.constructor)))(t)}))}))},PF2M:function(e,t,n){"use strict";var r=n("67WC"),i=n("UMSQ"),a=n("GC2F"),o=n("ewvW"),s=n("0Dky"),c=r.aTypedArray;(0,r.exportTypedArrayMethod)("set",(function(e){c(this);var t=a(arguments.length>1?arguments[1]:void 0,1),n=this.length,r=o(e),s=i(r.length),u=0;if(s+t>n)throw RangeError("Wrong length");for(;u<s;)this[t+u]=r[u++]}),s((function(){new Int8Array(1).set({})})))},PuBq:function(e,t,n){"use strict";n("ma9I"),n("2B1R"),n("sMBO");var r,i=n("nKUr"),a=n("o0o1"),o=n.n(a),s=(n("ls82"),n("yXPU")),c=n.n(s),u=n("lwsE"),l=n.n(u),d=n("W8MJ"),p=n.n(d),f=n("7W2i"),h=n.n(f),m=n("a1gu"),v=n.n(m),b=n("Nsbk"),y=n.n(b),g=n("q1tI"),j=n.n(g),x={commentList:"_2D1PIlsPg8V5xMHtrOgBHI",header:"_3fXHYg8L0QzRKIUgzfiRqg",redpacket:"_2CrZQ8Vxsn6og4lusrP5OL",content:"_2vYxU1s8Z2TA8Luxi2I-Q2",commentListAvatar:"_2r2xS-K2B7Tk_8CkbheFJm",avatar:"_23j5zOXJagPA7s4SH7XYCf",commentListContent:"_1p0FbukuCdUGJGiiwNuC2x",commentListContentText:"_3B5uh2MOpAOeznzns-fT_c",active:"s_N1VPjwCvtf2yPGF6Mjm",commentHeader:"_11dfowf5xoLtJs03Wxteip",userInfo:"_2o5E4xplWe7xUOOE8lJP3q",commentListName:"_3PAH1-ZGVHRDzkWHQr0f0u",masterBox:"_18OXnVlqak6hygBOopDHIm",masterText:"_3_f-JiMGeH0QQsnrfuGK4I",groupsBox:"_2n0k_k8fwHm3MgRxSyv14R",groups:"_1f5sPG3_OzMQgtBXLTh3W8",isApproved:"_2X5K8oe314LYTw2kVx8VSg",commentListText:"_2ClQK-XXAhIwh5cwxHtWBX",imageDisplay:"_5_X2xuijPPaukQP7pMoKX",commentListFooter:"_14gq8Pc1vWmp50Bl52BHwb",commentBtn:"_1N_NxJh4RM8ZsmEy3hdHl3",commentTime:"w2vPvvAAZPAfr9l55uMLQ",commentLike:"_1P1pdm3lMX8ZAs2PAbh21h",commentReply:"_2MwtlD4vB_Cb89ClKI11LG",commentAdopt:"_2QWCjCK2kAUZph6Bm4CoLf",commentDelete:"_3m5vquEWAaNLxFCWVXe93P",commentReport:"_23d6L_ZMyLAH7ntmEahcKr",moreReply:"_1OV275CZnyXUZ8VD3kqF_w",extraBottom:"_1ROGGhiBuHKv8exc9r3l5M",icon:"_2F5f-zzPH18qIdTpZrTZoX",commentInput:"_2ovjZBPb3_j5w6QerwKfCa",divider:"_3cRusXC2ugxdNrmxlmz6p6",revise:"_25_ncNbI-UpOBADvB1whs3",hover:"_1ymn1ZNRwGCr2LXqPcGveB",hongbaoLikeNum:"_31MWNPV5sqHGncyn4Emhjd",iconzan:"_1Fs7cCQHJ2iqM3w3TcW-A9"},O=n("Bvw4"),w="Ph6TOJRZrlk-8LZsFZ5Ov",C="LLR1MQkZLMgmyzlN_WV-i",k="_1kVMAFAaGkF-l1kUyGlfDc",N="_2hT1IgbPor2SAmnp7FHTYL",T="_3Q2p8_6y8VTRE2-Jzy6c1M",_="_18RPWyLx-FeD_qI4fAWEM2",P="_31TDI6njJoidk0aJ9tY2Mo",S="_1IKmhPAr1J7b2AfwyeRtrw",E="LEf1GO63kuLDfchgAMuGb",A="_26OA5zwrv6cO4iODUtwFpS",I="_3-ZLa1dMQgmAg-bWbEcTTK",R="_3nvmcoHoTafVCDbtX1YaHX",D="B_KR54S1oavfBrFlV8VA5",L="_12CfM7V045nI88iNWdlvOG",M="clRV9VDEStfKCuTOO8KfG",B="riJ6w-o3aRSSincQjwrz6",U="fvrWcZMI-dmhWxPYdRWMS",F="_2UskA_JP4m2jkIAeHGhrhi",W="_1an_M1I4hRh07ewZofkQLp",q="_2jdr3kz5SesA62LlrYuPoD",z="_1EebdLGJeDb3cBDVxUmF3x",V="_3oUgdYFrsqwUbUeNGbS7Io",X="_2A70QQBCIONQKt8rUSefvW",H="NvEmn5SawiHEN3eQ2SsA8",Y="_5VVuG4b32b_NWPe-hOTql",Q="n5--2Pe3y0w1W48HRNrO",G="_2V69RxpIEAdsbWO6pGtfoe",J="_3Uv6mZgzEZLDjZB6qfMqDc",K="_2fIqMsS4ewtxTrsgsM9Yhs",Z="_2T1L0tq19bNAHA79wDB-vU",$=n("+Lwc"),ee=n("yuBF"),te=n("TSYQ"),ne=n.n(te),re=n("MCNy"),ie=n.n(re),ae=n("iUiS"),oe=n("Q6w4"),se=n("5WlO"),ce=n("RGe9"),ue=n("TibX"),le=n("vPOe"),de=n("HLiX"),pe=n("u7s3");function fe(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y()(e);if(t){var i=y()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}var he,me=Object(ee.observer)(r=function(e){h()(n,e);var t=fe(n);function n(e){var r;return l()(this,n),(r=t.call(this,e)).toCommentDetail=function(){"function"===typeof r.props.toCommentDetail&&r.props.toCommentDetail()},r.transformer=function(e){var t,n,a,o,s,c,u=r.props.threadId===(null===(t=r.props)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.commentUserId),l=!(null===(a=r.props)||void 0===a||null===(o=a.data)||void 0===o||null===(s=o.commentUser)||void 0===s||!s.avatar),d=r.props.data.commentUserId&&null!==(c=r.props.data)&&void 0!==c&&c.commentUser?Object(i.jsxs)("div",{className:"".concat(U," ").concat(l?"":V),children:[Object(i.jsx)("span",{className:F,children:"@"}),Object(i.jsx)("div",{className:W,children:Object(i.jsx)(O.a,{className:q,image:(r.props.data.commentUser.nickname||r.props.data.commentUser.userName)&&r.props.data.commentUser.avatar,name:r.props.data.commentUser.nickname||r.props.data.commentUser.userName||"\u5f02",circle:!0,userId:r.props.data.commentUser.id,isShowUserInfo:!0,size:"mini",onClick:function(){return r.avatarClick(3)}})}),Object(i.jsx)("span",{className:z,onClick:function(){return r.avatarClick(3)},children:r.props.data.commentUser.nickname||r.props.data.commentUser.userName||"\u7528\u6237\u5f02\u5e38"}),u&&!r.props.isAnonymous&&Object(i.jsx)("div",{className:E,children:Object(i.jsx)("span",{className:A,children:"\u4f5c\u8005"})})]}):"";return e.unshift(d),e},r.state={isShowInput:r.props.isShowInput,placeholder:"\u8f93\u5165\u4f60\u7684\u56de\u590d"},r}return p()(n,[{key:"filterContent",value:function(){var e,t,n=(null===(e=this.props)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.content)||"";return n=oe.a.parse(n),n=Object(se.a)(n),n=Object(le.a)(n)}},{key:"likeClick",value:function(){"function"===typeof this.props.likeClick&&this.props.likeClick()}},{key:"replyClick",value:function(){var e,t,n,r,i=(null===(e=this.props.data)||void 0===e||null===(t=e.user)||void 0===t?void 0:t.nickname)||(null===(n=this.props.data)||void 0===n||null===(r=n.user)||void 0===r?void 0:r.userName);this.setState({isShowInput:!this.state.isShowInput,placeholder:i?"\u56de\u590d".concat(i):"\u8bf7\u8f93\u5165\u5185\u5bb9"}),"function"===typeof this.props.replyClick&&this.props.replyClick()}},{key:"deleteClick",value:function(){"function"===typeof this.props.deleteClick&&this.props.deleteClick()}},{key:"avatarClick",value:function(e){"function"===typeof this.props.avatarClick&&this.props.avatarClick(e)}},{key:"generatePermissions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{canApprove:e.canApprove||!1,canDelete:e.canDelete||!1,canEdit:e.canEdit||!1,canHide:e.canHide||!1,canLike:e.canLike||!1}}},{key:"render",value:function(){var e,t,n,r,a,o,s,c,u,l,d,p,f,h,m,v,b,y,g,j,x,U,F,W,q,z,V,ee,te,re,oe,se,le,fe,he,me,ve,be,ye=this,ge=this.generatePermissions(this.props.data),je=ge.canLike,xe=(ge.canDelete,ge.canHide),Oe=((null===(e=this.props.data)||void 0===e?void 0:e.user)||{}).groups,we=this.props.threadId===(null===(t=this.props)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.userId),Ce=1===(null===(r=this.props)||void 0===r||null===(a=r.data)||void 0===a?void 0:a.isApproved);return Object(i.jsxs)("div",{className:w,children:[Object(i.jsx)("div",{className:C,children:Object(i.jsx)(O.a,{image:((null===(o=this.props.data)||void 0===o||null===(s=o.user)||void 0===s?void 0:s.nickname)||(null===(c=this.props.data)||void 0===c||null===(u=c.user)||void 0===u?void 0:u.userName))&&(null===(l=this.props)||void 0===l||null===(d=l.data)||void 0===d||null===(p=d.user)||void 0===p?void 0:p.avatar),name:(null===(f=this.props)||void 0===f||null===(h=f.data)||void 0===h||null===(m=h.user)||void 0===m?void 0:m.nickname)||(null===(v=this.props)||void 0===v||null===(b=v.data)||void 0===b||null===(y=b.user)||void 0===y?void 0:y.userName)||"\u5f02",circle:!0,userId:null===(g=this.props)||void 0===g||null===(j=g.data)||void 0===j||null===(x=j.user)||void 0===x?void 0:x.id,isShowUserInfo:!0,size:"small",onClick:function(){return ye.avatarClick(2)}})}),Object(i.jsxs)("div",{className:k,children:[Object(i.jsxs)("div",{className:"".concat(N," ").concat(this.props.active&&T),children:[Object(i.jsxs)("div",{className:_,children:[Object(i.jsxs)("div",{className:P,children:[Object(i.jsx)("div",{className:S,onClick:function(){return ye.avatarClick(2)},children:(null===(U=this.props.data)||void 0===U||null===(F=U.user)||void 0===F?void 0:F.nickname)||(null===(W=this.props.data)||void 0===W||null===(q=W.user)||void 0===q?void 0:q.userName)||"\u7528\u6237\u5f02\u5e38"}),we&&!this.props.isAnonymous&&Object(i.jsx)("div",{className:E,children:Object(i.jsx)("span",{className:A,children:"\u4f5c\u8005"})}),!(null===Oe||void 0===Oe||!Oe.isDisplay)&&Object(i.jsx)("div",{className:I,children:null!==Oe&&void 0!==Oe&&Oe.level?Object(i.jsx)(pe.a,{groupLevel:null===Oe||void 0===Oe?void 0:Oe.level,groupName:(null===Oe||void 0===Oe?void 0:Oe.name)||(null===Oe||void 0===Oe?void 0:Oe.groupName),groupNameStyle:{maxWidth:"100px"}}):Object(i.jsx)("div",{className:R,children:(null===Oe||void 0===Oe?void 0:Oe.name)||(null===Oe||void 0===Oe?void 0:Oe.groupName)})})]}),Ce?Object(i.jsx)("div",{}):Object(i.jsx)("div",{className:D,children:"\u5ba1\u6838\u4e2d"})]}),Object(i.jsxs)("div",{className:L,children:[Object(i.jsx)("div",{className:ne()(M),children:Object(i.jsx)(de.a,{onRedirectToDetail:function(){return ye.toCommentDetail()},useShowMore:!!this.props.isShowOne,content:null===(z=this.props)||void 0===z||null===(V=z.data)||void 0===V?void 0:V.content,customHoverBg:!0,transformer:this.transformer})}),((null===(ee=this.props.data)||void 0===ee||null===(te=ee.images)||void 0===te?void 0:te.length)||(null===(re=this.props.data)||void 0===re||null===(oe=re.attachments)||void 0===oe?void 0:oe.length))&&Object(i.jsx)("div",{className:B,children:Object(i.jsx)(ce.a,{platform:"pc",imgData:(null===(se=this.props.data)||void 0===se?void 0:se.images)||(null===(le=this.props.data)||void 0===le?void 0:le.attachments)})})]})]}),Object(i.jsxs)("div",{className:X,children:[Object(i.jsx)("div",{className:H,children:Object($.a)(this.props.data.createdAt)}),(null===(fe=this.props.data)||void 0===fe?void 0:fe.user)&&Object(i.jsxs)("div",{className:G,children:[Object(i.jsxs)("div",{className:ne()(Y,(null===(he=this.props)||void 0===he||null===(me=he.data)||void 0===me?void 0:me.isLiked)&&T),onClick:Object(ue.a)((function(){return ye.likeClick(je)}),500),children:[Object(i.jsx)(ie.a,{className:J,name:"LikeOutlined"}),"\u8d5e\xa0",(null===(ve=this.props)||void 0===ve||null===(be=ve.data)||void 0===be?void 0:be.likeCount)>0?this.props.data.likeCount:""]}),Object(i.jsxs)("div",{className:ne()(Z,this.props.isShowInput&&this.state.isShowInput&&T),onClick:function(){return ye.replyClick()},children:[Object(i.jsx)(ie.a,{className:J,name:"MessageOutlined"}),Object(i.jsx)("span",{children:"\u56de\u590d"})]}),xe&&Object(i.jsxs)("div",{className:Q,onClick:function(){return ye.deleteClick()},children:[Object(i.jsx)(ie.a,{className:J,name:"DeleteOutlined"}),Object(i.jsx)("span",{children:"\u5220\u9664"})]})]})]}),this.props.isShowInput&&this.state.isShowInput&&Object(i.jsx)("div",{className:K,children:Object(i.jsx)(ae.a,{height:"label",onSubmit:function(e,t){return ye.props.onSubmit(e,t)},placeholder:this.state.placeholder})})]})]})}}]),n}(j.a.Component))||r,ve=n("x2xJ"),be=n.n(ve),ye=n("jpI4"),ge=n("myta"),je=n("ZlQF");function xe(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y()(e);if(t){var i=y()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}var Oe=Object(ee.inject)("user")(he=Object(ee.observer)(he=function(e){h()(n,e);var t=xe(n);function n(e){var r;return l()(this,n),(r=t.call(this,e)).toCommentDetail=function(){r.state.isShowOne&&"function"===typeof r.props.onCommentClick&&r.props.onCommentClick()},r.state={isShowOne:r.props.isShowOne||!1,isFirstDivider:!1,isShowInput:r.props.isShowInput,replyId:null,placeholder:"\u8f93\u5165\u4f60\u7684\u56de\u590d"},r.needReply=r.props.data.lastThreeComments,r}return p()(n,[{key:"filterContent",value:function(){var e,t,n=(null===(e=this.props)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.content)||"";return n=oe.a.parse(n),n=Object(se.a)(n)}},{key:"avatarClick",value:function(){var e,t,n;"function"===typeof(null===(e=this.props)||void 0===e?void 0:e.avatarClick)&&this.props.avatarClick(null===(t=this.props.data)||void 0===t||null===(n=t.user)||void 0===n?void 0:n.id)}},{key:"likeClick",value:function(){"function"===typeof this.props.likeClick&&this.props.likeClick()}},{key:"replyClick",value:function(){var e,t,n,r,i=(null===(e=this.props.data)||void 0===e||null===(t=e.user)||void 0===t?void 0:t.nickname)||(null===(n=this.props.data)||void 0===n||null===(r=n.user)||void 0===r?void 0:r.userName);this.setState({isShowInput:!this.state.isShowInput,replyId:null,placeholder:i?"\u56de\u590d".concat(i):"\u8bf7\u8f93\u5165\u5185\u5bb9"}),"function"===typeof this.props.replyClick&&this.props.replyClick()}},{key:"deleteClick",value:function(){"function"===typeof this.props.deleteClick&&this.props.deleteClick()}},{key:"editClick",value:function(){"function"===typeof this.props.editClick&&this.props.editClick()}},{key:"replyLikeClick",value:function(e){"function"===typeof this.props.replyLikeClick&&this.props.replyLikeClick(e)}},{key:"replyReplyClick",value:function(e){this.setState({replyId:null===e||void 0===e?void 0:e.id}),"function"===typeof this.props.replyReplyClick&&this.props.replyReplyClick(e)}},{key:"replyDeleteClick",value:function(e){this.setState({replyId:null===e||void 0===e?void 0:e.id}),"function"===typeof this.props.replyDeleteClick&&this.props.replyDeleteClick(e)}},{key:"reployAvatarClick",value:function(e){"function"===typeof this.props.reployAvatarClick&&this.props.reployAvatarClick(e)}},{key:"reportClick",value:function(e){"function"===typeof this.props.reportClick&&this.props.reportClick(e)}},{key:"replyAvatarClick",value:function(e,t){"function"===typeof this.props.replyAvatarClick&&this.props.replyAvatarClick(e,t)}},{key:"onSubmit",value:function(){var e=c()(o.a.mark((function e(t,n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("function"!==typeof this.props.onSubmit){e.next=5;break}return e.next=3,this.props.onSubmit(t,n);case 3:e.sent&&this.setState({replyId:null});case 5:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"generatePermissions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{canApprove:e.canApprove||!1,canDelete:e.canDelete||!1,canEdit:e.canEdit||!1,canHide:e.canHide||!1,canLike:e.canLike||!1}}},{key:"render",value:function(){var e,t,n,r,a,o,s,c,u,l,d,p,f,h,m,v,b,y,g,j,w,C,k,N,T,_,P,S,E,A,I,R,D,L,M,B,U,F,W,q,z,V,X,H,Y,Q,G,J,K,Z,ee,te,re,oe=this,se=this.generatePermissions(this.props.data),le=(se.canDelete,se.canEdit,se.canLike),fe=se.canHide,he=((null===(e=this.props.data)||void 0===e?void 0:e.user)||{}).groups,ve=this.props.thread,xe=1===(null===(t=this.props)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.isApproved),Oe=this.props.threadId===(null===(r=this.props)||void 0===r||null===(a=r.data)||void 0===a?void 0:a.userId),we=this.props.redPacketData,Ce=1===(null===we||void 0===we?void 0:we.condition)&&(null===we||void 0===we?void 0:we.remainNumber),ke=null===we||void 0===we?void 0:we.likenum,Ne=null===(o=this.props)||void 0===o||null===(s=o.data)||void 0===s?void 0:s.likeCount,Te=(null===(c=this.props)||void 0===c||null===(u=c.data)||void 0===u?void 0:u.userId)===(null===(l=this.props)||void 0===l||null===(d=l.user)||void 0===d||null===(p=d.userInfo)||void 0===p?void 0:p.id);return Object(i.jsxs)("div",{className:"".concat(x.commentList," dzq-comment"),children:[Object(i.jsxs)("div",{className:x.header,children:[Te&&1*Ce>0&&Ne<ke&&!(null!==(f=this.props.data)&&void 0!==f&&f.redPacketAmount)&&Object(i.jsxs)("div",{className:x.hongbaoLikeNum,children:[Object(i.jsx)(ie.a,{className:x.iconzan,size:12,name:"PraiseOutlined"}),"\u518d\u96c6 ",Object(i.jsxs)("span",{children:["\xa0 ",ke-Ne," \xa0"]})," \u8d5e\u53ef\u9886\u7ea2\u5305"]}),null!==(h=this.props.data)&&void 0!==h&&h.rewards?Object(i.jsx)(ye.a,{number:this.props.data.rewards}):"",null!==(m=this.props.data)&&void 0!==m&&m.redPacketAmount?Object(i.jsx)("div",{className:x.redpacket,children:Object(i.jsx)(ge.a,{number:this.props.data.redPacketAmount})}):""]}),Object(i.jsxs)("div",{className:x.content,children:[Object(i.jsxs)("div",{className:x.commentListAvatar,children:[Object(i.jsx)(je.a,{href:"/user/".concat(null===(v=this.props)||void 0===v||null===(b=v.data)||void 0===b?void 0:b.userId),text:(null===(y=this.props.data)||void 0===y||null===(g=y.user)||void 0===g?void 0:g.nickname)||(null===(j=this.props.data)||void 0===j||null===(w=j.user)||void 0===w?void 0:w.userName)||"\u5f02"}),Object(i.jsx)(O.a,{image:((null===(C=this.props.data)||void 0===C||null===(k=C.user)||void 0===k?void 0:k.nickname)||(null===(N=this.props.data)||void 0===N||null===(T=N.user)||void 0===T?void 0:T.userName))&&(null===(_=this.props.data)||void 0===_||null===(P=_.user)||void 0===P?void 0:P.avatar),name:(null===(S=this.props.data)||void 0===S||null===(E=S.user)||void 0===E?void 0:E.nickname)||(null===(A=this.props.data)||void 0===A||null===(I=A.user)||void 0===I?void 0:I.userName)||"\u5f02",circle:!0,userId:null===(R=this.props.data)||void 0===R||null===(D=R.user)||void 0===D?void 0:D.id,isShowUserInfo:this.props.isShowOne,className:x.avatar,onClick:function(){return oe.avatarClick()}})]}),Object(i.jsxs)("div",{className:x.commentListContent,children:[Object(i.jsx)(je.a,{href:"/thread/comment/".concat(null===(L=this.props)||void 0===L?void 0:L.data.id,"?threadId=").concat(null===ve||void 0===ve||null===(M=ve.threadData)||void 0===M?void 0:M.id),text:null===(B=this.props)||void 0===B||null===(U=B.data)||void 0===U?void 0:U.content}),Object(i.jsxs)("div",{className:ne()(x.commentListContentText,this.props.isShowOne&&x.hover,this.props.active&&x.active),children:[Object(i.jsxs)("div",{className:x.commentHeader,children:[Object(i.jsxs)("div",{className:x.userInfo,children:[Object(i.jsx)("div",{className:x.commentListName,children:(null===(F=this.props.data)||void 0===F||null===(W=F.user)||void 0===W?void 0:W.nickname)||(null===(q=this.props.data)||void 0===q||null===(z=q.user)||void 0===z?void 0:z.userName)||"\u7528\u6237\u5f02\u5e38"}),Oe&&!this.props.isAnonymous&&Object(i.jsx)("div",{className:x.masterBox,children:Object(i.jsx)("span",{className:x.masterText,children:"\u4f5c\u8005"})}),!(null===he||void 0===he||!he.isDisplay)&&Object(i.jsx)("div",{className:x.groupsBox,children:null!==he&&void 0!==he&&he.level?Object(i.jsx)(pe.a,{groupLevel:null===he||void 0===he?void 0:he.level,groupName:(null===he||void 0===he?void 0:he.name)||(null===he||void 0===he?void 0:he.groupName),groupNameStyle:{maxWidth:"100px"}}):Object(i.jsx)("div",{className:x.groups,children:(null===he||void 0===he?void 0:he.name)||(null===he||void 0===he?void 0:he.groupName)})})]}),xe?Object(i.jsx)("div",{}):Object(i.jsx)("div",{className:x.isApproved,children:"\u5ba1\u6838\u4e2d"})]}),Object(i.jsx)("div",{className:ne()(x.commentListText),children:Object(i.jsx)(de.a,{onRedirectToDetail:function(){return oe.toCommentDetail()},useShowMore:!!this.state.isShowOne,content:null===(V=this.props)||void 0===V||null===(X=V.data)||void 0===X?void 0:X.content,customHoverBg:!0})}),null!==(H=this.props.data)&&void 0!==H&&H.images?Object(i.jsx)("div",{className:x.imageDisplay,children:Object(i.jsx)(ce.a,{platform:"pc",imgData:null===(Y=this.props.data)||void 0===Y?void 0:Y.images})}):""]}),(null===(Q=this.props.data)||void 0===Q?void 0:Q.user)&&Object(i.jsxs)("div",{className:x.commentListFooter,children:[!this.state.isFirstDivider&&Object(i.jsxs)("div",{className:x.commentBtn,children:[Object(i.jsx)("div",{className:x.commentTime,children:Object($.a)(this.props.data.createdAt)}),Object(i.jsxs)("div",{className:x.extraBottom,children:[Object(i.jsxs)("div",{className:ne()(x.commentLike,(null===(G=this.props)||void 0===G||null===(J=G.data)||void 0===J?void 0:J.isLiked)&&x.active),onClick:Object(ue.a)((function(){return oe.likeClick(le)}),500),children:[Object(i.jsx)(ie.a,{className:x.icon,name:"LikeOutlined"}),"\u8d5e\xa0",(null===(K=this.props)||void 0===K||null===(Z=K.data)||void 0===Z?void 0:Z.likeCount)>0?this.props.data.likeCount:""]}),Object(i.jsxs)("div",{className:ne()(x.commentReply,this.props.isShowInput&&this.state.isShowInput&&x.active),onClick:function(){return oe.replyClick()},children:[Object(i.jsx)(ie.a,{className:x.icon,name:"MessageOutlined"}),Object(i.jsx)("span",{children:"\u56de\u590d"})]}),this.props.isShowAdopt?Object(i.jsxs)("div",{className:x.commentAdopt,onClick:function(){return oe.props.onAboptClick()},children:[Object(i.jsx)(ie.a,{className:x.icon,name:"ExactnessOutlined"}),Object(i.jsx)("span",{children:"\u91c7\u7eb3"})]}):"",fe&&Object(i.jsxs)("div",{className:x.commentDelete,onClick:function(){return oe.deleteClick()},children:[Object(i.jsx)(ie.a,{className:x.icon,name:"DeleteOutlined"}),Object(i.jsx)("span",{children:"\u5220\u9664"})]})]})]}),this.props.isShowInput&&this.state.isShowInput&&Object(i.jsx)("div",{className:x.commentInput,children:Object(i.jsx)(ae.a,{height:"label",onSubmit:function(e,t){return oe.onSubmit(e,t)},placeholder:this.state.placeholder})}),(null===(ee=this.props.data)||void 0===ee?void 0:ee.replyCount)-1>0&&this.state.isShowOne?Object(i.jsxs)("div",{className:x.moreReply,onClick:function(){return oe.toCommentDetail()},children:["\u67e5\u770b\u4e4b\u524d",(null===(te=this.props.data)||void 0===te?void 0:te.replyCount)-1,"\u6761\u56de\u590d..."]}):"",this.props.originThread||"",this.props.isFirstDivider&&Object(i.jsx)(be.a,{className:x.divider}),(null===(re=this.needReply)||void 0===re?void 0:re.length)>0&&Object(i.jsx)("div",{className:x.replyList,children:this.state.isShowOne?Object(i.jsx)(me,{threadId:this.props.threadId,data:this.needReply[0],isShowOne:!0,avatarClick:function(e){return oe.replyAvatarClick(oe.needReply[0],e)},likeClick:function(){return oe.replyLikeClick(oe.needReply[0])},replyClick:function(){return oe.replyReplyClick(oe.needReply[0])},deleteClick:function(){return oe.replyDeleteClick(oe.needReply[0])},toCommentDetail:function(){return oe.toCommentDetail()},onSubmit:function(e,t){return oe.onSubmit(e,t)},isShowInput:this.state.replyId&&this.state.replyId===this.needReply[0].id,canPublish:this.props.canPublish,isAnonymous:this.props.isAnonymous},this.needReply[0].id):(this.needReply||[]).map((function(e,t){return Object(i.jsx)("div",{ref:e.id===oe.props.postId?oe.props.positionRef:null,children:Object(i.jsx)(me,{threadId:oe.props.threadId,data:e,avatarClick:function(t){return oe.replyAvatarClick(e,t)},likeClick:function(){return oe.replyLikeClick(e)},replyClick:function(){return oe.replyReplyClick(e)},deleteClick:function(){return oe.replyDeleteClick(e)},toCommentDetail:function(){return oe.toCommentDetail()},onSubmit:function(e,t){return oe.onSubmit(e,t)},isShowInput:oe.state.replyId&&oe.state.replyId===e.id,active:oe.props.postId===e.id,canPublish:oe.props.canPublish,isAnonymous:oe.props.isAnonymous},e.id||t)},e.id||t)}))})]})]})]})]})}}]),n}(j.a.Component))||he)||he;t.a=Oe},QGkA:function(e,t,n){n("RNIs")("flat")},Qj6V:function(e,t,n){"use strict";var r=n("rnXk"),i=function(e){var t=31&e[1];return t<<=8,t|=e[2]},a=function(e){return!!(64&e[1])},o=function(e){var t=0;return(48&e[3])>>>4>1&&(t+=e[4]+1),t},s=function(e){switch(e){case 5:return"slice_layer_without_partitioning_rbsp_idr";case 6:return"sei_rbsp";case 7:return"seq_parameter_set_rbsp";case 8:return"pic_parameter_set_rbsp";case 9:return"access_unit_delimiter_rbsp";default:return null}};e.exports={parseType:function(e,t){var n=i(e);return 0===n?"pat":n===t?"pmt":t?"pes":null},parsePat:function(e){var t=a(e),n=4+o(e);return t&&(n+=e[n]+1),(31&e[n+10])<<8|e[n+11]},parsePmt:function(e){var t={},n=a(e),r=4+o(e);if(n&&(r+=e[r]+1),1&e[r+5]){var i;i=3+((15&e[r+1])<<8|e[r+2])-4;for(var s=12+((15&e[r+10])<<8|e[r+11]);s<i;){var c=r+s;t[(31&e[c+1])<<8|e[c+2]]=e[c],s+=5+((15&e[c+3])<<8|e[c+4])}return t}},parsePayloadUnitStartIndicator:a,parsePesType:function(e,t){switch(t[i(e)]){case r.H264_STREAM_TYPE:return"video";case r.ADTS_STREAM_TYPE:return"audio";case r.METADATA_STREAM_TYPE:return"timed-metadata";default:return null}},parsePesTime:function(e){if(!a(e))return null;var t=4+o(e);if(t>=e.byteLength)return null;var n,r=null;return 192&(n=e[t+7])&&((r={}).pts=(14&e[t+9])<<27|(255&e[t+10])<<20|(254&e[t+11])<<12|(255&e[t+12])<<5|(254&e[t+13])>>>3,r.pts*=4,r.pts+=(6&e[t+13])>>>1,r.dts=r.pts,64&n&&(r.dts=(14&e[t+14])<<27|(255&e[t+15])<<20|(254&e[t+16])<<12|(255&e[t+17])<<5|(254&e[t+18])>>>3,r.dts*=4,r.dts+=(6&e[t+18])>>>1)),r},videoPacketContainsKeyFrame:function(e){for(var t=4+o(e),n=e.subarray(t),r=0,i=0,a=!1;i<n.byteLength-3;i++)if(1===n[i+2]){r=i+5;break}for(;r<n.byteLength;)switch(n[r]){case 0:if(0!==n[r-1]){r+=2;break}if(0!==n[r-2]){r++;break}i+3!==r-2&&"slice_layer_without_partitioning_rbsp_idr"===s(31&n[i+3])&&(a=!0);do{r++}while(1!==n[r]&&r<n.length);i=r-2,r+=3;break;case 1:if(0!==n[r-1]||0!==n[r-2]){r+=3;break}"slice_layer_without_partitioning_rbsp_idr"===s(31&n[i+3])&&(a=!0),i=r-2,r+=3;break;default:r+=3}return n=n.subarray(i),r-=i,i=0,n&&n.byteLength>3&&"slice_layer_without_partitioning_rbsp_idr"===s(31&n[i+3])&&(a=!0),a}}},QykG:function(e,t,n){"use strict";var r=function(){this.init=function(){var e={};this.on=function(t,n){e[t]||(e[t]=[]),e[t]=e[t].concat(n)},this.off=function(t,n){var r;return!!e[t]&&(r=e[t].indexOf(n),e[t]=e[t].slice(),e[t].splice(r,1),r>-1)},this.trigger=function(t){var n,r,i,a;if(n=e[t])if(2===arguments.length)for(i=n.length,r=0;r<i;++r)n[r].call(this,arguments[1]);else{for(a=[],r=arguments.length,r=1;r<arguments.length;++r)a.push(arguments[r]);for(i=n.length,r=0;r<i;++r)n[r].apply(this,a)}},this.dispose=function(){e={}}}};r.prototype.pipe=function(e){return this.on("data",(function(t){e.push(t)})),this.on("done",(function(t){e.flush(t)})),this.on("partialdone",(function(t){e.partialFlush(t)})),this.on("endedtimeline",(function(t){e.endTimeline(t)})),this.on("reset",(function(t){e.reset(t)})),e},r.prototype.push=function(e){this.trigger("data",e)},r.prototype.flush=function(e){this.trigger("done",e)},r.prototype.partialFlush=function(e){this.trigger("partialdone",e)},r.prototype.endTimeline=function(e){this.trigger("endedtimeline",e)},r.prototype.reset=function(e){this.trigger("reset",e)},e.exports=r},RGe9:function(e,t,n){"use strict";n("ma9I"),n("TeQF"),n("BIHw"),n("QWBl"),n("J30X"),n("2B1R"),n("+2oP"),n("Rfxz"),n("QGkA"),n("FZtP"),n("R5XZ");var r=n("nKUr"),i=n("q1tI"),a=n.n(i),o=n("Jw8/"),s=n.n(o),c=n("lCl7"),u=n.n(c),l=n("z6Ap"),d={placeholderH5:"_2r0n3ABLFNZY7-XpYVK_6S",placeholderPC:"_2HNh49NFENsUcCYI7_p9io",container:"_3GYehX7k-O-5KgzfX46zGp",flatItem:"_16IldxNja52P3ni5nIm2uO",containerNum5:"ssF-ao9wXcqdPjQtxwogy",bigImages:"_29xUd395Pxmf5y_e5Sm0vJ",col:"_2r1bz7XRPilNf5DhxxwPB0",smallImages:"s1nYiN9p0obGM0mGpkHPY",containerNum4:"_2QRKybufCZNwKD3njp1t2c",smallCol:"_2dVr6hv-Y-NRFz5LENFlfR",smallRow:"_2P49zCxWBL6QUzGNop0VI8",containerNum3:"_2Dxemn7iH-jHpkxBM9ZoOc",panorama:"FYiFpsWnDAiFB4ZAkRlvo",transverse:"_25GyF_KBM7DU51s_f5OE7l",long:"_3aubddDwdxl9Ej4ov0HPqV",longitudinal:"_1A-GMR7NYu5vhjcVg6musM",containerNum2:"_1FFV5OIpBM9bIhEDkFkEsy",containerNum1:"CGkpuiMKa3frKAMtvLCss",containerPC:"TA13tR4q-hj9NJ3VPDBlr",modalBox:"_3spPf9y6YX5SUyV5CfCH1J"},p=(n("n4oF"),"_3XgG-8G7YoSjgRuwopOHSH"),f="q64NcfhCFdiax3gJePh2d",h="_1YzJfaILHfJoRrITvJJcaE";var m=n("JHFX"),v=n("yuBF"),b=Object(v.inject)("card")(Object(v.observer)((function(e){var t=e.level,n=e.type,a=e.src,o=e.onClick,s=e.noSmart,c=void 0!==s&&s,u=e.showLongPicture,l=void 0===u||u,d=e.postLoad,v=void 0===d?"":d,b=e.size,y=void 0===b?0:b,g=Object(i.useState)(!1),j=g[0],x=g[1],O=Object(i.useRef)(null),w=Object(i.useMemo)((function(){return a?y/1024/1024>2?Object(m.a)(a,n,100):c?Object(m.a)(a,n,0):Object(m.a)(a,n,t):""}),[c,a,n,t]),C=Object(i.useCallback)((function(){if("function"===typeof v&&v(),O&&O.current){var e=O.current.naturalWidth,t=O.current.naturalHeight;x(t/e>=2.5)}l||x(!1)}),[O]);return Object(r.jsxs)("div",{className:p,children:[Object(r.jsx)("img",{alt:"\u56fe\u7247",ref:O,src:w,onLoad:C,onClick:o}),!c&&j&&Object(r.jsx)("div",{className:f,children:Object(r.jsx)("p",{className:h,children:"\u957f\u56fe"})})]})}))),y=u.a.Col,g=u.a.Row,j=function(e){var t,n,o=e.onClickMore,c=e.imgData,u=void 0===c?[]:c,p=e.flat,f=void 0!==p&&p,h=e.platform,m=void 0===h?"h5":h,v=e.isPay,y=void 0!==v&&v,g=e.onPay,j=void 0===g?l.e:g,N=e.onImageReady,T=(void 0===N&&l.e,e.updateViewCount),_=void 0===T?l.e:T,P=e.showLongPicture,S=void 0===P||P,E=e.postLoad,A=void 0===E?"":E,I=Object(i.useState)(!1),R=I[0],D=I[1],L=Object(i.useState)(""),M=L[0],B=L[1],U=a.a.useRef(null),F=Object(i.useState)({width:Array.isArray(u)?0:(null===(t=u[0])||void 0===t?void 0:t.fileWidth)||0,height:Array.isArray(u)?0:(null===(n=u[0])||void 0===n?void 0:n.fileHeight)||0}),W=F[0],q=(F[1],Object(i.useMemo)((function(){return u.filter((function(e){return 1!==(null===e||void 0===e?void 0:e.needPay)})).map((function(e){return null===e||void 0===e?void 0:e.url}))}),[u]));Object(i.useEffect)((function(){R&&U&&U.current&&U.current.show()}),[R]);var z=function(e){(void 0===e.needPay?y:1===e.needPay)?j():(_(),u.forEach((function(t){t.id===(null===e||void 0===e?void 0:e.id)&&(B(null===t||void 0===t?void 0:t.url),D(!0))})))},V=function(e){var t;e.stopPropagation(),0===q.length||u.slice(5).some((function(e){return!(null===e||void 0===e||!e.needPay)}))?j():(_(),B(null===(t=u[4])||void 0===t?void 0:t.url),setTimeout((function(){D(!0)}),0))},X=Object(i.useMemo)((function(){var e=u.length>5?5:null===u||void 0===u?void 0:u.length;return"containerNum".concat(e)}),[u]),H=Object(i.useMemo)((function(){if(!u||0===u.length)return null;if(!f&&null===W)return Object(r.jsx)("div",{className:"".concat("h5"===m?d.placeholderH5:d.placeholderPC)});var e=function(e){return e||u.length<3?{bigImages:u,smallImages:[]}:u.length<5?{bigImages:[u[0]],smallImages:u.slice(1,u.length+1)}:{bigImages:[u[0],u[1]],smallImages:[u[2],u[3],u[4]]}}(f);if(f)return Object(r.jsx)("div",{children:e.bigImages.map((function(e,t){return Object(r.jsx)("div",{className:d.flatItem,children:Object(r.jsx)(b,{postLoad:A,noSmart:!0,type:null===e||void 0===e?void 0:e.fileType,src:null===e||void 0===e?void 0:e.url,onClick:function(){return z(e)},showLongPicture:S})},t)}))});var t,n,i="fail"===W?function(e){return 3===e?"longitudinal":"panorama"}(u.length):(t=W.width,n=W.height,t&&n?t>=n?t/n>=2?"panorama":"transverse":n/t>=2.5?"long":"longitudinal":"transverse");return 1===u.length?Object(r.jsx)(x,{type:i,bigImages:e.bigImages,onClick:z,smallImages:e.smallImages,style:X,postLoad:A}):2===u.length?Object(r.jsx)(O,{type:i,bigImages:e.bigImages,onClick:z,smallImages:e.smallImages,style:X,postLoad:A}):3===u.length?Object(r.jsx)(w,{type:i,bigImages:e.bigImages,onClick:z,smallImages:e.smallImages,style:X,postLoad:A}):4===u.length?Object(r.jsx)(C,{type:i,bigImages:e.bigImages,onClick:z,smallImages:e.smallImages,style:X,postLoad:A}):u.length>=5?Object(r.jsx)(k,{type:i,bigImages:e.bigImages,onClick:z,smallImages:e.smallImages,style:X,imgData:u,onClickMore:V}):null}),[u,W,f]);return Object(r.jsxs)("div",{onClick:o,style:{cursor:"pointer"},className:"".concat("h5"===m?d.container:d.containerPC),children:[H,R&&Object(r.jsx)(s.a,{ref:U,onClose:function(){D(!1)},imgUrls:q,currentUrl:M})]})},x=(t.a=a.a.memo(j),function(e){var t=e.type,n=e.bigImages,i=e.onClick,a=e.style,o=e.showLongPicture,s=e.postLoad,c=n[0];return Object(r.jsx)("div",{className:"".concat(d[a]," ").concat(d[t]),onClick:function(e){return e.stopPropagation()},children:Object(r.jsx)(b,{postLoad:s,level:1,type:null===c||void 0===c?void 0:c.fileType,src:null===c||void 0===c?void 0:c.thumbUrl,size:null===c||void 0===c?void 0:c.fileSize,onClick:function(){return i(c)},showLongPicture:o})})}),O=function(e){var t=e.type,n=e.bigImages,i=e.onClick,a=e.style,o=e.showLongPicture,s=e.postLoad;return Object(r.jsx)("div",{onClick:function(e){return e.stopPropagation()},children:Object(r.jsx)(g,{gutter:4,className:"".concat(d[a]," ").concat(d[t]," ").concat(d.row),children:n.map((function(e,t){return Object(r.jsx)(y,{span:6,className:d.col,children:Object(r.jsx)(b,{postLoad:s,level:1,type:null===e||void 0===e?void 0:e.fileType,src:null===e||void 0===e?void 0:e.thumbUrl,size:null===e||void 0===e?void 0:e.fileSize,onClick:function(){return i(e)},showLongPicture:o})},t)}))})})},w=function(e){var t,n,i,a,o,s,c=e.type,u=e.bigImages,l=e.smallImages,p=e.onClick,f=e.style,h=e.showLongPicture,m=e.postLoad;return"long"===c||"longitudinal"===c?Object(r.jsx)("div",{className:"".concat(d[f]," ").concat(d[c]),onClick:function(e){return e.stopPropagation()},children:Object(r.jsxs)(g,{gutter:4,children:[Object(r.jsx)(y,{span:8,className:d.col,children:Object(r.jsx)(b,{level:1,postLoad:m,type:null===(a=u[0])||void 0===a?void 0:a.fileType,src:null===(o=u[0])||void 0===o?void 0:o.thumbUrl,onClick:function(){return p(u[0])},size:null===(s=u[0])||void 0===s?void 0:s.fileSize,showLongPicture:h})}),Object(r.jsx)(y,{span:4,className:d.col,children:Object(r.jsx)(g,{gutter:4,className:d.smallRow,children:l.map((function(e,t){return Object(r.jsx)(y,{span:12,className:d.smallCol,children:Object(r.jsx)(b,{postLoad:m,level:2,type:null===e||void 0===e?void 0:e.fileType,size:null===e||void 0===e?void 0:e.fileSize,src:null===e||void 0===e?void 0:e.thumbUrl,onClick:function(){return p(e)},showLongPicture:h})},t)}))})})]})}):Object(r.jsxs)("div",{className:"".concat(d[f]," ").concat(d[c]),onClick:function(e){return e.stopPropagation()},children:[Object(r.jsx)("div",{className:d.bigImages,children:Object(r.jsx)(b,{postLoad:m,level:1,type:null===(t=u[0])||void 0===t?void 0:t.fileType,src:null===(n=u[0])||void 0===n?void 0:n.thumbUrl,size:null===(i=u[0])||void 0===i?void 0:i.fileSize,onClick:function(){return p(u[0])},showLongPicture:h})}),Object(r.jsx)(g,{gutter:4,className:d.smallImages,children:l.map((function(e,t){return Object(r.jsx)(y,{span:6,className:d.col,children:Object(r.jsx)(b,{postLoad:m,level:2,type:null===e||void 0===e?void 0:e.fileType,src:null===e||void 0===e?void 0:e.thumbUrl,size:null===e||void 0===e?void 0:e.fileSize,onClick:function(){return p(e)},showLongPicture:h})},t)}))})]})},C=function(e){e.type;var t,n,i,a=e.bigImages,o=e.smallImages,s=e.onClick,c=e.style,u=e.showLongPicture,l=e.postLoad;return Object(r.jsx)("div",{onClick:function(e){return e.stopPropagation()},children:Object(r.jsxs)(g,{gutter:4,className:d[c],children:[Object(r.jsx)(y,{span:8,className:d.col,children:Object(r.jsx)(b,{postLoad:l,level:1,type:null===(t=a[0])||void 0===t?void 0:t.fileType,src:null===(n=a[0])||void 0===n?void 0:n.thumbUrl,size:null===(i=a[0])||void 0===i?void 0:i.fileSize,onClick:function(){return s(a[0])},showLongPicture:u})}),Object(r.jsx)(y,{span:4,className:d.col,children:Object(r.jsx)(g,{gutter:4,className:d.smallRow,children:o.map((function(e,t){return Object(r.jsx)(y,{span:12,className:d.smallCol,children:Object(r.jsx)(b,{postLoad:l,level:3,type:null===e||void 0===e?void 0:e.fileType,src:null===e||void 0===e?void 0:e.thumbUrl,size:null===e||void 0===e?void 0:e.fileSize,onClick:function(){return s(e)},showLongPicture:u})},t)}))})})]})})},k=function(e){e.type;var t=e.bigImages,n=e.smallImages,i=e.onClick,a=e.style,o=e.imgData,s=void 0===o?[]:o,c=e.onClickMore,u=e.showLongPicture,l=e.postLoad;return Object(r.jsxs)("div",{className:d[a],onClick:function(e){return e.stopPropagation()},children:[Object(r.jsx)(g,{gutter:4,className:d.bigImages,children:t.map((function(e,t){return Object(r.jsx)(y,{span:6,className:d.col,children:Object(r.jsx)(b,{postLoad:l,level:2,type:null===e||void 0===e?void 0:e.fileType,src:null===e||void 0===e?void 0:e.thumbUrl,size:null===e||void 0===e?void 0:e.fileSize,onClick:function(){return i(e)},showLongPicture:u})},t)}))}),Object(r.jsx)(g,{gutter:4,className:d.smallImages,children:n.map((function(e,t){return Object(r.jsxs)(y,{span:4,className:d.col,children:[Object(r.jsx)(b,{postLoad:l,level:3,type:null===e||void 0===e?void 0:e.fileType,src:null===e||void 0===e?void 0:e.thumbUrl,size:null===e||void 0===e?void 0:e.fileSize,onClick:function(){return i(e)},showLongPicture:u}),(null===s||void 0===s?void 0:s.length)>5&&t===n.length-1&&Object(r.jsx)("div",{className:d.modalBox,onClick:c,children:"+".concat(s.length-5)})]},t)}))})]})}},RiCf:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SliderWebAdapter=void 0;t.SliderWebAdapter={}},"S+ZJ":function(e,t,n){"use strict";var r=n("TqRt"),i=n("cDf5");n("pjDv"),n("2B1R"),n("+2oP"),n("PKPk"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n("J4zp")),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!==typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(n("q1tI")),s=r(n("TSYQ")),c=n("VTYn"),u=r(n("b9ng")),l=r(n("LwBt"));function d(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}var p=function(e){var t=e.imgUrls,n=void 0===t?[]:t,r=e.currentImgIdx,i=void 0===r?0:r,d=(e.visible,e.onImgClick),p=void 0===d?function(){}:d,f=e.onError,h=void 0===f?function(e){return""}:f,m=(0,c.useConfig)().clsPrefix,v=(0,o.useState)(0),b=(0,a.default)(v,2),y=b[0],g=b[1],j=(0,o.useState)(!1),x=(0,a.default)(j,2),O=x[0],w=x[1],C=o.default.useRef(null),k=o.default.useRef(null),N=o.default.useRef(null),T=o.default.useRef(null),_=!1;return"undefined"!==typeof window&&(_=(0,u.default)()),(0,o.useEffect)((function(){var e=function(){N.current||(w(!0),C.current&&clearTimeout(C.current),C.current=setTimeout((function(){w(!1)}),2e3))},t=function(){w(!0),N.current=!0,"undefined"!==typeof window&&document.removeEventListener("mousemove",e),C.current&&clearTimeout(C.current)},n=function(){N.current=null,"undefined"!==typeof window&&document.addEventListener("mousemove",e,!1)};return"undefined"!==typeof window&&document.addEventListener("mousemove",e,!1),k.current&&(_||(k.current.addEventListener("mouseover",t,!1),k.current.addEventListener("mouseleave",n,!1))),function(){"undefined"!==typeof window&&document.removeEventListener("mousemove",e),k.current&&(k.current.removeEventListener("mouseover",t),k.current.removeEventListener("mouseleave",n))}}),[]),(0,o.useEffect)((function(){setTimeout((function(){if("undefined"!==typeof window){var e=k.current;if(e){var t=document.getElementsByClassName("".concat(m,"-img-previewer__controller-item")),n=e.getBoundingClientRect().width,r=Array.from(t).slice(0,i).reduce((function(e,t){return e+t.getBoundingClientRect().width}),0);g(r>=n/2?r<n-40?r-n/2+40:r-n/2+30:0)}}}),300)}),[i]),o.default.createElement("div",{ref:k,className:(0,s.default)("".concat(m,"-img-previewer__controller-wrapper"),{"is-mobile":_}),style:{visibility:O||_?"visible":"hidden",overflow:"hidden"},onTouchStart:function(e){e.stopPropagation(),T.current=e.touches[0].clientX},onTouchMove:function(e){e.stopPropagation();var t=e.touches[0].clientX-T.current;T.current=e.touches[0].clientX;var n=k.current.getBoundingClientRect().width,r=document.getElementsByClassName("".concat(m,"-img-previewer__controller-item")),i=Array.from(r).slice(0,r.length-1).reduce((function(e,t){return e+t.getBoundingClientRect().width}),0);g((function(e){return e-t<=0?0:e-t>=i-n/2+30?i-n/2+30:e-t}))},onClick:function(e){e.stopPropagation(),e.preventDefault()}},o.default.createElement("div",{style:{transform:"translateX(-".concat(y,"px)"),transition:"transform .3s"},className:(0,s.default)("".concat(m,"-img-previewer__controller-container"))},n.map((function(e,t){return o.default.createElement(l.default,{className:(0,s.default)("".concat(m,"-img-previewer__controller-item"),{"is-active":t===i,"is-mobile":_}),alt:"",isActive:t===i,onClick:function(){p(t)},idx:t,onError:h,src:e})}))))};t.default=p},S1Q7:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.WebLayout=void 0;var i=r(n("W8MJ")),a=r(n("PJYZ")),o=r(n("lSNA")),s=r(n("lwsE")),c=r(n("7W2i")),u=r(n("a1gu")),l=r(n("Nsbk")),d=r(n("q1tI")),p=n("VTYn"),f=r(n("TSYQ")),h=r(n("NDL1")),m=r(n("nrUO")),v=r(n("uhBA")),b=r(n("Vhm6"));function y(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,l.default)(e);if(t){var i=(0,l.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,u.default)(this,n)}}var g=new(function(e){(0,c.default)(n,e);var t=y(n);function n(){return(0,s.default)(this,n),t.apply(this,arguments)}return n}(v.default)),j=function(e){(0,c.default)(n,e);var t=y(n);function n(e){var r;return(0,s.default)(this,n),r=t.call(this,e),(0,o.default)((0,a.default)(r),"player",void 0),(0,o.default)((0,a.default)(r),"videoNode",void 0),r}return(0,i.default)(n,[{key:"componentDidMount",value:function(){this.player=(0,h.default)(this.videoNode,this.props),(0,m.default)(this.player,this.props),this.props.onReady&&this.props.onReady(this.player),(0,b.default)(this.player,g,this.props)}},{key:"componentWillUnmount",value:function(){this.player&&this.player.dispose()}},{key:"render",value:function(){var e=this,t=this.props,n=t.style,r=t.className,i=t.autoplay,a=t.src,o=this.context.clsPrefix;return d.default.createElement("div",{style:n,className:(0,f.default)("".concat(o,"-video"),r)},d.default.createElement("div",{"data-vjs-player":!0},d.default.createElement("video",{src:a,ref:function(t){return e.videoNode=t},"x5-video-player-type":"h5-page","t7-video-player-type":"inline","webkit-playsinline":"isiPhoneShowPlaysinline",className:"video-js",autoPlay:i})))}}]),n}(d.default.Component);t.WebLayout=j,(0,o.default)(j,"contextType",p.ConfigContext)},SRSl:function(e,t,n){"use strict";n.d(t,"b",(function(){return p})),n.d(t,"d",(function(){return f})),n.d(t,"c",(function(){return h})),n.d(t,"a",(function(){return m}));n("QWBl"),n("qePV"),n("B6y2"),n("x2An"),n("FZtP");var r=n("o0o1"),i=n.n(r),a=(n("ls82"),n("yXPU")),o=n.n(a),s=n("GCVD"),c=n("DYmA"),u=n("pGE/"),l=n("sho3"),d=n("/V48"),p=function(e){var t=e.avatarUrl,n=e.threadList;n.registerList({namespace:"my"});var r=n.lists.my;Object.values(r.data).forEach((function(e){e.forEach((function(e){e.user||(e.user={}),e.user.avatar=t}))})),n.forceUpdateList()},f=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=s.a.getInstance().findAssignThreadInLists({threadId:e}),r=t.updateType,i=t.updatedInfo,a=t.user,o=t.openedMore,l=t.recomputeRowHeights,d=function(e){var t,n=e.data,s=e.callback,d=void 0===s?function(){}:s;if(n||null!==n&&void 0!==n&&n.likeReward||null!==n&&void 0!==n&&null!==(t=n.likeReward)&&void 0!==t&&t.users){if(n&&"content"===r&&d(n),"like"===r&&!u.a.isUndefined(i.isLiked)&&!u.a.isNull(i.isLiked)&&a){var p=i.isLiked,f=i.likePayCount,h=void 0===f?0:f;a.userId||a.id;n.isLike=p;var m=c.a.createUpdateLikeUsersData(a,1),v=c.a.setThreadDetailLikedUsers(n.likeReward,!!p,m);n.likeReward.users=v,n.likeReward.likePayCount=h}"comment"===r&&null!==n&&void 0!==n&&n.likeReward&&(n.likeReward.postCount=n.commentList.length),"decrement-comment"===r&&null!==n&&void 0!==n&&n.likeReward&&n.likeReward.postCount>0&&(n.likeReward.postCount=n.commentList.length),"share"===r&&(n.likeReward.shareCount=n.likeReward.shareCount+1),"viewCount"===r&&(n.viewCount=i.viewCount),"openedMore"===r&&(n.openedMore=o),u.a.isFunction(l)&&l(n),d(n)}};null!==n&&void 0!==n&&n.length&&n.forEach((function(e){var t=e.index,n=e.data,r=e.listName,i=e.page;d({data:n,callback:function(e){s.a.getInstance().lists[r].data[i][t]=e}})}))},h=function(e,t){s.a.getInstance().updateAssignThreadInfoInLists({threadId:e,threadInfo:t})},m=function(){var e=o()(i.a.mark((function e(t,n){var r,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null!==(r=s.a.getInstance().findAssignThreadInLists({threadId:t}))&&void 0!==r&&r.length&&r.forEach(function(){var e=o()(i.a.mark((function e(r){var o,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r||!r.data){e.next=10;break}if(Reflect.has(r.data,"commentList")||v(r.data),r.data.isLoading=!0,a){e.next=7;break}return e.next=6,Object(l.readCommentList)({params:{filter:{thread:Number(t)},page:1,perPage:10,index:1}});case 6:a=e.sent;case 7:0===a.code?(r.data.commentList=(null===(o=a)||void 0===o||null===(s=o.data)||void 0===s?void 0:s.pageData)||[],r.data.requestError={isError:!1,errorText:"\u52a0\u8f7d\u5931\u8d25"}):r.data.requestError={isError:!0,errorText:a.msg||"\u52a0\u8f7d\u5931\u8d25"},r.data.isLoading=!1,"function"===typeof n&&n(r.data);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),v=function(e){Object(d.extendObservable)(e,{commentList:[],requestError:{isError:!1,errorText:"\u52a0\u8f7d\u5931\u8d25"},isLoading:!1})}},STnV:function(e,t,n){"use strict";n.d(t,"f",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"g",(function(){return a})),n.d(t,"e",(function(){return o})),n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return c})),n.d(t,"d",(function(){return u}));var r={SURE:"sure",PAYWAY:"payway",PAY:"pay",WALLET_PASSWORD:"walletPassword",RESULT:"result",SET_PASSWORD:"setPassword"},i={WX:"weixin",WALLET:"wallet"},a={WX_PAY_OK:"get_brand_wcpay_request:ok",WX_PAY_CANCEL:"get_brand_wcpay_request:cancel",WX_PAY_FAIL:"get_brand_wcpay_request:fail"},o={WX_QRCODE:10,WX_H5:11,WX_OFFICAL:12,WX_MINI_PROGRAM:13,WALLET:20},s={PENDING_PAY:0,PAID:1,CANCEL_PAY:2,FAIL_PAY:3,OUT_DATE_PAY:4},c={ORDER_TYPE_REGISTER:1,ORDER_TYPE_REWARD:2,ORDER_TYPE_THREAD:3,ORDER_TYPE_GROUP:4,ORDER_TYPE_QUESTION:5,ORDER_TYPE_ONLOOKER:6,ORDER_TYPE_ATTACHMENT:7,ORDER_TYPE_RENEW:8,ORDER_TYPE_REDPACKET:9,ORDER_TYPE_QUESTION_REWARD:10,ORDER_TYPE_MERGE:11,ORDER_TYPE_TEXT:20,ORDER_TYPE_RECHARGE:30},u={NOT_IN_WEIXIN_PAY:{Code:"pbx_0001",Message:"\u5fae\u4fe1\u5916\u6d4f\u89c8\u5668\u65e0\u6cd5\u62c9\u8d77\u4ed8\u6b3e"},IN_IOS:{Code:"pbx_0002",Message:"\u7531\u4e8e\u76f8\u5173\u89c4\u8303\uff0cIOS\u7cfb\u7edf\u4e14\u5fae\u4fe1\u5185\uff0c\u7981\u6b62\u8fdb\u884c\u6b64\u64cd\u4f5c\uff0c\u8bf7\u66f4\u6362\u5176\u5b83\u9014\u5f84\u64cd\u4f5c"},WX_PAY_CANCEL:{Code:"pbx_0003",Message:"\u5fae\u4fe1\u652f\u4ed8\u53d6\u6d88"},WX_PAY_FAIL:{Code:"pbx_0004",Message:"\u5fae\u4fe1\u652f\u4ed8\u62c9\u8d77\u5931\u8d25"},NETWORK_ERROR:{Code:"pbx_9999",Message:"\u7f51\u7edc\u9519\u8bef"},WX_MINI_PAY_CREATE_FAILED:{Code:"pbx_0005",Message:"\u62c9\u8d77\u5fae\u4fe1\u5c0f\u7a0b\u5e8f\u652f\u4ed8\u5931\u8d25"}}},StJS:function(e,t,n){"use strict";n("4mDm"),n("2B1R"),n("rOQg"),n("07d7"),n("5s+n"),n("rB9j"),n("PKPk"),n("Rm1S"),n("UxlC"),n("EnZy"),n("XMab"),n("moxL"),n("qXVe"),n("c162"),n("waxf"),n("0TkE"),n("Onu3"),n("1dYe"),n("gvgV"),n("6R/c"),n("YL0P"),n("X5Zq"),n("MoCz"),n("P8wP"),n("ypFw"),n("JaFt"),n("zSZm"),n("PF2M"),n("KVSy"),n("ZJ55"),n("IZzc"),n("Fwt+"),n("s5qe"),n("cvf0"),n("3bBZ");var r=n("o0o1"),i=n.n(r),a=(n("ls82"),n("yXPU")),o=n.n(a),s=n("J4zp"),c=n.n(s),u=n("lY1M"),l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"image",n=e.split(","),r="",i="data:image/jpg;base64";if(n.length>1){var a=c()(n,2);i=a[0],r=a[1]}else{var o=c()(n,1);r=o[0]}for(var s=i.match(/:(.*?);/)[1]||"image/jpg",u=atob(r),l=u.length,d=new Uint8Array(l);l--;)d[l]=u.charCodeAt(l);return new File([d],t,{type:s})};t.a=function(){return new Promise(function(){var e=o()(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u.b.env("weixin")&&u.b.env("android")&&window.wx&&wx.hasDoneConfig){e.next=3;break}return t([]),e.abrupt("return");case 3:return e.next=5,new Promise((function(e){wx.getNetworkType({success:function(){return e(!0)}}),wx.error((function(){return e(!1)}))}));case 5:if(e.sent){e.next=9;break}return t([]),e.abrupt("return");case 9:wx.chooseImage({count:9,sizeType:["original","compressed"],sourceType:["album","camera"],success:function(){var e=o()(i.a.mark((function e(n){var r,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.localIds,e.next=3,Promise.all(r.map((function(e){return new Promise((function(t){wx.getLocalImgData({localId:e,success:function(n){var r=l(n.localData);r.imageType=r.type.replace("image/",""),r.localId=e,r.src=n.localData,t(r)}})}))})));case 3:a=e.sent,t(a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()});case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}},T6Gt:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DialogViewAdapter=void 0;var r=(0,n("1d9p").baseLayoutFactory)({layoutImplement:function(){return n("bihr").DialogWebLayout}});t.DialogViewAdapter=r},TGR9:function(e,t,n){"use strict";n("ma9I"),n("pDQq"),Object.defineProperty(t,"__esModule",{value:!0}),t.createCallbackManager=void 0;t.createCallbackManager=function(){var e=[];return{add:function(t){e.push(t)},remove:function(t){var n=-1;e.forEach((function(e,r){e===t&&(n=r)})),n>-1&&e.splice(n,1)},count:function(){return e.length},trigger:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e.forEach((function(e){if("function"===typeof e)e.apply(void 0,n);else{var t=e.callback,r=e.ctx;t.call.apply(t,[r].concat(n))}}))}}}},TJTF:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toFixed=t.randomStr=void 0;t.toFixed=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return.01*Math.floor(100*e)};t.randomStr=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16,t="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=t.length,r="",i=0;i<e;i++){var a=Math.floor(100*Math.random()*n%n);r+=t[a]}return r}},TOwV:function(e,t,n){"use strict";e.exports=n("qT12")},TZCg:function(e,t,n){"use strict";var r=n("I+eb"),i=n("DMt2").start;r({target:"String",proto:!0,forced:n("mgyK")},{padStart:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},"U+yc":function(e,t){e.exports=function(e,t,n,r,i){var a={};return Object.keys(r).forEach((function(e){a[e]=r[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),a),i&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(i):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}},U5R6:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.logicalAdapter=void 0;var r=(0,n("mlqK").baseAdapterFactory)({defaultAdapter:{},adapterImplement:function(){return n("YKlV").VideoWebAdapter}});t.logicalAdapter=r},UQAj:function(e,t,n){"use strict";n("4mDm"),n("2B1R"),n("07d7"),n("5s+n"),n("PKPk"),n("3bBZ");var r=n("o0o1"),i=n.n(r),a=(n("ls82"),n("yXPU")),o=n.n(a),s=n("lSNA"),c=n.n(s),u=n("jbJk").default,l=n("mG8q").default;function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}t.a=function(e){var t=e.files;e.type,e.qcloudCos,e.qcloudCosBucketName,e.qcloudCosBucketArea,e.qcloudCosSignUrl,e.supportImgExt,e.supportMaxSize;return Promise.all(t.map((function(t){var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({file:t},e);return new Promise(function(){var e=o()(i.a.mark((function e(t,r){var a,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u(n);case 3:a=e.sent,t(a),e.next=19;break;case 7:return e.prev=7,e.t0=e.catch(0),e.prev=9,e.next=12,l(n);case 12:o=e.sent,t(o),e.next=19;break;case 16:e.prev=16,e.t1=e.catch(9),r("error");case 19:case"end":return e.stop()}}),e,null,[[0,7],[9,16]])})));return function(t,n){return e.apply(this,arguments)}}())})))}},"V+Sr":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=(0,n("gWAJ").CheckboxViewAdapter)();t.default=r},VbXa:function(e,t){e.exports=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}},Vhm6:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e,t,n){var r=n.singleton;e.on("play",(function(){t.emit("play",e)})),t.on("play",(function(t){if(t!==e&&r&&e&&e.pause)try{e.pause()}catch(n){}}))};t.default=r},W7Eq:function(e,t,n){"use strict";n("ma9I"),n("TeQF"),n("pjDv"),n("yq1k"),n("yXV3"),n("2B1R"),n("toAj"),n("07d7"),n("rNhl"),n("5s+n"),n("p532"),n("JTJg"),n("PKPk"),n("R5XZ");var r,i=n("nKUr"),a=n("o0o1"),o=n.n(a),s=(n("ls82"),n("yXPU")),c=n.n(s),u=n("q1tI"),l=n.n(u),d=n("yuBF"),p=n("MCNy"),f=n.n(p),h=n("wdT/"),m=n.n(h),v=n("jqTq"),b=n.n(v),y=n("i4aZ"),g=n.n(y),j=n("z6Ap"),x=n("TibX"),O=n("rOX+"),w=n.n(O),C=(n("RiVy"),n("uPFr")),k=(n("4mDm"),n("E9XD"),n("rB9j"),n("hByQ"),n("EnZy"),n("3bBZ"),n("Kz25"),n("lwsE")),N=n.n(k),T=n("W8MJ"),_=n.n(T),P=n("7W2i"),S=n.n(P),E=n("a1gu"),A=n.n(E),I=n("Nsbk"),R=n.n(I),D=n("Ylwr"),L=n("k8W2"),M=n.n(L),B=n("i8i4"),U=n.n(B),F="_2_hJfjQytb_cfY6fjMF8_w",W="_3Hqy8vuViQEVKz7sBcbO_I",q="_38ieO3pmz1G17kF5UJqrKh",z="_3l-HT7kUJhEPiKicwefoJ3",V="_1SjMVVN8DwaCQWg6wYjH-";function X(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=R()(e);if(t){var i=R()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return A()(this,n)}}var H=Object(d.inject)("site")(r=function(e){S()(n,e);var t=X(n);function n(e){var r;return N()(this,n),(r=t.call(this,e)).state={errMsg:""},r}return _()(n,[{key:"getAuthorization",value:function(){try{var e=this.props.file.url,t=new URL(e).search.split("?")[1].split("&").map((function(e){return e.split("=")})).reduce((function(e,t){return e[t[0]]=t[1],e}),{});return decodeURIComponent(t.sign)}catch(n){return}}},{key:"componentDidMount",value:function(){var e=c()(o.a.mark((function e(){var t,n,r,i,a,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,null!==(t=this.props.file)&&void 0!==t&&t.url){e.next=5;break}return this.setState({errMsg:"\u9884\u89c8\u5931\u8d25\uff1a\u6587\u4ef6\u5730\u5740\u4e3a\u7a7a"}),e.abrupt("return");case 5:return n=new URL(t.url),r="".concat(n.origin).concat(n.pathname),i=this.getAuthorization(),e.next=10,COSDocPreviewSDK.getPreviewUrl({objectUrl:r,credentials:{authorization:i,secretId:"",secretKey:""}});case 10:if(a=e.sent){e.next=14;break}return this.setState({errMsg:"\u9884\u89c8\u5931\u8d25\uff1a\u6587\u4ef6\u5b58\u50a8\u5f02\u5e38\u3002\u8bf7\u4e0b\u8f7d\u5230\u672c\u5730\u67e5\u770b"}),e.abrupt("return");case 14:s=document.querySelector("#preview"),COSDocPreviewSDK.config({mode:"simple",mount:s,url:a}),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(0),this.setState({errMsg:"\u9884\u89c8\u5931\u8d25\uff0c\u8bf7\u4e0b\u8f7d\u5230\u672c\u5730\u67e5\u770b"});case 21:case"end":return e.stop()}}),e,this,[[0,18]])})));return function(){return e.apply(this,arguments)}}()},{key:"renderPC",value:function(){var e=this.props,t=e.file,n=e.onClose;return Object(i.jsx)(D.a,{title:t.fileName,onClose:n,pc:!0,visible:!0,isCustomBtn:!0,className:F,children:this.state.errMsg?Object(i.jsx)("div",{className:V,children:this.state.errMsg}):Object(i.jsx)("div",{id:"preview"})})}},{key:"renderH5",value:function(){var e=this.props,t=e.file,n=e.onClose;return Object(i.jsxs)(M.a,{className:W,position:"center",visible:!0,children:[Object(i.jsxs)("div",{className:q,children:[t.fileName,Object(i.jsx)(f.a,{className:z,name:"LeftOutlined",size:18,onClick:n})]}),this.state.errMsg?Object(i.jsx)("div",{className:V,children:this.state.errMsg}):Object(i.jsx)("div",{id:"preview"})]})}},{key:"render",value:function(){var e=this.props.site.isPC;return U.a.createPortal(e?this.renderPC():this.renderH5(),document.getElementsByTagName("body")[0])}}]),n}(l.a.Component))||r,Y=n("yO9+");function Q(e){var t="";switch(e){case"XLS":case"XLSX":case"SHEET":t="xls-outlined.86ffbb304f441a3ac39d0a2b6559d119a876b992.png";break;case"DOC":case"DOCX":case"DOCUMENT":t="doc-outlined.2c3f996d6c8e141beea3a4dd2e4f92e72927241c.png";break;case"PPT":case"PPTX":case"PRESENTATION":t="ppt-outlined.c633840874bf2f06dd0dddc96f19f2698619e51e.png";break;case"RAR":case"ZIP":case"X-ZIP-COMPRESSED":t="zip-outlined.8c5d95e8746ea9a5b940a03e8f83d5b1ddba0211.png";break;case"PDF":t="pdf-outlined.e06cb6e0559e2f2abebaa07a54ff3b34b05a4165.png";break;case"TXT":case"PLAIN":t="text-outlined.3422bac383a7d71bba912db8b3912471ec2869f6.png";break;case"MP4":t="video-outlined.75403451dd41be304dfcbefd530ec1d560f978f4.png";break;case"M4A":case"MP3":case"MPEG":t="audio-outlined.d04f8b9380204fe1b1b671f59145695f56cc222d.png";break;case"PNG":case"JPEG":t="image-outlined.8aa1c2bd1fb9a0645e09136670cfb4020aa30be3.png";break;case"FORM":t="form-outlined.7edcdca23038bdd7f2b72f2b897388e5d8acb79f.png";break;default:t="file-outlined.8dafcd0a20ee70430ba1d3420e015a232a64fa05.png"}return"".concat(Y.e,"/assets/").concat(t)}var G=n("m5TM"),J=n("+3IH"),K=n("sho3"),Z=(n("IvHc"),{wrapper:"yTySt5Gheqx3Fv0x2o4jE",container:"_2jkdvITaUHtqu1OLxVdsrO",left:"wZphiSdAmBvFc938HHS8n",right:"TNAAelySNovZ5Lpz3DwF7",playIcon:"_1AmHrDD0ezM0E-7531YMF2",span:"_39cxe6feR84NJ6hwq1vwsK",containerText:"cGVpF-Zzl0WfnNYI1AJWI",size:"_1ZMFAfJWhGjawYrFeXOi3r",containerIcon:"DRkdFVaeN5V09Ty4tbYDj",content:"TEVDAJ0ziFtsVdrWK24_w",a:"_1_omxpWLSjzDv_1zEGwWnC",containerPay:"_2lfk8y8D7OrIZDDgPHL4jf",audioContainer:"OVZK0xjQZJDLnHoYeyQfE",spinner:"_2nP6tIVPQz_V28oXkakKiw",loadMore:"Ts5EkieJU47wdtDv5jZtF",icon:"_3fBHjKiIWmIxfI77MBd5ZZ"});n("B5JU"),t.a=Object(d.inject)("thread","user","site")(Object(d.observer)((function(e){var t=e.attachments,n=void 0===t?[]:t,r=(e.isHidden,e.isPay),a=void 0!==r&&r,s=e.onClick,l=void 0===s?j.e:s,d=e.onPay,p=(void 0===d&&j.e,e.threadId),h=void 0===p?null:p,v=e.thread,y=void 0===v?null:v,O=(e.user,e.site),k=void 0===O?null:O,N=e.updateViewCount,T=void 0===N?j.e:N,_=e.unifyOnClick,P=void 0===_?null:_,S=e.canDownloadAttachment,E=void 0!==S&&S,A=e.canViewAttachment,I=void 0!==A&&A,R=e.isShowShowMore,D=void 0===R||R,L=e.customActionArea,M=void 0===L?null:L,B=e.showPlayStatus,U=void 0===B||B,F=null,W=n.filter((function(e){return void 0===e.needPay?!a:1!==e.needPay})),q=function(e){return e>1e6?"".concat((e/1e6).toFixed(2)," M"):e>1e3?"".concat((e/1e3).toFixed(2)," KB"):"".concat(e," B")},z=function(){var e=c()(o.a.mark((function e(t,n,r){var i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&n){e.next=2;break}return e.abrupt("return");case 2:return i=m.a.loading({duration:0}),e.next=5,y.fetchThreadAttachmentUrl(t,n).then((function(e){if(0===(null===e||void 0===e?void 0:e.code)&&null!==e&&void 0!==e&&e.data){var t=e.data,n=t.url,i=t.fileName;n||m.a.info({content:"\u83b7\u53d6\u4e0b\u8f7d\u94fe\u63a5\u5931\u8d25"}),r(n,i)}else(null!==e&&void 0!==e&&e.msg||null!==e&&void 0!==e&&e.Message)&&m.a.info({content:(null===e||void 0===e?void 0:e.msg)||(null===e||void 0===e?void 0:e.Message)})})).catch((function(e){m.a.info({content:"\u83b7\u53d6\u4e0b\u8f7d\u94fe\u63a5\u5931\u8d25"}),console.error(e)})).finally((function(){null===i||void 0===i||i.destroy()}));case 5:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),V=Object(u.useState)(Array.from({length:W.length},(function(){return!1}))),X=V[0],Y=(V[1],function(e,t){T(),E?(F=e.url,e&&h&&$(e)):m.a.warning({content:"\u6682\u2f46\u6743\u9650\u4e0b\u8f7d\u9644\u4ef6"})}),$=function(){var e=c()(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=ee(t))){e.next=6;break}return e.next=4,te(n);case 4:e.sent&&(m.a.info({content:"\u6b63\u5728\u4e0b\u8f7d"}),window.location.href=F);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ee=function(e){return{attachmentsId:e.id,threadId:h}},te=function(){var e=c()(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(K.readDownloadAttachment)(t);case 2:if(0!==(null===(n=e.sent)||void 0===n?void 0:n.code)){e.next=5;break}return e.abrupt("return",!0);case 5:return m.a.info({content:null===n||void 0===n?void 0:n.msg}),e.abrupt("return",!1);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ne=function(e,t){if(T(),I){if(e&&h){var n=e.id;z(h,n,function(){var e=c()(o.a.mark((function e(t,n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=re(t,n),setTimeout((function(){w()({url:t})||navigator.clipboard.writeText(t),m.a.success({content:"\u94fe\u63a5\u590d\u5236\u6210\u529f"})}),300);case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())}}else m.a.warning({content:"\u6682\u2f46\u6743\u9650\u67e5\u770b\u9644\u4ef6"})},re=function(e,t){var n=window.location.host,r=window.location.protocol;return"".concat(r,"//").concat(n,"/download?url=").concat(e,"&threadId=").concat(h)},ie=function(e){var t;return Object(J.a)(k,"webConfig.qcloud.qcloudCosDocPreview",!1)&&C.f.includes(null===e||void 0===e||null===(t=e.extension)||void 0===t?void 0:t.toUpperCase())},ae=Object(u.useState)(null),oe=ae[0],se=ae[1],ce=function(){var e=c()(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.readyToPlay){e.next=2;break}return e.abrupt("return",!0);case 2:if(T(),t&&h){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,z(h,t.id,(function(){t.readyToPlay=!0}));case 7:return e.abrupt("return",!!t.readyToPlay);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ue=function(e){var t=e.item,n=e.index;return M?M({item:t,index:n}):Object(i.jsxs)(i.Fragment,{children:[ie(t)?Object(i.jsx)("span",{onClick:P||Object(x.b)((function(){return e=t,T(),void(I?e&&h&&z(h,e.id,(function(){se(e)})):m.a.warning({content:"\u6682\u2f46\u6743\u9650\u67e5\u770b\u9644\u4ef6"}));var e}),1e3),children:"\u9884\u89c8"}):Object(i.jsx)(i.Fragment,{}),Object(i.jsx)("span",{className:Z.span,onClick:P||Object(x.b)((function(){return ne(t)}),1e3),children:"\u94fe\u63a5"}),Object(i.jsx)("div",{className:Z.label,children:X[n]?Object(i.jsx)(b.a,{className:Z.spinner,type:"spinner"}):Object(i.jsx)("span",{className:Z.span,onClick:P||Object(x.b)((function(){return Y(t)}),1e3),children:"\u4e0b\u8f7d"})})]})},le=function(e){var t=e.item,n=e.index,r=e.type;if(function(e){var t;return U&&C.e.includes(null===e||void 0===e||null===(t=e.extension)||void 0===t?void 0:t.toUpperCase())}(t)){var a=t.url,s=t.fileName;t.fileSize;return Object(i.jsx)("div",{className:Z.audioContainer,onClick:l,children:Object(i.jsx)(g.a,{src:a,fileName:s,fileSize:q(parseFloat(t.fileSize||0)),beforePlay:P||c()(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ce(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),onDownload:P||Object(x.b)((function(){return Y(t)}),1e3),onLink:P||Object(x.b)((function(){return ne(t)}),1e3)})},n)}return Object(i.jsx)("div",{className:Z.container,onClick:l,children:Object(i.jsxs)("div",{className:Z.wrapper,children:[Object(i.jsxs)("div",{className:Z.left,children:[Object(i.jsx)("img",{alt:"\u56fe\u7247",className:Z.containerIcon,src:Q(r)}),Object(i.jsxs)("div",{className:Z.containerText,children:[Object(i.jsx)("span",{className:Z.content,children:t.fileName}),Object(i.jsx)("span",{className:Z.size,children:q(parseFloat(t.fileSize||0))})]})]}),Object(i.jsx)("div",{className:Z.right,children:ue({item:t,index:n,type:r})})]})},n)},de=Object(u.useState)(!1),pe=de[0],fe=de[1];Object(u.useEffect)((function(){var e=window.location.pathname;D?/^\/thread\/\d+/.test(e)?fe(!1):fe(W.length>G.a):fe(!1)}),[]);return Object(i.jsxs)("div",{className:Z.wrapper,children:[W.map((function(e,t){if(pe&&t>=G.a)return null;var n=(null===e||void 0===e?void 0:e.extension)||"",r=j.b.indexOf(n.toUpperCase())>0?n.toUpperCase():"UNKNOWN";return le({item:e,index:t,type:r})})),pe?Object(i.jsxs)("div",{className:Z.loadMore,onClick:function(){fe(!1)},children:["\u67e5\u770b\u66f4\u591a",Object(i.jsx)(f.a,{name:"RightOutlined",className:Z.icon,size:12})]}):Object(i.jsx)(i.Fragment,{}),oe?Object(i.jsx)(H,{file:oe,onClose:function(){return se(null)}}):Object(i.jsx)(i.Fragment,{})]})})))},WAV8:function(e,t,n){"use strict";n("ma9I"),n("TeQF"),n("2B1R"),n("tkto"),n("SYor");var r=n("nKUr"),i=n("o0o1"),a=n.n(i),o=n("RIqP"),s=n.n(o),c=(n("ls82"),n("yXPU")),u=n.n(c),l=n("q1tI"),d=n.n(l),p=n("zkTq"),f=n.n(p),h=n("k8W2"),m=n.n(h),v=n("MCNy"),b=n.n(v),y=n("jqTq"),g=n.n(y),j=n("5f2u"),x=n.n(j),O=n("g8tz"),w=n("WXkR"),C={export:"_3IhymvYjYgL8Z6avh13DXQ",list:"YDfKKVSWLMEmRb5vnoRep",userItem:"_3XCZgDoxt-baUzzv7nDt8b",pcItem:"_39LSrOrKfdcMTLDzKvKBcK",tabs:"_3SGhD7bqHtuiwewMI38TZ2",tabsPC:"_1E7o7FNxAj8lkkBslQ8MYU",listWrapper:"_1GZl1n6-G2R4hVysbV9_qw",tabIcon:"_3jUPrbJDzY8DKXyI4jTRl0",label:"_36d0r5qsldfrQTdQhZWdBM",icon:"_3UmYYrQk3ds7vzKQmTDZ9Z",title:"_4A-iW-WyY9wzUN7R1Dyf0",bottomView:"_8mmdPV3WZDNaddNS13mo9",spinnerPC:"_1MatSXqlJR0lUXp0EiZobH",spinner:"_1T41dv51yUonQ90RBZFRdQ"},k=n("i8i4"),N=n.n(k),T=n("sho3"),_=n("VVxn"),P=n("ni5c"),S=n("20a2"),E=n("pGE/"),A=function(e){var t,n,i,o,c,d,p,h=e.visible,v=void 0!==h&&h,y=e.onHidden,j=void 0===y?function(){}:y,k=e.tipData,S=void 0===k?{}:k,A=e.router,I=e.isCustom,R=void 0!==I&&I,D=e.activityId,L=e.exportFn,M=Object(l.useRef)(1),B=Object(l.useRef)(1),U=Object(l.useRef)(1),F=Object(l.useState)(null),W=F[0],q=F[1],z=Object(l.useState)(null),V=z[0],X=z[1],H=Object(l.useState)(null),Y=H[0],Q=H[1],G=Object(l.useState)(!1),J=G[0],K=G[1],Z=Object(l.useState)("\u6682\u65e0\u6570\u636e"),$=Z[0],ee=Z[1],te=Object(l.useState)(0),ne=te[0],re=te[1];Object(l.useEffect)((function(){v&&ae({type:ne})}),[v]);var ie=function(){var e=u()(a.a.mark((function e(){var t,n,r,i,o,c,u,l,d,p,f,h,m,v,b=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=b.length>0&&void 0!==b[0]?b[0]:1,e.next=3,Object(O.readRegisterList)({params:{activityId:D,page:t}});case 3:return n=e.sent,i=(r=n||{}).code,o=r.data,c=r.msg,0===i?(d=(l=o||{}).pageData,p=void 0===d?[]:d,f=l.totalPage,h=l.currentPage,m=l.totalCount,v=t>1?[].concat(s()((null===W||void 0===W||null===(u=W.pageData)||void 0===u?void 0:u.list)||[]),s()(p)):p,q({pageData:{list:v,allCount:m},currentPage:h,totalPage:f})):(K(!0),ee(c)),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ae=function(){var e=u()(a.a.mark((function e(t){var n,r,i,o,s,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.type,!R){e.next=3;break}return e.abrupt("return",ie());case 3:return r=S.postId,i=void 0===r?"":r,o=S.threadId,s=void 0===o?"":o,e.next=6,Object(T.readLikedUsers)({params:{threadId:s,postId:i,type:n,page:1}});case 6:return 0===(null===(c=e.sent)||void 0===c?void 0:c.code)?q(null===c||void 0===c?void 0:c.data):(K(!0),ee(null===c||void 0===c?void 0:c.msg)),e.abrupt("return",c);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),oe=function(){var e=u()(a.a.mark((function e(){var t,n,r,i,o,c,u,l,d,p,f,h,m,v,b,y,g,j,x,O,w=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=w.length>0&&void 0!==w[0]?w[0]:{},n=t.page,r=void 0===n?1:n,i=t.type,o=void 0===i?1:i,!R){e.next=3;break}return e.abrupt("return",ie(r));case 3:return c=S.postId,u=void 0===c?"":c,l=S.threadId,d=void 0===l?"":l,o=3===o?2:o,e.next=7,Object(T.readLikedUsers)({params:{threadId:d,postId:u,page:r,type:o}});case 7:return p=e.sent,f=(null===p||void 0===p?void 0:p.data)||{},0===o?(1!==r&&(null===f||void 0===f||null===(h=f.pageData)||void 0===h||(m=h.list).unshift.apply(m,s()((null===W||void 0===W||null===(v=W.pageData)||void 0===v?void 0:v.list)||[]))),q(f)):1===o?(1!==r&&(null===f||void 0===f||null===(b=f.pageData)||void 0===b||(y=b.list).unshift.apply(y,s()((null===V||void 0===V||null===(g=V.pageData)||void 0===g?void 0:g.list)||[]))),X(f)):2!==o&&3!==o||(1!==r&&(null===f||void 0===f||null===(j=f.pageData)||void 0===j||(x=j.list).unshift.apply(x,s()((null===Y||void 0===Y||null===(O=Y.pageData)||void 0===O?void 0:O.list)||[]))),Q(f)),e.abrupt("return",p);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),se=function(){return 0===ne?(M.current+=1,oe({page:M.current,type:ne})):1===ne?(B.current+=1,oe({page:B.current,type:ne})):(U.current+=1,oe({page:U.current,type:ne}))},ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";ue(),A.push("/user/".concat(e))},ue=function(){j(),q(null),X(null),Q(null),re(0)},le=function(e){var t=e.title,n=e.icon,i=e.number;return Object(r.jsxs)("div",{className:C.label,children:[n&&Object(r.jsx)(b.a,{className:C.icon,name:n}),t&&Object(r.jsx)("span",{className:"".concat(C.title," disable-click"),children:t}),0!==i&&"0"!==i&&Object(r.jsx)("span",{className:"disable-click ".concat(C.num),children:i})]})},de=[{icon:"",title:"\u5168\u90e8",data:W,number:(null===W||void 0===W||null===(t=W.pageData)||void 0===t?void 0:t.allCount)||0},{icon:"LikeOutlined",title:"",data:V,number:(null===W||void 0===W||null===(n=W.pageData)||void 0===n?void 0:n.likeCount)||0},{icon:"HeartOutlined",title:"\u4ed8\u8d39",data:Y,number:(null===W||void 0===W||null===(i=W.pageData)||void 0===i?void 0:i.raidCount)+(null===W||void 0===W||null===(o=W.pageData)||void 0===o?void 0:o.rewardCount)||0},{icon:"HeartOutlined",title:"\u6253\u8d4f",data:Y,number:(null===W||void 0===W||null===(c=W.pageData)||void 0===c?void 0:c.rewardCount)||0}];R&&(de=[de[0]]);var pe,fe=de[0]||{},he=(null===fe||void 0===fe||null===(d=fe.data)||void 0===d||null===(p=d.pageData)||void 0===p?void 0:p.list[0])||{},me=R&&E.a.isObject(null===he||void 0===he?void 0:he.additionalInfo)&&Object.keys(null===he||void 0===he?void 0:he.additionalInfo).length>0,ve=Object(r.jsx)(m.a,{position:"h5"===(null===S||void 0===S?void 0:S.platform)?"bottom":"center",visible:v,onClose:ue,children:W?Object(r.jsx)(f.a,{onActive:function(e){re(e),(0===e&&!W||1===e&&!V||(2===e||3===e)&&!Y)&&oe({type:e,page:1})},activeId:ne,className:"".concat(C.tabs," ").concat("pc"===(null===S||void 0===S?void 0:S.platform)&&C.tabsPC),tabBarExtraContent:Object(r.jsxs)(r.Fragment,{children:[R&&me&&Object(r.jsx)(x.a,{type:"text",onClick:L,className:C.export,children:"\u5bfc\u51fa"}),"pc"===(null===S||void 0===S?void 0:S.platform)&&Object(r.jsx)("div",{onClick:ue,className:C.tabIcon,children:Object(r.jsx)(b.a,{name:"CloseOutlined",size:12})})]}),children:(pe=null===S||void 0===S?void 0:S.platform,de.map((function(e,t){var n,i,a,o,s=null===e||void 0===e||null===(n=e.data)||void 0===n||null===(i=n.pageData)||void 0===i?void 0:i.list;if(0===e.number||"0"===e.number)return null;if((null===S||void 0===S?void 0:S.payType)>0){if(3===t)return null}else if(2===t)return null;var c="".concat(C.userItem," ").concat("pc"===(null===S||void 0===S?void 0:S.platform)?C.pcItem:"");return Object(r.jsx)(f.a.TabPanel,{id:t,label:le({icon:e.icon,title:e.title,number:e.number}),children:null!==s&&void 0!==s&&s.length?Object(r.jsx)(_.a,{className:C.list,wrapperClass:C.listWrapper,onRefresh:se,noMore:(null===(a=e.data)||void 0===a?void 0:a.currentPage)>=(null===(o=e.data)||void 0===o?void 0:o.totalPage),requestError:J,errorText:$,children:s.map((function(e,t){return Object(r.jsx)(w.a,{index:t,imgSrc:e.avatar,title:e.nickname||e.username,subTitle:e.passedAt,userId:e.userId,additionalInfo:e.additionalInfo,platform:pe,onClick:ce,type:e.type,className:c.trim()},t)}))}):Object(r.jsx)(g.a,{className:"".concat("pc"===pe?C.spinnerPC:C.spinner),type:"spinner"})},t)})).filter((function(e){return null!==e})))}):Object(r.jsx)(f.a,{activeId:ne,className:"".concat(C.tabs," ").concat("pc"===(null===S||void 0===S?void 0:S.platform)&&C.tabsPC),children:Object(r.jsx)(f.a.TabPanel,{id:0,children:J?Object(r.jsx)(P.a,{className:C.bottomView,isError:J,errorText:$}):Object(r.jsx)(g.a,{className:"".concat("pc"===(null===S||void 0===S?void 0:S.platform)?C.spinnerPC:C.spinner),type:"spinner"})},0)})});return v?N.a.createPortal(ve,document.body):""};t.a=Object(S.withRouter)(d.a.memo(A))},WXkR:function(e,t,n){"use strict";n("ma9I"),n("2B1R"),n("tkto"),n("SYor");var r=n("nKUr"),i=n("lSNA"),a=n.n(i),o=n("q1tI"),s=n.n(o),c=n("5f2u"),u=n.n(c),l=n("MCNy"),d=n.n(l),p=n("Bvw4"),f=n("z6Ap"),h="_33pUZ8EC4EdQ5pBfrk0851",m="_3irRmwwiAN9ofxylqqCdFo",v="_1v8vjvfMuenFoneEeNsJlQ",b="_2pnHxQ59oGv5yMiqKwLAoz",y="_1JT2VsRXTsEa5yAD80mliK",g="GFa4fb8r1i5D1pZliQR3H",j="_1gEH43F0NJf2fvfcJa9j0y",x="_21LLcUC_c4gAHLLBv2_eKE",O="_1f0B2ObJMYZQzWGkqmNrV7",w="_2pVYTf-Ty5w0qUEYufOfqt",C="_2kwc10ancrVSsyUYnzFg9Y",k="_2DCJfWmO1aF7v4gCxMYsLR",N="_3kHL_3ACSeC2nRdEkFKFSu",T="_17_mum5EQMih3_RtfK08t3",_="_2RA7SrUo6496QM0q3LI3p1",P="_2j_1yuUXjKDOg6HdaGJIDw",S="_16AhJlHalSpMfM5eZSiqXK",E="_3JhMr7r1VorkzRQsZN8Hvv",A=n("TSYQ"),I=n.n(A),R=n("u7s3"),D={name:"\u59d3\u540d",mobile:"\u624b\u673a\u53f7",weixin:"\u5fae\u4fe1\u53f7",address:"\u8054\u7cfb\u5730\u5740"},L=function(e){var t=e.imgSrc,n=e.title,i=void 0===n?"":n,o=e.type,s=void 0===o?0:o,c=e.subTitle,l=e.label,A=e.groupLevel,L=e.index,M=e.onClick,B=void 0===M?f.e:M,U=e.userId,F=e.platform,W=e.itemStyle,q=void 0===W?{}:W,z=e.className,V=void 0===z?"":z,X=e.additionalInfo,H=void 0===X?{}:X,Y=function(e){e.stopPropagation();var t=null===e||void 0===e?void 0:e.currentTarget.querySelector("#avatar-popup");e&&t&&t.contains(e.target)||B(U)},Q="".concat(h," ").concat(V),G=Object.keys(H||{}).length>0;return Object(r.jsxs)("div",{className:I()(Q.trim(),a()({},C,G)),style:q,onClick:G?f.e:Y,children:[G&&0===L&&Object(r.jsxs)("div",{className:k,children:[Object(r.jsx)("div",{className:N,children:"\u7528\u6237"}),Object(r.jsx)("div",{className:_,children:Object.keys(H||{}).map((function(e,t){return Object(r.jsx)("div",{className:S,children:D[e]},t)}))})]}),G&&Object(r.jsxs)("div",{className:k,children:[Object(r.jsxs)("div",{className:N,onClick:Y,children:[Object(r.jsx)(p.a,{className:T,image:t,name:i,isShowUserInfo:"pc"===F,userId:U,userType:s}),Object(r.jsx)("span",{className:y,children:i})]}),Object(r.jsx)("div",{className:I()(_,P),children:Object.keys(H||{}).map((function(e,t){return Object(r.jsx)("div",{className:E,children:H[e]},t)}))})]}),!G&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)("div",{className:m,children:[Object(r.jsx)("div",{className:v,children:Object(r.jsx)(p.a,{className:T,image:t,name:i,isShowUserInfo:"pc"===F,userId:U,userType:s})}),Object(r.jsxs)("div",{className:b,children:[Object(r.jsx)("span",{className:y,children:i}),c&&Object(r.jsx)("span",{className:g,children:c})]})]}),l||""===l?Object(r.jsxs)("div",{className:j,children:[A?Object(r.jsx)(R.a,{groupLevel:A,groupName:l,memberBadgeStyle:{marginRight:"7px"}}):Object(r.jsx)("span",{className:x,children:l}),Object(r.jsx)(d.a,{className:O,name:"RightOutlined",size:12})]}):Object(r.jsx)(u.a,{type:"primary",className:w,onClick:Y,children:Object(r.jsx)("span",{children:"\u67e5\u770b\u4e3b\u9875"})})]})]},L)};t.a=s.a.memo(L)},WYay:function(e,t,n){"use strict";t.a={"thread-link":"_1zJ8ImBj6EDpaxwHr9222i",container:"_3q56Ts7bN51lAxsK5IPghE",title:"_2f-75Ec2_pZKe33maEQXun",header:"_20ivHvLv3N8nM8VQcW88Bu",headerIcon:"_39m0R1jBawY4NIkaTy5V-L",wrapper:"u6h3ZbJ4QjbVTuPJj9tQt",wrapperPC:"F1jOBxk1CZ08Hccqv9sng",cover:"_1pYt12iWlu-OOgjxbyMf-l",payContent:"_2nNBmI0bEi9g7qOFXu_QNJ",bottom:"ZS__ncLfhlzEnFex5sRfD",pay:"_2jl5LqUi0kXDl5uwBJnRSJ",button:"_3PNc_1uc12PICbxOUSdoRt",payIcon:"_1sDcAw-cn4q_VZ46pdiV3X",containerBottom:"_2YibgRa8gNOzu7lFTSKpdx",containerPC:"_3H27AmwVW72RJ-rbWyKDrf",wrapperView:"_1RQ--PDdNyrSB7yC9DNJwj",placeholder:"_1y_wz8HnM22Vj_kloxzEM3"}},Wgwo:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(){return n("jW6v").WebLayout};t.default=r},"X3A+":function(e,t,n){"use strict";n("qePV"),n("toAj"),n("4l63");var r=n("nKUr"),i=n("o0o1"),a=n.n(i),o=(n("ls82"),n("yXPU")),s=n.n(o),c=n("q1tI"),u=n("k8W2"),l=n.n(u),d=n("5f2u"),p=n.n(d),f=n("40Bt"),h=n.n(f),m=n("TibX"),v="_1Ted4SYHqULC6x80_XpHxJ",b="_1FFQHctQY28UYLbacQhyr_",y="_2jXhnP1bQaRdmm-MJ4uoXC",g="_1NeFGA8rh5LSOj2k9EVc0u",j="vb-wVawhOb-HcaB1EyHvg",x="_2DKIwNbNhvA6ZGMWpdPE7E",O="uXKd8-xOMKO3hVynnL2y-",w="_2AX-RoxM42d6jk74-JdlSR",C="_2Gyp2YH8xjpT5HCCja0n01",k="_3gJRriN0KZBUWbxp2ABFbi",N="_3Y3RuKyF4wRyU0KWwTFnaS",T="RiVJmi_bFbF-Q1XePyh6p",_="_1BFhWl9cCrGyotmg9n31XT",P="_3Q2efHvGDHCTrW47Gen2-w";t.a=function(e){var t=e.visible,n=e.onOkClick,i=e.onCancel,o=e.remainMoney,u=e.money,d=parseInt(o/u*100),f=Object(c.useState)(0),S=f[0],E=f[1],A=Object(c.useState)(0),I=A[0],R=A[1],D=Object(c.useState)(!1),L=D[0],M=D[1];Object(c.useEffect)((function(){M(I>=o)}),[I]);var B=function(){var e=s()(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("function"!==typeof n){e.next=11;break}return e.prev=1,e.next=4,n(I);case 4:e.sent&&(E(0),R(0)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}();return Object(r.jsx)(l.a,{position:"bottom",visible:t,onClose:i,children:Object(r.jsxs)("div",{className:v,children:[Object(r.jsxs)("div",{className:b,children:[Object(r.jsx)("div",{className:y,children:"\u91c7\u7eb3\u56de\u590d\u60ac\u8d4f"}),Object(r.jsxs)("div",{className:g,children:[Object(r.jsxs)("div",{className:j,children:[Object(r.jsx)("div",{className:x,children:"\u60ac\u8d4f\u767e\u5206\u6bd4"}),Object(r.jsxs)("div",{className:O,children:[Object(r.jsx)(h.a,{value:S,defaultValue:S,max:d,min:0,step:5,onChange:Object(m.b)((function(e){return function(e){E(Number(e)),R((.01*Number(e)*u).toFixed(2))}(e)}),100),formatter:function(e){return"".concat(e)}}),Object(r.jsx)("div",{className:w,children:"%"}),L&&Object(r.jsx)("div",{className:C,children:"*\u5df2\u8fbe\u5230\u6700\u5927\u53ef\u7528\u91d1\u989d"})]})]}),Object(r.jsxs)("div",{className:k,children:[Object(r.jsx)("div",{className:x,children:"\u60ac\u8d4f\u91d1\u989d"}),Object(r.jsxs)("div",{className:N,children:[I,"\u5143"]})]})]})]}),Object(r.jsxs)("div",{className:T,children:[Object(r.jsx)(p.a,{full:!0,onClick:i,className:_,type:"text",size:"medium",children:"\u53d6\u6d88"}),Object(r.jsx)(p.a,{full:!0,onClick:B,className:P,type:"primary",size:"medium",children:"\u786e\u5b9a"})]})]})})}},X5Zq:function(e,t,n){"use strict";var r=n("67WC"),i=r.aTypedArray,a=r.exportTypedArrayMethod,o=[].join;a("join",(function(e){return o.apply(i(this),arguments)}))},"X8+f":function(e,t,n){"use strict";function r(e){return e&&"object"===typeof e&&"default"in e?e.default:e}var i=r(n("0Tbm")),a=r(n("vgmO"));e.exports=function(e,t){return/^[a-z]+:/i.test(t)?t:(/\/\//i.test(e)||(e=i.buildAbsoluteURL(a.location&&a.location.href||"",e)),i.buildAbsoluteURL(e,t))}},XBbA:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));n("yXV3"),n("4l63"),n("rB9j"),n("Rm1S");var r=n("vcV1");function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50;if(!(e=""+e)||""===e)return 0;for(var n=e,i=1.5,o=6*t,s=((null===n||void 0===n?void 0:n.match(/qq-emotion/g))||[]).length,c=Object(r.a)(n,"emoj",""),u=a(c),l=0,d=0;null!==u&&void 0!==u&&u.length&&d<u.length;d++)if("undefined"===typeof Image)l+=o;else{var p=new Image;p.src=u[d],l+=(null===p||void 0===p?void 0:p.height)||o}c=Object(r.a)(c,"img",""),c=Object(r.a)(c,"breakInCode","*br*"),c=Object(r.a)(c,"break","\n"),c=Object(r.a)(c,"tags","");var f=i*s;if(f+=parseInt(l/16)*t,!c||""===c)return parseInt(f);f+=c.length;for(var h=(c.match(/\n/g)||[]).length,m=0;m<h;m++)if(c.indexOf("\n")>=0){var v=t-c.indexOf("\n")>0?t-c.indexOf("\n"):0;f+=v,c=c.substr(c.indexOf("\n")+1)}return parseInt(f)}function a(e){for(var t=[],n=e.match(/<img[\s]+[^<>]*>/gi),r=0;null!==n&&void 0!==n&&n.length&&r<n.length;r++)if(-1!==n[r].indexOf("src=")){var i=n[r].match(/src=[\'\"]?([^\'\"]*)[\'\"]?/g)[0].substr(5);t.push(i.substr(0,i.length-1))}return t}},XMab:function(e,t,n){n("dOgj")("Uint8",(function(e){return function(t,n,r){return e(this,t,n,r)}}))},XaQo:function(e,t,n){"use strict";function r(e){return Math.sqrt(e.x*e.x+e.y*e.y)}function i(e,t){var n=function(e,t){var n=r(e)*r(t);if(0===n)return 0;var i=function(e,t){return e.x*t.x+e.y*t.y}(e,t)/n;return i>1&&(i=1),Math.acos(i)}(e,t);return function(e,t){return e.x*t.y-t.x*e.y}(e,t)>0&&(n*=-1),180*n/Math.PI}n("pDQq"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e){this.handlers=[],this.el=e};function o(e,t){var n=new a(e);return n.add(t),n}a.prototype.add=function(e){this.handlers.push(e)},a.prototype.del=function(e){e||(this.handlers=[]);for(var t=this.handlers.length;t>=0;t--)this.handlers[t]===e&&this.handlers.splice(t,1)},a.prototype.dispatch=function(){for(var e=0,t=this.handlers.length;e<t;e++){var n=this.handlers[e];"function"===typeof n&&n.apply(this.el,arguments)}};var s=function(e,t){this.element="string"===typeof e?document.querySelector(e):e,this.start=this.start.bind(this),this.move=this.move.bind(this),this.end=this.end.bind(this),this.cancel=this.cancel.bind(this),this.element.addEventListener("touchstart",this.start,!1),this.element.addEventListener("touchmove",this.move,!1),this.element.addEventListener("touchend",this.end,!1),this.element.addEventListener("touchcancel",this.cancel,!1),this.preV={x:null,y:null},this.pinchStartLen=null,this.zoom=1,this.isDoubleTap=!1;var n=function(){};this.rotate=o(this.element,t.rotate||n),this.touchStart=o(this.element,t.touchStart||n),this.multipointStart=o(this.element,t.multipointStart||n),this.multipointEnd=o(this.element,t.multipointEnd||n),this.pinch=o(this.element,t.pinch||n),this.swipe=o(this.element,t.swipe||n),this.tap=o(this.element,t.tap||n),this.doubleTap=o(this.element,t.doubleTap||n),this.longTap=o(this.element,t.longTap||n),this.singleTap=o(this.element,t.singleTap||n),this.pressMove=o(this.element,t.pressMove||n),this.twoFingerPressMove=o(this.element,t.twoFingerPressMove||n),this.touchMove=o(this.element,t.touchMove||n),this.touchEnd=o(this.element,t.touchEnd||n),this.touchCancel=o(this.element,t.touchCancel||n),this._cancelAllHandler=this.cancelAll.bind(this),window.addEventListener("scroll",this._cancelAllHandler),this.delta=null,this.last=null,this.now=null,this.tapTimeout=null,this.singleTapTimeout=null,this.longTapTimeout=null,this.swipeTimeout=null,this.x1=this.x2=this.y1=this.y2=null,this.preTapPosition={x:null,y:null}};s.prototype={start:function(e){var t=this;if(e.touches){this.now=Date.now(),this.x1=e.touches[0].pageX,this.y1=e.touches[0].pageY,this.delta=this.now-(this.last||this.now),this.touchStart.dispatch(e,this.element),null!==this.preTapPosition.x&&(this.isDoubleTap=this.delta>0&&this.delta<=250&&Math.abs(this.preTapPosition.x-this.x1)<30&&Math.abs(this.preTapPosition.y-this.y1)<30,this.isDoubleTap&&clearTimeout(this.singleTapTimeout)),this.preTapPosition.x=this.x1,this.preTapPosition.y=this.y1,this.last=this.now;var n=this.preV;if(e.touches.length>1){this._cancelLongTap(),this._cancelSingleTap();var i={x:e.touches[1].pageX-this.x1,y:e.touches[1].pageY-this.y1};n.x=i.x,n.y=i.y,this.pinchStartLen=r(n),this.multipointStart.dispatch(e,this.element)}this._preventTap=!1,this.longTapTimeout=setTimeout((function(){t.longTap.dispatch(e,t.element),t._preventTap=!0}),750)}},move:function(e){if(e.touches){var t=this.preV,n=e.touches.length,a=e.touches[0].pageX,o=e.touches[0].pageY;if(this.isDoubleTap=!1,n>1){var s=e.touches[1].pageX,c=e.touches[1].pageY,u={x:e.touches[1].pageX-a,y:e.touches[1].pageY-o};null!==t.x&&(this.pinchStartLen>0&&(e.zoom=r(u)/this.pinchStartLen,this.pinch.dispatch(e,this.element)),e.angle=i(u,t),this.rotate.dispatch(e,this.element)),t.x=u.x,t.y=u.y,null!==this.x2&&null!==this.sx2?(e.deltaX=(a-this.x2+s-this.sx2)/2,e.deltaY=(o-this.y2+c-this.sy2)/2):(e.deltaX=0,e.deltaY=0),this.twoFingerPressMove.dispatch(e,this.element),this.sx2=s,this.sy2=c}else{if(null!==this.x2){e.deltaX=a-this.x2,e.deltaY=o-this.y2;var l=Math.abs(this.x1-this.x2),d=Math.abs(this.y1-this.y2);(l>10||d>10)&&(this._preventTap=!0)}else e.deltaX=0,e.deltaY=0;this.pressMove.dispatch(e,this.element)}this.touchMove.dispatch(e,this.element),this._cancelLongTap(),this.x2=a,this.y2=o,n>1&&e.preventDefault()}},end:function(e){if(e.changedTouches){this._cancelLongTap();var t=this;e.touches.length<2&&(this.multipointEnd.dispatch(e,this.element),this.sx2=this.sy2=null),this.x2&&Math.abs(this.x1-this.x2)>30||this.y2&&Math.abs(this.y1-this.y2)>30?(e.direction=this._swipeDirection(this.x1,this.x2,this.y1,this.y2),this.swipeTimeout=setTimeout((function(){t.swipe.dispatch(e,t.element)}),0)):(this.tapTimeout=setTimeout((function(){t._preventTap||t.tap.dispatch(e,t.element),t.isDoubleTap&&(t.doubleTap.dispatch(e,t.element),t.isDoubleTap=!1)}),0),t.isDoubleTap||(t.singleTapTimeout=setTimeout((function(){t.singleTap.dispatch(e,t.element)}),250))),this.touchEnd.dispatch(e,this.element),this.preV.x=0,this.preV.y=0,this.zoom=1,this.pinchStartLen=null,this.x1=this.x2=this.y1=this.y2=null}},cancelAll:function(){this._preventTap=!0,clearTimeout(this.singleTapTimeout),clearTimeout(this.tapTimeout),clearTimeout(this.longTapTimeout),clearTimeout(this.swipeTimeout)},cancel:function(e){this.cancelAll(),this.touchCancel.dispatch(e,this.element)},_cancelLongTap:function(){clearTimeout(this.longTapTimeout)},_cancelSingleTap:function(){clearTimeout(this.singleTapTimeout)},_swipeDirection:function(e,t,n,r){return Math.abs(e-t)>=Math.abs(n-r)?e-t>0?"Left":"Right":n-r>0?"Up":"Down"},on:function(e,t){this[e]&&this[e].add(t)},off:function(e,t){this[e]&&this[e].del(t)},destroy:function(){return this.singleTapTimeout&&clearTimeout(this.singleTapTimeout),this.tapTimeout&&clearTimeout(this.tapTimeout),this.longTapTimeout&&clearTimeout(this.longTapTimeout),this.swipeTimeout&&clearTimeout(this.swipeTimeout),this.element.removeEventListener("touchstart",this.start),this.element.removeEventListener("touchmove",this.move),this.element.removeEventListener("touchend",this.end),this.element.removeEventListener("touchcancel",this.cancel),this.rotate.del(),this.touchStart.del(),this.multipointStart.del(),this.multipointEnd.del(),this.pinch.del(),this.swipe.del(),this.tap.del(),this.doubleTap.del(),this.longTap.del(),this.singleTap.del(),this.pressMove.del(),this.twoFingerPressMove.del(),this.touchMove.del(),this.touchEnd.del(),this.touchCancel.del(),this.preV=this.pinchStartLen=this.zoom=this.isDoubleTap=this.delta=this.last=this.now=this.tapTimeout=this.singleTapTimeout=this.longTapTimeout=this.swipeTimeout=this.x1=this.x2=this.y1=this.y2=this.preTapPosition=this.rotate=this.touchStart=this.multipointStart=this.multipointEnd=this.pinch=this.swipe=this.tap=this.doubleTap=this.longTap=this.singleTap=this.pressMove=this.touchMove=this.touchEnd=this.touchCancel=this.twoFingerPressMove=null,window.removeEventListener("scroll",this._cancelAllHandler),null}};var c=s;t.default=c},YKlV:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VideoWebAdapter=void 0;t.VideoWebAdapter={abs:function(){return"abc"}}},YL0P:function(e,t,n){"use strict";var r=n("2oRo"),i=n("67WC"),a=n("4mDm"),o=n("tiKp")("iterator"),s=r.Uint8Array,c=a.values,u=a.keys,l=a.entries,d=i.aTypedArray,p=i.exportTypedArrayMethod,f=s&&s.prototype[o],h=!!f&&("values"==f.name||void 0==f.name),m=function(){return c.call(d(this))};p("entries",(function(){return l.call(d(this))})),p("keys",(function(){return u.call(d(this))})),p("values",m,!h),p(o,m,!h)},YMl3:function(e,t,n){"use strict";t.a={flex:"_3mkeTVr80A7d_oIKrGCWwg","apply-options":"Ud6GvpTB1pOOiMBwNEvC7","dzqp-act":"_3CKZXBZylWo8FpWA06ys1O","dzqp-act--item":"_25GIMLKncSvoo-Q2GmdAgl",options:"_1p5LvHDdiNiYxDdSuDMeUe","act-name":"_1LGi3OFeTXXNGcPKJ4r1K7","act-detail":"_2FNuWYvYo72kGpyvV91kBc","dzqp-act--item_title":"_3V-NZLGHOnwaDVdT2nx3ad","width-auto":"_2E_X-88x0dPwoouFAqlc0T","dzqp-act--item_right":"fTCGWC1EWQnDvQgJFK5lU","dzqp-act--more":"OryN3l8YeRDiY-u3LsaXP",fold:"_1sl22mRwKCkj_aPyXd3BiG",expand:"_2BXYdKrXkK9S3N10ltzowZ",pc:"_3fY-uJr3i3bg2BaN6kz3RE",h5:"_1a-LAmCRiFIx6j2nTFl-3j",mini:"_3oHQyVjmQ9pguUnoOoX2be","dzqp-act__limit_input":"XcRseuo-TFSaB8B8Ho3I_"}},"YZm+":function(module,exports,__webpack_require__){(function(process,global){var __WEBPACK_AMD_DEFINE_RESULT__;(function(){"use strict";var root="object"===typeof window?window:{},NODE_JS=!root.JS_SHA1_NO_NODE_JS&&"object"===typeof process&&process.versions&&process.versions.node;NODE_JS&&(root=global);var COMMON_JS=!root.JS_SHA1_NO_COMMON_JS&&"object"===typeof module&&module.exports,AMD=__webpack_require__("qpuh"),HEX_CHARS="0123456789abcdef".split(""),EXTRA=[-2147483648,8388608,32768,128],SHIFT=[24,16,8,0],OUTPUT_TYPES=["hex","array","digest","arrayBuffer"],blocks=[],createOutputMethod=function(e){return function(t){return new Sha1(!0).update(t)[e]()}},createMethod=function(){var e=createOutputMethod("hex");NODE_JS&&(e=nodeWrap(e)),e.create=function(){return new Sha1},e.update=function(t){return e.create().update(t)};for(var t=0;t<OUTPUT_TYPES.length;++t){var n=OUTPUT_TYPES[t];e[n]=createOutputMethod(n)}return e},nodeWrap=function(method){var crypto=eval("require('crypto')"),Buffer=eval("require('buffer').Buffer"),nodeMethod=function(e){if("string"===typeof e)return crypto.createHash("sha1").update(e,"utf8").digest("hex");if(e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(void 0===e.length)return method(e);return crypto.createHash("sha1").update(new Buffer(e)).digest("hex")};return nodeMethod};function Sha1(e){e?(blocks[0]=blocks[16]=blocks[1]=blocks[2]=blocks[3]=blocks[4]=blocks[5]=blocks[6]=blocks[7]=blocks[8]=blocks[9]=blocks[10]=blocks[11]=blocks[12]=blocks[13]=blocks[14]=blocks[15]=0,this.blocks=blocks):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.h0=1732584193,this.h1=4023233417,this.h2=2562383102,this.h3=271733878,this.h4=3285377520,this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0}Sha1.prototype.update=function(e){if(!this.finalized){var t="string"!==typeof e;t&&e.constructor===root.ArrayBuffer&&(e=new Uint8Array(e));for(var n,r,i=0,a=e.length||0,o=this.blocks;i<a;){if(this.hashed&&(this.hashed=!1,o[0]=this.block,o[16]=o[1]=o[2]=o[3]=o[4]=o[5]=o[6]=o[7]=o[8]=o[9]=o[10]=o[11]=o[12]=o[13]=o[14]=o[15]=0),t)for(r=this.start;i<a&&r<64;++i)o[r>>2]|=e[i]<<SHIFT[3&r++];else for(r=this.start;i<a&&r<64;++i)(n=e.charCodeAt(i))<128?o[r>>2]|=n<<SHIFT[3&r++]:n<2048?(o[r>>2]|=(192|n>>6)<<SHIFT[3&r++],o[r>>2]|=(128|63&n)<<SHIFT[3&r++]):n<55296||n>=57344?(o[r>>2]|=(224|n>>12)<<SHIFT[3&r++],o[r>>2]|=(128|n>>6&63)<<SHIFT[3&r++],o[r>>2]|=(128|63&n)<<SHIFT[3&r++]):(n=65536+((1023&n)<<10|1023&e.charCodeAt(++i)),o[r>>2]|=(240|n>>18)<<SHIFT[3&r++],o[r>>2]|=(128|n>>12&63)<<SHIFT[3&r++],o[r>>2]|=(128|n>>6&63)<<SHIFT[3&r++],o[r>>2]|=(128|63&n)<<SHIFT[3&r++]);this.lastByteIndex=r,this.bytes+=r-this.start,r>=64?(this.block=o[16],this.start=r-64,this.hash(),this.hashed=!0):this.start=r}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},Sha1.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var e=this.blocks,t=this.lastByteIndex;e[16]=this.block,e[t>>2]|=EXTRA[3&t],this.block=e[16],t>=56&&(this.hashed||this.hash(),e[0]=this.block,e[16]=e[1]=e[2]=e[3]=e[4]=e[5]=e[6]=e[7]=e[8]=e[9]=e[10]=e[11]=e[12]=e[13]=e[14]=e[15]=0),e[14]=this.hBytes<<3|this.bytes>>>29,e[15]=this.bytes<<3,this.hash()}},Sha1.prototype.hash=function(){var e,t,n=this.h0,r=this.h1,i=this.h2,a=this.h3,o=this.h4,s=this.blocks;for(e=16;e<80;++e)t=s[e-3]^s[e-8]^s[e-14]^s[e-16],s[e]=t<<1|t>>>31;for(e=0;e<20;e+=5)n=(t=(r=(t=(i=(t=(a=(t=(o=(t=n<<5|n>>>27)+(r&i|~r&a)+o+1518500249+s[e]<<0)<<5|o>>>27)+(n&(r=r<<30|r>>>2)|~n&i)+a+1518500249+s[e+1]<<0)<<5|a>>>27)+(o&(n=n<<30|n>>>2)|~o&r)+i+1518500249+s[e+2]<<0)<<5|i>>>27)+(a&(o=o<<30|o>>>2)|~a&n)+r+1518500249+s[e+3]<<0)<<5|r>>>27)+(i&(a=a<<30|a>>>2)|~i&o)+n+1518500249+s[e+4]<<0,i=i<<30|i>>>2;for(;e<40;e+=5)n=(t=(r=(t=(i=(t=(a=(t=(o=(t=n<<5|n>>>27)+(r^i^a)+o+1859775393+s[e]<<0)<<5|o>>>27)+(n^(r=r<<30|r>>>2)^i)+a+1859775393+s[e+1]<<0)<<5|a>>>27)+(o^(n=n<<30|n>>>2)^r)+i+1859775393+s[e+2]<<0)<<5|i>>>27)+(a^(o=o<<30|o>>>2)^n)+r+1859775393+s[e+3]<<0)<<5|r>>>27)+(i^(a=a<<30|a>>>2)^o)+n+1859775393+s[e+4]<<0,i=i<<30|i>>>2;for(;e<60;e+=5)n=(t=(r=(t=(i=(t=(a=(t=(o=(t=n<<5|n>>>27)+(r&i|r&a|i&a)+o-1894007588+s[e]<<0)<<5|o>>>27)+(n&(r=r<<30|r>>>2)|n&i|r&i)+a-1894007588+s[e+1]<<0)<<5|a>>>27)+(o&(n=n<<30|n>>>2)|o&r|n&r)+i-1894007588+s[e+2]<<0)<<5|i>>>27)+(a&(o=o<<30|o>>>2)|a&n|o&n)+r-1894007588+s[e+3]<<0)<<5|r>>>27)+(i&(a=a<<30|a>>>2)|i&o|a&o)+n-1894007588+s[e+4]<<0,i=i<<30|i>>>2;for(;e<80;e+=5)n=(t=(r=(t=(i=(t=(a=(t=(o=(t=n<<5|n>>>27)+(r^i^a)+o-899497514+s[e]<<0)<<5|o>>>27)+(n^(r=r<<30|r>>>2)^i)+a-899497514+s[e+1]<<0)<<5|a>>>27)+(o^(n=n<<30|n>>>2)^r)+i-899497514+s[e+2]<<0)<<5|i>>>27)+(a^(o=o<<30|o>>>2)^n)+r-899497514+s[e+3]<<0)<<5|r>>>27)+(i^(a=a<<30|a>>>2)^o)+n-899497514+s[e+4]<<0,i=i<<30|i>>>2;this.h0=this.h0+n<<0,this.h1=this.h1+r<<0,this.h2=this.h2+i<<0,this.h3=this.h3+a<<0,this.h4=this.h4+o<<0},Sha1.prototype.hex=function(){this.finalize();var e=this.h0,t=this.h1,n=this.h2,r=this.h3,i=this.h4;return HEX_CHARS[e>>28&15]+HEX_CHARS[e>>24&15]+HEX_CHARS[e>>20&15]+HEX_CHARS[e>>16&15]+HEX_CHARS[e>>12&15]+HEX_CHARS[e>>8&15]+HEX_CHARS[e>>4&15]+HEX_CHARS[15&e]+HEX_CHARS[t>>28&15]+HEX_CHARS[t>>24&15]+HEX_CHARS[t>>20&15]+HEX_CHARS[t>>16&15]+HEX_CHARS[t>>12&15]+HEX_CHARS[t>>8&15]+HEX_CHARS[t>>4&15]+HEX_CHARS[15&t]+HEX_CHARS[n>>28&15]+HEX_CHARS[n>>24&15]+HEX_CHARS[n>>20&15]+HEX_CHARS[n>>16&15]+HEX_CHARS[n>>12&15]+HEX_CHARS[n>>8&15]+HEX_CHARS[n>>4&15]+HEX_CHARS[15&n]+HEX_CHARS[r>>28&15]+HEX_CHARS[r>>24&15]+HEX_CHARS[r>>20&15]+HEX_CHARS[r>>16&15]+HEX_CHARS[r>>12&15]+HEX_CHARS[r>>8&15]+HEX_CHARS[r>>4&15]+HEX_CHARS[15&r]+HEX_CHARS[i>>28&15]+HEX_CHARS[i>>24&15]+HEX_CHARS[i>>20&15]+HEX_CHARS[i>>16&15]+HEX_CHARS[i>>12&15]+HEX_CHARS[i>>8&15]+HEX_CHARS[i>>4&15]+HEX_CHARS[15&i]},Sha1.prototype.toString=Sha1.prototype.hex,Sha1.prototype.digest=function(){this.finalize();var e=this.h0,t=this.h1,n=this.h2,r=this.h3,i=this.h4;return[e>>24&255,e>>16&255,e>>8&255,255&e,t>>24&255,t>>16&255,t>>8&255,255&t,n>>24&255,n>>16&255,n>>8&255,255&n,r>>24&255,r>>16&255,r>>8&255,255&r,i>>24&255,i>>16&255,i>>8&255,255&i]},Sha1.prototype.array=Sha1.prototype.digest,Sha1.prototype.arrayBuffer=function(){this.finalize();var e=new ArrayBuffer(20),t=new DataView(e);return t.setUint32(0,this.h0),t.setUint32(4,this.h1),t.setUint32(8,this.h2),t.setUint32(12,this.h3),t.setUint32(16,this.h4),e};var exports=createMethod();COMMON_JS?module.exports=exports:(root.sha1=exports,AMD&&(__WEBPACK_AMD_DEFINE_RESULT__=function(){return exports}.call(exports,__webpack_require__,exports,module),void 0===__WEBPACK_AMD_DEFINE_RESULT__||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)))})()}).call(this,__webpack_require__("KCCg"),__webpack_require__("ntbh"))},Yhre:function(e,t,n){"use strict";var r=n("2oRo"),i=n("g6v/"),a=n("qYE9"),o=n("kRJp"),s=n("4syw"),c=n("0Dky"),u=n("GarU"),l=n("ppGB"),d=n("UMSQ"),p=n("CyXQ"),f=n("d6cI"),h=n("4WOD"),m=n("0rvr"),v=n("JBy8").f,b=n("m/L8").f,y=n("gdVl"),g=n("1E5z"),j=n("afO8"),x=j.get,O=j.set,w="ArrayBuffer",C="DataView",k="Wrong index",N=r.ArrayBuffer,T=N,_=r.DataView,P=_&&_.prototype,S=Object.prototype,E=r.RangeError,A=f.pack,I=f.unpack,R=function(e){return[255&e]},D=function(e){return[255&e,e>>8&255]},L=function(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]},M=function(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]},B=function(e){return A(e,23,4)},U=function(e){return A(e,52,8)},F=function(e,t){b(e.prototype,t,{get:function(){return x(this)[t]}})},W=function(e,t,n,r){var i=p(n),a=x(e);if(i+t>a.byteLength)throw E(k);var o=x(a.buffer).bytes,s=i+a.byteOffset,c=o.slice(s,s+t);return r?c:c.reverse()},q=function(e,t,n,r,i,a){var o=p(n),s=x(e);if(o+t>s.byteLength)throw E(k);for(var c=x(s.buffer).bytes,u=o+s.byteOffset,l=r(+i),d=0;d<t;d++)c[u+d]=l[a?d:t-d-1]};if(a){if(!c((function(){N(1)}))||!c((function(){new N(-1)}))||c((function(){return new N,new N(1.5),new N(NaN),N.name!=w}))){for(var z,V=(T=function(e){return u(this,T),new N(p(e))}).prototype=N.prototype,X=v(N),H=0;X.length>H;)(z=X[H++])in T||o(T,z,N[z]);V.constructor=T}m&&h(P)!==S&&m(P,S);var Y=new _(new T(2)),Q=P.setInt8;Y.setInt8(0,2147483648),Y.setInt8(1,2147483649),!Y.getInt8(0)&&Y.getInt8(1)||s(P,{setInt8:function(e,t){Q.call(this,e,t<<24>>24)},setUint8:function(e,t){Q.call(this,e,t<<24>>24)}},{unsafe:!0})}else T=function(e){u(this,T,w);var t=p(e);O(this,{bytes:y.call(new Array(t),0),byteLength:t}),i||(this.byteLength=t)},_=function(e,t,n){u(this,_,C),u(e,T,C);var r=x(e).byteLength,a=l(t);if(a<0||a>r)throw E("Wrong offset");if(a+(n=void 0===n?r-a:d(n))>r)throw E("Wrong length");O(this,{buffer:e,byteLength:n,byteOffset:a}),i||(this.buffer=e,this.byteLength=n,this.byteOffset=a)},i&&(F(T,"byteLength"),F(_,"buffer"),F(_,"byteLength"),F(_,"byteOffset")),s(_.prototype,{getInt8:function(e){return W(this,1,e)[0]<<24>>24},getUint8:function(e){return W(this,1,e)[0]},getInt16:function(e){var t=W(this,2,e,arguments.length>1?arguments[1]:void 0);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=W(this,2,e,arguments.length>1?arguments[1]:void 0);return t[1]<<8|t[0]},getInt32:function(e){return M(W(this,4,e,arguments.length>1?arguments[1]:void 0))},getUint32:function(e){return M(W(this,4,e,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(e){return I(W(this,4,e,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(e){return I(W(this,8,e,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(e,t){q(this,1,e,R,t)},setUint8:function(e,t){q(this,1,e,R,t)},setInt16:function(e,t){q(this,2,e,D,t,arguments.length>2?arguments[2]:void 0)},setUint16:function(e,t){q(this,2,e,D,t,arguments.length>2?arguments[2]:void 0)},setInt32:function(e,t){q(this,4,e,L,t,arguments.length>2?arguments[2]:void 0)},setUint32:function(e,t){q(this,4,e,L,t,arguments.length>2?arguments[2]:void 0)},setFloat32:function(e,t){q(this,4,e,B,t,arguments.length>2?arguments[2]:void 0)},setFloat64:function(e,t){q(this,8,e,U,t,arguments.length>2?arguments[2]:void 0)}});g(T,w),g(_,C),e.exports={ArrayBuffer:T,DataView:_}},Ylwr:function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));n("ma9I");var r=n("lSNA"),i=n.n(r),a=n("nKUr"),o=n("QILm"),s=n.n(o),c=(n("q1tI"),n("MCNy")),u=n.n(c),l=n("+pgT"),d=n.n(l),p=n("5f2u"),f=n.n(p),h="ZfaybQuncE2Zj4Je5NKh3",m="_3O_9D6r0ooUj7z8HDtPOpi",v="_23iU-nxIp--MpdPL9ZCVVk",b="_23bplIQZSMOP4vERwGEE4l",y="_33ng4ExG4SJn-a8Ff1eF2U",g=n("bfFJ");function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function O(e){var t=e.title,n=e.children,r=e.onClose,i=void 0===r?function(){}:r,o=e.onCacel,c=void 0===o?function(){}:o,l=e.onConfirm,p=void 0===l?function(){}:l,j=e.confirmDisabled,O=void 0!==j&&j,w=e.isCustomBtn,C=void 0!==w&&w,k=e.className,N=e.confirmText,T=void 0===N?"\u786e\u5b9a":N,_=e.confirmType,P=void 0===_?"":_,S=e.beforeUpload,E=void 0===S?function(){return!0}:S,A=e.onUploadChange,I=void 0===A?function(){}:A,R=e.limit,D=void 0===R?1:R,L=e.accept,M=void 0===L?"*/*":L,B=s()(e,["title","children","onClose","onCacel","onConfirm","confirmDisabled","isCustomBtn","className","confirmText","confirmType","beforeUpload","onUploadChange","limit","accept"]),U=Object(a.jsxs)("div",{className:m,children:[t,Object(a.jsx)(u.a,{className:v,name:"CloseOutlined",size:12,onClick:i})]});return Object(a.jsxs)(d.a,x(x({className:"".concat(k," ").concat(h),header:U,onClose:i},B),{},{children:[n,!C&&Object(a.jsxs)("div",{className:b,children:[Object(a.jsx)(f.a,{onClick:function(){return c()},children:"\u53d6\u6d88"}),Object(a.jsx)(g.a,{isChoose:"upload"===P,beforeUpload:E,onChange:I,accept:M,limit:D,children:Object(a.jsx)(f.a,{className:y,type:"primary",disabled:O,onClick:function(){return p()},children:T})})]})]}))}},ZJ55:function(e,t,n){"use strict";var r=n("67WC"),i=n("tycR").some,a=r.aTypedArray;(0,r.exportTypedArrayMethod)("some",(function(e){return i(a(this),e,arguments.length>1?arguments[1]:void 0)}))},a20H:function(e,t,n){"use strict";n("pjDv"),n("2B1R"),n("07d7"),n("5s+n"),n("PKPk"),Object.defineProperty(t,"__esModule",{value:!0}),t.getRect=function(e,t){return new Promise((function(n,r){e.current?n(t?Array.from(e.current.querySelectorAll(t)).map((function(e){return e.getBoundingClientRect()})):[e.current.getBoundingClientRect()]):r()}))}},aIz1:function(e,t,n){"use strict";var r=n("nKUr"),i=(n("q1tI"),n("k8W2")),a=n.n(i),o=n("5f2u"),s=n.n(o),c="_23QAuOd-BRAwG2sBMBRrWi",u="_2KefqNi0ThUfIkgZWbKH78",l="_1szKzBKuAyRq9GtvNTDnPq",d="-qnElFNsSZH79cm9Y0Wj6",p="NlgsVb-i3WT_l4Y88iWp7",f="_3Pom7l5hqGGMy08iGOD5jp",h="jTgUetNpT-Q14jpjYxyON";t.a=function(e){var t=e.visible,n=e.onClose,i=e.onBtnClick,o=e.type,m=void 0===o?"comment":o;return Object(r.jsx)(a.a,{position:"center",visible:t,onClose:n,children:Object(r.jsxs)("div",{className:c,children:[Object(r.jsxs)("div",{className:u,children:[Object(r.jsx)("div",{className:l,children:"\u63d0\u793a"}),Object(r.jsx)("div",{className:d,children:"thread"===m?"\u786e\u5b9a\u5220\u9664\u8fd9\u7bc7\u5185\u5bb9\u5417\uff1f":"\u786e\u5b9a\u5220\u9664\u8fd9\u6761\u8bc4\u8bba\u5417\uff1f"})]}),Object(r.jsxs)("div",{className:p,children:[Object(r.jsx)(s.a,{className:f,onClick:n,children:"\u53d6\u6d88"}),Object(r.jsx)(s.a,{type:"primary",className:h,onClick:i,children:"\u786e\u5b9a"})]})]})})}},b0Xh:function(e,t,r){var i;(function(){var r=!1,a=function(e){return e instanceof a?e:this instanceof a?void(this.EXIFwrapped=e):new a(e)};e.exports&&(t=e.exports=a),t.EXIF=a;var o=a.Tags={36864:"ExifVersion",40960:"FlashpixVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37500:"MakerNote",37510:"UserComment",40964:"RelatedSoundFile",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37520:"SubsecTime",37521:"SubsecTimeOriginal",37522:"SubsecTimeDigitized",33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"ISOSpeedRatings",34856:"OECF",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBias",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37396:"SubjectArea",37386:"FocalLength",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRation",41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",40965:"InteroperabilityIFDPointer",42016:"ImageUniqueID"},s=a.TiffTags={256:"ImageWidth",257:"ImageHeight",34665:"ExifIFDPointer",34853:"GPSInfoIFDPointer",40965:"InteroperabilityIFDPointer",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",274:"Orientation",277:"SamplesPerPixel",284:"PlanarConfiguration",530:"YCbCrSubSampling",531:"YCbCrPositioning",282:"XResolution",283:"YResolution",296:"ResolutionUnit",273:"StripOffsets",278:"RowsPerStrip",279:"StripByteCounts",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",301:"TransferFunction",318:"WhitePoint",319:"PrimaryChromaticities",529:"YCbCrCoefficients",532:"ReferenceBlackWhite",306:"DateTime",270:"ImageDescription",271:"Make",272:"Model",305:"Software",315:"Artist",33432:"Copyright"},c=a.GPSTags={0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential"},u=a.IFD1Tags={256:"ImageWidth",257:"ImageHeight",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",273:"StripOffsets",274:"Orientation",277:"SamplesPerPixel",278:"RowsPerStrip",279:"StripByteCounts",282:"XResolution",283:"YResolution",284:"PlanarConfiguration",296:"ResolutionUnit",513:"JpegIFOffset",514:"JpegIFByteCount",529:"YCbCrCoefficients",530:"YCbCrSubSampling",531:"YCbCrPositioning",532:"ReferenceBlackWhite"},l=a.StringValues={ExposureProgram:{0:"Not defined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},SensingMethod:{1:"Not defined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},SceneType:{1:"Directly photographed"},CustomRendered:{0:"Normal process",1:"Custom process"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},GainControl:{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},SubjectDistanceRange:{0:"Unknown",1:"Macro",2:"Close view",3:"Distant view"},FileSource:{3:"DSC"},Components:{0:"",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"}};function d(e){return!!e.exifdata}function p(e,t){function n(n){var i=f(n);e.exifdata=i||{};var o=function(e){var t=new DataView(e);r;if(255!=t.getUint8(0)||216!=t.getUint8(1))return!1;var n=2,i=e.byteLength,a=function(e,t){return 56===e.getUint8(t)&&66===e.getUint8(t+1)&&73===e.getUint8(t+2)&&77===e.getUint8(t+3)&&4===e.getUint8(t+4)&&4===e.getUint8(t+5)};for(;n<i;){if(a(t,n)){var o=t.getUint8(n+7);return o%2!==0&&(o+=1),0===o&&(o=4),m(e,n+8+o,t.getUint16(n+6+o))}n++}}(n);if(e.iptcdata=o||{},a.isXmpEnabled){var s=function(e){if(!("DOMParser"in self))return;var t=new DataView(e);r;if(255!=t.getUint8(0)||216!=t.getUint8(1))return!1;var n=2,i=e.byteLength,a=new DOMParser;for(;n<i-4;){if("http"==y(t,n,4)){var o=n-1,s=t.getUint16(n-2)-1,c=y(t,o,s),u=c.indexOf("xmpmeta>")+8,l=(c=c.substring(c.indexOf("<x:xmpmeta"),u)).indexOf("x:xmpmeta")+10;return c=c.slice(0,l)+'xmlns:Iptc4xmpCore="http://iptc.org/std/Iptc4xmpCore/1.0/xmlns/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:tiff="http://ns.adobe.com/tiff/1.0/" xmlns:plus="http://schemas.android.com/apk/lib/com.google.android.gms.plus" xmlns:ext="http://www.gettyimages.com/xsltExtension/1.0" xmlns:exif="http://ns.adobe.com/exif/1.0/" xmlns:stEvt="http://ns.adobe.com/xap/1.0/sType/ResourceEvent#" xmlns:stRef="http://ns.adobe.com/xap/1.0/sType/ResourceRef#" xmlns:crs="http://ns.adobe.com/camera-raw-settings/1.0/" xmlns:xapGImg="http://ns.adobe.com/xap/1.0/g/img/" xmlns:Iptc4xmpExt="http://iptc.org/std/Iptc4xmpExt/2008-02-29/" '+c.slice(l),x(a.parseFromString(c,"text/xml"))}n++}}(n);e.xmpdata=s||{}}t&&t.call(e)}if(e.src)if(/^data\:/i.test(e.src))n(function(e,t){t=t||e.match(/^data\:([^\;]+)\;base64,/im)[1]||"",e=e.replace(/^data\:([^\;]+)\;base64,/gim,"");for(var n=atob(e),r=n.length,i=new ArrayBuffer(r),a=new Uint8Array(i),o=0;o<r;o++)a[o]=n.charCodeAt(o);return i}(e.src));else if(/^blob\:/i.test(e.src)){(o=new FileReader).onload=function(e){n(e.target.result)},function(e,t){var n=new XMLHttpRequest;n.open("GET",e,!0),n.responseType="blob",n.onload=function(e){200!=this.status&&0!==this.status||t(this.response)},n.send()}(e.src,(function(e){o.readAsArrayBuffer(e)}))}else{var i=new XMLHttpRequest;i.onload=function(){if(200!=this.status&&0!==this.status)throw"Could not load image";n(i.response),i=null},i.open("GET",e.src,!0),i.responseType="arraybuffer",i.send(null)}else if(self.FileReader&&(e instanceof self.Blob||e instanceof self.File)){var o;(o=new FileReader).onload=function(e){n(e.target.result)},o.readAsArrayBuffer(e)}}function f(e){var t=new DataView(e);if(255!=t.getUint8(0)||216!=t.getUint8(1))return!1;for(var n=2,r=e.byteLength;n<r;){if(255!=t.getUint8(n))return!1;if(225==t.getUint8(n+1))return g(t,n+4,t.getUint16(n+2));n+=2+t.getUint16(n+2)}}var h={120:"caption",110:"credit",25:"keywords",55:"dateCreated",80:"byline",85:"bylineTitle",122:"captionWriter",105:"headline",116:"copyright",15:"category"};function m(e,t,n){for(var r,i,a,o,s=new DataView(e),c={},u=t;u<t+n;)28===s.getUint8(u)&&2===s.getUint8(u+1)&&(o=s.getUint8(u+2))in h&&((a=s.getInt16(u+3))+5,i=h[o],r=y(s,u+5,a),c.hasOwnProperty(i)?c[i]instanceof Array?c[i].push(r):c[i]=[c[i],r]:c[i]=r),u++;return c}function v(e,t,n,r,i){var a,o,s=e.getUint16(n,!i),c={};for(o=0;o<s;o++)a=n+12*o+2,c[r[e.getUint16(a,!i)]]=b(e,a,t,n,i);return c}function b(e,t,n,r,i){var a,o,s,c,u,l,d=e.getUint16(t+2,!i),p=e.getUint32(t+4,!i),f=e.getUint32(t+8,!i)+n;switch(d){case 1:case 7:if(1==p)return e.getUint8(t+8,!i);for(a=p>4?f:t+8,o=[],c=0;c<p;c++)o[c]=e.getUint8(a+c);return o;case 2:return y(e,a=p>4?f:t+8,p-1);case 3:if(1==p)return e.getUint16(t+8,!i);for(a=p>2?f:t+8,o=[],c=0;c<p;c++)o[c]=e.getUint16(a+2*c,!i);return o;case 4:if(1==p)return e.getUint32(t+8,!i);for(o=[],c=0;c<p;c++)o[c]=e.getUint32(f+4*c,!i);return o;case 5:if(1==p)return u=e.getUint32(f,!i),l=e.getUint32(f+4,!i),(s=new Number(u/l)).numerator=u,s.denominator=l,s;for(o=[],c=0;c<p;c++)u=e.getUint32(f+8*c,!i),l=e.getUint32(f+4+8*c,!i),o[c]=new Number(u/l),o[c].numerator=u,o[c].denominator=l;return o;case 9:if(1==p)return e.getInt32(t+8,!i);for(o=[],c=0;c<p;c++)o[c]=e.getInt32(f+4*c,!i);return o;case 10:if(1==p)return e.getInt32(f,!i)/e.getInt32(f+4,!i);for(o=[],c=0;c<p;c++)o[c]=e.getInt32(f+8*c,!i)/e.getInt32(f+4+8*c,!i);return o}}function y(e,t,r){var i="";for(n=t;n<t+r;n++)i+=String.fromCharCode(e.getUint8(n));return i}function g(e,t){if("Exif"!=y(e,t,4))return!1;var n,r,i,a,d,p=t+6;if(18761==e.getUint16(p))n=!1;else{if(19789!=e.getUint16(p))return!1;n=!0}if(42!=e.getUint16(p+2,!n))return!1;var f=e.getUint32(p+4,!n);if(f<8)return!1;if((r=v(e,p,p+f,s,n)).ExifIFDPointer)for(i in a=v(e,p,p+r.ExifIFDPointer,o,n)){switch(i){case"LightSource":case"Flash":case"MeteringMode":case"ExposureProgram":case"SensingMethod":case"SceneCaptureType":case"SceneType":case"CustomRendered":case"WhiteBalance":case"GainControl":case"Contrast":case"Saturation":case"Sharpness":case"SubjectDistanceRange":case"FileSource":a[i]=l[i][a[i]];break;case"ExifVersion":case"FlashpixVersion":a[i]=String.fromCharCode(a[i][0],a[i][1],a[i][2],a[i][3]);break;case"ComponentsConfiguration":a[i]=l.Components[a[i][0]]+l.Components[a[i][1]]+l.Components[a[i][2]]+l.Components[a[i][3]]}r[i]=a[i]}if(r.GPSInfoIFDPointer)for(i in d=v(e,p,p+r.GPSInfoIFDPointer,c,n)){switch(i){case"GPSVersionID":d[i]=d[i][0]+"."+d[i][1]+"."+d[i][2]+"."+d[i][3]}r[i]=d[i]}return r.thumbnail=function(e,t,n,r){var i=function(e,t,n){var r=e.getUint16(t,!n);return e.getUint32(t+2+12*r,!n)}(e,t+n,r);if(!i)return{};if(i>e.byteLength)return{};var a=v(e,t,t+i,u,r);if(a.Compression)switch(a.Compression){case 6:if(a.JpegIFOffset&&a.JpegIFByteCount){var o=t+a.JpegIFOffset,s=a.JpegIFByteCount;a.blob=new Blob([new Uint8Array(e.buffer,o,s)],{type:"image/jpeg"})}break;case 1:console.log("Thumbnail image format is TIFF, which is not implemented.");break;default:console.log("Unknown thumbnail image format '%s'",a.Compression)}else 2==a.PhotometricInterpretation&&console.log("Thumbnail image format is RGB, which is not implemented.");return a}(e,p,f,n),r}function j(e){var t={};if(1==e.nodeType){if(e.attributes.length>0){t["@attributes"]={};for(var n=0;n<e.attributes.length;n++){var r=e.attributes.item(n);t["@attributes"][r.nodeName]=r.nodeValue}}}else if(3==e.nodeType)return e.nodeValue;if(e.hasChildNodes())for(var i=0;i<e.childNodes.length;i++){var a=e.childNodes.item(i),o=a.nodeName;if(null==t[o])t[o]=j(a);else{if(null==t[o].push){var s=t[o];t[o]=[],t[o].push(s)}t[o].push(j(a))}}return t}function x(e){try{var t={};if(e.children.length>0)for(var n=0;n<e.children.length;n++){var r=e.children.item(n),i=r.attributes;for(var a in i){var o=i[a],s=o.nodeName,c=o.nodeValue;void 0!==s&&(t[s]=c)}var u=r.nodeName;if("undefined"==typeof t[u])t[u]=j(r);else{if("undefined"==typeof t[u].push){var l=t[u];t[u]=[],t[u].push(l)}t[u].push(j(r))}}else t=e.textContent;return t}catch(d){console.log(d.message)}}a.enableXmp=function(){a.isXmpEnabled=!0},a.disableXmp=function(){a.isXmpEnabled=!1},a.getData=function(e,t){return!((self.Image&&e instanceof self.Image||self.HTMLImageElement&&e instanceof self.HTMLImageElement)&&!e.complete)&&(d(e)?t&&t.call(e):p(e,t),!0)},a.getTag=function(e,t){if(d(e))return e.exifdata[t]},a.getIptcTag=function(e,t){if(d(e))return e.iptcdata[t]},a.getAllTags=function(e){if(!d(e))return{};var t,n=e.exifdata,r={};for(t in n)n.hasOwnProperty(t)&&(r[t]=n[t]);return r},a.getAllIptcTags=function(e){if(!d(e))return{};var t,n=e.iptcdata,r={};for(t in n)n.hasOwnProperty(t)&&(r[t]=n[t]);return r},a.pretty=function(e){if(!d(e))return"";var t,n=e.exifdata,r="";for(t in n)n.hasOwnProperty(t)&&("object"==typeof n[t]?n[t]instanceof Number?r+=t+" : "+n[t]+" ["+n[t].numerator+"/"+n[t].denominator+"]\r\n":r+=t+" : ["+n[t].length+" values]\r\n":r+=t+" : "+n[t]+"\r\n");return r},a.readFromBinaryFile=function(e){return f(e)},void 0===(i=function(){return a}.apply(t,[]))||(e.exports=i)}).call(this)},b9ng:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(){for(var e=navigator.userAgent,t=["Android","iPhone","SymbianOS","Windows Phone","iPad","iPod"],n=!1,r=0;r<t.length;r++)if(e.indexOf(t[r])>0){n=!0;break}var i=window.screen.width,a=window.screen.height;return i<500&&a<800&&(n=!0),n};t.default=r},bAjH:function(e,t,n){"use strict";n.d(t,"d",(function(){return a})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return u})),n.d(t,"e",(function(){return l})),n.d(t,"f",(function(){return d}));n("oVuX");var r=n("uPFr"),i=n("yO9+"),a=[{src:"/dzq-img/jingdong.svg",name:"\u4eac\u4e1c",width:20,height:20},{src:"/dzq-img/taobao.svg",name:"\u6dd8\u5b9d",width:20,height:20},{src:"/dzq-img/tmall.svg",name:"\u5929\u732b",width:20,height:20},{src:"/dzq-img/pinduoduo.svg",name:"\u62fc\u591a\u591a",width:20,height:20},{src:"/dzq-img/youzan.svg",name:"\u6709\u8d5e",width:20,height:20}],o={emoji:"emoji",at:"at",topic:"topic",attach:"attach",redpacket:"redpacket",pay:"pay"},s="#2469f6",c=[{name:"SmilingFaceOutlined",id:o.emoji,type:r.k.emoji},{name:"AtOutlined",id:o.at,type:r.k.at},{name:"SharpOutlined",id:o.topic,type:r.k.topic},{name:"PaperClipOutlined",active:s,id:o.attach,type:r.k.file},{name:"RedPacketOutlined",active:s,id:o.redpacket,type:r.k.redPacket},{name:"GoldCoinOutlined",active:s,id:o.pay,menu:[{id:"threadpay",name:"\u5168\u5e16\u4ed8\u8d39"},{id:"attachpay",name:"\u90e8\u5206\u4ed8\u8d39"}],type:r.k.paid}],u=[{name:"PictureOutlinedBig",active:s,type:r.k.image},{name:"VideoOutlined",active:s,type:r.k.video,isUpload:!1,limit:1,accept:r.c.join(","),data:{type:r.d.video}},{name:"MicroOutlined",active:s,type:r.k.voice},{name:"QuestionOutlined",active:s,type:r.k.reward},{name:"VoteOutlined",active:s,type:r.k.vote},{name:"AnonymityOutlined",active:s,type:r.k.anonymity}],l=[{name:"\u5168\u5e16\u4ed8\u8d39",type:r.k.paidPost},{name:"\u90e8\u5206\u4ed8\u8d39",type:r.k.paidAttachment}],d=(r.k.saveDraft,r.k.abandonDraft,{0:{bgImg:"".concat(i.e,"/assets/ship-card-pc.e7c12e08843409af87f3898e25ef67d1d4334339.png")},1:{bgImg:"".concat(i.e,"/assets/2.3ecfa6ceb2c739701572aa9d3e8084a7a626e94c.png"),groupNameColor:"#393b42",desAndDateColor:"#8e8f94",leftBtnTextColor:"#efefef",rightBtnBgColor:"rgba(57, 59, 66, 0.1)",otherColor:"#797a7d"},2:{bgImg:"".concat(i.e,"/assets/1.517f7a52bc5ae1f4b5695dc80f02e79211e27290.png"),groupNameColor:"#2f1801",desAndDateColor:"#6c562d",leftBtnTextColor:"#f7ecc7",rightBtnBgColor:"rgba(47, 24, 1, 0.1)",otherColor:"#624a1e"},3:{bgImg:"".concat(i.e,"/assets/3.d7570bef4fd539e135081a017028cef85ee6df74.png"),groupNameColor:"#3a3d63",desAndDateColor:"#505279",leftBtnTextColor:"#c8cde8",rightBtnBgColor:"rgba(58, 61, 99, 0.1)",otherColor:"#474b7a"},4:{bgImg:"".concat(i.e,"/assets/4.2804d984fa9756208062e6115dfa0461653daf8d.png"),groupNameColor:"#fdf2f0",desAndDateColor:"#f3e2dc",leftBtnTextColor:"#683b41",rightBtnBgColor:"rgba(245, 225, 220, 0.1)",otherColor:"#f5e1dc"},5:{bgImg:"".concat(i.e,"/assets/5.e1f86ee2189404ab35e45922fbc79c360d395386.png"),groupNameColor:"#f4d0b1",desAndDateColor:"#ceb6b2",leftBtnTextColor:"#14131d",rightBtnBgColor:"rgba(244, 208, 177, 0.1)",otherColor:"#f4d0b1"}})},bJLh:function(e,t,n){"use strict";n("qePV"),n("toAj"),n("rB9j"),n("UxlC");var r=n("nKUr"),i=n("q1tI"),a=n.n(i),o={container:"_2_190JiQ9Cxq4C2SlP809o",wrapper:"_1-ojhn4jNifxgWv7ajjNpl",img:"_3Zu4QaqKdkMSeD1vc9hXmw",title:"_2Rq7t2CqFbDjtXGbQr7UX0",money:"wfkPXKDsiLcULeDN_g1Gh",root:"_3JpYJq-9cyJjG7-qfrLH14",hongbao:"_1BewdD0vT_uJaEh9HaVW9a",left:"OCcW4-6ByMo-tSlB7xQtj",top:"_2Pt0ZgwGpjFZyrndV6UoSo",bottom:"_346revKquWRmI5fMOvuXsl",right:"_29JUGW1_gxyAnayN2CGnq8",pie:"_8LN-6lFKbyQkDyKIL8hb0",xuanshang:"_15zVvGwRtx240ZdHuxMb5O",mid:"_2pD43aWhs7lfIHYFjTIqRy",remain:"_1_1YEt8UFHVQ5r-WHumAHD",cur:"_2XYZ9FLeWuzzx6SwcRu4It",shang:"_3RbOZOqLoxACSAW3Z7Yxyi"},s=function(e){var t=e.money,n=void 0===t?0:t,a=e.remainMoney,s=void 0===a?0:a,c=e.number,u=e.remainNumber,l=e.type,d=void 0===l?0:l,p=e.onClick,f=e.condition,h=void 0===f?0:f;Object(i.useMemo)((function(){return 0===d?0===h?"\u56de\u590d\u9886\u7ea2\u5305":"\u96c6\u8d5e\u9886\u7ea2\u5305":"\u8bc4\u8bba\u9886\u8d4f\u91d1"}),[d]),Object(i.useMemo)((function(){return 0===d?"/dzq-img/red-packet.png":"/dzq-img/reward-question.png"}),[d]),Object(i.useMemo)((function(){var e=Number(n);if(!e)return n;return e.toFixed(2).replace(/(?:\.0*|(\.\d+?)0+)$/,"$1")}),[n]);return Object(r.jsx)("div",{className:o.root,onClick:p,children:0===d?Object(r.jsx)("div",{className:o.hongbao_box,children:Object(r.jsxs)("div",{className:o.hongbao,children:[Object(r.jsxs)("div",{className:o.left,children:[Object(r.jsxs)("div",{className:o.top,children:[" ",0===h?"\u56de\u590d\u9886\u7ea2\u5305":"\u96c6\u8d5e\u9886\u7ea2\u5305"]}),c&&1*c>0&&Object(r.jsxs)("div",{className:o.bottom,children:["\u5df2\u9886\u53d6",(c-u).toFixed(0),"\u4e2a\u7ea2\u5305\uff0c\u5269\u4f59",u,"\u4e2a\u7ea2\u5305"]})]}),Object(r.jsx)("div",{className:o.right,children:Object(r.jsx)("div",{className:o.pie,children:Object(r.jsx)("img",{alt:"\u56fe\u7247",src:"/dzq-img/redpacket-mini.png"})})})]})}):Object(r.jsx)("div",{className:o.xuanshang_box,children:Object(r.jsxs)("div",{className:o.xuanshang,children:[Object(r.jsx)("div",{className:o.left,children:n?Object(r.jsxs)("div",{children:[Object(r.jsxs)("div",{className:o.remain,children:["\u5269\u4f59",s,"\u5143"]}),Object(r.jsxs)("div",{className:o.cur,children:["\u5df2\u53d1\u653e",(n-s).toFixed(2),"\u5143"]})]}):Object(r.jsx)("div",{className:o.mid,children:"\u8bc4\u8bba\u9886\u8d4f\u91d1"})}),Object(r.jsx)("div",{className:o.right,children:Object(r.jsx)("div",{className:o.shang,children:"\u8d4f"})})]})})})};t.a=a.a.memo(s)},bfFJ:function(e,t,n){"use strict";var r=n("nKUr"),i=n("q1tI"),a=n.n(i),o="_1Ocj2AEC5YpZBLslCfLhZX",s=n("pGE/"),c=function(){};t.a=function(e){var t=e.children,n=e.isChoose,i=void 0===n||n,u=e.limit,l=void 0===u?1:u,d=e.accept,p=void 0===d?"*/*":d,f=e.onChange,h=void 0===f?c:f,m=e.beforeUpload,v=void 0===m?function(){return!0}:m,b=a.a.createRef(null),y=function(e){if(e.target instanceof HTMLInputElement){var t=e.target.files;if(!t)return;s.a.isFunction(h)&&h(t),b.current.value=null}};return i?Object(r.jsxs)("div",{onClick:function(){s.a.isFunction(v)&&v()&&b.current.click(),s.a.isFunction(v)||b.current.click()},className:o,children:[t,Object(r.jsx)("input",{style:{display:"none"},type:"file",ref:b,onChange:function(e){y(e)},multiple:l>1,accept:p})]}):t}},bihr:function(e,t,n){"use strict";var r=n("TqRt"),i=n("cDf5");n("07d7"),n("JfAA"),Object.defineProperty(t,"__esModule",{value:!0}),t.DialogWebLayout=void 0;var a=r(n("lwsE")),o=r(n("W8MJ")),s=r(n("7W2i")),c=r(n("a1gu")),u=r(n("Nsbk")),l=r(n("lSNA")),d=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!==typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(n("q1tI")),p=n("VTYn"),f=r(n("TSYQ")),h=r(n("mZzD")),m=r(n("MCNy")),v=r(n("5f2u"));function b(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){(0,l.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function j(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,u.default)(e);if(t){var i=(0,u.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,c.default)(this,n)}}var x=function(e){(0,s.default)(n,e);var t=j(n);function n(){return(0,a.default)(this,n),t.apply(this,arguments)}return(0,o.default)(n,[{key:"getDialogWidth",value:function(){var e=this.props.width,t="number"===typeof e?"".concat(e,"px"):e;return"undefined"!==typeof window&&e&&parseInt(e.toString(),10)>=window.innerWidth&&(t="".concat(window.innerWidth-20,"px")),{width:t}}},{key:"render",value:function(){var e=this,t=this.context.clsPrefix,n=this.props,r=n.children,i=n.style,a=n.zIndex,o=n.attach,s=n.onClose,c=n.title,u=n.header,l=n.footer,p=n.cancelBtn,b=n.confirmBtn,y=n.confirmDisabled,j=n.confirmLoading,x=n.onCancel,O=n.type,w=n.onConfirm,C=g(g({},i),{},{zIndex:a}),k=this.props.visible?this.getDialogWidth():{},N=d.default.createElement("div",{className:(0,f.default)("".concat(t,"-modal__header"),this.props.headerClassName),style:this.props.headerStyle},u&&u,!u&&(this.props.isNew||this.props.inContext)&&d.default.createElement(d.default.Fragment,null,c,d.default.createElement(m.default,{className:"".concat(t,"-header__closeicon"),name:"CloseOutlined",size:12,onClick:function(){return s()}}))),T=d.default.createElement("div",{className:(0,f.default)("".concat(t,"-modal__footer"),this.props.footerClassName),style:this.props.footerStyle},l&&l,!l&&(this.props.isNew||this.props.inContext)&&d.default.createElement(d.default.Fragment,null,"confirm"===O&&d.default.createElement(v.default,{className:"".concat(t,"-modal_cancel"),onClick:function(){return x()}},p),d.default.createElement(v.default,{type:"primary",disabled:y,loading:j,onClick:function(){return w()}},b)));u||this.props.isNew||(N=null),l||this.props.isNew||(T=null);var _=d.default.createElement("div",{className:(0,f.default)("".concat(t,"-modal"),{"is-active":this.props.visible},this.props.className),style:C},d.default.createElement("div",{className:(0,f.default)("".concat(t,"-modal__overlay"),{"animated animated-fadeIn":this.props.visible,"animated animated-fadeOut":!this.props.visible}),style:this.props.maskStyle,onClick:function(){e.props.maskClosable&&e.props.onClose()}}),d.default.createElement("div",{className:(0,f.default)("".concat(t,"-modal__container"),{"animated animated-zoomIn":this.props.visible,"animated animated-zoomOut":!this.props.visible}),style:k},N,d.default.createElement("div",{className:(0,f.default)("".concat(t,"-modal__body"),this.props.bodyClassName),style:this.props.bodyStyle},r),T));return d.default.createElement(h.default,{attach:o},_)}}]),n}(d.Component);t.DialogWebLayout=x,(0,l.default)(x,"contextType",p.ConfigContext)},brp2:function(e,t,n){n("I+eb")({target:"Date",stat:!0},{now:function(){return(new Date).getTime()}})},c162:function(e,t,n){"use strict";var r=n("67WC"),i=n("gdVl"),a=r.aTypedArray;(0,r.exportTypedArrayMethod)("fill",(function(e){return i.apply(a(this),arguments)}))},cvf0:function(e,t,n){"use strict";var r=n("67WC").exportTypedArrayMethod,i=n("0Dky"),a=n("2oRo").Uint8Array,o=a&&a.prototype||{},s=[].toString,c=[].join;i((function(){s.call({})}))&&(s=function(){return c.call(this)});var u=o.toString!=s;r("toString",s,u)},d6cI:function(e,t){var n=1/0,r=Math.abs,i=Math.pow,a=Math.floor,o=Math.log,s=Math.LN2;e.exports={pack:function(e,t,c){var u,l,d,p=new Array(c),f=8*c-t-1,h=(1<<f)-1,m=h>>1,v=23===t?i(2,-24)-i(2,-77):0,b=e<0||0===e&&1/e<0?1:0,y=0;for((e=r(e))!=e||e===n?(l=e!=e?1:0,u=h):(u=a(o(e)/s),e*(d=i(2,-u))<1&&(u--,d*=2),(e+=u+m>=1?v/d:v*i(2,1-m))*d>=2&&(u++,d/=2),u+m>=h?(l=0,u=h):u+m>=1?(l=(e*d-1)*i(2,t),u+=m):(l=e*i(2,m-1)*i(2,t),u=0));t>=8;p[y++]=255&l,l/=256,t-=8);for(u=u<<t|l,f+=t;f>0;p[y++]=255&u,u/=256,f-=8);return p[--y]|=128*b,p},unpack:function(e,t){var r,a=e.length,o=8*a-t-1,s=(1<<o)-1,c=s>>1,u=o-7,l=a-1,d=e[l--],p=127&d;for(d>>=7;u>0;p=256*p+e[l],l--,u-=8);for(r=p&(1<<-u)-1,p>>=-u,u+=t;u>0;r=256*r+e[l],l--,u-=8);if(0===p)p=1-c;else{if(p===s)return r?NaN:d?-1/0:n;r+=i(2,t),p-=c}return(d?-1:1)*r*i(2,p-t)}}},dJxt:function(e,t){function n(e,t){for(var n in e)t[n]=e[n]}function r(e,t){var r=e.prototype;if(Object.create){var i=Object.create(t.prototype);r.__proto__=i}if(!(r instanceof t)){function a(){}a.prototype=t.prototype,n(r,a=new a),e.prototype=r=a}r.constructor!=e&&("function"!=typeof e&&console.error("unknow Class:"+e),r.constructor=e)}var i={},a=i.ELEMENT_NODE=1,o=i.ATTRIBUTE_NODE=2,s=i.TEXT_NODE=3,c=i.CDATA_SECTION_NODE=4,u=i.ENTITY_REFERENCE_NODE=5,l=i.ENTITY_NODE=6,d=i.PROCESSING_INSTRUCTION_NODE=7,p=i.COMMENT_NODE=8,f=i.DOCUMENT_NODE=9,h=i.DOCUMENT_TYPE_NODE=10,m=i.DOCUMENT_FRAGMENT_NODE=11,v=i.NOTATION_NODE=12,b={},y={},g=(b.INDEX_SIZE_ERR=(y[1]="Index size error",1),b.DOMSTRING_SIZE_ERR=(y[2]="DOMString size error",2),b.HIERARCHY_REQUEST_ERR=(y[3]="Hierarchy request error",3)),j=(b.WRONG_DOCUMENT_ERR=(y[4]="Wrong document",4),b.INVALID_CHARACTER_ERR=(y[5]="Invalid character",5),b.NO_DATA_ALLOWED_ERR=(y[6]="No data allowed",6),b.NO_MODIFICATION_ALLOWED_ERR=(y[7]="No modification allowed",7),b.NOT_FOUND_ERR=(y[8]="Not found",8)),x=(b.NOT_SUPPORTED_ERR=(y[9]="Not supported",9),b.INUSE_ATTRIBUTE_ERR=(y[10]="Attribute in use",10));b.INVALID_STATE_ERR=(y[11]="Invalid state",11),b.SYNTAX_ERR=(y[12]="Syntax error",12),b.INVALID_MODIFICATION_ERR=(y[13]="Invalid modification",13),b.NAMESPACE_ERR=(y[14]="Invalid namespace",14),b.INVALID_ACCESS_ERR=(y[15]="Invalid access",15);function O(e,t){if(t instanceof Error)var n=t;else n=this,Error.call(this,y[e]),this.message=y[e],Error.captureStackTrace&&Error.captureStackTrace(this,O);return n.code=e,t&&(this.message=this.message+": "+t),n}function w(){}function C(e,t){this._node=e,this._refresh=t,k(this)}function k(e){var t=e._node._inc||e._node.ownerDocument._inc;if(e._inc!=t){var r=e._refresh(e._node);re(e,"length",r.length),n(r,e),e._inc=t}}function N(){}function T(e,t){for(var n=e.length;n--;)if(e[n]===t)return n}function _(e,t,n,r){if(r?t[T(t,r)]=n:t[t.length++]=n,e){n.ownerElement=e;var i=e.ownerDocument;i&&(r&&D(i,e,r),function(e,t,n){e&&e._inc++,"http://www.w3.org/2000/xmlns/"==n.namespaceURI&&(t._nsMap[n.prefix?n.localName:""]=n.value)}(i,e,n))}}function P(e,t,n){var r=T(t,n);if(!(r>=0))throw O(j,new Error(e.tagName+"@"+n));for(var i=t.length-1;r<i;)t[r]=t[++r];if(t.length=i,e){var a=e.ownerDocument;a&&(D(a,e,n),n.ownerElement=null)}}function S(e){if(this._features={},e)for(var t in e)this._features=e[t]}function E(){}function A(e){return("<"==e?"&lt;":">"==e&&"&gt;")||"&"==e&&"&amp;"||'"'==e&&"&quot;"||"&#"+e.charCodeAt()+";"}function I(e,t){if(t(e))return!0;if(e=e.firstChild)do{if(I(e,t))return!0}while(e=e.nextSibling)}function R(){}function D(e,t,n,r){e&&e._inc++,"http://www.w3.org/2000/xmlns/"==n.namespaceURI&&delete t._nsMap[n.prefix?n.localName:""]}function L(e,t,n){if(e&&e._inc){e._inc++;var r=t.childNodes;if(n)r[r.length++]=n;else{for(var i=t.firstChild,a=0;i;)r[a++]=i,i=i.nextSibling;r.length=a}}}function M(e,t){var n=t.previousSibling,r=t.nextSibling;return n?n.nextSibling=r:e.firstChild=r,r?r.previousSibling=n:e.lastChild=n,L(e.ownerDocument,e),t}function B(e,t,n){var r=t.parentNode;if(r&&r.removeChild(t),t.nodeType===m){var i=t.firstChild;if(null==i)return t;var a=t.lastChild}else i=a=t;var o=n?n.previousSibling:e.lastChild;i.previousSibling=o,a.nextSibling=n,o?o.nextSibling=i:e.firstChild=i,null==n?e.lastChild=a:n.previousSibling=a;do{i.parentNode=e}while(i!==a&&(i=i.nextSibling));return L(e.ownerDocument||e,e),t.nodeType==m&&(t.firstChild=t.lastChild=null),t}function U(){this._nsMap={}}function F(){}function W(){}function q(){}function z(){}function V(){}function X(){}function H(){}function Y(){}function Q(){}function G(){}function J(){}function K(){}function Z(e,t){var n=[],r=9==this.nodeType?this.documentElement:this,i=r.prefix,a=r.namespaceURI;if(a&&null==i&&null==(i=r.lookupPrefix(a)))var o=[{namespace:a,prefix:null}];return ee(this,n,e,t,o),n.join("")}function $(e,t,n){var r=e.prefix||"",i=e.namespaceURI;if(!r&&!i)return!1;if("xml"===r&&"http://www.w3.org/XML/1998/namespace"===i||"http://www.w3.org/2000/xmlns/"==i)return!1;for(var a=n.length;a--;){var o=n[a];if(o.prefix==r)return o.namespace!=i}return!0}function ee(e,t,n,r,i){if(r){if(!(e=r(e)))return;if("string"==typeof e)return void t.push(e)}switch(e.nodeType){case a:i||(i=[]);i.length;var l=e.attributes,v=l.length,b=e.firstChild,y=e.tagName;n="http://www.w3.org/1999/xhtml"===e.namespaceURI||n,t.push("<",y);for(var g=0;g<v;g++){"xmlns"==(j=l.item(g)).prefix?i.push({prefix:j.localName,namespace:j.value}):"xmlns"==j.nodeName&&i.push({prefix:"",namespace:j.value})}for(g=0;g<v;g++){var j;if($(j=l.item(g),0,i)){var x=j.prefix||"",O=j.namespaceURI,w=x?" xmlns:"+x:" xmlns";t.push(w,'="',O,'"'),i.push({prefix:x,namespace:O})}ee(j,t,n,r,i)}if($(e,0,i)){x=e.prefix||"",O=e.namespaceURI,w=x?" xmlns:"+x:" xmlns";t.push(w,'="',O,'"'),i.push({prefix:x,namespace:O})}if(b||n&&!/^(?:meta|link|img|br|hr|input)$/i.test(y)){if(t.push(">"),n&&/^script$/i.test(y))for(;b;)b.data?t.push(b.data):ee(b,t,n,r,i),b=b.nextSibling;else for(;b;)ee(b,t,n,r,i),b=b.nextSibling;t.push("</",y,">")}else t.push("/>");return;case f:case m:for(b=e.firstChild;b;)ee(b,t,n,r,i),b=b.nextSibling;return;case o:return t.push(" ",e.name,'="',e.value.replace(/[<&"]/g,A),'"');case s:return t.push(e.data.replace(/[<&]/g,A));case c:return t.push("<![CDATA[",e.data,"]]>");case p:return t.push("\x3c!--",e.data,"--\x3e");case h:var C=e.publicId,k=e.systemId;if(t.push("<!DOCTYPE ",e.name),C)t.push(' PUBLIC "',C),k&&"."!=k&&t.push('" "',k),t.push('">');else if(k&&"."!=k)t.push(' SYSTEM "',k,'">');else{var N=e.internalSubset;N&&t.push(" [",N,"]"),t.push(">")}return;case d:return t.push("<?",e.target," ",e.data,"?>");case u:return t.push("&",e.nodeName,";");default:t.push("??",e.nodeName)}}function te(e,t,n){var r;switch(t.nodeType){case a:(r=t.cloneNode(!1)).ownerDocument=e;case m:break;case o:n=!0}if(r||(r=t.cloneNode(!1)),r.ownerDocument=e,r.parentNode=null,n)for(var i=t.firstChild;i;)r.appendChild(te(e,i,n)),i=i.nextSibling;return r}function ne(e,t,n){var r=new t.constructor;for(var i in t){var s=t[i];"object"!=typeof s&&s!=r[i]&&(r[i]=s)}switch(t.childNodes&&(r.childNodes=new w),r.ownerDocument=e,r.nodeType){case a:var c=t.attributes,u=r.attributes=new N,l=c.length;u._ownerElement=r;for(var d=0;d<l;d++)r.setAttributeNode(ne(e,c.item(d),!0));break;case o:n=!0}if(n)for(var p=t.firstChild;p;)r.appendChild(ne(e,p,n)),p=p.nextSibling;return r}function re(e,t,n){e[t]=n}O.prototype=Error.prototype,n(b,O),w.prototype={length:0,item:function(e){return this[e]||null},toString:function(e,t){for(var n=[],r=0;r<this.length;r++)ee(this[r],n,e,t);return n.join("")}},C.prototype.item=function(e){return k(this),this[e]},r(C,w),N.prototype={length:0,item:w.prototype.item,getNamedItem:function(e){for(var t=this.length;t--;){var n=this[t];if(n.nodeName==e)return n}},setNamedItem:function(e){var t=e.ownerElement;if(t&&t!=this._ownerElement)throw new O(x);var n=this.getNamedItem(e.nodeName);return _(this._ownerElement,this,e,n),n},setNamedItemNS:function(e){var t,n=e.ownerElement;if(n&&n!=this._ownerElement)throw new O(x);return t=this.getNamedItemNS(e.namespaceURI,e.localName),_(this._ownerElement,this,e,t),t},removeNamedItem:function(e){var t=this.getNamedItem(e);return P(this._ownerElement,this,t),t},removeNamedItemNS:function(e,t){var n=this.getNamedItemNS(e,t);return P(this._ownerElement,this,n),n},getNamedItemNS:function(e,t){for(var n=this.length;n--;){var r=this[n];if(r.localName==t&&r.namespaceURI==e)return r}return null}},S.prototype={hasFeature:function(e,t){var n=this._features[e.toLowerCase()];return!(!n||t&&!(t in n))},createDocument:function(e,t,n){var r=new R;if(r.implementation=this,r.childNodes=new w,r.doctype=n,n&&r.appendChild(n),t){var i=r.createElementNS(e,t);r.appendChild(i)}return r},createDocumentType:function(e,t,n){var r=new X;return r.name=e,r.nodeName=e,r.publicId=t,r.systemId=n,r}},E.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(e,t){return B(this,e,t)},replaceChild:function(e,t){this.insertBefore(e,t),t&&this.removeChild(t)},removeChild:function(e){return M(this,e)},appendChild:function(e){return this.insertBefore(e,null)},hasChildNodes:function(){return null!=this.firstChild},cloneNode:function(e){return ne(this.ownerDocument||this,this,e)},normalize:function(){for(var e=this.firstChild;e;){var t=e.nextSibling;t&&t.nodeType==s&&e.nodeType==s?(this.removeChild(t),e.appendData(t.data)):(e.normalize(),e=t)}},isSupported:function(e,t){return this.ownerDocument.implementation.hasFeature(e,t)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(e){for(var t=this;t;){var n=t._nsMap;if(n)for(var r in n)if(n[r]==e)return r;t=t.nodeType==o?t.ownerDocument:t.parentNode}return null},lookupNamespaceURI:function(e){for(var t=this;t;){var n=t._nsMap;if(n&&e in n)return n[e];t=t.nodeType==o?t.ownerDocument:t.parentNode}return null},isDefaultNamespace:function(e){return null==this.lookupPrefix(e)}},n(i,E),n(i,E.prototype),R.prototype={nodeName:"#document",nodeType:f,doctype:null,documentElement:null,_inc:1,insertBefore:function(e,t){if(e.nodeType==m){for(var n=e.firstChild;n;){var r=n.nextSibling;this.insertBefore(n,t),n=r}return e}return null==this.documentElement&&e.nodeType==a&&(this.documentElement=e),B(this,e,t),e.ownerDocument=this,e},removeChild:function(e){return this.documentElement==e&&(this.documentElement=null),M(this,e)},importNode:function(e,t){return te(this,e,t)},getElementById:function(e){var t=null;return I(this.documentElement,(function(n){if(n.nodeType==a&&n.getAttribute("id")==e)return t=n,!0})),t},createElement:function(e){var t=new U;return t.ownerDocument=this,t.nodeName=e,t.tagName=e,t.childNodes=new w,(t.attributes=new N)._ownerElement=t,t},createDocumentFragment:function(){var e=new G;return e.ownerDocument=this,e.childNodes=new w,e},createTextNode:function(e){var t=new q;return t.ownerDocument=this,t.appendData(e),t},createComment:function(e){var t=new z;return t.ownerDocument=this,t.appendData(e),t},createCDATASection:function(e){var t=new V;return t.ownerDocument=this,t.appendData(e),t},createProcessingInstruction:function(e,t){var n=new J;return n.ownerDocument=this,n.tagName=n.target=e,n.nodeValue=n.data=t,n},createAttribute:function(e){var t=new F;return t.ownerDocument=this,t.name=e,t.nodeName=e,t.localName=e,t.specified=!0,t},createEntityReference:function(e){var t=new Q;return t.ownerDocument=this,t.nodeName=e,t},createElementNS:function(e,t){var n=new U,r=t.split(":"),i=n.attributes=new N;return n.childNodes=new w,n.ownerDocument=this,n.nodeName=t,n.tagName=t,n.namespaceURI=e,2==r.length?(n.prefix=r[0],n.localName=r[1]):n.localName=t,i._ownerElement=n,n},createAttributeNS:function(e,t){var n=new F,r=t.split(":");return n.ownerDocument=this,n.nodeName=t,n.name=t,n.namespaceURI=e,n.specified=!0,2==r.length?(n.prefix=r[0],n.localName=r[1]):n.localName=t,n}},r(R,E),U.prototype={nodeType:a,hasAttribute:function(e){return null!=this.getAttributeNode(e)},getAttribute:function(e){var t=this.getAttributeNode(e);return t&&t.value||""},getAttributeNode:function(e){return this.attributes.getNamedItem(e)},setAttribute:function(e,t){var n=this.ownerDocument.createAttribute(e);n.value=n.nodeValue=""+t,this.setAttributeNode(n)},removeAttribute:function(e){var t=this.getAttributeNode(e);t&&this.removeAttributeNode(t)},appendChild:function(e){return e.nodeType===m?this.insertBefore(e,null):function(e,t){var n=t.parentNode;if(n){var r=e.lastChild;n.removeChild(t),r=e.lastChild}return r=e.lastChild,t.parentNode=e,t.previousSibling=r,t.nextSibling=null,r?r.nextSibling=t:e.firstChild=t,e.lastChild=t,L(e.ownerDocument,e,t),t}(this,e)},setAttributeNode:function(e){return this.attributes.setNamedItem(e)},setAttributeNodeNS:function(e){return this.attributes.setNamedItemNS(e)},removeAttributeNode:function(e){return this.attributes.removeNamedItem(e.nodeName)},removeAttributeNS:function(e,t){var n=this.getAttributeNodeNS(e,t);n&&this.removeAttributeNode(n)},hasAttributeNS:function(e,t){return null!=this.getAttributeNodeNS(e,t)},getAttributeNS:function(e,t){var n=this.getAttributeNodeNS(e,t);return n&&n.value||""},setAttributeNS:function(e,t,n){var r=this.ownerDocument.createAttributeNS(e,t);r.value=r.nodeValue=""+n,this.setAttributeNode(r)},getAttributeNodeNS:function(e,t){return this.attributes.getNamedItemNS(e,t)},getElementsByTagName:function(e){return new C(this,(function(t){var n=[];return I(t,(function(r){r===t||r.nodeType!=a||"*"!==e&&r.tagName!=e||n.push(r)})),n}))},getElementsByTagNameNS:function(e,t){return new C(this,(function(n){var r=[];return I(n,(function(i){i===n||i.nodeType!==a||"*"!==e&&i.namespaceURI!==e||"*"!==t&&i.localName!=t||r.push(i)})),r}))}},R.prototype.getElementsByTagName=U.prototype.getElementsByTagName,R.prototype.getElementsByTagNameNS=U.prototype.getElementsByTagNameNS,r(U,E),F.prototype.nodeType=o,r(F,E),W.prototype={data:"",substringData:function(e,t){return this.data.substring(e,e+t)},appendData:function(e){e=this.data+e,this.nodeValue=this.data=e,this.length=e.length},insertData:function(e,t){this.replaceData(e,0,t)},appendChild:function(e){throw new Error(y[g])},deleteData:function(e,t){this.replaceData(e,t,"")},replaceData:function(e,t,n){n=this.data.substring(0,e)+n+this.data.substring(e+t),this.nodeValue=this.data=n,this.length=n.length}},r(W,E),q.prototype={nodeName:"#text",nodeType:s,splitText:function(e){var t=this.data,n=t.substring(e);t=t.substring(0,e),this.data=this.nodeValue=t,this.length=t.length;var r=this.ownerDocument.createTextNode(n);return this.parentNode&&this.parentNode.insertBefore(r,this.nextSibling),r}},r(q,W),z.prototype={nodeName:"#comment",nodeType:p},r(z,W),V.prototype={nodeName:"#cdata-section",nodeType:c},r(V,W),X.prototype.nodeType=h,r(X,E),H.prototype.nodeType=v,r(H,E),Y.prototype.nodeType=l,r(Y,E),Q.prototype.nodeType=u,r(Q,E),G.prototype.nodeName="#document-fragment",G.prototype.nodeType=m,r(G,E),J.prototype.nodeType=d,r(J,E),K.prototype.serializeToString=function(e,t,n){return Z.call(e,t,n)},E.prototype.toString=Z;try{if(Object.defineProperty){function ie(e){switch(e.nodeType){case a:case m:var t=[];for(e=e.firstChild;e;)7!==e.nodeType&&8!==e.nodeType&&t.push(ie(e)),e=e.nextSibling;return t.join("");default:return e.nodeValue}}Object.defineProperty(C.prototype,"length",{get:function(){return k(this),this.$$length}}),Object.defineProperty(E.prototype,"textContent",{get:function(){return ie(this)},set:function(e){switch(this.nodeType){case a:case m:for(;this.firstChild;)this.removeChild(this.firstChild);(e||String(e))&&this.appendChild(this.ownerDocument.createTextNode(e));break;default:this.data=e,this.value=e,this.nodeValue=e}}}),re=function(e,t,n){e["$$"+t]=n}}}catch(ae){}t.DOMImplementation=S,t.XMLSerializer=K},dOgj:function(e,t,n){"use strict";var r=n("I+eb"),i=n("2oRo"),a=n("g6v/"),o=n("iqeF"),s=n("67WC"),c=n("Yhre"),u=n("GarU"),l=n("XGwC"),d=n("kRJp"),p=n("UMSQ"),f=n("CyXQ"),h=n("GC2F"),m=n("wE6v"),v=n("UTVS"),b=n("9d/t"),y=n("hh1v"),g=n("fHMY"),j=n("0rvr"),x=n("JBy8").f,O=n("oHi+"),w=n("tycR").forEach,C=n("JiZb"),k=n("m/L8"),N=n("Bs8V"),T=n("afO8"),_=n("cVYH"),P=T.get,S=T.set,E=k.f,A=N.f,I=Math.round,R=i.RangeError,D=c.ArrayBuffer,L=c.DataView,M=s.NATIVE_ARRAY_BUFFER_VIEWS,B=s.TYPED_ARRAY_TAG,U=s.TypedArray,F=s.TypedArrayPrototype,W=s.aTypedArrayConstructor,q=s.isTypedArray,z="BYTES_PER_ELEMENT",V="Wrong length",X=function(e,t){for(var n=0,r=t.length,i=new(W(e))(r);r>n;)i[n]=t[n++];return i},H=function(e,t){E(e,t,{get:function(){return P(this)[t]}})},Y=function(e){var t;return e instanceof D||"ArrayBuffer"==(t=b(e))||"SharedArrayBuffer"==t},Q=function(e,t){return q(e)&&"symbol"!=typeof t&&t in e&&String(+t)==String(t)},G=function(e,t){return Q(e,t=m(t,!0))?l(2,e[t]):A(e,t)},J=function(e,t,n){return!(Q(e,t=m(t,!0))&&y(n)&&v(n,"value"))||v(n,"get")||v(n,"set")||n.configurable||v(n,"writable")&&!n.writable||v(n,"enumerable")&&!n.enumerable?E(e,t,n):(e[t]=n.value,e)};a?(M||(N.f=G,k.f=J,H(F,"buffer"),H(F,"byteOffset"),H(F,"byteLength"),H(F,"length")),r({target:"Object",stat:!0,forced:!M},{getOwnPropertyDescriptor:G,defineProperty:J}),e.exports=function(e,t,n){var a=e.match(/\d+$/)[0]/8,s=e+(n?"Clamped":"")+"Array",c="get"+e,l="set"+e,m=i[s],v=m,b=v&&v.prototype,k={},N=function(e,t){E(e,t,{get:function(){return function(e,t){var n=P(e);return n.view[c](t*a+n.byteOffset,!0)}(this,t)},set:function(e){return function(e,t,r){var i=P(e);n&&(r=(r=I(r))<0?0:r>255?255:255&r),i.view[l](t*a+i.byteOffset,r,!0)}(this,t,e)},enumerable:!0})};M?o&&(v=t((function(e,t,n,r){return u(e,v,s),_(y(t)?Y(t)?void 0!==r?new m(t,h(n,a),r):void 0!==n?new m(t,h(n,a)):new m(t):q(t)?X(v,t):O.call(v,t):new m(f(t)),e,v)})),j&&j(v,U),w(x(m),(function(e){e in v||d(v,e,m[e])})),v.prototype=b):(v=t((function(e,t,n,r){u(e,v,s);var i,o,c,l=0,d=0;if(y(t)){if(!Y(t))return q(t)?X(v,t):O.call(v,t);i=t,d=h(n,a);var m=t.byteLength;if(void 0===r){if(m%a)throw R(V);if((o=m-d)<0)throw R(V)}else if((o=p(r)*a)+d>m)throw R(V);c=o/a}else c=f(t),i=new D(o=c*a);for(S(e,{buffer:i,byteOffset:d,byteLength:o,length:c,view:new L(i)});l<c;)N(e,l++)})),j&&j(v,U),b=v.prototype=g(F)),b.constructor!==v&&d(b,"constructor",v),B&&d(b,B,s),k[s]=v,r({global:!0,forced:v!=m,sham:!M},k),z in v||d(v,z,a),z in b||d(b,z,a),C(s)}):e.exports=function(){}},dQ0f:function(e,t,n){"use strict";n("R5XZ");t.a=function(e,t){var n=null;return function(){var r=arguments,i=this;n||(n=setTimeout((function(){e.apply(i,r),n=null}),t))}}},dhkc:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RadioViewAdapter=void 0;t.RadioViewAdapter=function(){return n("4zmG").RadioWebLayout}},dkxo:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e instanceof Uint8Array?e:new Uint8Array(e&&e.buffer||e,e&&e.byteOffset||0,e&&e.byteLength||0)},i=function(e){if(!e)return"";e=Array.prototype.slice.call(e);var t=String.fromCharCode.apply(null,r(e));try{return decodeURIComponent(escape(t))}catch(n){}return t},a=function(e,t){void 0===t&&(t=0);var n=(e=r(e))[t+6]<<21|e[t+7]<<14|e[t+8]<<7|e[t+9];return(16&e[t+5])>>4?n+20:n+10},o=function e(t,n){return void 0===n&&(n=0),(t=r(t)).length-n<10||"ID3"!==i(t.subarray(n,n+3))?n:e(t,n+=a(t,n))},s={aac:function(e){var t=o(e);return e.length>=t+2&&255===(255&e[t])&&224===(224&e[t+1])&&16===(22&e[t+1])},mp3:function(e){var t=o(e);return e.length>=t+2&&255===(255&e[t])&&224===(224&e[t+1])&&2===(6&e[t+1])},webm:function(e){return e.length>=4&&26===(255&e[0])&&69===(255&e[1])&&223===(255&e[2])&&163===(255&e[3])},mp4:function(e){return e.length>=8&&/^(f|s)typ$/.test(i(e.subarray(4,8)))&&!/^ftyp3g$/.test(i(e.subarray(4,10)))},"3gp":function(e){return e.length>=10&&/^ftyp3g$/.test(i(e.subarray(4,10)))},ts:function(e){if(e.length<189&&e.length>=1)return 71===e[0];for(var t=0;t+188<e.length&&t<188;){if(71===e[t]&&71===e[t+188])return!0;t+=1}return!1},flac:function(e){return e.length>=4&&/^fLaC$/.test(i(e.subarray(0,4)))},ogg:function(e){return e.length>=4&&/^OggS$/.test(i(e.subarray(0,4)))}},c=Object.keys(s).filter((function(e){return"ts"!==e})).concat("ts");c.forEach((function(e){var t=s[e];s[e]=function(e){return t(r(e))}}));t.detectContainerForBytes=function(e){e=r(e);for(var t=0;t<c.length;t++){var n=c[t];if(s[n](e))return n}return""},t.getId3Offset=o,t.id3Size=a,t.isLikely=s,t.isLikelyFmp4MediaSegment=function(e){e=r(e);for(var t=0;t<e.length;){var n=(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0;if("moof"===i(e.subarray(t+4,t+8)))return!0;0===n||n+t>e.length?t=e.length:t+=n}return!1}},eCtc:function(e,t,n){"use strict";var r=n("TqRt");n("ma9I"),n("pjDv"),n("4mDm"),n("sMBO"),n("07d7"),n("YGK4"),n("PKPk"),n("3bBZ"),Object.defineProperty(t,"__esModule",{value:!0}),t.CheckboxGroup=function(e){var t=e.value,n=e.defaultValue,r=void 0===n?[]:n,a=e.onChange,f=void 0===a?u.noop:a,m=e.disabled,v=void 0!==m&&m,b=e.type,y=e.block,g=e.className,j=e.style,x=e.children,O=(0,l.useDefault)(t,r,f),w=(0,o.default)(O,2),C=w[0],k=w[1],N=new Set(C||[]);(0,p.useReport)({componentName:"checkboxGroup"});var T={inject:function(e){if(e.radio)return e;if("boolean"===typeof e.checked)return e;var t=e.name;return"undefined"===typeof t?(console.warn('<Checkbox> managed by <CheckboxGroup> must include the "name" prop'),e):h(h({},e),{},{type:b,block:y,checked:N.has(t),disabled:e.disabled||v,onChange:function(n,r){if("function"!==typeof e.onChange){if("function"===typeof k){var a=n?[].concat((0,i.default)(C),[t]):(N.delete(t),Array.from(N));k(a,r)}}else e.onChange(n,r)}})}};return s.default.createElement("div",{className:(0,c.default)("tea-checkbox-group",g,{"tea-checkbox-group--outline":"button"===b}),style:j},s.default.createElement(d.CheckContext.Provider,{value:T},x))};var i=r(n("RIqP")),a=r(n("lSNA")),o=r(n("J4zp")),s=r(n("q1tI")),c=r(n("TSYQ")),u=n("AItd"),l=n("0UJW"),d=n("uafh"),p=n("KxVQ");function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){(0,a.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}},eHcb:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));n("4mDm"),n("07d7"),n("5s+n"),n("PKPk"),n("3bBZ"),n("Kz25");var r=n("b0Xh"),i=n.n(r),a=n("9Xmw");function o(e){return new Promise((function(t){try{var n=new Image;n.src=window.URL.createObjectURL(e),n.onerror=function(){return t(e)},n.onload=function(){Object(a.a)().then((function(r){i.a.getData(n,(function(){var a=i.a.getTag(this,"Orientation");if(3!==a&&6!==a&&8!==a)return t(e);var o=document.createElement("canvas"),s=o.getContext("2d");switch(a){case 3:o.width=n.width,o.height=n.height,s.rotate(180*Math.PI/180),s.drawImage(n,-n.width,-n.height,n.width,n.height);break;case 6:r?(o.height=n.height,o.width=n.width,s.drawImage(n,0,0)):(o.width=n.height,o.height=n.width,s.rotate(90*Math.PI/180),s.drawImage(n,0,-n.height,n.width,n.height));break;case 8:o.width=n.height,o.height=n.width,s.rotate(-90*Math.PI/180),s.drawImage(n,-n.width,0,n.width,n.height)}o.toBlob((function(e){return t(e)}),"image/jpeg",.92)}))}))}}catch(r){console.error(r),t(e)}}))}},eUBB:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WebAdapter=void 0;t.WebAdapter={}},emxO:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));n("oVuX");var r=n("lSNA"),i=n.n(r),a=n("nKUr"),o=n("QILm"),s=n.n(o),c=(n("q1tI"),n("lT1C")),u=n("uPFr"),l=n("StJS");function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){var t=e.onChange,n=e.onComplete,r=e.fileList,o=e.className,p=s()(e,["onChange","onComplete","fileList","className"]),f={type:u.d.image};return Object(a.jsx)(c.a,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({className:"dzq-post-image-upload ".concat(o),listType:"card",btnText:"\u4e0a\u4f20\u56fe\u7247",data:f,limit:9,wxChooseImage:l.a,accept:u.b.join(","),onChange:t,onComplete:n,fileList:r},p))}},"f+Ey":function(e,t){e.exports={toUnsigned:function(e){return e>>>0},toHexString:function(e){return("00"+e.toString(16)).slice(-2)}}},f3qo:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.viewAdapter=void 0;var r=(0,n("1d9p").baseLayoutFactory)({layoutImplement:function(){return n("S1Q7").WebLayout}});t.viewAdapter=r},f5Uc:function(e,t,n){"use strict";n("ma9I"),n("2B1R"),n("tkto"),n("B6y2"),n("4l63"),n("rB9j"),n("UxlC");var r=n("nKUr"),i=n("o0o1"),a=n.n(i),o=(n("ls82"),n("yXPU")),s=n.n(o),c=n("J4zp"),u=n.n(c),l=n("q1tI"),d=n("yuBF"),p=n("20a2"),f={container:"_2rdvYQB1sIop8BZp_xXbST",header:"_8c4LNptmvU-ilUq6iccHD","header-right":"_1j8FfRpMAOHDHhR3YLF7Tt","header-right__text":"PdoXwxYRiW2yYS1xiSqG7","header-left":"_1XLcsFTyuOm3RD8wivdy5c",content:"_25EZtUIMOnWpwZwtNdd84M",foldbtn:"ZffJjpOdbgSxPGpQ1RmsV",expandbtn:"_351Ez8h7RZviJo72URH0OK","fold-expand":"_2vCms4LEvaA6IQxqoPQBO1","result-item__header":"_1rlYtQ_HdvG26_ZkMAssBj","item-header-left":"_1L-V2G0sAoMBxbe4JpUB_l","item-header-right":"_2b-2S_aD-d-Jtyl3MTjjwP",primaryText:"_3MCqLcKocLwompbdy4qxQu",disabledbtn:"Y0mrZJ5dnQJuKCIKvMdRq",footer:"_33qXW18Fw_95ImVksLJx3-",left:"jmBb07F-m-xG6XDirLbnF","left-type":"_6RJtZo4I9uFFtijcOwq1j","left-time":"EqvpzeJxzI864FAaonPu9","time-primary":"_1QxwfTxGPLYxQNLKbZFzDa",vote:"_1ESd0GDvHcPLwNTiGA7TSs"},h=n("V+Sr"),m=n.n(h),v=n("5f2u"),b=n.n(v),y=n("MCNy"),g=n.n(y),j=n("BGqZ"),x=n.n(j),O=n("9p2j"),w=n.n(O),C=n("wdT/"),k=n.n(C),N=n("8PLW"),T=n("TibX"),_=n("lN2P"),P=2;t.a=Object(d.inject)("thread","index","user")(Object(d.observer)(Object(p.withRouter)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.voteData,n=e.threadId,i=e.page,o="detail"===i,c=Object(l.useState)(o),d=c[0],p=c[1],h=u()(t,1),v=h[0],y=v.choiceType,j=v.voteTitle,O=void 0===j?"":j,C=v.subitems,S=void 0===C?[]:C,E=v.voteUsers,A=v.isExpired,I=v.isVoted,R=v.expiredAt,D=void 0===R?"":R,L=v.voteId;if(!O)return null;var M=A||I,B=y===P,U=B?"\u591a\u9009":"\u5355\u9009",F=B?m.a:x.a,W=null,q=Object(l.useState)(0),z=q[0],V=q[1],X=Object(l.useState)(0),H=X[0],Y=X[1],Q=Object(l.useState)(0),G=Q[0],J=Q[1],K=Object(l.useState)([]),Z=K[0],$=K[1];Object(l.useEffect)((function(){return W||(W=new N.a),function(){W.stop()}}),[]),Object(l.useEffect)((function(){if(W){var e=D.replace(/-/g,"/");W.start(e,(function(e){var t=e.days,n=e.hours,r=e.minutes;V(t),Y(n),J(r)}))}}),[D]);var ee=Object(T.a)(s()(a.a.mark((function t(){var r,i,o,s,c,l,d,p,f,h,m,v,b,y,g,j,x,O;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.thread,i=e.user,o=e.index,i.isLogin()){t.next=4;break}return _.a.saveAndLogin(),t.abrupt("return");case 4:if(!(Z.length<=0)){t.next=7;break}return k.a.info({content:"\u8bf7\u5148\u9009\u62e9\u6295\u7968\u9009\u9879"}),t.abrupt("return");case 7:return s={threadId:n,vote:{id:L,subitemIds:Z}},t.next=10,r.createVote(s);case 10:if(c=t.sent,l=c.success,d=c.data,p=void 0===d?{}:d,f=c.msg,l){t.next=16;break}k.a.info({content:f}),t.next=28;break;case 16:return k.a.info({content:"\u6295\u7968\u6210\u529f"}),h=Object.keys(p),m=u()(h,1),v=m[0],b=Object.values(p),y=u()(b,1),g=y[0],r.updateThread(v,g),o.updateListThreadIndexes(n,v,g),t.next=23,e.thread.fetchThreadDetail(n);case 23:j=t.sent,j.code,x=j.data,O=e.recomputeRowHeights,(void 0===O?function(){}:O)(x);case 28:case"end":return t.stop()}}),t)}))),1e3),te=function(){n&&!o&&e.router.push("/thread/".concat(n))};return Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)("div",{className:f.container,children:[Object(r.jsxs)("div",{className:f.header,onClick:te,children:[Object(r.jsxs)("div",{className:f["header-right"],children:[O,M&&Object(r.jsxs)("span",{className:f["header-right__text"],children:["\uff08",U,"\uff09"]})]}),!M&&Object(r.jsxs)("div",{className:f["header-left"],children:[E,"\u4eba\u53c2\u4e0e"]})]}),!M&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)(F.Group,{className:"".concat(f.content," ").concat(f.foldexpend),onChange:function(e){$(B?e:[e])},children:[S.map((function(e,t){return!d&&t<5||d?Object(r.jsx)(F,{name:e.id,children:e.content},t):null})),(null===S||void 0===S?void 0:S.length)>5&&!o&&Object(r.jsxs)(b.a,{full:!0,type:"primary",className:d?f.expandbtn:f.foldbtn,onClick:function(){return p(!d)},children:[Object(r.jsxs)("span",{className:f["fold-expand"],children:[d?"\u6536\u8d77":"\u5c55\u5f00","\u6295\u7968"]}),Object(r.jsx)(g.a,{name:"RightOutlined",size:"10"})]})]}),Object(r.jsxs)("div",{className:f.footer,children:[Object(r.jsxs)("div",{className:f.left,onClick:te,children:[Object(r.jsx)("div",{className:f["left-type"],children:U}),Object(r.jsxs)("div",{className:f["left-time"],children:["\u8ddd\u7ed3\u675f \uff1a",Object(r.jsx)("span",{className:f["time-primary"],children:z}),"\u5929",Object(r.jsx)("span",{className:f["time-primary"],children:H}),"\u5c0f\u65f6",Object(r.jsx)("span",{className:f["time-primary"],children:G}),"\u5206"]})]}),Object(r.jsx)(b.a,{type:"primary",className:f.vote,onClick:ee,children:"\u6295\u7968"})]})]}),M&&Object(r.jsxs)("div",{className:f.content,onClick:te,children:[S.map((function(e,t){if(!d&&t<5||d){var n=parseInt(e.voteRate,10)>100?100:parseInt(e.voteRate,10);return Object(r.jsxs)("div",{className:f["result-item"],children:[Object(r.jsxs)("div",{className:f["result-item__header"],children:[Object(r.jsxs)("div",{className:f["item-header-left"],children:[e.content,e.isVoted&&Object(r.jsx)("span",{className:f.primaryText,children:"\uff08\u5df2\u9009\uff09"})]}),Object(r.jsxs)("div",{className:f["item-header-right"],children:[e.voteCount||0,"\u7968",Object(r.jsx)("span",{style:{marginLeft:"8px"},children:e.voteRate})]})]}),Object(r.jsx)(w.a,{percent:n})]},t)}return null})),(null===S||void 0===S?void 0:S.length)>5&&!o&&Object(r.jsxs)(b.a,{full:!0,type:"primary",className:d?f.expandbtn:f.foldbtn,onClick:function(e){e.stopPropagation(),p(!d)},children:[Object(r.jsx)("span",{className:f["fold-expand"],children:d?"\u6536\u8d77":"\u5c55\u5f00"}),Object(r.jsx)(g.a,{name:"RightOutlined",size:"10"})]}),Object(r.jsxs)(b.a,{full:!0,disabled:!0,type:"primary",className:f.disabledbtn,children:[A?"\u6295\u7968\u5df2\u7ed3\u675f":"\u4f60\u5df2\u6295\u7968","\uff08",E,"\u4eba\u53c2\u4e0e\u6295\u7968\uff09"]})]})]})})}))))},fEx9:function(e,t,n){"use strict";n("ma9I"),n("TeQF"),n("2B1R"),n("E9XD"),n("TWNs"),n("rB9j"),n("JfAA"),n("UxlC");var r=n("nKUr"),i=n("q1tI"),a=n.n(i),o=n("WAV8"),s=n("Bvw4"),c=n("MCNy"),u=n.n(c),l=n("TibX"),d=n("z6Ap"),p="_2edORIWmLGbibdEURQ7KDf",f="_3N5M7Tn4qd1j65lHA9txix",h="_2Y8eIEyWdTQnkjmafWfeL_",m="_27YBi6XVztAS54oJ0Jj366",v="_37fi-d2oxv86CpesqB_d2j",b="_1mAn29ZM3jKYctyu9kT8Hm",y="_8g6yLv0bOVjq80Te-1vYg",g="_21YW72xw0GrOVRez2IJJQV",j="_17snR7WCVCLXN7qHtZnFFW",x="_3XTnjnJHehdBrfZzmoM_PY",O="_1muU31xuskR0q5d0fZsfM2",w="_3T6dO78HpVykke84FTwS_g",C="MBn4HSWawbPwVKjX4A1Fh",k="p1AKIYwsbCAUuXnHAKtri",N="_3blNWhM1AoSCJU8DOxksUi",T=function(e){var t=e.imgs,n=void 0===t?[]:t,a=e.tipData,c=void 0===a?{}:a,T=e.wholeNum,_=void 0===T?1:T,P=e.showMore,S=void 0!==P&&P,E=e.showCount,A=void 0===E?5:E,I=e.platform,R=void 0===I?"h5":I,D=e.updateViewCount,L=void 0===D?d.e:D,M=Object(i.useState)(!1),B=M[0],U=M[1],F=Object(l.a)((function(e){e.stopPropagation(),L(),U(!0)}),200),W=Object(i.useMemo)((function(){var e={};return n.reduce((function(t,n){return e[n.userId]||(t.push(n),e[n.userId]=1),t}),[])}),[n]),q=Object(i.useMemo)((function(){var e=W.length;return{width:"".concat(16*e+4*(e+1),"px")}}),[W]),z=[f,h,m,v,b,y,g,j,x,O];return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)("div",{className:"".concat(p," ").concat("pc"===R?k:N),onClick:F,style:q,children:[0!==_&&(null===W||void 0===W?void 0:W.filter((function(e,t){return t<A})).map((function(e,t){return Object(r.jsx)("div",{className:z[t],children:Object(r.jsx)(s.a,{image:e.avatar,name:e.nickname,size:"small"})},t)}))),S&&(null===W||void 0===W?void 0:W.length)>A&&Object(r.jsx)("div",{className:w,size:20,children:Object(r.jsx)(u.a,{name:"MoreBOutlined",className:C,size:12})})]}),B&&Object(r.jsx)(o.a,{tipData:c,visible:B,onHidden:function(){document.body.className=document.body.className.replace(new RegExp("(\\s|^)modal-open(\\s|$)")," "),U(!1)}})]})};t.a=a.a.memo(T)},fhKU:function(e,t,n){var r=n("2oRo"),i=n("WKiH").trim,a=n("WJkJ"),o=r.parseFloat,s=1/o(a+"-0")!==-1/0;e.exports=s?function(e){var t=i(String(e)),n=o(t);return 0===n&&"-"==t.charAt(0)?-0:n}:o},fkjL:function(e,t,n){"use strict";n("07d7"),n("5s+n");var r=n("u/Lb");t.a=function(e,t){var n=e.threadId,i=e.userId,a=e.title,o=(e.group,e.payType),s=e.price,c=e.attachmentPrice,u=e.paid;if(0===o||null===u||!0===u)return Promise.resolve({success:!0});var l={threadId:n,payeeId:i,redAmount:0,rewardAmount:0,isAnonymous:0};return 1===o&&(l.type=3,l.amount=s,l.title=a||"\u4ed8\u8d39\u4e3b\u9898"),2===o&&(l.type=7,l.amount=c,l.title=a||"\u90e8\u5206\u4ed8\u8d39"),new Promise((function(e,t){r.a.createPayBox({data:l,currentPage:{type:1,threadId:n},success:function(t){e({success:!0,data:t})},failed:function(t){e({success:!1,data:t})}})})).catch((function(e){console.log(e)}))}},g2LC:function(e,t){e.exports=function(e){if(!e)return!1;var t=n.call(e);return"[object Function]"===t||"function"===typeof e&&"[object RegExp]"!==t||"undefined"!==typeof window&&(e===window.setTimeout||e===window.alert||e===window.confirm||e===window.prompt)};var n=Object.prototype.toString},g2Pl:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("q1tI")),a=n("VTYn"),o=function(e){var t=e.leftChildren,n=e.rightChildren,r=e.bottomChildren,o=(0,a.useConfig)().clsPrefix;return i.default.createElement("div",{className:"".concat(o,"-audio-player-bg-view")},i.default.createElement("div",{className:"".concat(o,"-audio-player-bg-view-top")},i.default.createElement("div",{className:"".concat(o,"-audio-player-bg-view__left")},t),i.default.createElement("div",{className:"".concat(o,"-audio-player-bg-view__right")},i.default.createElement("div",{className:"".concat(o,"-audio-bg-player-view__right-text")},n))),i.default.createElement("div",{className:"".concat(o,"-audio-player-bg-view-bottom")},i.default.createElement("div",{className:"".concat(o,"-audio-player-bg-view__bottom")},r)))};t.default=o},g8tz:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.readRegisterList=function(){return h.apply(this,arguments)};var i=r(n("o0o1")),a=r(n("lSNA")),o=r(n("QILm"));n("ls82");var s=r(n("yXPU")),c=n("0QFe"),u=r(n("m4Ii")),l=["params","data"];function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){(0,a.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var f={};function h(){return(h=(0,s.default)(i.default.mark((function e(){var t,n,r,a,s,d,h,m,v=arguments;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=v.length>0&&void 0!==v[0]?v[0]:{},e.prev=1,n=t.params,r=void 0===n?{}:n,a=t.data,s=void 0===a?{}:a,d=(0,o.default)(t,l),h=p(p({url:"/plugin/activity/api/register/list",method:"GET",params:r,data:s},d),{},{validateRules:f}),e.next=6,u.default.dispatcher(h);case 6:return m=e.sent,e.abrupt("return",m);case 10:return e.prev=10,e.t0=e.catch(1),e.abrupt("return",(0,c.handleError)(e.t0));case 13:case"end":return e.stop()}}),e,null,[[1,10]])})))).apply(this,arguments)}},gWAJ:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CheckboxViewAdapter=void 0;t.CheckboxViewAdapter=function(){return n("rQI+").CheckboxWebLayout}},gcCN:function(e,t){var n=Math.pow(2,32);e.exports=function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength),r={version:e[0],flags:new Uint8Array(e.subarray(1,4)),references:[],referenceId:t.getUint32(4),timescale:t.getUint32(8)},i=12;0===r.version?(r.earliestPresentationTime=t.getUint32(i),r.firstOffset=t.getUint32(i+4),i+=8):(r.earliestPresentationTime=t.getUint32(i)*n+t.getUint32(i+4),r.firstOffset=t.getUint32(i+8)*n+t.getUint32(i+12),i+=16),i+=2;var a=t.getUint16(i);for(i+=2;a>0;i+=12,a--)r.references.push({referenceType:(128&e[i])>>>7,referencedSize:2147483647&t.getUint32(i),subsegmentDuration:t.getUint32(i+4),startsWithSap:!!(128&e[i+8]),sapType:(112&e[i+8])>>>4,sapDeltaTime:268435455&t.getUint32(i+8)});return r}},gvgV:function(e,t,n){"use strict";var r=n("67WC"),i=n("TWQb").includes,a=r.aTypedArray;(0,r.exportTypedArrayMethod)("includes",(function(e){return i(a(this),e,arguments.length>1?arguments[1]:void 0)}))},gzjk:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProgressViewAdapter=void 0;var r=(0,n("1d9p").baseLayoutFactory)({layoutImplement:function(){return n("oWYc").ProgressWebLayout}});t.ProgressViewAdapter=r},h29V:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("lwsE")),a=r(n("W8MJ")),o=r(n("7W2i")),s=r(n("a1gu")),c=r(n("Nsbk")),u=r(n("lSNA")),l=r(n("q1tI")),d=n("f3qo"),p=n("U5R6"),f=n("GDuN"),h=n("AItd"),m=r(n("KxVQ"));function v(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.default)(e);if(t){var i=(0,c.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,s.default)(this,n)}}var b=function(e){(0,o.default)(n,e);var t=v(n);function n(e){var r;return(0,i.default)(this,n),r=t.call(this,e),(0,m.default)({componentName:"video"}),r}return(0,a.default)(n,[{key:"render",value:function(){var e=this.RenderComponent;return l.default.createElement(e,this.props)}}]),n}((0,f.baseComponentFactory)({viewAdapter:d.viewAdapter,logicalAdapter:p.logicalAdapter}));t.default=b,(0,u.default)(b,"defaultProps",{controls:!0,autoplay:!1,loop:!1,muted:!1,initialTime:0,onReady:h.noop,onPlay:h.noop,onPause:h.noop,onEnded:h.noop,onError:h.noop,onTimeUpdate:h.noop,onFullscreenChange:h.noop,onProgress:h.noop,onLoadedMetaData:h.noop,onWaiting:h.noop,singleton:!0})},hIRe:function(e,t,n){"use strict";n.d(t,"a",(function(){return Z})),n.d(t,"b",(function(){return J})),n.d(t,"c",(function(){return K}));var r=n("X8+f"),i=n.n(r),a=n("vgmO"),o=n.n(a),s=n("hQev"),c=n.n(s),u=n("KdhP"),l=function(e){return!!e&&"object"===typeof e},d=function e(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.reduce((function(t,n){return"object"!==typeof n||Object.keys(n).forEach((function(r){Array.isArray(t[r])&&Array.isArray(n[r])?t[r]=t[r].concat(n[r]):l(t[r])&&l(n[r])?t[r]=e(t[r],n[r]):t[r]=n[r]})),t}),{})},p=function(e){return e.reduce((function(e,t){return e.concat(t)}),[])},f=function(e){if(!e.length)return[];for(var t=[],n=0;n<e.length;n++)t.push(e[n]);return t},h="INVALID_NUMBER_OF_PERIOD",m="DASH_EMPTY_MANIFEST",v="DASH_INVALID_XML",b="NO_BASE_URL",y="SEGMENT_TIME_UNSPECIFIED",g="UNSUPPORTED_UTC_TIMING_SCHEME",j=function(e){var t=e.baseUrl,n=void 0===t?"":t,r=e.source,a=void 0===r?"":r,o=e.range,s=void 0===o?"":o,c=e.indexRange,u=void 0===c?"":c,l={uri:a,resolvedUri:i()(n||"",a)};if(s||u){var d=(s||u).split("-"),p=parseInt(d[0],10),f=parseInt(d[1],10);l.byterange={length:f-p+1,offset:p}}return l},x=function(e){var t=e.offset+e.length-1;return e.offset+"-"+t},O={static:function(e){var t=e.duration,n=e.timescale,r=void 0===n?1:n,i=e.sourceDuration;return{start:0,end:Math.ceil(i/(t/r))}},dynamic:function(e){var t=e.NOW,n=e.clientOffset,r=e.availabilityStartTime,i=e.timescale,a=void 0===i?1:i,o=e.duration,s=e.start,c=void 0===s?0:s,u=e.minimumUpdatePeriod,l=void 0===u?0:u,d=e.timeShiftBufferDepth,p=void 0===d?1/0:d,f=(t+n)/1e3,h=r+c,m=f+l-h,v=Math.ceil(m*a/o),b=Math.floor((f-h-p)*a/o),y=Math.floor((f-h)*a/o);return{start:Math.max(0,b),end:Math.min(v,y)}}},w=function(e){var t=e.type,n=void 0===t?"static":t,r=e.duration,i=e.timescale,a=void 0===i?1:i,o=e.sourceDuration,s=O[n](e),c=function(e,t){for(var n=[],r=e;r<t;r++)n.push(r);return n}(s.start,s.end).map(function(e){return function(t,n){var r=e.duration,i=e.timescale,a=void 0===i?1:i,o=e.periodIndex,s=e.startNumber;return{number:(void 0===s?1:s)+t,duration:r/a,timeline:o,time:n*r}}}(e));if("static"===n){var u=c.length-1;c[u].duration=o-r/a*u}return c},C=function(e){var t=e.baseUrl,n=e.initialization,r=void 0===n?{}:n,i=e.sourceDuration,a=e.indexRange,o=void 0===a?"":a,s=e.duration;if(!t)throw new Error(b);var c=j({baseUrl:t,source:r.sourceURL,range:r.range}),u=j({baseUrl:t,source:t,indexRange:o});if(u.map=c,s){var l=w(e);l.length&&(u.duration=l[0].duration,u.timeline=l[0].timeline)}else i&&(u.duration=i,u.timeline=0);return u.number=0,[u]},k=function(e,t,n){for(var r=e.sidx.map?e.sidx.map:null,i=e.sidx.duration,a=e.timeline||0,o=e.sidx.byterange,s=o.offset+o.length,c=t.timescale,u=t.references.filter((function(e){return 1!==e.referenceType})),l=[],d=s+t.firstOffset,p=0;p<u.length;p++){var f=t.references[p],h=f.referencedSize,m=f.subsegmentDuration,v=C({baseUrl:n,timescale:c,timeline:a,periodIndex:a,duration:m,sourceDuration:i,indexRange:d+"-"+(d+h-1)})[0];r&&(v.map=r),l.push(v),d+=h}return e.segments=l,e},N=function(e){var t;return(t=e.reduce((function(e,t){var n,r=t.attributes.id+(t.attributes.lang||"");return e[r]?(t.segments[0]&&(t.segments[0].discontinuity=!0),(n=e[r].segments).push.apply(n,t.segments),t.attributes.contentProtection&&(e[r].attributes.contentProtection=t.attributes.contentProtection)):e[r]=t,e}),{}),Object.keys(t).map((function(e){return t[e]}))).map((function(e){var t,n;return e.discontinuityStarts=(t=e.segments,n="discontinuity",t.reduce((function(e,t,r){return t[n]&&e.push(r),e}),[])),e}))},T=function(e,t){if(void 0===t&&(t={}),!Object.keys(t).length)return e;for(var n in e){var r=e[n];if(r.sidx){var i=r.sidx.uri+"-"+x(r.sidx.byterange),a=t[i]&&t[i].sidx;r.sidx&&a&&k(r,a,r.sidx.resolvedUri)}}return e},_=function(e){var t,n=e.attributes,r=e.segments,i=e.sidx,a={attributes:(t={NAME:n.id,BANDWIDTH:n.bandwidth,CODECS:n.codecs},t["PROGRAM-ID"]=1,t),uri:"",endList:"static"===(n.type||"static"),timeline:n.periodIndex,resolvedUri:"",targetDuration:n.duration,segments:r,mediaSequence:r.length?r[0].number:1};return n.contentProtection&&(a.contentProtection=n.contentProtection),i&&(a.sidx=i),a},P=function(e){var t,n=e.attributes,r=e.segments;"undefined"===typeof r&&(r=[{uri:n.baseUrl,timeline:n.periodIndex,resolvedUri:n.baseUrl||"",duration:n.sourceDuration,number:0}],n.duration=n.sourceDuration);var i=((t={NAME:n.id,BANDWIDTH:n.bandwidth})["PROGRAM-ID"]=1,t);return n.codecs&&(i.CODECS=n.codecs),{attributes:i,uri:"",endList:"static"===(n.type||"static"),timeline:n.periodIndex,resolvedUri:n.baseUrl||"",targetDuration:n.duration,segments:r,mediaSequence:r.length?r[0].number:1}},S=function(e){var t,n=e.attributes,r=e.segments,i=e.sidx,a={attributes:(t={NAME:n.id,AUDIO:"audio",SUBTITLES:"subs",RESOLUTION:{width:n.width,height:n.height},CODECS:n.codecs,BANDWIDTH:n.bandwidth},t["PROGRAM-ID"]=1,t),uri:"",endList:"static"===(n.type||"static"),timeline:n.periodIndex,resolvedUri:"",targetDuration:n.duration,segments:r,mediaSequence:r.length?r[0].number:1};return n.contentProtection&&(a.contentProtection=n.contentProtection),i&&(a.sidx=i),a},E=function(e,t,n){var r;if(void 0===n&&(n={}),!e.length)return{};var i=e[0].attributes,a=i.sourceDuration,o=i.type,s=void 0===o?"static":o,c=i.suggestedPresentationDelay,u=i.minimumUpdatePeriod,l=N(e.filter((function(e){var t=e.attributes;return"video/mp4"===t.mimeType||"video/webm"===t.mimeType||"video"===t.contentType}))).map(S),d=N(e.filter((function(e){var t=e.attributes;return"audio/mp4"===t.mimeType||"audio/webm"===t.mimeType||"audio"===t.contentType}))),p=e.filter((function(e){var t=e.attributes;return"text/vtt"===t.mimeType||"text"===t.contentType})),f={allowCache:!0,discontinuityStarts:[],segments:[],endList:!0,mediaGroups:(r={AUDIO:{},VIDEO:{}},r["CLOSED-CAPTIONS"]={},r.SUBTITLES={},r),uri:"",duration:a,playlists:T(l,n)};return u>=0&&(f.minimumUpdatePeriod=1e3*u),t&&(f.locations=t),"dynamic"===s&&(f.suggestedPresentationDelay=c),d.length&&(f.mediaGroups.AUDIO.audio=function(e,t){var n;void 0===t&&(t={});var r=e.reduce((function(e,r){var i=r.attributes.role&&r.attributes.role.value||"",a=r.attributes.lang||"",o="main";if(a){var s=i?" ("+i+")":"";o=""+r.attributes.lang+s}return e[o]&&e[o].playlists[0].attributes.BANDWIDTH>r.attributes.bandwidth||(e[o]={language:a,autoselect:!0,default:"main"===i,playlists:T([_(r)],t),uri:""},"undefined"===typeof n&&"main"===i&&((n=r).default=!0)),e}),{});return n||(r[Object.keys(r)[0]].default=!0),r}(d,n)),p.length&&(f.mediaGroups.SUBTITLES.subs=function(e,t){return void 0===t&&(t={}),e.reduce((function(e,n){var r=n.attributes.lang||"text";return e[r]||(e[r]={language:r,default:!1,autoselect:!1,playlists:T([P(n)],t),uri:""}),e}),{})}(p,n)),f},A=function(e,t,n){var r=e.NOW,i=e.clientOffset,a=e.availabilityStartTime,o=e.timescale,s=void 0===o?1:o,c=e.start,u=void 0===c?0:c,l=e.minimumUpdatePeriod,d=(r+i)/1e3+(void 0===l?0:l)-(a+u);return Math.ceil((d*s-t)/n)},I=function(e,t){for(var n=e.type,r=void 0===n?"static":n,i=e.minimumUpdatePeriod,a=void 0===i?0:i,o=e.media,s=void 0===o?"":o,c=e.sourceDuration,u=e.timescale,l=void 0===u?1:u,d=e.startNumber,p=void 0===d?1:d,f=e.periodIndex,h=[],m=-1,v=0;v<t.length;v++){var b=t[v],y=b.d,g=b.r||0,j=b.t||0;m<0&&(m=j),j&&j>m&&(m=j);var x=void 0;if(g<0){var O=v+1;x=O===t.length?"dynamic"===r&&a>0&&s.indexOf("$Number$")>0?A(e,m,y):(c*l-m)/y:(t[O].t-m)/y}else x=g+1;for(var w=p+h.length+x,C=p+h.length;C<w;)h.push({number:C,duration:y/l,time:m,timeline:f}),m+=y,C++}return h},R=/\$([A-z]*)(?:(%0)([0-9]+)d)?\$/g,D=function(e,t){return e.replace(R,function(e){return function(t,n,r,i){if("$$"===t)return"$";if("undefined"===typeof e[n])return t;var a=""+e[n];return"RepresentationID"===n?a:(i=r?parseInt(i,10):1,a.length>=i?a:""+new Array(i-a.length+1).join("0")+a)}}(t))},L=function(e,t){var n={RepresentationID:e.id,Bandwidth:e.bandwidth||0},r=e.initialization,a=void 0===r?{sourceURL:"",range:""}:r,o=j({baseUrl:e.baseUrl,source:D(a.sourceURL,n),range:a.range});return function(e,t){return e.duration||t?e.duration?w(e):I(e,t):[{number:e.startNumber||1,duration:e.sourceDuration,time:0,timeline:e.periodIndex}]}(e,t).map((function(t){n.Number=t.number,n.Time=t.time;var r=D(e.media||"",n);return{uri:r,timeline:t.timeline,duration:t.duration,resolvedUri:i()(e.baseUrl||"",r),map:o,number:t.number}}))},M=function(e,t){var n=e.duration,r=e.segmentUrls,i=void 0===r?[]:r;if(!n&&!t||n&&t)throw new Error(y);var a,o=i.map((function(t){return function(e,t){var n=e.baseUrl,r=e.initialization,i=void 0===r?{}:r,a=j({baseUrl:n,source:i.sourceURL,range:i.range}),o=j({baseUrl:n,source:t.media,range:t.mediaRange});return o.map=a,o}(e,t)}));return n&&(a=w(e)),t&&(a=I(e,t)),a.map((function(e,t){if(o[t]){var n=o[t];return n.timeline=e.timeline,n.duration=e.duration,n.number=e.number,n}})).filter((function(e){return e}))},B=function(e){var t,n,r=e.attributes,i=e.segmentInfo;i.template?(n=L,t=d(r,i.template)):i.base?(n=C,t=d(r,i.base)):i.list&&(n=M,t=d(r,i.list));var a={attributes:r};if(!n)return a;var o=n(t,i.timeline);if(t.duration){var s=t,c=s.duration,u=s.timescale,l=void 0===u?1:u;t.duration=c/l}else o.length?t.duration=o.reduce((function(e,t){return Math.max(e,Math.ceil(t.duration))}),0):t.duration=0;return a.attributes=t,a.segments=o,i.base&&t.indexRange&&(a.sidx=o[0],a.segments=[]),a},U=function(e,t){return f(e.childNodes).filter((function(e){return e.tagName===t}))},F=function(e){return e.textContent.trim()},W=function(e){var t=/P(?:(\d*)Y)?(?:(\d*)M)?(?:(\d*)D)?(?:T(?:(\d*)H)?(?:(\d*)M)?(?:([\d.]*)S)?)?/.exec(e);if(!t)return 0;var n=t.slice(1),r=n[0],i=n[1],a=n[2],o=n[3],s=n[4],c=n[5];return 31536e3*parseFloat(r||0)+2592e3*parseFloat(i||0)+86400*parseFloat(a||0)+3600*parseFloat(o||0)+60*parseFloat(s||0)+parseFloat(c||0)},q={mediaPresentationDuration:function(e){return W(e)},availabilityStartTime:function(e){return/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/.test(t=e)&&(t+="Z"),Date.parse(t)/1e3;var t},minimumUpdatePeriod:function(e){return W(e)},suggestedPresentationDelay:function(e){return W(e)},type:function(e){return e},timeShiftBufferDepth:function(e){return W(e)},start:function(e){return W(e)},width:function(e){return parseInt(e,10)},height:function(e){return parseInt(e,10)},bandwidth:function(e){return parseInt(e,10)},startNumber:function(e){return parseInt(e,10)},timescale:function(e){return parseInt(e,10)},duration:function(e){var t=parseInt(e,10);return isNaN(t)?W(e):t},d:function(e){return parseInt(e,10)},t:function(e){return parseInt(e,10)},r:function(e){return parseInt(e,10)},DEFAULT:function(e){return e}},z=function(e){return e&&e.attributes?f(e.attributes).reduce((function(e,t){var n=q[t.name]||q.DEFAULT;return e[t.name]=n(t.value),e}),{}):{}},V={"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb":"com.adobe.primetime"},X=function(e,t){return t.length?p(e.map((function(e){return t.map((function(t){return i()(e,F(t))}))}))):e},H=function(e){var t=U(e,"SegmentTemplate")[0],n=U(e,"SegmentList")[0],r=n&&U(n,"SegmentURL").map((function(e){return d({tag:"SegmentURL"},z(e))})),i=U(e,"SegmentBase")[0],a=n||t,o=a&&U(a,"SegmentTimeline")[0],s=n||i||t,c=s&&U(s,"Initialization")[0],u=t&&z(t);u&&c?u.initialization=c&&z(c):u&&u.initialization&&(u.initialization={sourceURL:u.initialization});var l={template:u,timeline:o&&U(o,"S").map((function(e){return z(e)})),list:n&&d(z(n),{segmentUrls:r,initialization:z(c)}),base:i&&d(z(i),{initialization:z(c)})};return Object.keys(l).forEach((function(e){l[e]||delete l[e]})),l},Y=function(e,t,n){return function(r){var i=z(r),a=X(t,U(r,"BaseURL")),o=U(r,"Role")[0],s={role:z(o)},u=d(e,i,s),l=U(r,"ContentProtection").reduce((function(e,t){var n=z(t),r=V[n.schemeIdUri];if(r){e[r]={attributes:n};var i=U(t,"cenc:pssh")[0];if(i){var a=F(i),o=a&&c()(a);e[r].pssh=o}}return e}),{});Object.keys(l).length&&(u=d(u,{contentProtection:l}));var f=H(r),h=U(r,"Representation"),m=d(n,f);return p(h.map(function(e,t,n){return function(r){var i=U(r,"BaseURL"),a=X(t,i),o=d(e,z(r)),s=H(r);return a.map((function(e){return{segmentInfo:d(n,s),attributes:d(o,{baseUrl:e})}}))}}(u,a,m)))}},Q=function(e,t){return function(n,r){var i=X(t,U(n,"BaseURL")),a=z(n),s=parseInt(a.id,10),c=o.a.isNaN(s)?r:s,u=d(e,{periodIndex:c}),l=U(n,"AdaptationSet"),f=H(n);return p(l.map(Y(u,i,f)))}},G=function(e){if(""===e)throw new Error(m);var t,n,r=new u.DOMParser;try{n=(t=r.parseFromString(e,"application/xml"))&&"MPD"===t.documentElement.tagName?t.documentElement:null}catch(i){}if(!n||n&&n.getElementsByTagName("parsererror").length>0)throw new Error(v);return n},J=function(e,t){void 0===t&&(t={});var n=function(e,t){void 0===t&&(t={});var n=t,r=n.manifestUri,i=void 0===r?"":r,a=n.NOW,o=void 0===a?Date.now():a,s=n.clientOffset,c=void 0===s?0:s,u=U(e,"Period");if(!u.length)throw new Error(h);var l=U(e,"Location"),d=z(e),f=X([i],U(e,"BaseURL"));return d.sourceDuration=d.mediaPresentationDuration||0,d.NOW=o,d.clientOffset=c,l.length&&(d.locations=l.map(F)),{locations:d.locations,representationInfo:p(u.map(Q(d,f)))}}(G(e),t),r=n.representationInfo.map(B);return E(r,n.locations,t.sidxMapping)},K=function(e){return function(e){var t=U(e,"UTCTiming")[0];if(!t)return null;var n=z(t);switch(n.schemeIdUri){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":n.method="HEAD";break;case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":n.method="GET";break;case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":n.method="DIRECT",n.value=Date.parse(n.value);break;case"urn:mpeg:dash:utc:http-ntp:2014":case"urn:mpeg:dash:utc:ntp:2014":case"urn:mpeg:dash:utc:sntp:2014":default:throw new Error(g)}return n}(G(e))},Z=k},hQev:function(e,t,n){"use strict";(function(t){var r,i=(r=n("vgmO"))&&"object"===typeof r&&"default"in r?r.default:r;e.exports=function(e){for(var n,r=(n=e,i.atob?i.atob(n):t.from(n,"base64").toString("binary")),a=new Uint8Array(r.length),o=0;o<r.length;o++)a[o]=r.charCodeAt(o);return a}}).call(this,n("HDXh").Buffer)},i4aZ:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("pVnL")),a=r(n("lwsE")),o=r(n("W8MJ")),s=r(n("PJYZ")),c=r(n("7W2i")),u=r(n("a1gu")),l=r(n("Nsbk")),d=r(n("lSNA")),p=r(n("q1tI")),f=n("GDuN"),h=n("Hu/N"),m=n("qBge"),v=r(n("mkfw")),b=r(n("KxVQ"));function y(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,l.default)(e);if(t){var i=(0,l.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,u.default)(this,n)}}var g=function(e){(0,c.default)(n,e);var t=y(n);function n(e){var r;return(0,a.default)(this,n),r=t.call(this,e),(0,d.default)((0,s.default)(r),"setChildrenRef",(function(e){r.setState({childrenRef:e})})),(0,d.default)((0,s.default)(r),"getState",(function(){return r.state.childrenRef.state})),(0,b.default)({componentName:"audioPlayer"}),r}return(0,o.default)(n,[{key:"render",value:function(){var e=this.RenderComponent;return p.default.createElement(e,(0,i.default)({ref:this.setChildrenRef},this.props),this.props.children)}}]),n}((0,f.baseComponentFactory)({viewAdapter:h.ViewAdapter,logicalAdapter:m.LogicalAdapter}));t.default=g,(0,d.default)(g,"defaultProps",{beforePlay:function(){},onError:function(){},onPlay:function(){},onPause:function(){},onEnded:function(){},onRef:function(){},loop:!1,singleton:!0,emitter:v.default})},iUiS:function(e,t,n){"use strict";n("ma9I"),n("QWBl"),n("yq1k"),n("oVuX"),n("2B1R"),n("Rfxz"),n("pDQq"),n("sMBO"),n("rB9j"),n("JTJg"),n("EnZy"),n("FZtP");var r=n("nKUr"),i=n("RIqP"),a=n.n(i),o=n("o0o1"),s=n.n(o),c=(n("ls82"),n("yXPU")),u=n.n(c),l=n("q1tI"),d=n("7O/2"),p=n.n(d),f=n("wdT/"),h=n.n(f),m=n("x2xJ"),v=n.n(m),b=n("5f2u"),y=n.n(b),g=n("MCNy"),j=n.n(g),x="_1O_HtQZGpBFapYjLpuD-BA",O="eTmYAJEN3-M11uF0MeBwI",w="_1RliK33-IGJ4AVLYEBTC2D",C="_3NJm0Jo1Q-IcTKPr6rkn0b",k="HTRfawm-2RDShmBPXZwyM",N="_3drsXLycKGwJ8Rh6efYFAZ",T="_3M5YwxeMgCmTWrF9Zuu-_U",_="_17vU91TzzNhFQ_ff_QSXZN",P="ah3m5jO76BJvMmcgi5MNg",S="_2jMBUOm_NNvmN13-Whbbj6",E="_2uRPWiiz0XqKw-fAE6ccqq",A="_1B1soZnOv-Olx41bh16sbv",I="_3k2ZioI-sIuJnHyRuJerHm",R="_2nA9Tfs6aC9oU3DtfoNkK8",D=n("sho3"),L=n("uPFr"),M=n("emxO"),B=n("/1yQ"),U=n("FhbE"),F=n("TSYQ"),W=n.n(F),q=n("yuBF"),z=Object(q.inject)("site")((function(e){var t=e.onSubmit,n=(e.onClose,e.height),i=e.initValue,o=void 0===i?"":i,c=e.placeholder,d=void 0===c?"\u5199\u4e0b\u6211\u7684\u8bc4\u8bba...":c,f=e.site,m=e.hasHongbao,b=Object(l.createRef)(),g=Object(l.useState)(""),F=g[0],q=g[1],z=Object(l.useState)(!1),V=z[0],X=z[1],H=Object(l.useState)(""),Y=H[0],Q=H[1],G=Object(l.useState)([]),J=G[0],K=G[1],Z=Object(l.useState)(!1),$=Z[0],ee=Z[1],te=Object(l.useState)(!1),ne=te[0],re=te[1],ie=Object(l.useState)(!1),ae=ie[0],oe=ie[1],se=Object(l.useState)([]),ce=se[0],ue=se[1],le=Object(l.useState)(!1),de=le[0],pe=le[1],fe=Object(l.useState)(0),he=fe[0],me=fe[1];Object(l.useEffect)((function(){Q(d)}),[d]),Object(l.useEffect)((function(){q(o)}),[o]),Object(l.useEffect)((function(){return $?window.addEventListener("click",ve):window.removeEventListener("click",ve),function(){window.removeEventListener("click",ve)}}),[$]);var ve=Object(l.useCallback)((function(e){e&&e.stopPropagation(),"emojiBtn"!==e.target.id&&(me(0),ee(!1))}),[]),be=function(){var e=u()(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("function"!==typeof t){e.next=16;break}return e.prev=1,X(!0),e.next=5,t(F,ce);case 5:e.sent&&(q(""),oe(!1),ue([])),X(!1),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0);case 13:return e.prev=13,X(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[1,10,13,16]])})));return function(){return e.apply(this,arguments)}}(),ye=function(){var t=u()(s.a.mark((function t(){var n,r,i,a;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("function"!==typeof e.onEmojiIconClick||e.onEmojiIconClick()){t.next=2;break}return t.abrupt("return");case 2:if(me(0),ee(!$),re(!1),null!==J&&void 0!==J&&J.length){t.next=11;break}return t.next=8,Object(D.readEmoji)();case 8:n=t.sent,r=n.code,i=n.data,a=void 0===i?[]:i,0===r&&K(a.map((function(e){return{code:e.code,url:e.url}})));case 11:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),ge=function(){("function"!==typeof e.onAtIconClick||e.onAtIconClick())&&(re(!ne),me(0),ee(!1))},je=function(){var e=u()(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ue(a()(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.jsxs)("div",{className:x,children:[Object(r.jsxs)("div",{className:"".concat(O," ").concat(m?w:""),children:[m&&Object(r.jsx)("img",{className:C,src:"https://cloudcache.tencentcs.com/operation/dianshi/other/redpacket-mini.10b46eefd630a5d5d322d6bbc07690ac4536ee2d.png"}),Object(r.jsx)(p.a,{className:"".concat(k," ").concat("label"===n?T:N),rows:5,maxLength:5e3,showLimit:!0,value:F,onChange:function(e){return q(e.target.value)},placeholder:Y,disabled:V,forwardedRef:b,onFocus:function(t){"function"===typeof e.onFocus&&e.onFocus(t)}}),ae&&Object(r.jsxs)(l.Fragment,{children:[Object(r.jsx)(v.a,{className:I}),Object(r.jsx)("div",{className:R,children:Object(r.jsx)(M.a,{fileList:ce,onChange:je,onComplete:function(e,t,n){0===e.code&&(t.response=e.data),pe((null===n||void 0===n?void 0:n.length)&&n.some((function(e){return"uploading"===e.status})))},beforeUpload:function(e,t){return function(e,t,n){var r=f.webConfig;if(!r)return!1;var i=r.setAttach,a=i.supportFileExt,o=i.supportImgExt,s=i.supportMaxSize;if(n===L.k.file){var c=e[0].name.split(".").pop().toLocaleLowerCase(),u=e[0].size,l=u>0&&u<1024*s*1024;if(!a.toLocaleLowerCase().includes(c))return h.a.info({content:"\u5f53\u524d\u6587\u4ef6\u7c7b\u578b\u6682\u4e0d\u652f\u6301"}),!1;if(!l)return h.a.info({content:"\u4e0a\u4f20\u9644\u4ef6\u5927\u5c0f\u8303\u56f40 ~ ".concat(s,"MB")}),!1}else if(n===L.k.image){var d=9-t.length;e.splice(d,e.length-d);var p=!0;return e.forEach((function(t,n){var r=t.name.split(".").pop().toLocaleLowerCase();o.toLocaleLowerCase().includes(r)||(e.splice(n,1),p=!1)})),!p&&h.a.info({content:"\u4ec5\u652f\u6301".concat(o,"\u7c7b\u578b\u7684\u56fe\u7247")}),(null===e||void 0===e?void 0:e.length)&&pe(!0),!0}return!0}(e,t,L.k.image)},onFail:function(e){var t=null===e||void 0===e?void 0:e.msg,n=-7075===(null===e||void 0===e?void 0:e.code)||-4002===(null===e||void 0===e?void 0:e.code);h.a.error({content:n?t:"\u56fe\u7247\u4e0a\u4f20\u5931\u8d25"})}})})]})]}),ne&&Object(r.jsx)(U.a,{pc:!0,visible:ne,getAtList:function(e){var t,n=e.map((function(e){return" @".concat(e," ")})).join(""),r=(null===b||void 0===b||null===(t=b.current)||void 0===t?void 0:t.selectionStart)||0,i=F.substr(0,r)+(n||"")+F.substr(r);q(i),me(0),ee(!1)},onCancel:ge}),Object(r.jsxs)("div",{className:_,children:[$&&Object(r.jsx)(B.a,{pc:!0,show:$,emojis:J,onClick:function(e){var t,n=0;0===he?n=(null===b||void 0===b||null===(t=b.current)||void 0===t?void 0:t.selectionStart)||0:n=he;var r=F.substr(0,n)+(e.code||"")+F.substr(n);q(r),me(n+e.code.length)},atTop:!1}),Object(r.jsxs)("div",{className:P,children:[Object(r.jsx)(j.a,{name:"SmilingFaceOutlined",size:"20",className:W()(S,$&&A),onClick:ye,id:"emojiBtn"}),Object(r.jsx)(j.a,{name:"AtOutlined",size:"20",className:W()(S,ne&&A),onClick:ge}),Object(r.jsx)(j.a,{name:"PictureOutlinedBig",size:"20",className:W()(S,ae&&A),onClick:function(){("function"!==typeof e.onPcitureIconClick||e.onPcitureIconClick())&&(oe(!ae),me(0),ee(!1),re(!1))}})]}),Object(r.jsx)(y.a,{loading:V,disabled:de,onClick:be,className:E,type:"primary",size:"large",children:"\u53d1\u5e03"})]})]})}));t.a=z},iVyX:function(e,t,n){"use strict";n("QWBl"),n("yq1k"),n("oVuX"),n("2B1R"),n("Rfxz"),n("pDQq"),n("sMBO"),n("rB9j"),n("JTJg"),n("EnZy"),n("FZtP");var r=n("nKUr"),i=n("RIqP"),a=n.n(i),o=n("o0o1"),s=n.n(o),c=(n("ls82"),n("yXPU")),u=n.n(c),l=n("q1tI"),d=n("MCNy"),p=n.n(d),f=n("k8W2"),h=n.n(f),m=n("7O/2"),v=n.n(m),b=n("x2xJ"),y=n.n(b),g=n("wdT/"),j=n.n(g),x="_2QIz2-uc8bPGfziTGpdLes",O="_2NzOEpYb4LCwPhNfj-6dq-",w="nVpyWLBh_oZtUdnMcq6h2",C="_3-8RxgYyezgut_b0F0Q-Ub",k="_3sTsGTqd4dspHmmBl9ISfp",N="_3JxFacy9Od0cZSyZxP0smq",T="_3Z1J0LmNPHns-d4CDz2Yis",_="_3R8dB7BKuFxmS0eoRxg6gj",P="_1XG6A1_ndrH3cKpKu8M1Yv",S="_1TW7lrPNLa5XdpLpE5Cy8u",E="I3vsdbb6l2odR_jX8mph-",A="_23m2OzBpQGwY0PNSsI2E5T",I="_36R0STknRSNZfaGKA-BTEw",R=n("TSYQ"),D=n.n(R),L=n("emxO"),M=n("sho3"),B=n("/1yQ"),U=n("FhbE"),F=n("uPFr");t.a=function(e){var t=e.visible,n=e.onSubmit,i=e.initValue,o=e.onClose,c=e.inputText,d=void 0===c?"\u5199\u8bc4\u8bba...":c,f=e.site,m=Object(l.createRef)(),b=Object(l.useState)(""),g=b[0],R=b[1],W=Object(l.useState)(!1),q=W[0],z=W[1],V=Object(l.useState)([]),X=V[0],H=V[1],Y=Object(l.useState)(!1),Q=Y[0],G=Y[1],J=Object(l.useState)(!1),K=J[0],Z=J[1],$=Object(l.useState)(!1),ee=$[0],te=$[1],ne=Object(l.useState)([]),re=ne[0],ie=ne[1],ae=Object(l.useState)(!0),oe=ae[0],se=ae[1],ce=Object(l.useState)(!1),ue=ce[0],le=ce[1];Object(l.useEffect)((function(){R(i||"")}),[i]),Object(l.useEffect)(u()(s.a.mark((function t(){var n,r,i,a;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(G(e.showEmojis),null!==X&&void 0!==X&&X.length){t.next=7;break}return t.next=4,Object(M.readEmoji)();case 4:n=t.sent,r=n.code,i=n.data,a=void 0===i?[]:i,0===r&&H(a.map((function(e){return{code:e.code,url:e.url}})));case 7:case"end":return t.stop()}}),t)}))),[e.showEmojis]),Object(l.useEffect)((function(){te(e.showPicture)}),[e.showPicture]);var de=function(){var e=u()(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!q&&!ue){e.next=2;break}return e.abrupt("return");case 2:if("function"!==typeof n){e.next=17;break}return e.prev=3,z(!0),e.next=7,n(g,re);case 7:e.sent&&(R(""),te(!1),ie([]),G(!1),se(!0)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),console.log(e.t0);case 14:return e.prev=14,z(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[3,11,14,17]])})));return function(){return e.apply(this,arguments)}}(),pe=function(){var e=u()(s.a.mark((function e(){var t,n,r,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(G(!Q),Z(!1),te(!1),null!==X&&void 0!==X&&X.length){e.next=9;break}return e.next=6,Object(M.readEmoji)();case 6:t=e.sent,n=t.code,r=t.data,i=void 0===r?[]:r,0===n&&H(i.map((function(e){return{code:e.code,url:e.url}})));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),fe=function(){Z(!K),G(!1),te(!1)},he=function(){var e=u()(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ie(a()(t)),t.length>0&&oe&&se(!1),0!==t.length||oe||0!==g.length||se(!0);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.jsxs)("div",{children:[Object(r.jsxs)(h.a,{position:"bottom",visible:t,onClose:function(){Z(!1),G(!1),te(!1),"function"===typeof e.cancleEmojie&&e.cancleEmojie(),"function"===typeof e.canclePicture&&e.canclePicture(),o()},children:[Object(r.jsxs)("div",{className:x,children:[Object(r.jsx)("div",{className:w,children:Object(r.jsx)(v.a,{className:S,maxLength:5e3,rows:4,showLimit:!1,value:g,onChange:function(e){return function(e){R(e.target.value),e.target.value.length>0&&oe&&se(!1),0!==e.target.value.length||oe||0!==re.length||se(!0)}(e)},placeholder:d,disabled:q,forwardedRef:m,autoFocus:!0,onFocus:function(){return G(!1)}})}),ee&&Object(r.jsxs)(l.Fragment,{children:[Object(r.jsx)("div",{className:A,children:Object(r.jsx)(L.a,{fileList:re,onChange:he,onComplete:function(e,t,n){0===e.code&&(t.response=e.data),le((null===n||void 0===n?void 0:n.length)&&n.some((function(e){return"uploading"===e.status})))},beforeUpload:function(e,t){return function(e,t,n){var r=f.webConfig;if(!r)return!1;var i=r.setAttach,a=i.supportFileExt,o=i.supportImgExt,s=i.supportMaxSize;if(n===F.k.file){var c=e[0].name.split(".").pop().toLocaleLowerCase(),u=e[0].size,l=u>0&&u<1024*s*1024;if(!a.toLocaleLowerCase().includes(c))return j.a.info({content:"\u5f53\u524d\u6587\u4ef6\u7c7b\u578b\u6682\u4e0d\u652f\u6301"}),!1;if(!l)return j.a.info({content:"\u4e0a\u4f20\u9644\u4ef6\u5927\u5c0f\u8303\u56f40 ~ ".concat(s,"MB")}),!1}else if(n===F.k.image){var d=9-t.length;e.splice(d,e.length-d);var p=!0;return e.forEach((function(t,n){var r="";r=t.imageType?t.imageType:t.name.split(".").pop().toLocaleLowerCase(),o.toLocaleLowerCase().includes(r)||(e.splice(n,1),p=!1)})),!p&&j.a.info({content:"\u4ec5\u652f\u6301".concat(o,"\u7c7b\u578b\u7684\u56fe\u7247")}),(null===e||void 0===e?void 0:e.length)&&le(!0),!0}return!0}(e,t,F.k.image)},onFail:function(e){var t=null===e||void 0===e?void 0:e.msg,n=-7075===(null===e||void 0===e?void 0:e.code)||-4002===(null===e||void 0===e?void 0:e.code);j.a.error({content:n?t:"\u56fe\u7247\u4e0a\u4f20\u5931\u8d25"})}})}),Object(r.jsx)(y.a,{className:C})]}),Object(r.jsxs)("div",{className:k,children:[Object(r.jsxs)("div",{className:N,children:[Object(r.jsx)(p.a,{className:D()(T,Q&&_),name:"SmilingFaceOutlined",size:20,onClick:pe}),Object(r.jsx)(p.a,{className:D()(T,K&&_),name:"AtOutlined",size:20,onClick:fe}),Object(r.jsx)(p.a,{className:D()(T,ee&&_),name:"PictureOutlinedBig",size:20,onClick:function(){te(!ee),G(!1),Z(!1)}})]}),Object(r.jsx)("div",{onClick:de,className:D()(E,(q||ue||oe)&&I),children:"\u53d1\u5e03"})]})]}),Q&&Object(r.jsx)("div",{className:P,children:Object(r.jsx)(B.a,{show:Q,emojis:X,onClick:function(e){var t,n=(null===m||void 0===m||null===(t=m.current)||void 0===t?void 0:t.selectionStart)||0,r=g.substr(0,n)+(e.code||"")+g.substr(n);R(r),r.length>0&&oe&&se(!1),0!==r.length||oe||se(!0)}})}),Object(r.jsx)("div",{className:O})]}),K&&Object(r.jsx)(U.a,{visible:K,getAtList:function(e){var t,n=e.map((function(e){return" @".concat(e," ")})).join(""),r=(null===m||void 0===m||null===(t=m.current)||void 0===t?void 0:t.selectionStart)||0,i=g.substr(0,r)+(n||"")+g.substr(r);R(i),G(!1),e.length>0&&oe&&se(!1),0!==e.length||oe||se(!0)},onCancel:fe})]})}},ii1t:function(e,t,n){var r=n("zyNV");e.exports=function(e){var t,n={version:e[0],flags:new Uint8Array(e.subarray(1,4)),samples:[]},i=new DataView(e.buffer,e.byteOffset,e.byteLength),a=1&n.flags[2],o=4&n.flags[2],s=1&n.flags[1],c=2&n.flags[1],u=4&n.flags[1],l=8&n.flags[1],d=i.getUint32(4),p=8;for(a&&(n.dataOffset=i.getInt32(p),p+=4),o&&d&&(t={flags:r(e.subarray(p,p+4))},p+=4,s&&(t.duration=i.getUint32(p),p+=4),c&&(t.size=i.getUint32(p),p+=4),l&&(1===n.version?t.compositionTimeOffset=i.getInt32(p):t.compositionTimeOffset=i.getUint32(p),p+=4),n.samples.push(t),d--);d--;)t={},s&&(t.duration=i.getUint32(p),p+=4),c&&(t.size=i.getUint32(p),p+=4),u&&(t.flags=r(e.subarray(p,p+4)),p+=4),l&&(1===n.version?t.compositionTimeOffset=i.getInt32(p):t.compositionTimeOffset=i.getUint32(p),p+=4),n.samples.push(t);return n}},iqeF:function(e,t,n){var r=n("2oRo"),i=n("0Dky"),a=n("HH4o"),o=n("67WC").NATIVE_ARRAY_BUFFER_VIEWS,s=r.ArrayBuffer,c=r.Int8Array;e.exports=!o||!i((function(){c(1)}))||!i((function(){new c(-1)}))||!a((function(e){new c,new c(null),new c(1.5),new c(e)}),!0)||i((function(){return 1!==new c(new s(2),1,void 0).length}))},isGe:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SliderLogicalAdapter=void 0;var r=(0,n("mlqK").baseAdapterFactory)({defaultAdapter:{},adapterImplement:function(){return n("RiCf").SliderWebAdapter}});t.SliderLogicalAdapter=r},iuED:function(e,t,n){"use strict";n("07d7"),n("5s+n");var r=n("o0o1"),i=n.n(r),a=(n("ls82"),n("yXPU")),o=n.n(a),s=n("u/Lb");t.a=function(e){var t=e.amount,n=e.groupId,r=e.title,a=e.user,c=e.site;return new Promise((function(e,u){s.a.createPayBox({data:{amount:t,groupId:n,title:r,type:4},isAnonymous:!1,success:function(){var t=o()(i.a.mark((function t(n){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a.updateUserInfo(a.id),c.getSiteInfo(),e(n);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),failed:function(){var e=o()(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})})).catch((function(e){console.error(e)}))}},jBAH:function(e,t){e.exports=function(e,t){var n,r=null;try{n=JSON.parse(e,t)}catch(i){r=i}return[r,n]}},jW6v:function(e,t,n){"use strict";var r=n("TqRt"),i=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.hideInstance=t.WebLayout=void 0;var a=r(n("J4zp")),o=r(n("lwsE")),s=r(n("7W2i")),c=r(n("a1gu")),u=r(n("Nsbk")),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!==typeof e)return{default:e};var n=x(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(n("q1tI")),d=r(n("TSYQ")),p=n("VTYn"),f=r(n("DxNY")),h=r(n("S+ZJ")),m=r(n("+Ycc")),v=r(n("4hN0")),b=r(n("b9ng")),y=r(n("i8i4")),g=r(n("uhBA")),j=n("KxVQ");function x(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(x=function(e){return e?n:t})(e)}function O(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,u.default)(e);if(t){var i=(0,u.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,c.default)(this,n)}}var w=new(function(e){(0,s.default)(n,e);var t=O(n);function n(){return(0,o.default)(this,n),t.apply(this,arguments)}return n}(g.default)),C=function(e){var t;return{afterOpen:function(){t=document.scrollingElement.scrollTop,document.body.classList.add(e),document.body.style.top="".concat(-t,"px")},beforeClose:function(){document.body.classList.remove(e),document.scrollingElement.scrollTop=t}}}("modal-open"),k=(0,l.forwardRef)((function(e,t){var n=e.imgs,r=void 0===n?[]:n,i=e.currentUrl,o=void 0===i?"":i,s=e.visible,c=e.onClose,u=void 0===c?function(){}:c,g=e.onError,x=void 0===g?function(){return""}:g;(0,j.useReport)({componentName:"imagePreviewer"});var O=l.default.useRef(null),k=(0,p.useConfig)().clsPrefix,N=l.default.useState(0),T=(0,a.default)(N,2),_=T[0],P=T[1],S=l.default.useState(!1),E=(0,a.default)(S,2),A=E[0],I=E[1],R=l.default.useState(!1),D=(0,a.default)(R,2),L=D[0],M=D[1],B=l.default.useRef(null),U=l.default.useRef(!1),F=l.default.useRef(!1);l.default.useEffect((function(){var e=function(){I(!1)},t=function(){I(!0)};return w.on("hide",e),w.on("show",t),function(){w.removeListener("hide",e),w.removeListener("show",t)}}),[]),l.default.useEffect((function(){return B.current=A?setTimeout((function(){M(!0)}),100):setTimeout((function(){M(!1)}),100),function(){clearTimeout(B.current)}}),[A]),l.default.useEffect((function(){s?(U.current=!0,C.afterOpen()):U.current&&(U.current=!1,C.beforeClose())}),[A]),l.default.useEffect((function(){var e=function(e){("boolean"!==typeof e.cancelable||e.cancelable)&&e.preventDefault()},t=function(e){("boolean"!==typeof e.cancelable||e.cancelable)&&e.preventDefault()};return"undefined"!==typeof window&&A&&(document.addEventListener("touchmove",e,{passive:!1}),document.addEventListener("toouchend",t,{passive:!1})),function(){"undefined"!==typeof window&&(document.removeEventListener("touchmove",e),document.removeEventListener("toouchend",t))}}),[A]);var W=(0,l.useCallback)((function(){I(!0)}),[r,u]),q=(0,l.useCallback)((function(){I(!1)}),[]);if((0,l.useImperativeHandle)(t,(function(){return{show:W,hide:q}}),[W,q]),(0,l.useEffect)((function(){I(s)}),[s]),(0,l.useEffect)((function(){var e=r.indexOf(o);-1===e&&(e=0),P(e)}),[o,r]),"undefined"===typeof window)return null;var z=!1;"undefined"!==typeof window&&(z=(0,b.default)());var V=function(){M(!1),setTimeout((function(){I(!1),u()}),300)};return y.default.createPortal(A&&l.default.createElement("div",{ref:O,onClick:function(e){e.stopPropagation(),e.preventDefault(),z||F.current||(I(!1),u())},className:(0,d.default)("".concat(k,"-img-previewer"),{"is-mobile":z,"is-active":L})},l.default.createElement(v.default,{imgUrls:r,currentImgIdx:_}),l.default.createElement(f.default,{imgUrls:r,currentImgIdx:_,onSwipLeft:function(){P((function(e){return e<r.length-1?e+1:e}))},onSwipRight:function(){P((function(e){return e>0?e-1:e}))},onClose:V}),l.default.createElement(m.default,{imgUrls:r,currentImgIdx:_,onSwipLeft:function(){P((function(e){return e<r.length-1?e+1:e}))},onSwipRight:function(){P((function(e){return e>0?e-1:e}))},onError:x,onClose:V,onClickLock:function(){F.current=!0},onClickUnLock:function(){F.current=!1}}),l.default.createElement(h.default,{imgUrls:r,onError:x,currentImgIdx:_,onImgClick:function(e){P(e)}})),document.getElementsByTagName("body")[0])}));t.WebLayout=k;t.hideInstance=function(){w.emit("hide")}},jbJk:function(e,t,n){"use strict";n.r(t);n("ma9I"),n("DQNa"),n("sMBO"),n("07d7"),n("5s+n"),n("rB9j"),n("EnZy");var r=n("o0o1"),i=n.n(r),a=(n("ls82"),n("yXPU")),o=n.n(a),s=n("sho3"),c=n("AR36"),u=n.n(c),l=n("YZm+"),d=n.n(l);t.default=function(e){return new Promise(function(){var t=o()(i.a.mark((function t(r,a){var c,l,p,f,h,m,v,b,y,g,j,x,O,w;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c=e.file,l=e.type,p=e.qcloudCos,f=e.qcloudCosBucketName,h=e.qcloudCosBucketArea,m=e.qcloudCosSignUrl,p&&"string"!==typeof c){t.next=4;break}return a("error"),t.abrupt("return");case 4:return t.next=6,n.e(94).then(n.t.bind(null,"QLPy",7));case 6:v=t.sent.default,b=c.name||"dzq-cos.jpg",y="public/attachments/".concat(u.a.formatDate(new Date,"YYYY/MM/DD"),"/"),g=null===b||void 0===b?void 0:b.split("."),j=g[(null===g||void 0===g?void 0:g.length)-1],x="".concat(d()((new Date).getTime()+b),".").concat(j),O="".concat(y).concat(x),(w=new v({getAuthorization:function(){var e=o()(i.a.mark((function e(t,n){var r,o,c,u;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(s.getCosTmpKey)({type:l,attachment:x,fileName:b});case 2:r=e.sent,o=r.code,c=r.data,0===o?(u=c&&c.credentials,n({TmpSecretId:u.tmpSecretId,TmpSecretKey:u.tmpSecretKey,SecurityToken:u.sessionToken,StartTime:c.startTime,ExpiredTime:c.expiredTime})):a("error");case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()})).putObject({Bucket:f,Region:h,Key:O,StorageClass:"STANDARD",Body:c,onProgress:function(){}},(function(e){null===e?w.getObjectUrl({Bucket:f,Region:h,Key:O,Sign:m},function(){var e=o()(i.a.mark((function e(t,n){var o,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==t){e.next=8;break}return o=n.Url,e.next=4,Object(s.updateAttachment)({type:l,cosUrl:o,fileName:b});case 4:c=e.sent,r(c),e.next=9;break;case 8:t&&a("error");case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()):e&&a("error")}));case 15:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}())}},jpI4:function(e,t,n){"use strict";n("qePV"),n("toAj");var r=n("nKUr"),i=n("q1tI"),a=n.n(i),o="_1NJQIh99c_bI-9JqwuL9vb",s="_2SU--nRsqz4ecGF3txx4ht",c="_1RVdqwcscyomC-GAf3zp_e",u="_3pn5DeZ50_ei0XCEyGkpPn";function l(e){var t=e.number,n=isNaN(Number(t))?t:Number(t).toFixed(2);return Object(r.jsxs)("div",{className:o,children:[Object(r.jsx)("img",{className:s,src:"/dzq-img/coin.png",alt:"\u60ac\u8d4f\u56fe\u6807"}),Object(r.jsxs)("div",{className:c,children:["\u83b7\u5f97",Object(r.jsxs)("span",{className:u,children:["\xa0",n,"\xa0"]}),"\u5143\u60ac\u8d4f\u91d1"]})]})}t.a=a.a.memo(l)},jv9p:function(e,t){e.exports=function(e){var t="";return t+=String.fromCharCode(e[0]),t+=String.fromCharCode(e[1]),t+=String.fromCharCode(e[2]),t+=String.fromCharCode(e[3])}},kGPg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ViewAdapter=void 0;var r=(0,n("1d9p").baseLayoutFactory)({layoutImplement:function(){return n("5h7R").AudioWebLayout}});t.ViewAdapter=r},kPfF:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LogicalAdapter=void 0;var r=(0,n("mlqK").baseAdapterFactory)({defaultAdapter:{},adapterImplement:function(){return n("eUBB").WebAdapter}});t.LogicalAdapter=r},lF3x:function(e,t,n){"use strict";n.d(t,"c",(function(){return v})),n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return p}));n("pDQq"),n("DQNa"),n("tkto");var r=n("o0o1"),i=n.n(r),a=(n("ls82"),n("yXPU")),o=n.n(a),s=n("RIqP"),c=n.n(s),u=n("McMz"),l=n("sho3"),d="__dzq_thread_viewed",p="session",f=new u.a({storageType:p}),h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(!e||!f)return-1;e+="";var t=f.get(d)||"{}",n=JSON.parse(t);if(!n||!Object.keys(n).length)return n={threads:[]},f.set(d,JSON.stringify(n)),-1;for(var r=n.threads,i=r.length-1;r&&i>=0;i--){var a=r[i];if("".concat(a.id)==="".concat(e))return i}return-1},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;if(e&&f){e+="";var n=f.get(d)||"{}",r=JSON.parse(n),i=r.threads;i&&(t>=0&&i.splice(t,1),i.push({id:e,viewedAt:(new Date).getTime()}),r.threads=c()(i),f.set(d,JSON.stringify(r)))}},v=function(){var e=o()(i.a.mark((function e(){var t,n,r,a,o=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=o.length>0&&void 0!==o[0]?o[0]:null,n=!(o.length>1&&void 0!==o[1])||o[1],t){e.next=4;break}return e.abrupt("return");case 4:if(t+="",e.prev=5,-1!==(r=h(t))){e.next=18;break}return e.next=10,Object(l.getViewCount)({params:{threadId:t}});case 10:if(0!==(a=e.sent).code){e.next=16;break}return n&&m(t,r),e.abrupt("return",a.data.viewCount);case 16:return console.error(null===a||void 0===a?void 0:a.msg),e.abrupt("return",null);case 18:return e.abrupt("return",null);case 21:return e.prev=21,e.t0=e.catch(5),console.error(e.t0),e.abrupt("return",null);case 25:case"end":return e.stop()}}),e,null,[[5,21]])})));return function(){return e.apply(this,arguments)}}()},lGLX:function(e,t,n){"use strict";var r=n("TqRt"),i=n("cDf5");n("ma9I"),n("TeQF"),n("x0AG"),n("4mDm"),n("2B1R"),n("+2oP"),n("pDQq"),n("sMBO"),n("toAj"),n("07d7"),n("5s+n"),n("p532"),n("rB9j"),n("JfAA"),n("PKPk"),n("EnZy"),n("FZtP"),n("3bBZ"),n("Kz25"),Object.defineProperty(t,"__esModule",{value:!0}),t.UploadWebLayout=void 0;var a=r(n("o0o1")),o=r(n("RIqP"));n("ls82");var s=r(n("yXPU")),c=r(n("J4zp")),u=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!==typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(n("q1tI")),l=n("VTYn"),d=r(n("TSYQ")),p=n("tPP9"),f=n("//rY"),h=r(n("MCNy")),m=r(n("Jw8/"));function v(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function b(e){var t=e.children,n=e.onFile;return u.default.createElement("div",{className:"dragger",onDrop:function(e){e.preventDefault(),"function"===typeof n&&n(e.dataTransfer.files)},onDragOver:function(e){e.preventDefault()},onDragLeave:function(e){e.preventDefault()}},t)}var y=function(e){var t,n=(null===e||void 0===e||null===(t=e.toString())||void 0===t?void 0:t.toUpperCase().split("/")[1])||"",r="";switch(n=n.substr(n.lastIndexOf(".")+1)){case"XLS":case"XLSX":case"SHEET":r="xls-outlined.86ffbb304f441a3ac39d0a2b6559d119a876b992.png";break;case"DOC":case"DOCX":case"DOCUMENT":r="doc-outlined.2c3f996d6c8e141beea3a4dd2e4f92e72927241c.png";break;case"PPT":case"PPTX":case"PRESENTATION":r="ppt-outlined.c633840874bf2f06dd0dddc96f19f2698619e51e.png";break;case"RAR":case"ZIP":case"X-ZIP-COMPRESSED":r="zip-outlined.8c5d95e8746ea9a5b940a03e8f83d5b1ddba0211.png";break;case"PDF":r="pdf-outlined.e06cb6e0559e2f2abebaa07a54ff3b34b05a4165.png";break;case"TXT":case"PLAIN":r="text-outlined.3422bac383a7d71bba912db8b3912471ec2869f6.png";break;case"MP4":r="video-outlined.75403451dd41be304dfcbefd530ec1d560f978f4.png";break;case"M4A":case"MP3":case"MPEG":r="audio-outlined.d04f8b9380204fe1b1b671f59145695f56cc222d.png";break;case"PNG":case"JPEG":r="image-outlined.8aa1c2bd1fb9a0645e09136670cfb4020aa30be3.png";break;case"FORM":r="form-outlined.7edcdca23038bdd7f2b72f2b897388e5d8acb79f.png";break;default:r="file-outlined.8dafcd0a20ee70430ba1d3420e015a232a64fa05.png"}return"https://imgcache.qq.com/operation/dianshi/other/".concat(r)};function g(e){var t=e.file,n=e.listType,r=(0,u.useContext)(l.ConfigContext).clsPrefix,i=(0,d.default)("".concat(r,"-upload-list-").concat(n)),a=(0,u.useState)(t.percent||0),o=(0,c.default)(a,2),s=o[0],p=o[1];return(0,u.useEffect)((function(){setTimeout((function(){p(t.percent||0)}),0)}),[t.percent]),u.default.createElement("div",{className:"".concat(i,"-process")},u.default.createElement(h.default,{className:"".concat(i,"-process__icon"),name:"LoadingOutlined",size:20}),s>0&&u.default.createElement("span",{className:"".concat(i,"-process__text")},s,"%"))}function j(e){var t=e.listType,n=e.fileList,r=void 0===n?[]:n,i=e.onRemove,a=e.onPreview,o=e.progressRender,s=(0,u.useContext)(l.ConfigContext).clsPrefix,p=(0,d.default)("".concat(s,"-upload-list-").concat(t)),v=u.default.useState(!1),b=(0,c.default)(v,2),j=b[0],x=b[1],O=u.default.useState(null),w=(0,c.default)(O,2),C=w[0],k=w[1],N=u.default.useState([]),T=(0,c.default)(N,2),_=T[0],P=T[1],S=u.default.useRef(null);(0,u.useEffect)((function(){P(r.filter((function(e){return(0,f.isImageFileType)(null===e||void 0===e?void 0:e.type)&&(e.url||e.thumbUrl)})).map((function(e){return e.url||e.thumbUrl})))}),[r.length]);var E=function(e){i(e)},A=function(e,t){a(e),(0,f.isImageFileType)(null===e||void 0===e?void 0:e.type)&&(e.url||e.thumbUrl)&&(k(_[t]),setTimeout((function(){S.current.show()}),0))},I=r.map((function(e,n){return u.default.createElement("div",{key:e.uid,className:(0,d.default)("".concat(p,"__item"),{"is-error":"error"===e.status,"is-success":"success"===e.status})},u.default.createElement("div",{className:"".concat(p,"__info"),onClick:function(){return A(e,n)}},(0,f.isImageFileType)(e.type)&&e.thumbUrl?u.default.createElement("img",{src:e.thumbUrl,alt:e.name,className:"".concat(p,"__thumbUrl")}):u.default.createElement("img",{src:y(null===e||void 0===e?void 0:e.type),className:"".concat(p,"__icon"),alt:e.name}),u.default.createElement("div",{className:"".concat(p,"__name")},e.name),u.default.createElement("div",{className:"".concat(p,"__filesize")},(r=e.size||(null===e||void 0===e?void 0:e.fileSize))?r>1024e3?"".concat((r/1024e3).toFixed(2)," MB"):r>1024?"".concat((r/1024).toFixed(2)," KB"):"".concat(r," B"):"")),u.default.createElement("div",{className:"".concat(p,"__operate"),onClick:function(){return E(e)}},u.default.createElement(h.default,{name:"DeleteOutlined"})),"uploading"===e.status&&("function"===typeof o?u.default.createElement("div",{className:"".concat(p,"__process")},o(e)):u.default.createElement(g,{listType:t,file:e})));var r}));return"card"===t&&(I=r.map((function(e,n){return u.default.createElement("div",{key:e.uid,className:(0,d.default)("".concat(p,"__item"),{"is-error":"error"===e.status})},(0,f.isImageFileType)(e.type)&&e.thumbUrl?u.default.createElement("img",{src:e.thumbUrl,alt:e.name,className:"".concat(p,"__thumbUrl"),onClick:function(){return A(e,n)}}):u.default.createElement("div",{className:"".concat(p,"__info"),onClick:function(){return A(e,n)}},u.default.createElement("img",{src:y(null===e||void 0===e?void 0:e.type),className:"".concat(p,"__thumbUrl"),alt:e.name}),u.default.createElement("div",{className:"".concat(p,"__name")},e.name," ",e.status," ",e.percent)),"uploading"===e.status?"function"===typeof o?o(e):u.default.createElement(g,{listType:t,file:e}):u.default.createElement("div",{className:"".concat(p,"__operate"),onClick:function(){return E(e)}},u.default.createElement(h.default,{name:"DeleteOutlined"})))}))),u.default.createElement("div",{className:p},I,e.children,u.default.createElement(m.default,{visible:j,ref:S,onClose:function(){x(!1)},imgUrls:_,currentUrl:C}))}var x=function(e,t){var n=e.className,r=e.style,i=e.listType,h=e.fileList,m=e.children,v=e.multiple,y=e.accept,g=e.limit,x=e.progressRender,O=e.onChange,w=e.onPreview,C=e.beforeUpload,k=e.customRequest,N=e.wxChooseImage,T=(0,u.useContext)(l.ConfigContext).clsPrefix;h.forEach((function(e,t){var n;e.uid=null!==(n=e.uid)&&void 0!==n?n:"".concat(t,"__").concat((0,p.uuid)())}));var _=(0,u.useRef)(null),P="".concat(T,"-upload"),S=(0,d.default)(n,P,{"is-card":"card"===i}),E=(0,u.useState)(h),A=(0,c.default)(E,2),I=A[0],R=A[1],D=function(){g&&I.splice(g),I.forEach((function(e){try{e.thumbUrl=URL.createObjectURL(e.originFileObj)}catch(t){return}})),R(I),"function"===typeof O&&O(I)},L=function(){var e=(0,s.default)(a.default.mark((function e(t){var n;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=(n=(0,o.default)(t)).map((function(e,t){var n;return e.uid=null!==(n=e.uid)&&void 0!==n?n:"".concat(t,"__").concat((0,p.uuid)()),(0,f.fileToObject)(e)})),"function"!==typeof C){e.next=8;break}return e.next=5,C(n,I);case 5:if(e.sent){e.next=8;break}return e.abrupt("return");case 8:I.push.apply(I,(0,o.default)(n)),D(),g&&(n=n.slice(0,g)),M(n);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),M=function(e){e.forEach((function(e){"function"===typeof k&&k(e,I,D).then((function(t){e.status=t?"success":"error"})).catch((function(t){e.status="error"})).finally((function(){D()}))}))},B=function(e,t){if(t)L(t);else if(e.target instanceof HTMLInputElement){var n=e.target.files;if(!n)return;L(n),_.current.value=null}},U=function(){var e=(0,s.default)(a.default.mark((function e(t){var n;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("trgger-file-choose-input"!==t.target.id){e.next=2;break}return e.abrupt("return");case 2:if("function"!==typeof N){e.next=9;break}return e.next=5,N();case 5:(n=e.sent)&&n instanceof Array&&n.length?B("",n):_.current.click(),e.next=10;break;case 9:_.current.click();case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return u.default.createElement("div",{className:S,style:r},u.default.createElement(j,{onRemove:function(e){I.splice(I.findIndex((function(t){return t.uid===e.uid})),1),D()},onPreview:function(e){"function"===typeof w&&w(e)},listType:i,fileList:I,progressRender:x},g&&(null===I||void 0===I?void 0:I.length)>=g?"":u.default.createElement("div",{className:"".concat(P,"__area"),onClick:U},u.default.createElement(b,{onFile:L},m),u.default.createElement("input",{id:"trgger-file-choose-input",className:"".concat(P,"__input"),type:"file",ref:_,onChange:B,multiple:v,accept:y}))))};t.UploadWebLayout=x,x.defaultProps={listType:"list",fileList:[]}},lT1C:function(e,t,n){"use strict";n.d(t,"a",(function(){return T}));n("ma9I"),n("QWBl"),n("2B1R"),n("DQNa"),n("tkto"),n("07d7"),n("5s+n"),n("JfAA"),n("FZtP");var r=n("nKUr"),i=n("o0o1"),a=n.n(i),o=n("lSNA"),s=n.n(o),c=(n("ls82"),n("yXPU")),u=n.n(c),l=(n("q1tI"),n("MRl3")),d=n.n(l),p=n("5f2u"),f=n.n(p),h=n("MCNy"),m=n.n(h),v=n("sho3"),b="_3WeCapL12dyn_O03Jxw_1r",y="_2e_pceXHy9bvBUkV7Cr-kW",g="_3crCe55pXb46fOlaQ24qJa",j="_2qoQ20IC9dNjVO5VFvmfb5",x=n("TSYQ"),O=n.n(x);n("R5XZ");var w=n("eHcb"),C=n("UQAj");function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function T(e){var t=e.cosOptions,n=e.listType,i=e.fileList,o=e.btnText,s=e.isCustomUploadIcon,c=e.limit,l=e.children,p=e.onRemove,h=e.beforeUpload,x=e.onChange,k=e.onSuccess,T=e.onFail,_=e.onComplete,P=e.data,S=e.accept,E=e.className,A=e.wxChooseImage,I=void 0===A?function(){return new Promise((function(e){return e([])}))}:A,R=P.type,D=c>1,L=function(){var e=u()(a.a.mark((function e(n,r,i){var o,s,c,u,l,d;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(w.a)(n.originFileObj);case 2:if(o=e.sent,!t){e.next=26;break}return n.status="uploading",i(r),e.next=8,Object(C.a)(N({files:[o],type:R},t));case 8:if(s=e.sent,c=s[0],u=c.code,c.data,0!==u){e.next=18;break}n.status="success",i(r),k(N(N({},c),{},{type:n.type}),n),_(N(N({},c),{},{type:n.type}),n,r),e.next=23;break;case 18:return n.status="error",i(r),T(c,n),_(c,n,r),e.abrupt("return",!1);case 23:return e.abrupt("return",N(N({},c),{},{type:n.type}));case 26:return(l=new FormData).append("file",o),Object.keys(P).forEach((function(e){l.append(e,P[e])})),e.next=31,Object(v.createAttachment)(l,(function(e){var t=e.loaded/e.total*100|0;n.status="uploading",n.percent=100===t?99:t,i(r)}));case 31:if(0!==(d=e.sent).code){e.next=39;break}n.status="success",i(r),k(N(N({},d),{},{type:n.type}),n),_(N(N({},d),{},{type:n.type}),n,r),e.next=44;break;case 39:return n.status="error",i(r),T(d,n),_(d,n,r),e.abrupt("return",!1);case 44:return e.abrupt("return",N(N({},d),{},{type:n.type}));case 45:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),M=s?"".concat(g," ").concat(j," ").concat(E):"".concat(j,"  ").concat(E),B=(i||[]).map((function(e){var t,n,r=(null===e||void 0===e||null===(t=e.fileType)||void 0===t?void 0:t.toString())||(null===e||void 0===e||null===(n=e.type)||void 0===n?void 0:n.toString()),i=(null===e||void 0===e?void 0:e.fileSize)||(null===e||void 0===e?void 0:e.size);return N(N({},e),{},{type:r,size:i})}));return Object(r.jsx)("div",{className:M,onClick:function(e){return e.stopPropagation()},children:Object(r.jsxs)(d.a,{listType:n,fileList:B,limit:c,multiple:D,onRemove:function(e){p(e)},wxChooseImage:I,beforeUpload:function(e,t){return"function"!==typeof h||h(e,t)},onChange:function(e){x(e)},customRequest:L,accept:S,children:[!s&&Object(r.jsxs)(f.a,{type:"text",className:O()(y,b),children:[Object(r.jsx)(m.a,{name:"PlusOutlined",size:16}),Object(r.jsx)("span",{className:"dzq-upload__btntext",children:o})]}),s&&l]})})}T.defaultProps={data:{type:1},cosOptions:null,listType:"list",fileList:[],btnText:"",limit:1,accept:"",isCustomUploadIcon:!1,onRemove:function(){},beforeUpload:function(){},onChange:function(){},onSuccess:function(){},onFail:function(){},onComplete:function(){}}},lW1z:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n("DQNa"),n("qePV"),n("toAj"),n("07d7"),n("rB9j"),n("JfAA"),n("UxlC"),n("EnZy");var r=function(e,t){if(isNaN(e)||isNaN(t))return 0;var n=0,r=0;e.toString().split(".").length>1&&(n=e.toString().split(".")[1].length),t.toString().split(".").length>1&&(r=t.toString().split(".")[1].length);var a=n>r?n:r;return(((0|i(e,a))+(0|i(t,a)))/Math.pow(10,a)).toFixed(2)},i=function(e,t){if(e.toString().split(".").length<=1)return e*Math.pow(10,t);var n=e.toString().split(".")[1].length,r=e.toString();if(t===n)return Number(r.replace(".",""));for(var i=0;i<t-n;i++)r+="0";return Number(r.replace(".",""))}},mG8q:function(e,t,n){"use strict";n.r(t);var r=n("sho3");t.default=function(e){var t=e.file,n=e.type,i=new FormData;return i.append("type",n),"string"===typeof t?i.append("fileUrl",t):i.append("file",t),Object(r.createAttachment)(i)}},mZzD:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.getAttach=u;var i=r(n("J4zp")),a=r(n("cDf5")),o=n("q1tI"),s=n("i8i4"),c=function(){return"undefined"!==typeof document};function u(e){var t;return"string"===typeof e&&e&&c()&&(t=document.querySelector(e)),"function"===typeof e&&(t=e()),"object"===(0,a.default)(e)&&e instanceof window.HTMLElement&&(t=e),c()?t||document.body:t}var l=(0,o.forwardRef)((function(e,t){var n=e.attach,r=e.children,a=(0,o.useMemo)((function(){var e=u(n);if(e&&c()){var t=document.createElement("div");return e.appendChild(t),[e,t]}return[null,r]}),[n]),l=(0,i.default)(a,2),d=l[0],p=l[1];return(0,o.useEffect)((function(){return function(){p instanceof window.HTMLElement&&p.remove()}}),[]),(0,o.useImperativeHandle)(t,(function(){return d})),d?(0,s.createPortal)(r,p):p}));l.displayName="Portal";var d=l;t.default=d},mgyK:function(e,t,n){var r=n("NC/Y");e.exports=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(r)},mkfw:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=new(r(n("uhBA")).default);t.default=i},moxL:function(e,t,n){"use strict";var r=n("67WC"),i=n("FF6l"),a=r.aTypedArray;(0,r.exportTypedArrayMethod)("copyWithin",(function(e,t){return i.call(a(this),e,t,arguments.length>2?arguments[2]:void 0)}))},myta:function(e,t,n){"use strict";n("qePV"),n("toAj");var r=n("nKUr"),i=n("q1tI"),a=n.n(i),o="Ygd-4ahmtS7zlWt_4ryEf",s="_2BsHIgrHw6M6Gvrpsi7Ie2",c="dYQrMVkxiUoZEmkFoognn",u="AqjB4naAsIQcVCv4E_NVS";function l(e){var t=e.number,n=isNaN(Number(t))?t:Number(t).toFixed(2);return Object(r.jsxs)("div",{className:o,children:[Object(r.jsx)("img",{className:s,src:"/dzq-img/redpacket-mini.png",alt:"\u7ea2\u5305\u56fe\u6807"}),Object(r.jsxs)("div",{className:c,children:["\u83b7\u5f97",Object(r.jsxs)("span",{className:u,children:["\xa0",n,"\xa0"]}),"\u5143\u7ea2\u5305"]})]})}t.a=a.a.memo(l)},nrUO:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("lSNA"));function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){(0,i.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var s=function(e,t){e.on("play",(function(e){t.onPlay&&t.onPlay(e)})),e.on("pause",(function(e){t.onPause&&t.onPause(e)})),e.on("waiting",(function(e){t.onWaiting&&t.onWaiting(e)})),e.on("timeupdate",(function(n){var r=e.currentTime(),i=e.duration();t.onTimeUpdate&&t.onTimeUpdate(o(o({},n),{},{detail:{currentTime:r,duration:i}}))})),e.on("seeking",(function(t){e.off("timeupdate",(function(){})),e.one("seeked",(function(){}))})),e.on("ended",(function(e){t.onEnded&&t.onEnded(e)})),e.on("error",(function(e){t.onError&&t.onError(e)})),e.on("loadedmetadata",(function(e){t.onLoadedMetaData&&t.onLoadedMetaData(e)})),e.on("fullscreenchange",(function(n){var r=e.isFullscreen();t.onFullscreenChange&&t.onFullscreenChange(o(o({},n),{},{detail:{fullScreen:r,fullscreen:r}}))})),e.on("progress",(function(n){var r=e.bufferedPercent();t.onProgress&&t.onProgress(o(o({},n),{},{detail:{buffered:r}}))}))};t.default=s},oAS2:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n("lwsE"),i=n.n(r),a=n("q1tI"),o=n.n(a);var s=n("N1by").default,c=n("4Y6B"),u=o.a.createElement,l=function e(){i()(this,e)};l.pluginName=c.name_en,l.version=c.version,l.type=c.type,l.appid=c.app_id,l.author=c.author,l.target=c.view.display.target,l.hookName=c.view.display.hookName,l.platform=c.view.display.platform,l.component=u(s,null),l.options={}},"oHi+":function(e,t,n){var r=n("ewvW"),i=n("UMSQ"),a=n("NaFW"),o=n("6VoE"),s=n("A2ZE"),c=n("67WC").aTypedArrayConstructor;e.exports=function(e){var t,n,u,l,d,p,f=r(e),h=arguments.length,m=h>1?arguments[1]:void 0,v=void 0!==m,b=a(f);if(void 0!=b&&!o(b))for(p=(d=b.call(f)).next,f=[];!(l=p.call(d)).done;)f.push(l.value);for(v&&h>2&&(m=s(m,arguments[2],2)),n=i(f.length),u=new(c(this))(n),t=0;n>t;t++)u[t]=v?m(f[t],t):f[t];return u}},oWYc:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.ProgressWebLayout=void 0;var i=r(n("lSNA")),a=r(n("q1tI")),o=n("VTYn"),s=r(n("TSYQ")),c=n("vNgL"),u=r(n("AwrB"));t.ProgressWebLayout=function(e){var t,n=e.type,r=e.percent,l=e.text,d=(e.tips,e.theme),p=e.className,f=e.style,h=(e.isShowText,e.lineWidth,e.width,e.children,(0,o.useConfig)().clsPrefix);return"circle"===n?a.default.createElement(u.default,e):a.default.createElement("div",{className:(0,s.default)("".concat(h,"-progress"),p,(t={},(0,i.default)(t,"".concat(h,"-progress--error"),"danger"===d),(0,i.default)(t,"".concat(h,"-progress--succeed"),"success"===d),t)),style:f},a.default.createElement("div",{className:"".concat(h,"-progress__value"),style:{width:"".concat(r,"%"),transition:"width .2s"}},l&&a.default.createElement("span",{className:"".concat(h,"-progress__text")},(0,c.injectValue)(l)(r))))}},or9q:function(e,t,n){"use strict";var r=n("6LWA"),i=n("UMSQ"),a=n("A2ZE"),o=function(e,t,n,s,c,u,l,d){for(var p,f=c,h=0,m=!!l&&a(l,d,3);h<s;){if(h in n){if(p=m?m(n[h],h,t):n[h],u>0&&r(p))f=o(e,t,p,i(p.length),f,u-1)-1;else{if(f>=9007199254740991)throw TypeError("Exceed the acceptable array length");e[f]=p}f++}h++}return f};e.exports=o},ouBq:function(e,t,n){"use strict";n("+2oP");var r=n("nKUr"),i=n("q1tI"),a=n.n(i),o=n("5f2u"),s=n.n(o),c=n("MCNy"),u=n.n(c),l=n("NOng"),d=n("HLiX"),p=n("Hg/G"),f=n("JMBi"),h=n("z6Ap"),m=n("W7Eq"),v=n("RGe9"),b=n("f5Uc"),y=n("uYGS"),g=n("bJLh"),j=n("WYay"),x=n("ZlQF"),O=n("cwqe"),w=n("4x5+"),C=n.n(w),k=n("+p52"),N=n("oAS2");C.a.register(k.a),C.a.register(N.a);var T=function(e){var t,n,a,o=e.data||{},c=o.title,w=void 0===c?"":c,C=o.payType,k=o.price,N=o.paid,T=o.attachmentPrice,P=o.openedMore,S=Object(i.useMemo)((function(){return 0!==C&&!N}),[N,C]),E=e.threadId,A=e.onClick,I=e.unifyOnClick,R=void 0===I?null:I,D=e.onPay,L=e.onOpen,M=e.onClose,B=e.platform,U=e.updateViewCount,F=e.onTextItemClick,W=e.site,q=(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.ability)||{},z=q.canDownloadAttachment,V=q.canViewAttachment,X=q.canViewVideo,H=Object(i.useMemo)((function(){return w.length>100?"".concat(w.slice(0,100),"..."):w}),[w]);return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(x.a,{href:"/thread/".concat(E),text:H&&""!==H?H:null===(n=e.data)||void 0===n||null===(a=n.content)||void 0===a?void 0:a.text}),Object(r.jsxs)("div",{className:"".concat("h5"===B?j.a.wrapper:j.a.wrapperPC),children:[w&&Object(r.jsx)("h1",{className:j.a.title,onClick:A,children:H}),function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.content,i=(t.attachmentPrice,t.payType,t.paid,t.site,Object(h.c)(n)),a=i.text,o=i.imageData,s=i.audioData,c=i.videoData,u=i.goodsData,j=i.redPacketData,x=i.rewardData,w=i.fileData,C=i.voteData,k=i.threadId,N=i.iframeData,T=i.plugin;return Object(r.jsxs)(r.Fragment,{children:[a&&Object(r.jsx)(d.a,{onContentHeightChange:e.onContentHeightChange,content:a,updateViewCount:U,useShowMore:!P,needShowMore:!0,onRedirectToDetail:A,onOpen:L,onClose:M,onTextItemClick:F}),c&&1!==c.needPay&&Object(r.jsx)(_,{onClick:A,children:Object(r.jsx)(f.a,{url:c.mediaUrl,coverUrl:c.coverUrl,v_width:c.width||null,v_height:c.height||null,status:c.status,onVideoReady:e.onVideoReady,updateViewCount:U,canViewVideo:X})}),N&&N.content&&Object(r.jsx)(y.a,{content:N.content}),(null===o||void 0===o?void 0:o.length)>0&&Object(r.jsx)(v.a,{platform:e.platform,imgData:o,isPay:S,onPay:D,onClickMore:A,onImageReady:e.onImageReady,updateViewCount:U}),x&&Object(r.jsx)(g.a,{type:1,onClick:A}),j&&Object(r.jsx)(g.a,{onClick:A,condition:j.condition}),u&&Object(r.jsx)(p.a,{image:u.imagePath,amount:u.price,title:u.title,onClick:A}),s&&Object(r.jsx)(l.a,{url:s.mediaUrl,isPay:S,onPay:D,updateViewCount:U}),(null===w||void 0===w?void 0:w.length)>0&&Object(r.jsx)(m.a,{unifyOnClick:R,threadId:k,attachments:w,onPay:D,isPay:S,updateViewCount:U,canViewAttachment:V,canDownloadAttachment:z}),C&&Object(r.jsx)(b.a,{recomputeRowHeights:e.recomputeRowHeights,voteData:C,threadId:k}),Object(r.jsx)(O.default,{target:"plugin_index",hookName:"thread_extension_display_hook",pluginProps:{renderData:T,threadData:e.data,updateListThreadIndexes:e.updateListThreadIndexes,updateThread:e.updateThread,recomputeRowHeights:e.recomputeRowHeights}})]})}(e.data)]}),S&&Object(r.jsx)(r.Fragment,{children:W.webConfig.setSite.sitePay[0].value&&Object(r.jsx)("div",{className:j.a.pay,children:Object(r.jsxs)(s.a,{className:j.a.button,type:"primary",onClick:D,children:[Object(r.jsx)(u.a,{className:j.a.payIcon,name:"GoldCoinOutlined",size:16}),1===C?Object(r.jsx)("p",{className:j.a.payText,children:"\u652f\u4ed8".concat(k,"\u5143\u67e5\u770b\u5269\u4f59\u5185\u5bb9")}):Object(r.jsx)("p",{className:j.a.payText,children:"\u652f\u4ed8".concat(T,"\u5143\u67e5\u770b\u4ed8\u8d39\u5185\u5bb9")})]})})})]})};t.a=a.a.memo(T);var _=function(e){var t=e.children,n=e.onClick;return Object(r.jsxs)("div",{className:j.a.wrapperView,children:[t,Object(r.jsx)("div",{className:j.a.placeholder,onClick:n})]})}},p532:function(e,t,n){"use strict";var r=n("I+eb"),i=n("xDBR"),a=n("/qmn"),o=n("0Dky"),s=n("0GbY"),c=n("SEBh"),u=n("zfnd"),l=n("busE");r({target:"Promise",proto:!0,real:!0,forced:!!a&&o((function(){a.prototype.finally.call({then:function(){}},(function(){}))}))},{finally:function(e){var t=c(this,s("Promise")),n="function"==typeof e;return this.then(n?function(n){return u(t,e()).then((function(){return n}))}:e,n?function(n){return u(t,e()).then((function(){throw n}))}:e)}}),i||"function"!=typeof a||a.prototype.finally||l(a.prototype,"finally",s("Promise").prototype.finally)},q1fC:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SliderViewAdapter=void 0;var r=(0,n("1d9p").baseLayoutFactory)({layoutImplement:function(){return n("OEh5").SliderWebLayout}});t.SliderViewAdapter=r},qBge:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LogicalAdapter=void 0;var r=(0,n("mlqK").baseAdapterFactory)({defaultAdapter:{},adapterImplement:function(){return n("NIbD").WebAdapter}});t.LogicalAdapter=r},qMd1:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(){return n("83zQ").useWebAdapter};t.default=r},qT12:function(e,t,n){"use strict";var r="function"===typeof Symbol&&Symbol.for,i=r?Symbol.for("react.element"):60103,a=r?Symbol.for("react.portal"):60106,o=r?Symbol.for("react.fragment"):60107,s=r?Symbol.for("react.strict_mode"):60108,c=r?Symbol.for("react.profiler"):60114,u=r?Symbol.for("react.provider"):60109,l=r?Symbol.for("react.context"):60110,d=r?Symbol.for("react.async_mode"):60111,p=r?Symbol.for("react.concurrent_mode"):60111,f=r?Symbol.for("react.forward_ref"):60112,h=r?Symbol.for("react.suspense"):60113,m=r?Symbol.for("react.suspense_list"):60120,v=r?Symbol.for("react.memo"):60115,b=r?Symbol.for("react.lazy"):60116,y=r?Symbol.for("react.block"):60121,g=r?Symbol.for("react.fundamental"):60117,j=r?Symbol.for("react.responder"):60118,x=r?Symbol.for("react.scope"):60119;function O(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case d:case p:case o:case c:case s:case h:return e;default:switch(e=e&&e.$$typeof){case l:case f:case b:case v:case u:return e;default:return t}}case a:return t}}}function w(e){return O(e)===p}t.AsyncMode=d,t.ConcurrentMode=p,t.ContextConsumer=l,t.ContextProvider=u,t.Element=i,t.ForwardRef=f,t.Fragment=o,t.Lazy=b,t.Memo=v,t.Portal=a,t.Profiler=c,t.StrictMode=s,t.Suspense=h,t.isAsyncMode=function(e){return w(e)||O(e)===d},t.isConcurrentMode=w,t.isContextConsumer=function(e){return O(e)===l},t.isContextProvider=function(e){return O(e)===u},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===i},t.isForwardRef=function(e){return O(e)===f},t.isFragment=function(e){return O(e)===o},t.isLazy=function(e){return O(e)===b},t.isMemo=function(e){return O(e)===v},t.isPortal=function(e){return O(e)===a},t.isProfiler=function(e){return O(e)===c},t.isStrictMode=function(e){return O(e)===s},t.isSuspense=function(e){return O(e)===h},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===o||e===p||e===c||e===s||e===h||e===m||"object"===typeof e&&null!==e&&(e.$$typeof===b||e.$$typeof===v||e.$$typeof===u||e.$$typeof===l||e.$$typeof===f||e.$$typeof===g||e.$$typeof===j||e.$$typeof===x||e.$$typeof===y)},t.typeOf=O},qXVe:function(e,t,n){"use strict";var r=n("67WC"),i=n("tycR").every,a=r.aTypedArray;(0,r.exportTypedArrayMethod)("every",(function(e){return i(a(this),e,arguments.length>1?arguments[1]:void 0)}))},qYE9:function(e,t){e.exports="undefined"!==typeof ArrayBuffer&&"undefined"!==typeof DataView},qpuh:function(e,t){(function(t,n){e.exports=function(){var e={929:function(e){e.exports=t}},r={};function i(t){if(r[t])return r[t].exports;var n=r[t]={exports:{}},a=!0;try{e[t](n,n.exports,i),a=!1}finally{a&&delete r[t]}return n.exports}return i.ab=n+"/",i(929)}()}).call(this,{},"/")},"r+ot":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e instanceof Uint8Array?e:new Uint8Array(e&&e.buffer||e,e&&e.byteOffset||0,e&&e.byteLength||0)};t.bytesToString=function(e){if(!e)return"";e=Array.prototype.slice.call(e);var t=String.fromCharCode.apply(null,r(e));try{return decodeURIComponent(escape(t))}catch(n){}return t},t.concatTypedArrays=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=t.reduce((function(e,t){return e+=t&&(t.byteLength||t.length)||0}),0),a=new Uint8Array(i),o=0;return t.forEach((function(e){e=r(e),a.set(e,o),o+=e.byteLength})),a},t.isTypedArray=function(e){return ArrayBuffer.isView(e)},t.stringToBytes=function(e,t){void 0===t&&(t=!1);return"string"!==typeof e&&e&&"function"===typeof e.toString&&(e=e.toString()),"string"!==typeof e?[]:(t||(e=unescape(encodeURIComponent(e))),e.split("").map((function(e){return 255&e.charCodeAt(0)})))},t.toUint8=r},rNhl:function(e,t,n){var r=n("I+eb"),i=n("fhKU");r({global:!0,forced:parseFloat!=i},{parseFloat:i})},rOQg:function(e,t,n){"use strict";var r=n("I+eb"),i=n("0Dky"),a=n("Yhre"),o=n("glrk"),s=n("I8vh"),c=n("UMSQ"),u=n("SEBh"),l=a.ArrayBuffer,d=a.DataView,p=l.prototype.slice;r({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:i((function(){return!new l(2).slice(1,void 0).byteLength}))},{slice:function(e,t){if(void 0!==p&&void 0===t)return p.call(o(this),e);for(var n=o(this).byteLength,r=s(e,n),i=s(void 0===t?n:t,n),a=new(u(this,l))(c(i-r)),f=new d(this),h=new d(a),m=0;r<i;)h.setUint8(m++,f.getUint8(r++));return a}})},"rQI+":function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.CheckboxWebLayout=void 0;var i=r(n("pVnL")),a=r(n("q1tI")),o=n("/j3c"),s=n("eCtc"),c=r(n("T4r6")),u=(0,o.forwardRefWithStatics)((function(e,t){return a.default.createElement(c.default,(0,i.default)({ref:t},e))}),{Group:s.CheckboxGroup});t.CheckboxWebLayout=u},rnXk:function(e,t,n){"use strict";e.exports={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21}},s5qe:function(e,t,n){"use strict";var r=n("2oRo"),i=n("67WC"),a=n("0Dky"),o=r.Int8Array,s=i.aTypedArray,c=i.exportTypedArrayMethod,u=[].toLocaleString,l=[].slice,d=!!o&&a((function(){u.call(new o(1))}));c("toLocaleString",(function(){return u.apply(d?l.call(s(this)):s(this),arguments)}),a((function(){return[1,2].toLocaleString()!=new o([1,2]).toLocaleString()}))||!a((function(){o.prototype.toLocaleString.call([1,2])})))},sDzi:function(e,t){var n={"":1,lr:1,rl:1},r={start:1,center:1,end:1,left:1,right:1,auto:1,"line-left":1,"line-right":1};function i(e){return"string"===typeof e&&(!!r[e.toLowerCase()]&&e.toLowerCase())}function a(e,t,r){this.hasBeenReset=!1;var a="",o=!1,s=e,c=t,u=r,l=null,d="",p=!0,f="auto",h="start",m="auto",v="auto",b=100,y="center";Object.defineProperties(this,{id:{enumerable:!0,get:function(){return a},set:function(e){a=""+e}},pauseOnExit:{enumerable:!0,get:function(){return o},set:function(e){o=!!e}},startTime:{enumerable:!0,get:function(){return s},set:function(e){if("number"!==typeof e)throw new TypeError("Start time must be set to a number.");s=e,this.hasBeenReset=!0}},endTime:{enumerable:!0,get:function(){return c},set:function(e){if("number"!==typeof e)throw new TypeError("End time must be set to a number.");c=e,this.hasBeenReset=!0}},text:{enumerable:!0,get:function(){return u},set:function(e){u=""+e,this.hasBeenReset=!0}},region:{enumerable:!0,get:function(){return l},set:function(e){l=e,this.hasBeenReset=!0}},vertical:{enumerable:!0,get:function(){return d},set:function(e){var t=function(e){return"string"===typeof e&&!!n[e.toLowerCase()]&&e.toLowerCase()}(e);if(!1===t)throw new SyntaxError("Vertical: an invalid or illegal direction string was specified.");d=t,this.hasBeenReset=!0}},snapToLines:{enumerable:!0,get:function(){return p},set:function(e){p=!!e,this.hasBeenReset=!0}},line:{enumerable:!0,get:function(){return f},set:function(e){if("number"!==typeof e&&"auto"!==e)throw new SyntaxError("Line: an invalid number or illegal string was specified.");f=e,this.hasBeenReset=!0}},lineAlign:{enumerable:!0,get:function(){return h},set:function(e){var t=i(e);t?(h=t,this.hasBeenReset=!0):console.warn("lineAlign: an invalid or illegal string was specified.")}},position:{enumerable:!0,get:function(){return m},set:function(e){if(e<0||e>100)throw new Error("Position must be between 0 and 100.");m=e,this.hasBeenReset=!0}},positionAlign:{enumerable:!0,get:function(){return v},set:function(e){var t=i(e);t?(v=t,this.hasBeenReset=!0):console.warn("positionAlign: an invalid or illegal string was specified.")}},size:{enumerable:!0,get:function(){return b},set:function(e){if(e<0||e>100)throw new Error("Size must be between 0 and 100.");b=e,this.hasBeenReset=!0}},align:{enumerable:!0,get:function(){return y},set:function(e){var t=i(e);if(!t)throw new SyntaxError("align: an invalid or illegal alignment string was specified.");y=t,this.hasBeenReset=!0}}}),this.displayState=void 0}a.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)},e.exports=a},sr3F:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=/^(audio|video|application)\/(x-|vnd\.apple\.)?mpegurl/i,i=/^application\/dash\+xml/i;t.simpleTypeFromSourceType=function(e){return r.test(e)?"hls":i.test(e)?"dash":"application/vnd.videojs.vhs+json"===e?"vhs-json":null}},tPP9:function(e,t,n){"use strict";n("ma9I"),n("07d7"),n("JfAA"),Object.defineProperty(t,"__esModule",{value:!0}),t.uuid=function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return"".concat(e()+e(),"-").concat(e(),"-").concat(e(),"-").concat(e(),"-").concat(e()).concat(e()).concat(e())}},tale:function(e){e.exports=JSON.parse('{"name_cn":"\u6295\u7968\u8d34\u63d2\u4ef6","name_en":"CustomActApply","description":"\u53d1\u5e16\u589e\u52a0\u6295\u7968\u8d34","type":9,"app_id":"asdasdasd","version":"1.0.0","status":1,"icon":"https://discuz.chat/dzq-img/active.png","filter_enable":false,"author":{"name":"angelzou","email":"angelzou@tencent.com"},"view":{"entry":{"target":"plugin_post","hookName":"post_extension_entry_hook","platform":["pc","h5","mini"],"disables":false},"display":{"target":["plugin_index","plugin_detail"],"hookName":"thread_extension_display_hook","platform":["pc","h5","mini"],"disables":false},"post":{"target":"plugin_post","hookName":"post_extension_content_hook","platform":["pc","h5","mini"],"disables":false}}}')},"u/Lb":function(e,t,n){"use strict";n.d(t,"a",(function(){return rn}));n("wLYn"),n("qePV");var r,i=n("nKUr"),a=n("o0o1"),o=n.n(a),s=n("lSNA"),c=n.n(s),u=(n("ls82"),n("yXPU")),l=n.n(u),d=n("W8MJ"),p=n.n(d),f=n("PJYZ"),h=n.n(f),m=n("lwsE"),v=n.n(m),b=n("7W2i"),y=n.n(b),g=n("a1gu"),j=n.n(g),x=n("Nsbk"),O=n.n(x),w=n("q1tI"),C=n.n(w),k=n("yuBF"),N=n("uhBA"),T=n.n(N),_=n("+3IH"),P=(n("ma9I"),n("k8W2")),S=n.n(P),E=n("STnV"),A=(n("toAj"),n("R5XZ"),n("5f2u")),I=n.n(A),R=n("MCNy"),D=n.n(R),L=n("jqTq"),M=n.n(L),B="_273uq4OLdnpnhLvyPL49m5",U="a8VOWJxQ0VVGHZq0_lk12",F="_1H0RtXQSTf3uP6V0m_1Ypl",W="_16QmJOxCyiNsBzEARETLYR",q="_3Ko_vnnlaaR5TJ_YrnWCZs",z=(n("2B1R"),{amountTitle:"PIEOep9GS8vU9q16-6GAY",amountContent:"_15DyFTAb4sEZuGe081WW4",acExplain:"_10oZfecCKCXqxhzbIemW9g",acExplainH5:"ySjIu1MsWn6KTQont4C_Z",acExplainLabel:"Q1lTusHK3e5b6rHCEbrha",acExplainValue:"_2hnpqDezK6iu3rfqrNdnLB",acExplainNum:"_2L9nY0HHM0mrRi9uzzwXx4",acExplainDivider:"GpUZQSL0Uvjlr2GmxUdEO",ampuntLineWrap:"_3mGJZFeMhG6I1GyqZLev4d",ampuntLine:"_2Li_q0IFpaABg1EIgifQyH",title:"hdJ0_s8y6gQFj_y3vsA_x",payList:"_2Upp7O3miRL_IAYhQWuMCo",payListItem:"HoNLZAkwqhz_dApU-55ZB",payListItem01:"_1nlfFE6rCnhSR0CiINCLuh",amountContentPC:"FuisSqQ1kogxbg9E4iB7g"}),V=n("V+Sr"),X=n.n(V),H=n("x2xJ"),Y=n.n(H);function Q(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=O()(e);if(t){var i=O()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return j()(this,n)}}var G=Object(k.inject)("site")(r=Object(k.inject)("payBox")(r=Object(k.observer)(r=function(e){y()(n,e);var t=Q(n);function n(e){var r;return v()(this,n),(r=t.call(this,e)).renderDiffTradeType=function(e){var t="";switch(e){case E.b.ORDER_TYPE_REGISTER:t="\u4ed8\u8d39\u52a0\u5165";break;case E.b.ORDER_TYPE_REWARD:t="\u6253\u8d4f";break;case E.b.ORDER_TYPE_THREAD:t="\u4ed8\u8d39\u5e16";break;case E.b.ORDER_TYPE_GROUP:t="\u8d2d\u4e70\u6743\u9650\u7ec4";break;case E.b.ORDER_TYPE_QUESTION:t="\u4ed8\u8d39\u63d0\u95ee";break;case E.b.ORDER_TYPE_ONLOOKER:t="\u95ee\u7b54\u56f4\u89c2";break;case E.b.ORDER_TYPE_ATTACHMENT:t="\u5e16\u5b50\u5185\u5bb9";break;case E.b.ORDER_TYPE_RENEW:t="\u7ad9\u70b9\u4ed8\u8d39";break;case E.b.ORDER_TYPE_REDPACKET:t="\u7ea2\u5305";break;case E.b.ORDER_TYPE_QUESTION_REWARD:t="\u60ac\u8d4f";break;case E.b.ORDER_TYPE_MERGE:t="\u7ea2\u5305+\u60ac\u8d4f";break;case E.b.ORDER_TYPE_TEXT:t="\u6587\u5b57\u5e16\u7ea2\u5305";break;case E.b.ORDER_TYPE_RECHARGE:t="\u5145\u503c"}return t},r.transMoneyToFixed=function(e){return Number(e).toFixed(2)},r.handleChangeIsAnonymous=function(e){r.props.payBox.isAnonymous=e},r.state={tradeContent:[{type:E.b.ORDER_TYPE_REDPACKET,name:"\u7ea2\u5305"},{type:E.b.ORDER_TYPE_QUESTION_REWARD,name:"\u60ac\u8d4f"}]},r}return p()(n,[{key:"render",value:function(){var e,t=this,n=this.props.currentPaymentData,r=void 0===n?{}:n,a=r.type,o=r.amount,s=(r.isAnonymous,r.title),c=r.redAmount,u=r.rewardAmount,l=(null===(e=this.props)||void 0===e?void 0:e.site).platform,d=this.state.tradeContent,p=void 0===d?[]:d;return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("div",{className:z.amountTitle,style:{textAlign:"pc"===l?"center":"left"},children:"\u786e\u8ba4\u91d1\u989d"}),Object(i.jsx)("div",{className:"".concat(z.amountContent," ").concat("pc"===l&&z.amountContentPC),children:a===E.b.ORDER_TYPE_MERGE?Object(i.jsx)(i.Fragment,{children:p.map((function(e,n){var r=e.type===E.b.ORDER_TYPE_REDPACKET?c:u;return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsxs)("div",{className:z.acExplain,children:[Object(i.jsx)("span",{className:z.acExplainLabel,children:"\u4ea4\u6613\u7c7b\u578b"})," ",Object(i.jsx)("span",{className:z.acExplainValue,children:t.renderDiffTradeType(e.type)})]}),Object(i.jsx)(Y.a,{className:z.acExplainDivider}),Object(i.jsxs)("div",{className:z.acExplain,children:[Object(i.jsx)("span",{className:z.acExplainLabel,children:"\u5546\u54c1\u540d\u79f0"})," ",Object(i.jsx)("span",{className:z.acExplainValue,children:s})]}),Object(i.jsx)(Y.a,{className:z.acExplainDivider}),Object(i.jsxs)("div",{className:z.acExplain,children:[Object(i.jsx)("span",{className:z.acExplainLabel,children:"\u652f\u4ed8\u91d1\u989d"}),Object(i.jsxs)("span",{className:z.acExplainNum,children:["\uffe5",t.transMoneyToFixed(r)]})]}),0===n&&Object(i.jsx)("div",{className:z.ampuntLineWrap,children:Object(i.jsx)("div",{className:z.ampuntLine})})]})}))}):Object(i.jsxs)(i.Fragment,{children:[Object(i.jsxs)("div",{className:z.acExplain,children:[Object(i.jsx)("span",{className:z.acExplainLabel,children:"\u4ea4\u6613\u7c7b\u578b"})," ",Object(i.jsx)("span",{className:z.acExplainValue,children:this.renderDiffTradeType(a)})]}),Object(i.jsx)(Y.a,{className:z.acExplainDivider}),Object(i.jsxs)("div",{className:z.acExplain,children:[Object(i.jsx)("span",{className:z.acExplainLabel,children:"\u5546\u54c1\u540d\u79f0"})," ",Object(i.jsx)("span",{className:z.acExplainValue,children:s})]}),Object(i.jsx)(Y.a,{className:z.acExplainDivider}),Object(i.jsxs)("div",{className:z.acExplain,children:[Object(i.jsx)("span",{className:z.acExplainLabel,children:"\u652f\u4ed8\u91d1\u989d"}),Object(i.jsxs)("span",{className:z.acExplainNum,children:["\uffe5",this.transMoneyToFixed(o)]})]}),a===E.b.REGEISTER_SITE&&Object(i.jsxs)("div",{className:"".concat(z.acExplain," ").concat("h5"===l&&z.acExplainH5),children:[Object(i.jsx)(X.a,{checked:this.props.payBox.isAnonymous,onChange:this.handleChangeIsAnonymous})," \u9690\u85cf\u6211\u7684\u4ed8\u8d39\u4fe1\u606f"]})]})})]})}}]),n}(w.Component))||r)||r)||r;G.defaultProps={currentPaymentData:{},isNotShowTitle:!1};var J,K=n("wdT/"),Z=n.n(K),$=n("dQ0f");function ee(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=O()(e);if(t){var i=O()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return j()(this,n)}}var te,ne=Object(k.inject)("payBox")(J=Object(k.observer)(J=function(e){y()(n,e);var t=ee(n);function n(e){var r;return v()(this,n),(r=t.call(this,e)).onClose=function(){r.props.payBox.visible=!1,setTimeout((function(){r.props.payBox.clear()}),300)},r.goToThePayConfirmPage=Object($.a)(l()(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r.state.isLoading){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,r.setState({isLoading:!0}),e.next=6,r.props.payBox.createOrder();case 6:r.setState({isLoading:!1}),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(2),Z.a.error({content:e.t0.Message,hasMask:!1,duration:1e3}),r.onClose(),r.setState({isLoading:!1});case 14:case"end":return e.stop()}}),e,null,[[2,9]])}))),300),r.transMoneyToFixed=function(e){return Number(e).toFixed(2)},r.renderAmountRecognizedContent=function(){var e=r.props.payBox.options,t=void 0===e?{}:e,n=t.amount,a=void 0===n?0:n,o=r.state.isLoading;return Object(i.jsxs)("div",{className:B,children:[Object(i.jsx)("div",{className:W,children:Object(i.jsx)(G,{currentPaymentData:t})}),Object(i.jsx)("div",{className:U,children:Object(i.jsx)(I.a,{type:"primary",onClick:r.goToThePayConfirmPage,size:"large",className:F,full:!0,disabled:o,children:o?Object(i.jsx)(M.a,{type:"spinner",children:"\u751f\u6210\u8ba2\u5355\u4e2d..."}):"\u652f\u4ed8 \uffe5".concat(r.transMoneyToFixed(a))})}),Object(i.jsx)("div",{className:q,onClick:r.onClose,children:Object(i.jsx)(D.a,{name:"CloseOutlined",size:14})})]})},r.state={isLoading:!1},r}return p()(n,[{key:"render",value:function(){return Object(i.jsx)("div",{children:this.renderAmountRecognizedContent()})}}]),n}(w.Component))||J)||J,re=(n("sMBO"),"_39fDF9f46l0gFy5HddQHCX"),ie="_17w_s0OrXETmiUilH55gEI",ae="_3KyC9POQ25EUjGxSK5dRnH",oe="_3sylUdUvigrU0fg2i37RY8",se="_2BD3esqItNvqJolhG75plD",ce="_39KQ42VxfZhD7uI7pH4_9P",ue="_2a1J4KJxoXOZOsd6rozrjB",le="_3V2EKYelnuqRbG5HhuZD32",de="_1tWu_K7zROerR32pZEgm2T",pe="_2XcMVZXHCqNCh0nsa4etJs",fe="_2Qwnd6bWyz9jKGGr206k3g",he="_1zri7PaS4GHkphYjUup8-X",me="_3VZXaPvbPJyKMB89iim186",ve="MeEuitG7lCETpn4Kin8dB",be="_1A3VLTVK4nRTbG5F1vkYuv",ye=n("BGqZ"),ge=n.n(ye),je=n("B5JU"),xe=n.n(je),Oe=n("RiVy"),we=(n("07d7"),n("5s+n"),n("lY1M")),Ce=function(e){return new Promise((function(t,n){var r=e.appId,i=e.timeStamp,a=e.nonceStr,o=e.package,s=e.paySign;WeixinJSBridge.invoke("getBrandWCPayRequest",{appId:r,timeStamp:i,nonceStr:a,package:o,signType:"MD5",paySign:s},(function(e){var r=Object(_.a)(e,"err_msg","");r===E.g.WX_PAY_OK&&t(),r===E.g.WX_PAY_CANCEL&&n(E.d.WX_PAY_CANCEL),r===E.g.WX_PAY_FAIL&&n(E.d.WX_PAY_FAIL)}))})).catch((function(e){console.log(e)}))},ke=function(e){return new Promise((function(t,n){var r="/pay/middle?link=".concat(encodeURIComponent(e));xe.a.push({url:r}),t()}))},Ne=function(e){"undefined"===typeof WeixinJSBridge?document.addEventListener?document.addEventListener("WeixinJSBridgeReady",e,!1):document.attachEvent&&(document.attachEvent("WeixinJSBridgeReady",e),document.attachEvent("onWeixinJSBridgeReady",e)):e()},Te=function(e){e()},_e=function(){},Pe=E.e.WX_OFFICAL,Se=n("lN2P");function Ee(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=O()(e);if(t){var i=O()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return j()(this,n)}}var Ae,Ie=Object(k.inject)("site")(te=Object(k.inject)("user")(te=Object(k.inject)("payBox")(te=Object(k.observer)(te=function(e){y()(n,e);var t=Ee(n);function n(e){var r;v()(this,n),(r=t.call(this,e)).initState=function(){r.setState({isSubmit:!1}),r.props.payBox.payWay=E.c.WALLET},r.componentDidMount=l()(o.a.mark((function e(){var t,n,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null===(t=r.props)||void 0===t?void 0:t.user,i=n.id,e.prev=1,e.next=4,r.props.payBox.getWalletInfo(i);case 4:r.initState(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),Z.a.error({content:"\u83b7\u53d6\u7528\u6237\u94b1\u5305\u4fe1\u606f\u5931\u8d25",duration:2e3});case 10:r.isRecharge();case 11:case"end":return e.stop()}}),e,null,[[1,7]])}))),r.isRecharge=function(){var e=r.props.site||{},t=e.isWechatPayOpen,n=(e.webConfig.setSite||{}).siteCharge;if(t&&1===n){var i=r.props.payBox.options;30===(void 0===i?{}:i).type&&(r.props.payBox.payWay=E.c.WX,r.state.payConfig.pop(),r.setState({payConfig:r.state.payConfig}))}},r.handleChangePaymentType=function(e){r.props.payBox.payWay=e},r.toRechargePage=function(){xe.a.push({url:"/wallet/recharge"}),r.props.payBox.visible=!1},r.handlePayConfirmed=Object($.a)(l()(o.a.mark((function e(){var t,n,i,a,s,c,u,l,d;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.props.payBox.payWay!==E.c.WALLET){e.next=12;break}if(n=r.props.payBox.options,i=(void 0===n?{}:n).amount,a=void 0===i?0:i,!(Number(null===(t=r.props.payBox)||void 0===t?void 0:t.walletAvaAmount)<Number(a))){e.next=9;break}return s=r.props.site||{},c=s.isWechatPayOpen,u=s.webConfig,l=u.setSite||{},d=l.siteCharge,c&&1===d,Z.a.error({content:"\u94b1\u5305\u4f59\u989d\u4e0d\u8db3",duration:2e3}),e.abrupt("return");case 9:r.props.payBox.walletPayEnsure(),e.next=31;break;case 12:if(r.props.payBox.payWay!==E.c.WX){e.next=31;break}if(e.prev=13,r.setState({isSubmit:!0}),Object(Oe.a)()){e.next=21;break}return e.next=18,r.props.payBox.wechatPayOrder({listenWXJsBridgeAndExecCallback:Te,onBridgeReady:ke,wxValidator:_e,mode:E.e.WX_H5});case 18:return r.props.payBox.visible=!1,r.setState({isSubmit:!1}),e.abrupt("return");case 21:return e.next=23,r.props.payBox.wechatPayOrder({listenWXJsBridgeAndExecCallback:Ne,onBridgeReady:Ce,wxValidator:_e,mode:Pe});case 23:r.setState({isSubmit:!1}),e.next=31;break;case 26:e.prev=26,e.t0=e.catch(13),console.error(e.t0),Z.a.error({content:e.t0.Message||"\u62c9\u8d77\u5fae\u4fe1\u652f\u4ed8\u5931\u8d25",duration:2e3}),r.setState({isSubmit:!1});case 31:case"end":return e.stop()}}),e,null,[[13,26]])}))),500),r.handleCancel=function(){r.props.payBox.step=E.f.SURE,r.props.payBox.payWay=null},r.transMoneyToFixed=function(e){return Number(e).toFixed(2)},r.getDisabledWithButton=function(){var e,t,n=r.state.isSubmit,i=null===(e=r.props.user)||void 0===e?void 0:e.canWalletPay,a=r.props.payBox.options,o=(void 0===a?{}:a).amount,s=void 0===o?0:o,c=!r.props.payBox.payWay||n;r.props.payBox.payWay===E.c.WALLET&&(i||(c=!0),Number(null===(t=r.props.payBox)||void 0===t?void 0:t.walletAvaAmount)<Number(s)&&!r.isToRecharge()&&(c=!0));return c},r.getPayText=function(){return"\u786e\u5b9a\u652f\u4ed8"},r.isToRecharge=function(){var e,t=r.props.payBox.options,n=(void 0===t?{}:t).amount,i=void 0===n?0:n,a=r.props.site||{},o=a.isWechatPayOpen,s=(a.webConfig.setSite||{}).siteCharge;return!!(o&&1===s&&r.props.payBox.payWay===E.c.WALLET&&Number(null===(e=r.props.payBox)||void 0===e?void 0:e.walletAvaAmount)<Number(i))},r.gotoBind=function(){r.props.payBox.visible=!1;var e=r.props.payBox.currentPage,t=e.type,n=e.threadId,i=void 0===n?"":n,a="";if("miniProgram"===r.props.site.wechatEnv)switch(t){case 1:a="/indexPages/thread/index?id=".concat(i);break;case 2:a="/indexPages/thread/post/index"}"openPlatform"===r.props.site.wechatEnv&&(Se.a.saveCurrentUrl(),a=Se.a.getUrl()),xe.a.push({url:"/user/wx-bind-qrcode?toPage=".concat(encodeURIComponent(a))})},r.renderRightChoices=function(e){var t,n,a=r.props.payBox.options,o=void 0===a?{}:a,s=null===(t=r.props.user)||void 0===t?void 0:t.canWalletPay;return e.paymentType===E.c.WALLET?s&&Number(null===(n=r.props.payBox)||void 0===n?void 0:n.walletAvaAmount)>=Number(o.amount)?Object(i.jsxs)(i.Fragment,{children:[r.walletPaySubText(),Object(i.jsx)(ge.a,{name:e.paymentType})]}):r.walletPaySubText():e.paymentType===E.c.WX?r.props.user.isBindWechat?Object(i.jsx)(ge.a,{name:e.paymentType}):Object(i.jsx)(I.a,{className:he,type:"text",onClick:r.gotoBind,children:"\u7ed1\u5b9a\u5fae\u4fe1"}):void 0};var a=[{name:"\u94b1\u5305\u652f\u4ed8",icon:"PurseOutlined",color:"#1878f3",paymentType:"wallet"}];return r.props.site.isWechatPayOpen&&a.unshift({name:"\u5fae\u4fe1\u652f\u4ed8",icon:"WechatPaymentOutlined",color:"#09bb07",paymentType:"weixin"}),r.state={payConfig:a,isSubmit:!1},r.goSetPayPwa=r.goSetPayPwa.bind(h()(r)),r}return p()(n,[{key:"walletPaySubText",value:function(){var e,t,n,r,a=null===(e=this.props.user)||void 0===e?void 0:e.canWalletPay,o=this.props.payBox.options,s=(void 0===o?{}:o).amount,c=void 0===s?0:s;return a?Number(null===(t=this.props.payBox)||void 0===t?void 0:t.walletAvaAmount)<Number(c)?Object(i.jsx)("p",{className:pe,children:"\u4f59\u989d\u4e0d\u8db3"}):Object(i.jsx)(i.Fragment,{children:null!==(n=this.props.payBox)&&void 0!==n&&n.walletAvaAmount?Object(i.jsxs)("p",{className:pe,children:["\u94b1\u5305\u4f59\u989d\uff1a\uffe5",null===(r=this.props.payBox)||void 0===r?void 0:r.walletAvaAmount]}):Object(i.jsx)(M.a,{type:"spinner",size:14})}):Object(i.jsx)(I.a,{type:"text",className:he,onClick:this.goSetPayPwa,children:"\u8bf7\u8bbe\u7f6e\u652f\u4ed8\u5bc6\u7801"})}},{key:"goSetPayPwa",value:function(){xe.a.push({url:"/my/edit/paypwd?type=paybox"}),this.props.payBox.visible=!1}},{key:"render",value:function(){var e=this,t=this.props.payBox.options,n=void 0===t?{}:t,r=this.state,a=r.payConfig,o=r.isSubmit;return Object(i.jsxs)("div",{className:re,children:[Object(i.jsx)("div",{className:ae,children:Object(i.jsxs)("p",{children:[Object(i.jsx)("span",{className:ie,children:"\uffe5"}),this.transMoneyToFixed(n.amount)]})}),Object(i.jsx)("div",{className:oe,children:Object(i.jsx)(ge.a.Group,{value:this.props.payBox.payWay,onChange:function(t){e.handleChangePaymentType(t)},children:a.map((function(t,n){return Object(i.jsxs)("div",{className:se,children:[Object(i.jsxs)("div",{className:ce,children:[Object(i.jsx)(D.a,{className:ue,name:t.icon,color:t.color,size:20}),Object(i.jsx)("p",{className:le,children:t.name})]}),Object(i.jsxs)("div",{className:de,children:[e.renderRightChoices(t),e.isToRecharge()&&t.paymentType===E.c.WALLET&&Object(i.jsx)("p",{className:fe,onClick:e.toRechargePage,children:"\u5145\u503c"})]})]},n)}))})}),Object(i.jsx)("div",{className:me,children:Object(i.jsx)(I.a,{disabled:this.getDisabledWithButton(),className:ve,type:"primary",size:"large",full:!0,onClick:this.handlePayConfirmed,children:o?Object(i.jsx)(M.a,{type:"spinner",children:"\u62c9\u8d77\u652f\u4ed8\u4e2d..."}):this.getPayText()})}),Object(i.jsx)("div",{className:be,onClick:this.handleCancel,children:Object(i.jsx)(D.a,{name:"CloseOutlined",size:14})})]})}}]),n}(C.a.Component))||te)||te)||te)||te,Re=n("+pgT"),De=n.n(Re),Le="_3tWCW8uPyzWXxA-rQ-a2oS",Me="_2KzUpH0TonIOkinvQR1NbV",Be="_2Bd_2HOwBQx8fI78ADmF5Q",Ue="PR6W5KxOEYvjfhJJuACnT",Fe="_3ERYDprQ5yNCx6nGJwr-YM",We="_2wCeVHO1PlrTDu_M_pOXFV",qe="vh5fFZuIsznI7aQ_sQURc",ze=n("X6IV");function Ve(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=O()(e);if(t){var i=O()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return j()(this,n)}}var Xe,He=Object(k.inject)("site")(Ae=Object(k.inject)("user")(Ae=Object(k.inject)("payBox")(Ae=Object(k.observer)(Ae=function(e){y()(n,e);var t=Ve(n);function n(){var e;v()(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).clearPayBox=function(){setTimeout((function(){e.props.payBox.clear()}),500)},e.goBack=function(){(we.b.env("uc")||we.b.env("safari"))&&window.history.back()},e.handleCancel=function(){e.clearPayBox(),e.props.payBox.visible=!1,e.props.payBox.h5SureDialogVisible=!1,e.goBack()},e.handleSure=function(){e.props.payBox.visible=!1,e.props.payBox.h5SureDialogVisible=!1,e.props.payBox.getOrderDetail(),e.clearPayBox(),e.goBack()},e}return p()(n,[{key:"componentDidMount",value:function(){if(we.b.env("uc")||we.b.env("safari")){var e=ze.a.get("PAY_ORDER_INFO"),t=ze.a.get("PAY_ORDER_OPTIONS");if(e)try{var n=JSON.parse(e);this.props.payBox.orderInfo=n}catch(i){console.error(i)}if(t)try{var r=JSON.parse(t);this.props.payBox.options=r}catch(i){console.error(i)}}}},{key:"render",value:function(){return Object(i.jsx)(De.a,{style:{zIndex:1500},className:Le,visible:this.props.visible,children:Object(i.jsxs)("div",{className:Me,children:[Object(i.jsx)("div",{className:Be,children:"\u8bf7\u786e\u8ba4\u5fae\u4fe1\u652f\u4ed8\u662f\u5426\u5df2\u5b8c\u6210"}),Object(i.jsxs)("div",{className:Ue,children:[Object(i.jsx)("p",{children:"1.\u5982\u679c\u60a8\u5df2\u5728\u6253\u5f00\u5fae\u4fe1\u652f\u4ed8\u6210\u529f\uff0c\u8bf7\u70b9\u51fb \u201c\u5df2\u5b8c\u6210\u4ed8\u6b3e\u201d\u6309\u94ae"}),Object(i.jsx)("p",{children:"2.\u5982\u679c\u60a8\u6ca1\u6709\u5b89\u88c5\u5fae\u4fe1\u652f\u4ed8\u5ba2\u6237\u7aef\uff0c\u8bf7\u70b9\u51fb\u201c\u53d6\u6d88\u201d\u5e76\u9009\u62e9\u5176\u5b83\u652f\u4ed8\u65b9\u5f0f\u4ed8\u6b3e"})]}),Object(i.jsxs)("div",{className:Fe,children:[Object(i.jsx)("div",{className:We,children:Object(i.jsx)(I.a,{className:qe,onClick:this.handleCancel,children:"\u53d6\u6d88"})}),Object(i.jsx)("div",{className:We,children:Object(i.jsx)(I.a,{type:"primary",onClick:this.handleSure,children:"\u5df2\u5b8c\u6210\u4ed8\u6b3e"})})]})]})})}}]),n}(C.a.Component))||Ae)||Ae)||Ae)||Ae,Ye=(n("oVuX"),n("+2oP"),n("RIqP")),Qe=n.n(Ye),Ge="_2Vx84sNY58dPzwWskcwAgd",Je="_3YHUVpvA6_rMFFSN1CS6tL",Ke="_5Si4nUS5TOs1uVoqUMRpy",Ze="g-abdC76wm48qlX5M3vH3",$e="gDNja4j3yS9ctqGupFd_P",et="qIN1cPOm7KJVbCqZfoidC",tt="_2dfF_P-KMFNceeGYBrU4Ar",nt="_2CFtztssPI08jSsglqgysB",rt="_1Isf8FiOBpa8-8vXbsPCsA",it="_2XRCg76blqxehjNZfZa_ei",at="_3WayjqywNks6oiREwHISa-",ot="_3uoSdRZqF72Uscao_iULkJ",st="_1LiwX8kRpgf9_uO3bvNQDR",ct="_38VX6n1ZUndfEZhnLUcLPB",ut="trNl2o54yRIIzZVImW9RL",lt="_2ebifxwQhNQokJ9RYyO9h7";n("z8Av");function dt(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=O()(e);if(t){var i=O()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return j()(this,n)}}var pt=Object(k.inject)("payBox")(Xe=Object(k.observer)(Xe=function(e){y()(n,e);var t=dt(n);function n(e){var r;return v()(this,n),(r=t.call(this,e)).toMarryNumber=function(e){var t;switch(e){case 48:case 96:t="0";break;case 49:case 97:t="1";break;case 50:case 98:t="2";break;case 51:case 99:t="3";break;case 52:case 100:t="4";break;case 53:case 101:t="5";break;case 54:case 102:t="6";break;case 55:case 103:t="7";break;case 56:case 104:t="8";break;case 57:case 105:t="9"}return t},r.handleKeyDown=function(e){if(e.keyCode>=48&&e.keyCode<=57||e.keyCode>=96&&e.keyCode<=105){var t=r.toMarryNumber(e.keyCode);r.props.updatePwd&&r.props.updatePwd(t,"add")}else 13==e.keyCode||8==e.keyCode&&r.props.updatePwd&&r.props.updatePwd("","delete")},r.state={list:[]},r}return p()(n,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"renderPwdItem",value:function(){var e=this.props,t=e.list,n=void 0===t?[]:t,r=e.whetherIsShowPwdBox,a=n.map((function(e,t){return Object(i.jsx)("div",{className:"".concat(z.payListItem," ").concat(z.activation," ").concat(r&&z.payListItem01),children:"\u25cf"},t)}));if(a.length<6)for(var o=!1,s=a.length;s<6;s++)o?a.push(Object(i.jsx)("div",{className:"".concat(z.payListItem," ").concat(r&&z.payListItem01)},s)):(o=!0,a.push(Object(i.jsx)("div",{className:"".concat(z.payListItem," ").concat(z.curr," ").concat(r&&z.payListItem01)},s)));return a}},{key:"render",value:function(){return Object(i.jsx)("div",{children:Object(i.jsx)("div",{className:z.payList,children:this.renderPwdItem()})})}}]),n}(w.Component))||Xe)||Xe;pt.defaultProps={updatePwd:function(){},whetherIsShowPwdBox:!1};var ft,ht=n("i8i4"),mt=n.n(ht);function vt(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=O()(e);if(t){var i=O()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return j()(this,n)}}var bt,yt=Object(k.inject)("site")(ft=Object(k.inject)("user")(ft=Object(k.inject)("payBox")(ft=Object(k.observer)(ft=function(e){y()(n,e);var t=vt(n);function n(e){var r;return v()(this,n),(r=t.call(this,e)).initState=function(){r.setState({list:[],isShow:!1})},r.updatePwd=function(e,t){var n=r.state.list,i=void 0===n?[]:n;if("add"==t){var a=Qe()(i);if(i.length>=6)return;r.setState({list:[].concat(a,[e])},(function(){6===r.state.list.length&&Object($.a)(r.submitPwa(),500)}))}else"delete"==t&&r.setState({list:i.slice(0,i.length-1)})},r.handleForgetPayPwd=Object($.a)((function(){if(!r.props.user.mobile)return Z.a.error({content:"\u9700\u8981\u9996\u5148\u7ed1\u5b9a\u624b\u673a\u53f7\u624d\u80fd\u8fdb\u884c\u6b64\u64cd\u4f5c",duration:2e3}),void setTimeout((function(){r.props.payBox.visible=!1,xe.a.push({url:"/user/bind-phone?from=paybox"})}),1e3);xe.a.push({url:"/my/edit/find-paypwd?type=paybox"}),r.initState(),r.props.payBox.visible=!1}),1e3),r.handleCancel=function(){r.props.payBox.step=E.f.PAYWAY,r.initState()},r.renderDialogPayment=function(){var e,t,n=r.state,a=n.list,o=void 0===a?[]:a,s=(n.isShow,(null===(e=r.props)||void 0===e?void 0:e.payBox).options),c=void 0===s?{}:s,u=r.props.site.isSmsOpen;null===(t=r.props.user)||void 0===t||t.mobile;return Object(i.jsx)("div",{children:Object(i.jsx)(De.a,{className:et,visible:r.props.payBox.visible&&r.props.payBox.step===E.f.WALLET_PASSWORD,position:"center",maskClosable:!0,children:Object(i.jsxs)("div",{className:nt,children:[Object(i.jsx)("div",{className:rt,children:"\u7acb\u5373\u652f\u4ed8"}),Object(i.jsxs)("div",{className:it,children:[Object(i.jsx)("span",{className:tt,children:"\uffe5"}),Number(c.amount).toFixed(2)]}),Object(i.jsx)(Y.a,{className:ct}),Object(i.jsxs)("div",{className:at,children:[Object(i.jsx)("span",{className:ot,children:"\u652f\u4ed8\u65b9\u5f0f"}),Object(i.jsxs)("span",{children:[Object(i.jsx)(D.a,{className:st,name:"PurseOutlined"}),Object(i.jsx)("span",{style:{verticalAlign:"middle"},children:"\u94b1\u5305\u652f\u4ed8"})]})]}),Object(i.jsx)("div",{className:at,children:Object(i.jsx)("span",{className:ot,children:"\u652f\u4ed8\u5bc6\u7801"})}),Object(i.jsx)(pt,{list:o,updatePwd:r.updatePwd,whetherIsShowPwdBox:!0}),Object(i.jsx)("div",{className:lt,onClick:r.handleForgetPayPwd,children:u&&Object(i.jsx)("span",{children:"\u5fd8\u8bb0\u652f\u4ed8\u5bc6\u7801?"})}),Object(i.jsx)("div",{className:ut,onClick:r.handleCancel,children:Object(i.jsx)(D.a,{name:"CloseOutlined",size:12})})]})})})},r.state={list:[],isShow:!1},r.keyboardClickHander=r.keyboardClickHander.bind(h()(r)),r}return p()(n,[{key:"componentDidMount",value:function(){this.setState({isShow:!0})}},{key:"componentWillUnmount",value:function(){this.initState()}},{key:"keyboardClickHander",value:function(e){var t=this,n=e.target.getAttribute("data-key");if(null==n)return null;var r=this.state.list,i=void 0===r?[]:r;"-1"===n?0===i.length?this.handleCancel():this.setState({list:i.slice(0,i.length-1)}):i.length<6&&this.setState({list:[].concat(i,[n])},(function(){6===t.state.list.length&&Object($.a)(t.submitPwa(),500)}))}},{key:"submitPwa",value:function(){var e=l()(o.a.mark((function e(){var t,n,r=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.state.list,n=(void 0===t?[]:t).join(""),this.props.payBox.password=n,this.props.payBox.step!==E.f.WALLET_PASSWORD){e.next=15;break}return e.prev=4,e.next=7,this.props.payBox.walletPayOrder();case 7:Z.a.success({content:"\u652f\u4ed8\u6210\u529f",hasMask:!1,duration:1e3}),setTimeout((function(){r.props.payBox.clear()}),500),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(4),Z.a.error({content:e.t0.Message||"\u652f\u4ed8\u5931\u8d25\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165",hasMask:!1,duration:1e3}),this.setState({list:[]});case 15:case"end":return e.stop()}}),e,this,[[4,11]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=(e.list,e.isShow),n=Object(i.jsxs)("div",{className:Ge,children:[this.renderDialogPayment(),Object(i.jsxs)("div",{style:{display:!t&&"none"},className:Je,onClick:this.keyboardClickHander,children:[Object(i.jsxs)("div",{className:Ke,children:[Object(i.jsx)("div",{"data-key":"1",className:Ze,children:"1"}),Object(i.jsx)("div",{"data-key":"2",className:Ze,children:"2"}),Object(i.jsx)("div",{"data-key":"3",className:Ze,children:"3"})]}),Object(i.jsxs)("div",{className:Ke,children:[Object(i.jsx)("div",{"data-key":"4",className:Ze,children:"4"}),Object(i.jsx)("div",{"data-key":"5",className:Ze,children:"5"}),Object(i.jsx)("div",{"data-key":"6",className:Ze,children:"6"})]}),Object(i.jsxs)("div",{className:Ke,children:[Object(i.jsx)("div",{"data-key":"7",className:Ze,children:"7"}),Object(i.jsx)("div",{"data-key":"8",className:Ze,children:"8"}),Object(i.jsx)("div",{"data-key":"9",className:Ze,children:"9"})]}),Object(i.jsxs)("div",{className:Ke,children:[Object(i.jsx)("div",{className:"".concat(Ze," ").concat($e)}),Object(i.jsx)("div",{"data-key":"0",className:Ze,children:"0"}),Object(i.jsx)("div",{"data-key":"-1",className:"".concat(Ze," ").concat($e),children:Object(i.jsx)(D.a,{name:"BackspaceOutlined",size:18})})]})]})]});return mt.a.createPortal(n,document.body)}}]),n}(C.a.Component))||ft)||ft)||ft)||ft,gt="hR2dAOOVtWTohJSW_e5iO";function jt(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=O()(e);if(t){var i=O()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return j()(this,n)}}var xt,Ot=Object(k.inject)("payBox")(bt=Object(k.observer)(bt=function(e){y()(n,e);var t=jt(n);function n(){var e;v()(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).onClose=function(){e.props.payBox.clear()},e}return p()(n,[{key:"render",value:function(){var e=this.props.payBox.step;return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsxs)(S.a,{position:"bottom",maskClosable:!0,visible:this.props.payBox.visible,onClose:this.onClose,className:gt,children:[e===E.f.SURE&&Object(i.jsx)(ne,{}),e===E.f.PAYWAY&&Object(i.jsx)(Ie,{})]}),this.props.payBox.visible&&e===E.f.WALLET_PASSWORD&&Object(i.jsx)(yt,{}),this.props.payBox.visible&&Object(i.jsx)(He,{visible:this.props.payBox.h5SureDialogVisible})]})}}]),n}(w.Component))||bt)||bt,wt="_2VUIPjeYi6Kwbt0y297_WC",Ct="_3OPZwjrs5AkzcgPaDfBVGa",kt="_3FF_Ne3t5UMsETf0VNjpB5",Nt="_2xxwXHg34mBb13HI6DzGcd",Tt="_2Yxw8sKSuD0l2QfQJ-5XYD",_t="_1urxXhgCPgJ-wBdWOnGq2Q",Pt="_34Wnt5QcVa8whBe9U1y7b_";function St(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=O()(e);if(t){var i=O()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return j()(this,n)}}var Et,At=Object(k.inject)("payBox")(xt=function(e){y()(n,e);var t=St(n);function n(e){var r;return v()(this,n),(r=t.call(this,e)).onClose=function(){r.props.payBox.visible=!1,setTimeout((function(){r.props.payBox.clear()}),500)},r.goToThePayConfirmPage=Object($.a)(l()(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r.state.isLoading){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,r.setState({isLoading:!0}),e.next=6,r.props.payBox.createOrder();case 6:r.setState({isLoading:!1}),e.next=15;break;case 9:e.prev=9,e.t0=e.catch(2),console.error(e.t0),Z.a.error({content:e.t0.Message||"\u521b\u5efa\u8ba2\u5355\u5931\u8d25",hasMask:!1,duration:1e3}),r.onClose(),r.setState({isLoading:!1});case 15:case"end":return e.stop()}}),e,null,[[2,9]])}))),500),r.transMoneyToFixed=function(e){return Number(e).toFixed(2)},r.state={isLoading:!1},r}return p()(n,[{key:"render",value:function(){var e=this.state.isLoading,t=this.props.payBox.options,n=void 0===t?{}:t,r=n.amount;return Object(i.jsx)("div",{children:Object(i.jsx)(i.Fragment,{children:Object(i.jsxs)("div",{className:kt,id:wt,children:[Object(i.jsx)(G,{currentPaymentData:n}),Object(i.jsxs)("div",{className:Nt,children:["\u5408\u8ba1\uff1a",Object(i.jsxs)("span",{className:Tt,children:["\uffe5",this.transMoneyToFixed(r)," "]})]}),Object(i.jsx)("div",{className:_t,children:Object(i.jsx)(I.a,{type:"primary",onClick:this.goToThePayConfirmPage,size:"large",className:Ct,full:!0,disabled:e,children:e?Object(i.jsx)(M.a,{type:"spinner",children:"\u751f\u6210\u8ba2\u5355\u4e2d..."}):"\u786e\u8ba4\u652f\u4ed8"})}),Object(i.jsx)("div",{onClick:this.onClose,className:Pt,children:Object(i.jsx)(D.a,{name:"CloseOutlined",size:12})})]})})})}}]),n}(w.Component))||xt,It={payconfirmWrapper:"_3Wbi5kCkOcYFbDzcLZiEDo",icon:"pn-aGFLaDKt9sIw-_ErBG",payTitle:"_240uKsXvHZUzf9TZQF_Pux",payMoney:"cM2cq6lsjPw7JJSPuIzLh",payM:"EF6l1nRe6iXUaFgDkM7FS",payTab_top:"_39oR0oriidvsetgz2TojkO",payTab:"_18e_6I-MjGiCkUwKt_Vj0O",payLine:"_2B-Xn0QwMqijMEDT2uln7_",payTabActive:"WkJ8hiKKJUjHhlfOvvVXZ",wechatPayment:"_2jmoLnpfxbk2DjGzHpzBxS",wPaymentDec:"_2wc0Zz9THItNa1MGmrfIMl",wPayment_01:"_1Xw6eV24tzivh2tFsVMLR7",wPayment_02:"_1Xz0NYTSD_8K40KzECMliT",wPayment_03:"_3OzG9P2uJl7OfJp9EidKYR",wPaymentCode:"_3jhUbYo6nmyK3LXHiwiyh8",walletPayment:"_2z02dWyafCL2maAJrR7ehL",walletTitle:"HKfHC2_JtQmI6bOtstqU0",walletDec:"_2uwjLKtwevIH0lBV4JIspV",walletPay:"_2vbz16S9Lro0sH_T4pnzA5",walletPayPwd:"_1w01s0hrS_szL9n1DUyefj",walletBalance:"_2Ud5qFdAe-oa7qt3EBWkeB",walletSettingPwd:"_nMjt3PgkT2Rx771o4ijm",walletText:"_3lpRFkaDN4xnstjieEviXS",walletWarn:"_1okybPjAlVP_6kjBBNFzdP",walletChangePwd:"_1kgbqUc6LP3gXJOY-7NckM",walletConfirmBc:"_52f22FhfNIKkoSq8sF3EQ",walletConfirmBtn:"V_xAhwTcx4m4aA0n8drt2",walletPayment_01:"_1GjN06k3saYQ_pVdGX32UQ",paymentCloseBtn:"nFKEoH_VLZf6ccpSkdF-7",forgetPassword:"_18FuddcXbJCws3WMfFF8eI",payList:"JrUIf4dN1X_ulFzBZ-Qpl",payListItem:"_3Q-a8wkECNoD5OCU4WUB7t",timeout:"_2LsXcZsj1AX07sDvVIidf4"};function Rt(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=O()(e);if(t){var i=O()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return j()(this,n)}}var Dt,Lt=Object(k.inject)("site")(Et=Object(k.inject)("user")(Et=Object(k.inject)("payBox")(Et=Object(k.observer)(Et=function(e){y()(n,e);var t=Rt(n);function n(e){var r;return v()(this,n),(r=t.call(this,e)).onClose=function(){r.props.payBox.visible=!1,setTimeout((function(){r.props.payBox.clear()}),500)},r.isRecharge=function(){var e=r.props.site||{},t=e.isWechatPayOpen,n=(e.webConfig.setSite||{}).siteCharge;if(t&&1===n){var i=r.props.payBox.options;return 30===(void 0===i?{}:i).type?(r.props.payBox.payWay=E.c.WX,void r.handleChangePaymentType(E.c.WX)):void 0}},r.toMarryNumber=function(e){var t;switch(e){case 48:case 96:t="0";break;case 49:case 97:t="1";break;case 50:case 98:t="2";break;case 51:case 99:t="3";break;case 52:case 100:t="4";break;case 53:case 101:t="5";break;case 54:case 102:t="6";break;case 55:case 103:t="7";break;case 56:case 104:t="8";break;case 57:case 105:t="9"}return t},r.handleKeyDown=function(e){if(e.keyCode>=48&&e.keyCode<=57||e.keyCode>=96&&e.keyCode<=105){var t=r.toMarryNumber(e.keyCode);r.updatePwd(t,"add")}else if(13==e.keyCode);else if(8==e.keyCode)return r.updatePwd("","delete"),e.returnValue&&(e.returnValue=!1),e.preventDefault&&e.preventDefault(),!1},r.updatePwd=function(e,t){var n=r.state.list,i=void 0===n?[]:n;if("add"==t){var a=Qe()(i);if(i.length>=6)return;r.setState({list:[].concat(a,[e])},(function(){r.state.list.length}))}else"delete"==t&&r.setState({list:i.slice(0,i.length-1)})},r.initState=function(){r.setState({paymentType:"wallet",list:[],imageShow:!1,isSubmit:!1}),r.props.payBox.payWay=E.c.WALLET,r.props.payBox.password=null},r.goSetPayPwa=function(){r.props.payBox.step=E.f.SET_PASSWORD},r.handleChangePaymentType=function(e){r.props.payBox.payWay=e,r.props.payBox.payWay===E.c.WX?r.props.payBox.wechatPayOrderQRCode():r.props.payBox.clearOrderStatusTimer()},r.toRechargePop=function(){xe.a.push({url:"/wallet"}),r.onClose()},r.handlePayConfirmed=Object($.a)(l()(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r.isToRecharge()){e.next=3;break}return r.toRechargePop(),e.abrupt("return");case 3:if(!r.state.isSubmit){e.next=5;break}return e.abrupt("return");case 5:if(r.setState({isSubmit:!0}),r.props.payBox.payWay!==E.c.WALLET){e.next=25;break}if(6===r.state.list.length){e.next=11;break}return Z.a.error({content:"\u8bf7\u8f93\u5165\u652f\u4ed8\u5bc6\u7801",hasMask:!1,duration:1e3}),r.setState({isSubmit:!1}),e.abrupt("return");case 11:return t=r.state.list,n=void 0===t?[]:t,r.props.payBox.password=n.join(""),e.prev=13,e.next=16,r.props.payBox.walletPayOrder();case 16:Z.a.success({content:"\u652f\u4ed8\u6210\u529f",hasMask:!1,duration:1e3}),r.onClose(),r.setState({isSubmit:!1}),e.next=25;break;case 21:e.prev=21,e.t0=e.catch(13),Z.a.error({content:e.t0.Message||"\u652f\u4ed8\u5931\u8d25\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165",hasMask:!1,duration:1e3}),r.initState();case 25:case"end":return e.stop()}}),e,null,[[13,21]])}))),500),r.transMoneyToFixed=function(e){return Number(e).toFixed(2)},r.renderDiffPaymementContent=function(){return r.props.payBox.payWay===E.c.WX?r.renderWechatCodePaymementContent():r.props.payBox.payWay===E.c.WALLET?r.renderWalletPaymementContent():void 0},r.handleImgFetchingError=function(){r.setState({imageShow:!1})},r.handleImgFetching=function(){r.setState({imageShow:!0})},r.handleTimeoutRefresh=l()(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.props.payBox.wechatPayOrderQRCode();case 2:case"end":return e.stop()}}),e)}))),r.renderWechatCodePaymementContent=function(){return Object(i.jsxs)("div",{className:It.wechatPayment,children:[Object(i.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(i.jsxs)("div",{className:It.wPaymentCode,children:[r.props.payBox.qrCodeTimeout&&Object(i.jsx)("div",{className:It.timeout,onClick:r.handleTimeoutRefresh,children:"\u5df2\u8d85\u65f6\uff0c\u70b9\u51fb\u5237\u65b0"}),!r.state.imageShow&&Object(i.jsx)(M.a,{type:"spinner",size:14,children:"\u52a0\u8f7d\u4e2d"}),Object(i.jsx)("img",{style:{display:r.state.imageShow?"block":"none"},onLoad:r.handleImgFetching,onError:r.handleImgFetchingError,src:r.props.payBox.wechatQRCode,alt:"\u4e8c\u7ef4\u7801"})]}),Object(i.jsxs)("div",{className:It.wPaymentDec,children:[Object(i.jsxs)("div",{className:It.wPayment_01,children:[Object(i.jsx)(D.a,{className:It.icon,name:"WechatPaymentOutlined",color:"#09bb07",size:16}),"\u5fae\u4fe1\u652f\u4ed8"]}),Object(i.jsxs)("div",{className:It.wPayment_02,children:[Object(i.jsx)(D.a,{className:It.icon,name:"ScanOutlined",color:"#09bb07",size:20}),Object(i.jsxs)("div",{children:[Object(i.jsx)("p",{children:"\u6253\u5f00\u624b\u673a\u5fae\u4fe1\u626b\u4e00\u626b"}),Object(i.jsx)("p",{children:"\u626b\u63cf\u4e8c\u7ef4\u7801\u5b8c\u6210\u652f\u4ed8"})]})]})]})]}),Object(i.jsx)("div",{className:It.wPayment_03,children:Object(i.jsx)("p",{children:"\u4e8c\u7ef4\u7801\u6709\u6548\u65f6\u957f\u4e3a5\u5206\u949f\uff0c\u8bf7\u5c3d\u5feb\u652f\u4ed8"})})]})},r.getPayText=function(){return r.isToRecharge()?"\u53bb\u5145\u503c":"\u786e\u5b9a\u652f\u4ed8"},r.isToRecharge=function(){var e,t=r.props.payBox.options,n=(void 0===t?{}:t).amount,i=void 0===n?0:n,a=r.props.site||{},o=a.isWechatPayOpen,s=(a.webConfig.setSite||{}).siteCharge;return!!(o&&1===s&&r.props.payBox.payWay===E.c.WALLET&&Number(null===(e=r.props.payBox)||void 0===e?void 0:e.walletAvaAmount)<Number(i))},r.renderWalletPaymementContent=function(){var e,t,n,a,o,s,c,u=r.props.user.userInfo,l=((void 0===u?{}:u)||{}).canWalletPay,d=r.props.payBox.options,p=(void 0===d?{}:d).amount,f=void 0===p?0:p,h=r.state,m=h.list,v=void 0===m?[]:m,b=h.isSubmit,y=v.join(""),g=(!y||6!==y.length||b)&&!r.isToRecharge();return Object(i.jsxs)("div",{className:"".concat(It.walletPayment),children:[Object(i.jsxs)("div",{className:It.walletTitle,children:[Object(i.jsx)(D.a,{className:It.icon,name:"PurseOutlined",size:"20",color:"#1878f3"}),Object(i.jsx)("span",{className:It.text,children:"\u94b1\u5305\u652f\u4ed8"})]}),l?Object(i.jsxs)(i.Fragment,{children:[Number(null===(n=r.props.payBox)||void 0===n?void 0:n.walletAvaAmount)<Number(f)?Object(i.jsxs)("div",{className:It.walletDec,children:[Object(i.jsx)("span",{children:"\u94b1\u5305\u4f59\u989d"}),null!==(a=r.props.payBox)&&void 0!==a&&a.walletAvaAmount?Object(i.jsxs)("span",{className:It.walletBalance,children:["\uffe5",null===(o=r.props.payBox)||void 0===o?void 0:o.walletAvaAmount]}):Object(i.jsx)(M.a,{type:"spinner",size:14}),Object(i.jsx)("span",{className:It.walletWarn,children:"\u4f59\u989d\u4e0d\u8db3"})]}):Object(i.jsxs)(i.Fragment,{children:[Object(i.jsxs)("div",{className:"".concat(It.walletDec," ").concat(It.walletPay),children:[Object(i.jsx)("span",{children:"\u94b1\u5305\u4f59\u989d"}),null!==(s=r.props.payBox)&&void 0!==s&&s.walletAvaAmount?Object(i.jsxs)("span",{className:It.walletBalance,children:["\uffe5",null===(c=r.props.payBox)||void 0===c?void 0:c.walletAvaAmount]}):Object(i.jsx)(M.a,{type:"spinner",size:14})]}),Object(i.jsxs)("div",{className:"".concat(It.walletDec," ").concat(It.walletPayPwd),children:[Object(i.jsx)("span",{children:"\u652f\u4ed8\u5bc6\u7801"}),Object(i.jsx)("div",{className:It.payList,children:r.renderPwdItem()})]})]}),Object(i.jsx)("div",{className:It.walletConfirmBc,children:Object(i.jsx)(I.a,{onClick:r.handlePayConfirmed,size:"large",className:It.walletConfirmBtn,type:"primary",disabled:g,full:!0,children:b?Object(i.jsx)(M.a,{type:"spinner",children:"\u652f\u4ed8\u4e2d..."}):r.getPayText()})})]}):Object(i.jsxs)(i.Fragment,{children:[Object(i.jsxs)("div",{className:"".concat(It.walletDec," ").concat(It.walletPay),children:[Object(i.jsx)("span",{children:"\u94b1\u5305\u4f59\u989d"}),null!==(e=r.props.payBox)&&void 0!==e&&e.walletAvaAmount?Object(i.jsxs)("span",{className:It.walletBalance,children:["\uffe5",null===(t=r.props.payBox)||void 0===t?void 0:t.walletAvaAmount]}):Object(i.jsx)(M.a,{type:"spinner",size:14})]}),Object(i.jsxs)("div",{className:It.walletDec,children:[Object(i.jsx)("span",{children:"\u652f\u4ed8\u5bc6\u7801"}),Object(i.jsxs)("span",{children:[Object(i.jsx)("span",{className:It.walletText,children:"\u94b1\u5305\u652f\u4ed8\uff0c\u9700 "}),Object(i.jsx)("span",{onClick:r.goSetPayPwa,className:It.walletSettingPwd,children:"\u8bbe\u7f6e\u652f\u4ed8\u5bc6\u7801"})]})]})]})]})},r.state={list:[],paymentType:"wallet",imageShow:!1},r}return p()(n,[{key:"componentDidMount",value:function(){var e=l()(o.a.mark((function e(){var t,n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,this.initState(),document.addEventListener("keydown",this.handleKeyDown),n=null===(t=this.props)||void 0===t?void 0:t.user,r=n.id){e.next=6;break}return e.abrupt("return");case 6:return e.next=8,this.props.payBox.getWalletInfo(r);case 8:e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0),Z.a.error({content:"\u83b7\u53d6\u7528\u6237\u94b1\u5305\u4fe1\u606f\u5931\u8d25",duration:1e3});case 14:this.isRecharge();case 15:case"end":return e.stop()}}),e,this,[[0,10]])})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"renderPwdItem",value:function(){var e=this.state.list,t=(void 0===e?[]:e).map((function(e,t){return Object(i.jsx)("div",{className:"".concat(It.payListItem),children:"\u25cf"},t)}));if(t.length<6)for(var n=!1,r=t.length;r<6;r++)n||(n=!0),t.push(Object(i.jsx)("div",{className:"".concat(It.payListItem)},r));return t}},{key:"render",value:function(){var e,t=null===(e=this.props)||void 0===e?void 0:e.payBox,n=t.options,r=void 0===n?{}:n,a=(t.qrCodeTimeout,r.amount),o=void 0===a?0:a,s=30===r.type;return Object(i.jsx)("div",{children:Object(i.jsxs)("div",{className:It.payconfirmWrapper,children:[Object(i.jsx)("div",{className:It.payTitle,children:"\u652f\u4ed8"}),Object(i.jsxs)("div",{className:It.payMoney,children:["\u652f\u4ed8\u91d1\u989d\uff1a ",Object(i.jsxs)("span",{className:It.payM,children:["\uffe5",this.transMoneyToFixed(o)]})]}),Object(i.jsxs)("div",{children:[Object(i.jsx)("div",{className:It.payTab_top,children:Object(i.jsxs)(ge.a.Group,{value:this.props.payBox.payWay,onChange:this.handleChangePaymentType,children:[this.props.site.isWechatPayOpen&&"none"!==this.props.site.wechatEnv&&Object(i.jsx)(ge.a,{name:"weixin",className:"".concat(It.payTab," "),children:"\u5fae\u4fe1\u652f\u4ed8"}),!s&&Object(i.jsx)(ge.a,{name:"wallet",className:"".concat(It.payTab),children:"\u94b1\u5305\u652f\u4ed8"})]})}),Object(i.jsx)(Y.a,{className:It.payLine}),Object(i.jsx)("div",{className:It.payTab_bottom,children:this.renderDiffPaymementContent()})]}),Object(i.jsx)("div",{onClick:this.onClose,className:It.paymentCloseBtn,children:Object(i.jsx)(D.a,{name:"CloseOutlined",size:12})})]})})}}]),n}(w.Component))||Et)||Et)||Et)||Et,Mt=(n("rB9j"),n("UxlC"),"wbyGqm9ytW8dKUkfybVJ6"),Bt="_2IauCcpPzCdwUSv24yq28V",Ut="YKQS7W3uPoYiwB_y1lrez",Ft="c84PX9qqeXzP7hkv9iNch",Wt="_1mot4LCpsHonYFC9pNpmjz",qt="_25QzRsOx-AIiuvvN6RYqAD",zt=n("DetZ"),Vt=n.n(zt);function Xt(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=O()(e);if(t){var i=O()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return j()(this,n)}}var Ht,Yt=Object(k.inject)("user")(Dt=Object(k.inject)("payBox")(Dt=Object(k.observer)(Dt=function(e){y()(n,e);var t=Xt(n);function n(e){var r;return v()(this,n),(r=t.call(this,e)).initState=function(){r.setState({payPassword:null,isSubmit:!1})},r.handleCancel=function(){r.props.payBox.step=E.f.PAYWAY,r.initState()},r.handleSetPwd=function(e){r.setState({payPassword:e.target.value.replace(/\D/g,"")})},r.handleSubmit=Object($.a)(l()(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r.state.isSubmit){e.next=2;break}return e.abrupt("return");case 2:r.setState({isSubmit:!0}),t=r.state.payPassword,n=r.props.user.id,r.props.payBox.password=t,r.props.payBox.setPayPassword(n).then((function(e){Z.a.success({content:"\u8bbe\u7f6e\u5bc6\u7801\u6210\u529f",hasMask:!1,duration:1e3}),r.props.user.updateUserInfo(n),r.props.payBox.step=E.f.PAYWAY,r.props.payBox.visible=!0,r.initState()})).catch((function(e){console.log(e),Z.a.error({content:"\u8bbe\u7f6e\u5931\u8d25\u8bf7\u91cd\u65b0\u8bbe\u7f6e",hasMask:!1,duration:1e3}),r.initState()}));case 7:case"end":return e.stop()}}),e)}))),500),r.state={payPassword:null,isSubmit:!1},r}return p()(n,[{key:"render",value:function(){var e=this.state,t=(e.list,e.payPassword),n=e.isSubmit;return Object(i.jsxs)("div",{className:Mt,children:[Object(i.jsxs)("div",{className:Bt,children:[Object(i.jsx)("div",{className:Ut,children:"\u8bbe\u7f6e\u652f\u4ed8\u5bc6\u7801"}),Object(i.jsx)("div",{className:qt,onClick:this.handleCancel,children:Object(i.jsx)(D.a,{name:"CloseOutlined",size:12})})]}),Object(i.jsx)(Vt.a,{type:"number",maxLength:6,value:t,onChange:this.handleSetPwd,mode:"password",className:Ft,placeholder:"\u8bf7\u8f93\u5165\u652f\u4ed8\u5bc6\u7801"}),Object(i.jsx)(I.a,{onClick:this.handleSubmit,disabled:!t||6!==t.length||n,type:"primary",className:Wt,children:"\u8bbe\u7f6e\u652f\u4ed8\u5bc6\u7801"})]})}}]),n}(w.Component))||Dt)||Dt)||Dt,Qt=n("n4oF"),Gt="_3_qm53EeVMhj-yPJpcG32L";function Jt(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=O()(e);if(t){var i=O()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return j()(this,n)}}var Kt,Zt=Object(k.inject)("payBox")(Ht=Object(k.observer)(Ht=function(e){y()(n,e);var t=Jt(n);function n(){var e;v()(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).onClose=function(){e.props.payBox.visible&&(e.props.payBox.visible=!1)},e}return p()(n,[{key:"render",value:function(){return!Object(Qt.a)()&&Object(i.jsxs)(De.a,{visible:this.props.payBox.visible,position:"center",maskClosable:!0,onClose:this.onClose,className:Gt,children:[this.props.payBox.step===E.f.SURE&&Object(i.jsx)(At,{}),this.props.payBox.step===E.f.PAYWAY&&Object(i.jsx)(Lt,{}),(this.props.payBox.step===E.f.WALLET_PASSWORD||this.props.payBox.step===E.f.SET_PASSWORD)&&Object(i.jsx)(Yt,{})]})}}]),n}(C.a.Component))||Ht)||Ht;function $t(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function en(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$t(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$t(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function tn(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=O()(e);if(t){var i=O()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return j()(this,n)}}var nn=new(function(e){y()(n,e);var t=tn(n);function n(){return v()(this,n),t.apply(this,arguments)}return n}(T.a)),rn=Object(k.inject)("site")(Kt=Object(k.inject)("payBox")(Kt=Object(k.inject)("user")(Kt=Object(k.observer)(Kt=function(e){y()(n,e);var t=tn(n);function n(e){var r;return v()(this,n),(r=t.call(this,e)).createPayBox=l()(o.a.mark((function e(){var t,n,i=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=i.length>0&&void 0!==i[0]?i[0]:{data:{}},r.props.payBox.clear(),r.props.user.id){e.next=6;break}return Z.a.error({content:"\u9700\u8981\u767b\u5f55\u540e\u624d\u53ef\u4ee5\u8fdb\u884c\u652f\u4ed8",duration:2e3}),Se.a.saveAndLogin(),e.abrupt("return");case 6:if(!(Number(Object(_.a)(t,"data.amount",0))<.1)){e.next=9;break}return Z.a.error({content:"\u6700\u5c0f\u652f\u4ed8\u91d1\u989d\u5fc5\u987b\u5927\u4e8e 0.1 \u5143"}),e.abrupt("return");case 9:r.props.payBox.options=en({},t.data),n=function(){},r.props.payBox.isAnonymous=t.isAnonymous||!1,r.props.payBox.onSuccess=t.success||n,r.props.payBox.onFailed=t.failed||n,r.props.payBox.onCompleted=t.completed||n,r.props.payBox.onOrderCreated=t.orderCreated||n,r.props.payBox.visible=!0,r.props.payBox.currentPage=t.currentPage||{};case 18:case"end":return e.stop()}}),e)}))),r.createPayBox=r.createPayBox.bind(h()(r)),nn.on("createPayBox",r.createPayBox),r}return p()(n,[{key:"render",value:function(){var e=this.props.site.platform;return"pc"===e?Object(i.jsx)(Zt,{}):"h5"===e?Object(i.jsx)(Ot,{options:this.props.payBox.options}):null}}]),n}(w.Component))||Kt)||Kt)||Kt)||Kt;rn.createPayBox=function(e){return nn.emit("createPayBox",e)}},u7s3:function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));var r=n("nKUr"),i=n("lwsE"),a=n.n(i),o=n("W8MJ"),s=n.n(o),c=n("7W2i"),u=n.n(c),l=n("a1gu"),d=n.n(l),p=n("Nsbk"),f=n.n(p),h=n("q1tI"),m=n.n(h),v={memberBadgeBox:"_15kyXt_v4LciAzT9flsg3B",memberBadgeIcon:"SfNvb-_lDmwb0Fb4oQz9r",memberBadgeName:"_1UzrP3mVbZ2-R9ZJCuCQ4H",memberBadgeNameText:"_1YCLdd2P7WexjMYHIJRUM5",memberBadgeName_1:"_1vQX1G1N9ff58GJ9mKMN5C",memberBadgeName_2:"_1uOXg1vGJSxwQTUfj1p9Se",memberBadgeName_3:"_2aeW2xF7xZfC77HmYXy3GL",memberBadgeName_4:"_1K2h4y2dVPbBBvsunt3XQh",default:"_1RveRfTfCBNrGGD2auE7ii",memberBadgeName_5:"w19WzdIVIqMj5EeqwNFtp",bg:"_1FyY1f2hbsGl46YfPWm71e"},b=n("TSYQ"),y=n.n(b);function g(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f()(e);if(t){var i=f()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return d()(this,n)}}var j=function(e){u()(n,e);var t=g(n);function n(e){var r;return a()(this,n),(r=t.call(this,e)).state={},r}return s()(n,[{key:"render",value:function(){var e=this.props,t=e.className,n=void 0===t?"":t,i=e.groupLevel,a=e.groupName,o=e.hasBg,s=e.groupNameStyle,c=e.memberBadgeStyle,u=e.onClick,l=void 0===u?function(){}:u;return Object(r.jsxs)("div",{className:y()(n,v.memberBadgeBox,o?v.bg:v.default),style:c,onClick:function(e){e.stopPropagation(),l({groupLevel:i,groupName:a})},children:[Object(r.jsx)("img",{className:v.memberBadgeIcon,src:"/dzq-img/member-badge_".concat(i,".png")}),Object(r.jsx)("div",{className:y()(v.memberBadgeName,v["memberBadgeName_"+i]),children:Object(r.jsx)("span",{className:v.memberBadgeNameText,style:s,children:a})})]})}}]),n}(m.a.Component)},uPFr:function(e,t,n){"use strict";n.d(t,"h",(function(){return r})),n.d(t,"i",(function(){return i})),n.d(t,"g",(function(){return a})),n.d(t,"d",(function(){return o})),n.d(t,"k",(function(){return s})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return u})),n.d(t,"a",(function(){return l})),n.d(t,"j",(function(){return d})),n.d(t,"e",(function(){return p})),n.d(t,"f",(function(){return f}));var r=5e4,i=864e5,a={product:"product",follow:"follow",emoji:"emoji",topic:"topic"},o={file:0,image:1,audio:1,video:1,message:4,answer:5},s={text:100,image:101,voice:102,video:103,goods:104,qa:105,redPacket:106,reward:107,file:108,emoji:99,paid:112,paidPost:113,paidAttachment:114,at:115,topic:116,draft:117,saveDraft:118,abandonDraft:119,anonymity:10001,vote:109,iframe:10002},c=["image/*"],u=["video/mp4","video/x-m4v","video/*"],l=["*/*"],d={create:"create",edit:"edit",draft:"draft"},p=["WAV","MP3","M4A"],f=["PPTX","PPT","POT","POTX","PPS","PPSX","DPS","DPT","PPTM","POTM","PPSM","DOC","DOT","WPS","WPT","DOCX","DOTX","DOCM","DOTM","XLS","XLT","ET","ETT","XLSX","XLTX","CSV","XLSB","XLSM","XLTM","ETS","PDF","LRC","C","CPP","H","ASM","S","JAVA","ASP","BAT","BAS","PRG","CMD","RTF","TXT","LOG","XML","HTM","HTML"]},uYGS:function(e,t,n){"use strict";var r=n("nKUr"),i=n("J4zp"),a=n.n(i),o=n("q1tI"),s=n.n(o),c=n("Qais"),u=n.n(c),l=n("MCNy"),d=n.n(l),p=n("yuBF"),f=n("TSYQ"),h=n.n(f),m={wrapper:"t8_K8Dh8UzpDzIi08H5Ba",h5:"_1hFxpFYNdOnNVchWD_oFow",wrapper__delete:"_1qqcVf6Aqr_KUxLBaGM1vn",richtext:"_2ZmQhYufkkxbdWDjdSzE37"};t.a=Object(p.inject)("threadPost")(Object(p.observer)((function(e){var t=e.content,n=e.whiteList,i=void 0===n?["bilibili","youku","iqiyi","music.163.com","qq.com","em.iq.com","xigua","myqcloud.com"]:n,o=e.isDeleteShow,c=void 0!==o&&o,l=e.threadPost,p=e.h5,f=s.a.createRef(null),v=s.a.useState("100%"),b=a()(v,2),y=b[0],g=b[1],j=Object(r.jsx)(u.a,{className:m.richtext,content:t,iframeWhiteList:i,onClick:function(){},onImgClick:function(){},onLinkClick:function(){},transformer:function(e){return e}});if(s.a.useEffect((function(){if(f.current){var e=f.current.querySelector("iframe").width;g("".concat(e,"px"))}}),[]),!c)return j;var x=p?m.h5:m.pc;return Object(r.jsxs)("div",{ref:f,id:"dzq-post-video",className:h()(m.wrapper,x),children:[j,Object(r.jsx)("div",{className:m.wrapper__delete,onClick:function(){return l.setPostData({iframe:{}})},style:{width:y},children:Object(r.jsx)(d.a,{name:"DeleteOutlined"})})]})})))},uhBA:function(e,t,n){"use strict";var r=Object.prototype.hasOwnProperty,i="~";function a(){}function o(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function s(e,t,n,r,a){if("function"!==typeof n)throw new TypeError("The listener must be a function");var s=new o(n,r||e,a),c=i?i+t:t;return e._events[c]?e._events[c].fn?e._events[c]=[e._events[c],s]:e._events[c].push(s):(e._events[c]=s,e._eventsCount++),e}function c(e,t){0===--e._eventsCount?e._events=new a:delete e._events[t]}function u(){this._events=new a,this._eventsCount=0}Object.create&&(a.prototype=Object.create(null),(new a).__proto__||(i=!1)),u.prototype.eventNames=function(){var e,t,n=[];if(0===this._eventsCount)return n;for(t in e=this._events)r.call(e,t)&&n.push(i?t.slice(1):t);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(e)):n},u.prototype.listeners=function(e){var t=i?i+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var r=0,a=n.length,o=new Array(a);r<a;r++)o[r]=n[r].fn;return o},u.prototype.listenerCount=function(e){var t=i?i+e:e,n=this._events[t];return n?n.fn?1:n.length:0},u.prototype.emit=function(e,t,n,r,a,o){var s=i?i+e:e;if(!this._events[s])return!1;var c,u,l=this._events[s],d=arguments.length;if(l.fn){switch(l.once&&this.removeListener(e,l.fn,void 0,!0),d){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,t),!0;case 3:return l.fn.call(l.context,t,n),!0;case 4:return l.fn.call(l.context,t,n,r),!0;case 5:return l.fn.call(l.context,t,n,r,a),!0;case 6:return l.fn.call(l.context,t,n,r,a,o),!0}for(u=1,c=new Array(d-1);u<d;u++)c[u-1]=arguments[u];l.fn.apply(l.context,c)}else{var p,f=l.length;for(u=0;u<f;u++)switch(l[u].once&&this.removeListener(e,l[u].fn,void 0,!0),d){case 1:l[u].fn.call(l[u].context);break;case 2:l[u].fn.call(l[u].context,t);break;case 3:l[u].fn.call(l[u].context,t,n);break;case 4:l[u].fn.call(l[u].context,t,n,r);break;default:if(!c)for(p=1,c=new Array(d-1);p<d;p++)c[p-1]=arguments[p];l[u].fn.apply(l[u].context,c)}}return!0},u.prototype.on=function(e,t,n){return s(this,e,t,n,!1)},u.prototype.once=function(e,t,n){return s(this,e,t,n,!0)},u.prototype.removeListener=function(e,t,n,r){var a=i?i+e:e;if(!this._events[a])return this;if(!t)return c(this,a),this;var o=this._events[a];if(o.fn)o.fn!==t||r&&!o.once||n&&o.context!==n||c(this,a);else{for(var s=0,u=[],l=o.length;s<l;s++)(o[s].fn!==t||r&&!o[s].once||n&&o[s].context!==n)&&u.push(o[s]);u.length?this._events[a]=1===u.length?u[0]:u:c(this,a)}return this},u.prototype.removeAllListeners=function(e){var t;return e?(t=i?i+e:e,this._events[t]&&c(this,t)):(this._events=new a,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=i,u.EventEmitter=u,e.exports=u},uqXc:function(e,t,n){var r=n("I+eb"),i=n("5Yz+");r({target:"Array",proto:!0,forced:i!==[].lastIndexOf},{lastIndexOf:i})},vNgL:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.injectValue=function(e){return function(){return(0,r.isCallable)(e)?e.apply(void 0,arguments):e}};var r=n("uScP")},vPOe:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n("ma9I"),n("rB9j"),n("UxlC");function r(e){var t=/(<pre[^>]*><code[^>]*>)([^<]*)<\/code><\/pre>/gi,n=/(<code[^>]*>)([^<]*)<\/code>/gi,r=/<a[\s]*[^<>]*href="([\S]*[^\s<>'"]*)"/gi,i=/<img[\s]*[^<>]*src="([\S]*[^\s<>"']*)"/gi;try{e=e.replace(t,(function(e,t,n){return"".concat(t).concat(encodeURIComponent(n),"</code></pre>")})).replace(n,(function(e,t,n){return"".concat(t).concat(encodeURIComponent(n),"</code>")})).replace(i,(function(e,t){return'<img alt="'.concat(encodeURIComponent(t),'" src="').concat(encodeURIComponent(t),'"')})).replace(/<iframe[\s]*[^<>]*([\S]*[^\s<>"']*)="([\S]*[^\s<>"']*)"/gi,(function(e){return"".concat(encodeURIComponent(e))})).replace(r,(function(e,t){return'<a href="'.concat(encodeURIComponent(t),'"')})).replace(/(((https|http|ftp|rtsp|mms)?:\/\/)[^\s\u4e00-\u9fa5/<>]+\.[^)\uff0c,\u3002\uff1b\u3001\uff1f\s\u4e00-\u9fa5<>]+)/gi,(function(e){return'<a href="'.concat(encodeURIComponent(e),'" rel="nofollow noopener noreferrer" target="_blank">').concat(e,"</a>")})).replace(t,(function(e,t,n){return"".concat(t).concat(decodeURIComponent(n),"</code></pre>")})).replace(n,(function(e,t,n){return"".concat(t).concat(decodeURIComponent(n),"</code>")})).replace(/%3Ciframe[^>]*>[^<]*<\/iframe>/gi,(function(e){return"".concat(decodeURIComponent(e))})).replace(i,(function(e){return"".concat(decodeURIComponent(e))})).replace(r,(function(e){return"".concat(decodeURIComponent(e))}))}catch(a){console.error(a)}return e}},vcV1:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n("yXV3"),n("rB9j"),n("Rm1S"),n("UxlC");function r(e,t,n){if(!e)return e;if("string"!==typeof e||"string"!==typeof t||"string"!==typeof n)return console.error("\u53d8\u91cf\u7c7b\u578b\u9519\u8bef\u3002"),e;var r=e;switch(t){case"emoj":r=(r=r.replace(/<img[\s]+[^<>]*class=([^<>]+qq\-emotion)(?:\"|\')[^<>]*>/g,n)).replace(/<image[\s]+class=([^\/]*qq\-emotion[^\/]*)(?:\"|\')[^\/]*<\/image>/g,n);break;case"img":r=r.replace(/<img[\s]+[^<>]*>|<img[\s]+[^<>]*/g,n);break;case"imgButEmoj":var i=r.match(/<img[\s]+[^<>]*class=([^<>]+qq\-emotion)(?:\"|\')[^<>]*>/g)||[],a="#$#emoj#$#",o=r.replace(/<img[\s]+[^<>]*class=([^<>]+qq\-emotion)(?:\"|\')[^<>]*>/g,a);o=o.replace(/<img[\s]+[^<>]*>|<img[\s]+[^<>]*/g,n);for(var s=0;s<i.length;s++)o=o.replace(a,i[s]);r=-1!==o.indexOf(a)?r.replace(/<img[\s]+[^<>]*class=([^<>]+qq\-emotion)(?:\"|\')[^<>]*>/g,"[\u8868\u60c5]"):o;break;case"break":r=(r=r.replace(/<br[^<>]*>/g,n)).replace(/<view[\s]+class=([^\/]*dzq\-br[^\/]*)(?:\"|\')[^\/]*<\/view>/g,n);break;case"breakInCode":for(var c=r.match(/<code>[\s\S]*?<\/code>/g)||[],u="#$#break#$#",l=r.replace(/<code>[\s\S]*?<\/code>/g,u),d=0;d<c.length;d++)l=l.replace(u,c[d].replace(/<br[^<>]*>/g,n));r=l;break;case"tags":r=r.replace(/<[^<>]*>|<\/[^<>]*>/g,n);break;case"heading":r=r.replace(/<h[0-9][^\/\>]*>|<\/h[0-9]>/g,n);break;case"headingWithContent":r=r.replace(/<h[0-9][^\/]*[^\<\/]<\/h[0-9]>/g,n);break;case"paragraph":r=r.replace(/<p[\s]?[^\/\>]*>|<\/p>/g,n);break;case"list":r=(r=r.replace(/<ol[^<>]*>|<(ul|li)[^<>]*>/g,n)).replace(/<\/(li|ul|ol)>/g,n);break;case"code":r=(r=r.replace(/<code>[\s\S]*?<\/code>/g,n)).replace(/<pre>[\s\S]*?<\/pre>/g,n);break;case"emotion":r=r.replace(/:[0-9A-Za-z]{2,20}:/g,n)}return r}},vgfq:function(e,t,n){"use strict";t.a={container:"_7QvfomOT2CXuMs11Jmj4E",contentWrapper:"_2qPMS_CNk2iuq4OCV6wX5u",content:"_1bCzd-oQnIzJ00rgSPSq9v",hideCover:"_2-uzkM3Qw13eqofkq0bpQE",bg:"_3rz_B9Mz0lOXw_KaFu2EAD",showMore:"nTrtxYpcbzdhuj-vVYWLH",icon:"_1ja10M2wN-7JSS2Dl67kWd",icon_d:"PHaGT9IywaZfQEdrZKpCL",payInfo:"_8SaeP4K3-RQdoIP4YBp-j",hidePercent:"DFQ7rZFEZjr0M41v-vBlZ",payButton:"lFJGPn4ktkaBEJBcdkIzU",payButtonIcon:"_3jiSnUuBMXtPsSri649Emd",shade:"_9v6_USF2gJvTXoOe52WIl",usePointer:"_316ng1bHsIovUWAIvLYl-p"}},vgmO:function(e,t,n){(function(t){var n;n="undefined"!==typeof window?window:"undefined"!==typeof t?t:"undefined"!==typeof self?self:{},e.exports=n}).call(this,n("ntbh"))},waxf:function(e,t,n){"use strict";var r=n("67WC"),i=n("tycR").filter,a=n("SEBh"),o=r.aTypedArray,s=r.aTypedArrayConstructor;(0,r.exportTypedArrayMethod)("filter",(function(e){for(var t=i(o(this),e,arguments.length>1?arguments[1]:void 0),n=a(this,this.constructor),r=0,c=t.length,u=new(s(n))(c);c>r;)u[r]=t[r++];return u}))},wi0z:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UploadWebAdapter=void 0;t.UploadWebAdapter={}},wrmh:function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var r=n("nKUr"),i="_8OK7Z_mFh_Rq63TahguEh",a="_1NucT5xmpR5sB8d-Ahi90V",o="_1fT6Kic1zgcJ_uiM8bOQBI",s="_1OiMX02_5Z0x16dMdH5inL",c="dAL-IESMjS-7D6-Sn7mmH",u="k0Yv--2IXKIPmd8rzKUOV",l=(n("q1tI"),n("jqTq")),d=n.n(l),p=n("MCNy"),f=n.n(p),h=n("TSYQ"),m=n.n(h);function v(e){var t=e.type,n=e.isError,l="init"===t?Object(r.jsx)(d.a,{className:o,type:"spinner",vertical:!0,children:"\u52a0\u8f7d\u6570\u636e\u4e2d..."}):Object(r.jsx)(d.a,{className:s,type:"spinner",children:"\u52a0\u8f7d\u66f4\u591a..."});return n&&(l=Object(r.jsxs)("div",{className:c,children:[Object(r.jsx)(f.a,{name:"TipsOutlined"}),Object(r.jsx)("span",{className:u,children:"\u6570\u636e\u52a0\u8f7d\u5931\u8d25\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5"})]})),Object(r.jsx)("div",{className:m()(i,"init"===t&&a),children:l})}},x2An:function(e,t,n){n("I+eb")({target:"Reflect",stat:!0},{has:function(e,t){return t in e}})},x2xJ:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("lSNA")),a=r(n("lwsE")),o=r(n("W8MJ")),s=r(n("7W2i")),c=r(n("a1gu")),u=r(n("Nsbk")),l=r(n("q1tI")),d=n("GDuN"),p=n("Nsua"),f=n("KhEo"),h=r(n("KxVQ"));function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,u.default)(e);if(t){var i=(0,u.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,c.default)(this,n)}}var b=function(e){(0,s.default)(n,e);var t=v(n);function n(e){var r;return(0,a.default)(this,n),r=t.call(this,e),(0,h.default)({componentName:"divider"}),r}return(0,o.default)(n,[{key:"render",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){(0,i.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.props),t=this.RenderComponent;return l.default.createElement(t,e,this.props.children)}}]),n}((0,d.baseComponentFactory)({viewAdapter:p.DividerViewAdapter,logicalAdapter:f.DividerLogicalAdapter}));t.default=b},yG8O:function(e,t){e.exports=function(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}},ypFw:function(e,t,n){"use strict";var r=n("67WC"),i=n("1Y/n").left,a=r.aTypedArray;(0,r.exportTypedArrayMethod)("reduce",(function(e){return i(a(this),e,arguments.length,arguments.length>1?arguments[1]:void 0)}))},yqws:function(e,t){e.exports=function(e){var t,n=new DataView(e.buffer,e.byteOffset,e.byteLength),r={version:e[0],flags:new Uint8Array(e.subarray(1,4)),trackId:n.getUint32(4)},i=1&r.flags[2],a=2&r.flags[2],o=8&r.flags[2],s=16&r.flags[2],c=32&r.flags[2],u=65536&r.flags[0],l=131072&r.flags[0];return t=8,i&&(t+=4,r.baseDataOffset=n.getUint32(12),t+=4),a&&(r.sampleDescriptionIndex=n.getUint32(t),t+=4),o&&(r.defaultSampleDuration=n.getUint32(t),t+=4),s&&(r.defaultSampleSize=n.getUint32(t),t+=4),c&&(r.defaultSampleFlags=n.getUint32(t)),u&&(r.durationIsEmpty=!0),!i&&l&&(r.baseDataOffsetIsMoof=!0),r}},"z/8X":function(e,t,n){"use strict";n("ma9I"),n("wLYn"),n("qePV");var r=n("lSNA"),i=n.n(r),a=n("nKUr"),o=n("o0o1"),s=n.n(o),c=(n("ls82"),n("yXPU")),u=n.n(c),l=n("lwsE"),d=n.n(l),p=n("W8MJ"),f=n.n(p),h=n("7W2i"),m=n.n(h),v=n("a1gu"),b=n.n(v),y=n("Nsbk"),g=n.n(y),j=n("q1tI"),x=n.n(j),O=n("20a2"),w=n("MCNy"),C=n.n(w),k=n("wdT/"),N=n.n(k),T=n("yuBF"),_=(n("2B1R"),n("sMBO"),"_1npvEf_dJ8ldPlu6ASBoRw"),P="_1omserhTBwwS4J9GSqhIwl",S="_17sy6BNiZsFJ_PjU6DlpOn",E="_259nXlg4oIy3RAMqJsoFRk",A="_1SR9zLQjTE1t0LqlORq87Z",I="_3AYC0YUnQk5a8gZGTQ4KX-",R="_2JxYxO7Q3zhhDV_QF9ZcJ3",D="_3LAhUc76ixEI1pY1XXqRWr",L="_1KKu259IwwSKhypnSi30fh",M="_2FiJlJE7FSUTYKMV6FHSYL",B="_3u5JZJInhnrV53Vh7VweCz",U="_3v1GUaBWclkgo81nuCKXJQ",F="_9VV8ctRf_18E2Z7GBw-E6",W="_1Kmd99wApp9Mv0j95Dh2f5",q=n("fEx9"),z=n("z6Ap"),V=n("FeKq"),X=n("B5JU"),H=n.n(X),Y=n("IvHc"),Q=function(e){var t=e.userImgs,n=void 0===t?[]:t,r=e.wholeNum,i=void 0===r?0:r,o=e.comment,s=void 0===o?0:o,c=e.sharing,u=void 0===c?0:c,l=e.isLiked,d=void 0!==l&&l,p=e.isCommented,f=void 0!==p&&p,h=(e.isSendingLike,e.tipData),m=e.platform,v=e.card,b=e.data,y=e.user,g=e.onShare,x=void 0===g?function(){}:g,O=e.onComment,w=void 0===O?function(){}:O,k=e.onPraise,T=void 0===k?function(){}:k,X=e.updateViewCount,Q=void 0===X?z.e:X,G=e.handleShare,J=void 0===G?z.e:G,K=e.hasCommentHongbao,Z=void 0!==K&&K,$=Object(j.useMemo)((function(){return[{icon:"LikeOutlined",name:"\u8d5e",event:T,type:"like",num:i,actived:d},{icon:"MessageOutlined",name:"\u8bc4\u8bba",event:w,type:"commonet",num:s,actived:f},{icon:"ShareAltOutlined",name:"\u5206\u4eab",event:x,type:"share",num:u}]}),[d,f,i,s,u]),ee=Object(j.useState)(!1),te=ee[0],ne=ee[1],re=function(){ne(!1)},ie=Object(j.useMemo)((function(){return 0!==n.length}),[n]);return Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{className:ie?_:E,children:0!==n.length?Object(a.jsx)("div",{className:P,children:Object(a.jsx)("div",{className:S,children:Object(a.jsx)(q.a,{tipData:h,imgs:n,wholeNum:i,showCount:"pc"===m?10:5,platform:m,updateViewCount:Q})})}):Object(a.jsx)("div",{})}),Object(a.jsx)("div",{className:ie?A:I,children:$.map((function(e,t){return Object(a.jsx)("div",{className:R,children:Object(a.jsxs)("div",{className:D,onClick:function(){return function(e){if(Q(),"\u8d5e"!==e.name)if(1===(null===b||void 0===b?void 0:b.isApproved))if("\u8bc4\u8bba"!==e.name)if("pc"===m)e.event();else{if(!y.isLogin())return void Object(Y.a)({url:"/user/login"});ne(!0)}else e.event();else N.a.info({content:"\u5185\u5bb9\u6b63\u5728\u5ba1\u6838\u4e2d"});else e.event()}(e)},children:["\u8bc4\u8bba"===e.name&&Z?Object(a.jsx)("img",{title:"\u56de\u590d\u9886\u7ea2\u5305",className:W,src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAfCAYAAACGVs+MAAAABHNCSVQICAgIfAhkiAAAA3hJREFUSEvtlktPE1EUx/9nHi2dUigE5KEEQ4wkPsBENxAfuNYY8QMQ2bg1Ll3gZ9C4R4l7YU+iogHjQon4XBg1RBAQKRRa2s7MvZ6ZoaVQoAMibphkOndy7z3nd879nzMl2XE1mgEegOgq9vKSciAAdFO641o/SO6t82ygkgYofbFT8DvtZfB5vuQ+wH4GKHn+ilBV9b+I0LJtSR+b20RjTTVpquq7EKSUG64l8h8HO8f36RlJz2uOi8qyCDUcqEJQ11zDGxnyXPKvxvchAfWSCaWBx9zF7DEF4jXvHVf4hbimNwbJgqcyJn7M/kYsviRpuK5F2EJQWTiE2sooIkYIqqIUQDibZUhCOWdC77RAJatOhCkhZgAxpEG80EEpRliXDWc/+8FichnTsQUsJJJQSPEAOA4SPFkS1FFVXoaKSBihQCBnxHVOEnTaQqDbBBmFEZrzFlRVg9mnQb7RuLmuQjj7U5kM5hYTmJ2P85izp7iZkjRS3yp4AZvnBDME8USoJIhKhqgoDSPogPCciNjQujj6M5s0Tg5DctTWKN+9OpSECkcqadNEbHGJ7wSS6TQEr1OcDHtH7QE44+z5OE8mcqPXNRXlYQPRUgOhZhXGDQm9cWuhWRMSS/cJqS825peSWEgmYZo2w7Bjtpk9mpXnKoArsTx1u2lfgXHyE20twZHbUYQP61tWy/KEic93Yoh/YHXypTqJznPML/kSXQuw3rILsQIWqFdwtCfKIEEnd4UQjpL4+Bbep/GpZw72lJfFzapqxcDWALmvpgOiSxy8HkZjVwSkcrkVXHx0FlfiozgmehMgpxyL94VtADCEdpDQdLMM1WeNtVngOSstMfdqGV/vxWH/9KLfNYCsPoQU0A8pqO00UH+5FJrBDciSSIxnMPNkGbODKViTwqlvP85ds7kqKNaHswJ1KgQGV0O1Ar2CXI1YMQHzF4+SnsB8Rr89gPwqyYrTbc2ezHKOi4iuQOe+M1AsQzuc938EO3RQbBsD1J18zP23s9jKfzIvRT8NVjSVG6HIEIun9Z842cQoq+ctS/eKr38QI3Utz1jaF/Jt8eezu23q3cO/hfYJ0PqNZX4462y3nHv14+PiL2buP9huOvcF8LL2RIdU1Kcup5S32n+O3fXB7HtJ0QwMVx87Rbo+yt772ifHrvu27HNhUQCfdna87A/E5aDse6oAAAAAAABJRU5ErkJggg=="}):Object(a.jsx)(C.a,{className:"".concat(B," ").concat(e.type," ").concat(e.actived?U:F),name:e.icon,size:16}),Object(a.jsx)("span",{className:e.actived?M:L,children:e.num?e.num:e.name})]})},t)}))}),te&&Object(a.jsx)(V.a,{show:te,fromThread:!0,handleH5Share:function(){x(),re()},onClose:re,createCard:function(){var e=h.threadId;v.setThreadData(b),J(),H.a.push({url:"/card?threadId=".concat(e)})}})]})},G=x.a.memo(Q),J=n("JuNc"),K=n("HoAE"),Z=n("WYay"),$=n("rOX+"),ee=n.n($),te=n("fkjL"),ne=n("ouBq"),re=n("TibX"),ie=n("lF3x"),ae=n("E2vk"),oe=(n("TeQF"),n("rB9j"),n("UxlC"),"_3t-FDz3MfCmBmVBUDaUs0l"),se="_38YbXdH-kMYAloXiXn-FI0",ce="_2WFN3UE0aYSlXbGbSQwYLv",ue=n("TSYQ"),le=n.n(ue);var de,pe=function(e){var t=e.className,n=e.styles,r=e.onClick;return Object(a.jsxs)("div",{className:le()(se,t),onClick:r,styles:n,children:["\u67e5\u770b\u66f4\u591a",Object(a.jsx)(C.a,{name:"RightOutlined",className:ce,size:12})]})},fe=n("wrmh"),he=n("ni5c"),me=n("DetZ"),ve=n.n(me),be=n("5f2u"),ye=n.n(be),ge="_21C134pKwV24h2zSRCVWz6",je="_2mRH-Dxyn9-_ErdJC8XdPa",xe="_3dzcFOoOCQ2rPiq7NET5XK",Oe="_3rECKdJR4HYQXhfu1HwHCu",we="_1Qoz-fSleroFhEdQfvva-k",Ce="_3RyFX0dqzRuW4omrKjwfhj",ke="_1RyoN7s_0N1iCyrvHH7ycv",Ne="_3RtKX0yXO9sSjNQDp2rrOT",Te="_2JatlbnhNq0v-q316G-eZg",_e="_1NCEYOHQka3kpox52y8awK",Pe=n("sho3"),Se=n("Bvw4"),Ee=n("/1yQ"),Ae=Object(T.inject)("site")(Object(T.inject)("user")((function(e){var t=e.onSubmit,n=(e.onClose,e.height,e.initValue),r=void 0===n?"":n,i=e.placeholder,o=void 0===i?"\u5199\u4e0b\u6211\u7684\u8bc4\u8bba...":i,c=e.platform,l=void 0===c?"pc":c,d=e.userInfo,p=Object(j.createRef)(),f=Object(j.useState)(""),h=f[0],m=f[1],v=Object(j.useState)(!1),b=v[0],y=v[1],g=Object(j.useState)(""),x=g[0],O=g[1],w=Object(j.useState)([]),k=w[0],N=w[1],T=Object(j.useState)(!1),_=T[0],P=T[1],S=Object(j.useState)(0),E=S[0],A=S[1],I=Object(j.useMemo)((function(){return!!h}),[h]);Object(j.useEffect)((function(){O(o)}),[o]),Object(j.useEffect)((function(){m(r)}),[r]),Object(j.useEffect)((function(){return _?window.addEventListener("click",R):window.removeEventListener("click",R),function(){window.removeEventListener("click",R)}}),[_]);var R=Object(j.useCallback)((function(e){e&&e.stopPropagation(),"emojiBtn"!==e.target.id&&P(!1)}),[]),D=function(){var e=u()(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("function"!==typeof t){e.next=15;break}return e.prev=1,y(!0),e.next=5,t(h);case 5:e.sent&&m(""),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0);case 12:return e.prev=12,y(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[1,9,12,15]])})));return function(){return e.apply(this,arguments)}}(),L=function(){var t=u()(s.a.mark((function t(){var n,r,i,a;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("function"!==typeof e.onEmojiIconClick||e.onEmojiIconClick()){t.next=2;break}return t.abrupt("return");case 2:if(P(!_),null!==k&&void 0!==k&&k.length){t.next=9;break}return t.next=6,Object(Pe.readEmoji)();case 6:n=t.sent,r=n.code,i=n.data,a=void 0===i?[]:i,0===r&&N(a.map((function(e){return{code:e.code,url:e.url}})));case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(a.jsxs)("div",{className:ge,children:[Object(a.jsxs)("div",{className:je,children:[Object(a.jsx)(Se.a,{isShowUserInfo:!e.hideInfoPopip&&"pc"===e.platform,userId:null===d||void 0===d?void 0:d.id,circle:!0,image:null===d||void 0===d?void 0:d.avatarUrl,name:(null===d||void 0===d?void 0:d.nickname)||"",onClick:function(t){return e.onClick&&e.onClick(t)},unifyOnClick:e.unifyOnClick,platform:e.platform}),Object(a.jsx)(ve.a,{className:"".concat(xe),maxLength:5e3,showLimit:!1,value:h,onChange:function(e){return m(e.target.value)},placeholder:x,disabled:b,ref:p,onFocus:function(t){"function"===typeof e.onFocus&&e.onFocus(t)},onBlur:function(e){A(e.target.selectionStart)}})]}),Object(a.jsxs)("div",{className:Oe,children:[_&&Object(a.jsx)("div",{className:Te,children:Object(a.jsx)(Ee.a,{style:{maxWidth:"100%",boxSizing:"border-box"},pc:!0,show:_,emojis:k,onClick:function(e){var t=h.substr(0,E)+(e.code||"")+h.substr(E);m(t),A(E+e.code.length)},atTop:!1})}),Object(a.jsx)("div",{className:we,children:Object(a.jsx)(C.a,{name:"SmilingFaceOutlined",size:"20",className:le()(Ce,_&&_e),onClick:L,id:"emojiBtn"})}),Object(a.jsx)(ye.a,{loading:b,disabled:!I,onClick:D,className:"".concat(ke," ").concat("h5"===l&&Ne),type:"primary",size:"large",children:"\u8bc4\u8bba"})]})]})}))),Ie=n("7mQc"),Re=n("X3A+"),De="_2j3lxGchWqMvYVt5OPKZoW",Le="_2FMvyxJFx-VVzLGZhiW6vE",Me="_1qqOD0kZ2WjtN4NbWfxiOV",Be=n("5MUC"),Ue=n("iVyX"),Fe=n("aIz1"),We=(n("fbCW"),n("x0AG"),n("QWBl"),n("+2oP"),n("pDQq"),n("toAj"),n("x2An"),n("FZtP"),n("5WlO")),qe=n("lW1z"),ze=function(){function e(t){d()(this,e),this.list=t.list,this.threadData=t.threadData}return f()(e,[{key:"updateList",value:function(e){this.list=e}},{key:"setCommentDetailField",value:function(e,t){this.commentDetail&&Reflect.has(this.commentDetail,e)&&(this.commentDetail[e]=t)}},{key:"setReplyListDetailField",value:function(e,t,n){var r,i;null!==(r=this.commentDetail)&&void 0!==r&&null!==(i=r.lastThreeComments)&&void 0!==i&&i.length&&this.commentDetail.lastThreeComments.forEach((function(r){r.id===e&&(r[t]=n)}))}},{key:"addReplyToList",value:function(e){var t;((null===(t=this.commentDetail)||void 0===t?void 0:t.commentPosts)||[]).push(e)}},{key:"setThreadId",value:function(e){this.threadId=e}},{key:"findOne",value:function(e,t){var n,r,i=this.list.find((function(t){return t.id===e}));return t&&null!==(n=i)&&void 0!==n&&null!==(r=n.lastThreeComments)&&void 0!==r&&r.length&&(i=i.lastThreeComments.find((function(e){return e.id===t}))),i}},{key:"deleteOne",value:function(){var e=u()(s.a.mark((function e(t,n){var r,i,a,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this.list.findIndex((function(e){return e.id===t})),i=this.findOne(t),!n){e.next=12;break}if(!i.lastThreeComments){e.next=11;break}return a=i.lastThreeComments.findIndex((function(e){return e.id===n})),e.next=7,this.getCommentSingleRelpy(t);case 7:o=e.sent,i.lastThreeComments.splice(a,1),i.replyCount=i.replyCount-1,o&&o.id&&(i.lastThreeComments.pop(),i.lastThreeComments.unshift(o));case 11:return e.abrupt("return",i);case 12:return this.list.splice(r,1),e.abrupt("return",i);case 14:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getCommentSingleRelpy",value:function(){var e=u()(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Pe.updateSingleReply)({params:{postId:Number(t)}});case 2:if(0!==(n=e.sent).code){e.next=5;break}return e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"createComment",value:function(){var e=u()(s.a.mark((function e(t){var n,r,i,a,o,c,u,l,d,p,f;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.id,i=t.content,a=t.attachments,o=t.postId,c=t.captchaTicket,u=t.captchaRandStr,r&&(i||0!==a.length)){e.next=3;break}return e.abrupt("return",{msg:"\u53c2\u6570\u4e0d\u5b8c\u6574",success:!1});case 3:return l={id:r,content:Object(We.a)(i),replyId:o,attachments:a},c&&u&&(l.captchaTicket=c,l.captchaRandStr=u),e.next=7,Object(Pe.createPosts)({data:l});case 7:if(0!==(d=e.sent).code||null===d||void 0===d||null===(n=d.data)||void 0===n||!n.id){e.next=14;break}return p=d.data,f=1===d.data.isApproved,p.lastThreeComments=[],0===(this.list||[]).slice().filter((function(e){return e.id===p.id})).length&&this.list.push(p),e.abrupt("return",{redPacketAmount:d.data.redPacketAmount,isApproved:f,msg:f?"\u8bc4\u8bba\u6210\u529f":"\u60a8\u53d1\u5e03\u7684\u5185\u5bb9\u6b63\u5728\u5ba1\u6838\u4e2d",success:!0});case 14:return e.abrupt("return",{msg:d.msg,success:!1});case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateComment",value:function(){var e=u()(s.a.mark((function e(t,n){var r,i,a,o,c,u,l,d,p,f;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=t.id,a=t.postId,o=t.content,c=t.attachments,u=t.captchaTicket,l=t.captchaRandStr,i&&o&&a){e.next=3;break}return e.abrupt("return",{msg:"\u53c2\u6570\u4e0d\u5b8c\u6574",success:!1});case 3:return d={id:i,postId:a,data:{attributes:{content:Object(We.a)(o),attachments:c}}},u&&l&&(d.captchaTicket=u,d.captchaRandStr=l),e.next=7,Object(Pe.updatePosts)({data:d});case 7:if(0!==(p=e.sent).code||null===p||void 0===p||null===(r=p.data)||void 0===r||!r.content||!n){e.next=13;break}return(n.commentList||[]).forEach((function(e){e.id===a&&(e.content=p.data.content)})),f=1===p.data.isApproved,e.abrupt("return",{isApproved:f,msg:f?"\u4fee\u6539\u6210\u529f":"\u60a8\u4fee\u6539\u7684\u5185\u5bb9\u6b63\u5728\u5ba1\u6838\u4e2d",success:!0});case 13:return e.abrupt("return",{msg:p.msg,success:!1});case 14:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createReply",value:function(){var e=u()(s.a.mark((function e(t){var n,r,i,a,o,c,u,l,d,p,f,h,m,v;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.id,i=t.commentId,a=t.replyId,o=t.commentPostId,c=t.content,u=t.isComment,l=t.attachments,d=t.captchaTicket,p=t.captchaRandStr,r&&(c||0!==l.length)&&a&&i){e.next=3;break}return e.abrupt("return",{msg:"\u53c2\u6570\u4e0d\u5b8c\u6574",success:!1});case 3:return f={id:r,replyId:a,content:Object(We.a)(c),isComment:u,attachments:l,commentPostId:o},d&&p&&(f.captchaTicket=d,f.captchaRandStr=p),e.next=7,Object(Pe.createPosts)({data:f});case 7:if(0!==(h=e.sent).code||null===h||void 0===h||null===(n=h.data)||void 0===n||!n.id){e.next=13;break}return null!==(m=this.list)&&void 0!==m&&m.length&&this.list.forEach((function(e){i===e.id&&(e.replyCount=e.replyCount+1,e.lastThreeComments.splice(0,1,h.data))})),this.addReplyToList(h.data),v=1===h.data.isApproved,e.abrupt("return",{isApproved:v,msg:v?"\u56de\u590d\u6210\u529f":"\u60a8\u56de\u590d\u7684\u5185\u5bb9\u6b63\u5728\u5ba1\u6838\u4e2d",success:!0});case 13:return e.abrupt("return",{msg:h.msg,success:!1});case 14:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateLiked",value:function(){var e=u()(s.a.mark((function e(t){var n,r,i,a,o,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.commentId,r=t.isLiked,i=t.replyId,n){e.next=3;break}return e.abrupt("return",{msg:"\u8bc4\u8bbaid\u4e0d\u5b58\u5728",success:!1});case 3:return a={postId:i||n,data:{attributes:{isLiked:r}}},e.next=6,Object(Pe.updateComment)({data:a});case 6:if(null===(o=e.sent)||void 0===o||!o.data||0!==o.code){e.next=12;break}return c=this.findOne(n,i),console.log(c),c&&(c.likeCount=r?c.likeCount+1:c.likeCount-1,c.isLiked=r),e.abrupt("return",{msg:"\u64cd\u4f5c\u6210\u529f",success:!0});case 12:return e.abrupt("return",{msg:o.msg,success:!1});case 13:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=u()(s.a.mark((function e(t){var n,r,i,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.commentId,r=t.replyId,n){e.next=3;break}return e.abrupt("return",{success:!1,msg:"\u8bc4\u8bbaid\u4e0d\u5b58\u5728"});case 3:return i={postId:r||n,data:{attributes:{isDeleted:1}}},e.next=6,Object(Pe.updateComment)({data:i});case 6:if(0!==(a=e.sent).code){e.next=10;break}return this.deleteOne(n,r),e.abrupt("return",{success:!0,msg:"\u5220\u9664\u6210\u529f"});case 10:return e.abrupt("return",{msg:a.msg,success:!1});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reward",value:function(){var e=u()(s.a.mark((function e(t){var n,r,i,a,o,c,u,l,d,p,f,h;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.threadId,r=t.postId,i=t.rewards,a={threadId:n,postId:r,rewards:i},e.next=4,Object(Pe.reward)({data:a});case 4:if(0!==(o=e.sent).code){e.next=9;break}return this.list.forEach((function(e){e.id===r&&(e.rewards=Object(qe.a)(Number(e.rewards),Number(i)))})),null!==(c=this.threadData)&&void 0!==c&&null!==(u=c.content)&&void 0!==u&&null!==(l=u.indexes[107])&&void 0!==l&&l.body&&(h=null===(d=this.threadData)||void 0===d||null===(p=d.content)||void 0===p||null===(f=p.indexes[107])||void 0===f?void 0:f.body.remainMoney,this.threadData.content.indexes[107].body.remainMoney=Number(h-i).toFixed(2)),e.abrupt("return",{msg:"\u64cd\u4f5c\u6210\u529f",success:!0});case 9:return e.abrupt("return",{msg:o.msg,success:!1});case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createReports",value:function(){var e=u()(s.a.mark((function e(t){var n,r,i,a,o,c,u;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.threadId,r=t.type,i=t.reason,a=t.postId,o=t.userId,c={threadId:n,type:r,reason:i,postId:a,userId:o},e.next=4,Object(Pe.createReports)({data:c});case 4:if(0!==(u=e.sent).code||!u.data){e.next=7;break}return e.abrupt("return",{msg:"\u64cd\u4f5c\u6210\u529f",success:!0});case 7:return e.abrupt("return",{msg:u.msg,success:!1});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function Ve(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g()(e);if(t){var i=g()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return b()(this,n)}}var Xe,He=Object(T.inject)("comment")(de=Object(T.inject)("user")(de=Object(T.observer)(de=function(e){m()(n,e);var t=Ve(n);function n(e){var r,i;return d()(this,n),(i=t.call(this,e)).state={showAboptPopup:!1,showCommentInput:!1,commentSort:!0,showDeletePopup:!1,showReplyDeletePopup:!1,inputText:"\u8bf7\u8f93\u5165\u5185\u5bb9"},i.commentData=null,i.replyData=null,i.recordCommentLike={id:null,status:null},i.recordReplyLike={id:null,status:null},i.operate=new ze({list:i.props.commentList,threadData:null===(r=i.props.thread)||void 0===r?void 0:r.threadData}),i}return f()(n,[{key:"likeClick",value:function(){var e=u()(s.a.mark((function e(t){var n,r,i,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.props.user.isLogin()){e.next=4;break}return N.a.info({content:"\u8bf7\u5148\u767b\u5f55!"}),Object(Y.a)({url:"/user/login"}),e.abrupt("return");case 4:if(t.id){e.next=6;break}return e.abrupt("return");case 6:if(this.recordCommentLike.id!==t.id&&(this.recordCommentLike.status=null),this.recordCommentLike.status===t.isLiked){e.next=12;break}this.recordCommentLike.status=t.isLiked,this.recordCommentLike.id=t.id,e.next=13;break;case 12:return e.abrupt("return");case 13:return n={commentId:t.id,isLiked:!t.isLiked},this.operate.updateList(this.props.commentList),e.next=17,this.operate.updateLiked(n);case 17:r=e.sent,i=r.success,a=r.msg,i||N.a.error({content:a});case 21:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"replyLikeClick",value:function(){var e=u()(s.a.mark((function e(t,n){var r,i,a,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.id){e.next=2;break}return e.abrupt("return");case 2:if(this.props.user.isLogin()){e.next=6;break}return N.a.info({content:"\u8bf7\u5148\u767b\u5f55!"}),Object(Y.a)({url:"/user/login"}),e.abrupt("return");case 6:if(this.recordReplyLike.id!==t.id&&(this.recordReplyLike.status=null),this.recordReplyLike.status===t.isLiked){e.next=12;break}this.recordReplyLike.status=t.isLiked,this.recordReplyLike.id=t.id,e.next=13;break;case 12:return e.abrupt("return");case 13:return r={commentId:n.id,replyId:t.id,isLiked:!t.isLiked},this.operate.updateList(this.props.commentList),e.next=17,this.operate.updateLiked(r);case 17:i=e.sent,a=i.success,o=i.msg,a||N.a.error({content:o});case 21:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"deleteClick",value:function(){var e=u()(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.commentData=t,this.setState({showDeletePopup:!0});case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"deleteComment",value:function(){var e=u()(s.a.mark((function e(){var t,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.commentData.id){e.next=2;break}return e.abrupt("return");case 2:return this.operate.updateList(this.props.commentList),e.next=5,this.operate.delete({commentId:this.commentData.id});case 5:if(t=e.sent,n=t.success,r=t.msg,this.setState({showDeletePopup:!1}),!n){e.next=13;break}return N.a.success({content:"\u5220\u9664\u6210\u529f"}),"function"===typeof this.props.deleteComment&&this.props.deleteComment(),e.abrupt("return");case 13:N.a.error({content:r});case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"replyDeleteClick",value:function(){var e=u()(s.a.mark((function e(t,n){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.commentData=n,this.replyData=t,this.setState({showReplyDeletePopup:!0});case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"replyDeleteComment",value:function(){var e=u()(s.a.mark((function e(){var t,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.replyData.id){e.next=2;break}return e.abrupt("return");case 2:return this.operate.updateList(this.props.commentList),e.next=5,this.operate.delete({commentId:this.commentData.id,replyId:this.replyData.id});case 5:if(t=e.sent,n=t.success,r=t.msg,this.setState({showReplyDeletePopup:!1}),!n){e.next=12;break}return N.a.success({content:"\u5220\u9664\u6210\u529f"}),e.abrupt("return");case 12:N.a.error({content:r});case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"replyClick",value:function(e){var t,n;if(!this.props.user.isLogin())return N.a.info({content:"\u8bf7\u5148\u767b\u5f55!"}),void Object(Y.a)({url:"/user/login"});if(this.props.canPublish()){this.commentData=e,this.replyData=null;var r=(null===e||void 0===e||null===(t=e.user)||void 0===t?void 0:t.nickname)||(null===e||void 0===e||null===(n=e.user)||void 0===n?void 0:n.userName);this.setState({showCommentInput:!0,inputText:r?"\u56de\u590d".concat(r):"\u8bf7\u8f93\u5165\u5185\u5bb9"})}}},{key:"replyReplyClick",value:function(e,t){var n,r;if(!this.props.user.isLogin())return N.a.info({content:"\u8bf7\u5148\u767b\u5f55!"}),void Object(Y.a)({url:"/user/login"});if(this.props.canPublish()){this.commentData=null,this.replyData=e,this.replyData.commentId=t.id;var i=(null===e||void 0===e||null===(n=e.user)||void 0===n?void 0:n.nickname)||(null===e||void 0===e||null===(r=e.user)||void 0===r?void 0:r.userName);this.setState({showCommentInput:!0,inputText:i?"\u56de\u590d".concat(i):"\u8bf7\u8f93\u5165\u5185\u5bb9"})}}},{key:"createReply",value:function(){var e=u()(s.a.mark((function e(){var t,n,r,i,a,o,c,u,l,d,p=arguments;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=p.length>0&&void 0!==p[0]?p[0]:"",i=p.length>1&&void 0!==p[1]?p[1]:[],r.replace(/\s/g,"")||0!==i.length){e.next=6;break}return N.a.info({content:"\u8bf7\u8f93\u5165\u5185\u5bb9"}),e.abrupt("return");case 6:if(a=null===(t=this.props.thread)||void 0===t||null===(n=t.threadData)||void 0===n?void 0:n.id){e.next=9;break}return e.abrupt("return");case 9:return o={id:a,content:r},this.replyData&&(o.replyId=this.replyData.id,o.isComment=!0,o.commentId=this.replyData.commentId,o.commentPostId=this.replyData.id),this.commentData&&(o.replyId=this.commentData.id,o.isComment=!0,o.commentId=this.commentData.id),null!==i&&void 0!==i&&i.length&&(o.attachments=i.filter((function(e){return"success"===e.status&&e.response})).map((function(e){return{id:e.response.id,type:"attachments"}}))),this.operate.updateList(this.props.commentList),e.next=16,this.operate.createReply(o);case 16:if(c=e.sent,u=c.success,l=c.msg,d=c.isApproved,!u){e.next=24;break}return this.setState({showCommentInput:!1,inputValue:""}),d?N.a.success({content:l}):N.a.warning({content:l}),e.abrupt("return",!0);case 24:N.a.error({content:l});case 25:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onCommentClick",value:function(e){var t,n,r,i;e.id&&null!==(t=this.props.thread)&&void 0!==t&&null!==(n=t.threadData)&&void 0!==n&&n.id&&this.props.router.push("/thread/comment/".concat(e.id,"?threadId=").concat(null===(r=this.props.thread)||void 0===r||null===(i=r.threadData)||void 0===i?void 0:i.id))}},{key:"onAboptClick",value:function(e){if(!this.props.user.isLogin())return N.a.info({content:"\u8bf7\u5148\u767b\u5f55!"}),void Object(Y.a)({url:"/user/login"});this.commentData=e,this.setState({showAboptPopup:!0})}},{key:"onAboptOk",value:function(){var e=u()(s.a.mark((function e(t){var n,r,i,a,o,c,u;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t>0)){e.next=15;break}return a={postId:null===(n=this.commentData)||void 0===n?void 0:n.id,rewards:t,threadId:null===(r=this.props.thread)||void 0===r||null===(i=r.threadData)||void 0===i?void 0:i.threadId},this.operate.updateList(this.props.commentList),e.next=5,this.operate.reward(a);case 5:if(o=e.sent,c=o.success,u=o.msg,!c){e.next=12;break}return this.setState({showAboptPopup:!1}),N.a.success({content:"\u60ac\u8d4f".concat(t,"\u5143")}),e.abrupt("return",!0);case 12:N.a.error({content:u}),e.next=16;break;case 15:N.a.info({content:"\u60ac\u8d4f\u91d1\u989d\u4e0d\u80fd\u4e3a0"});case 16:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onAboptCancel",value:function(){this.commentData=null,this.setState({showAboptPopup:!1})}},{key:"avatarClick",value:function(e){var t=e.userId;t&&this.props.router.push("/user/".concat(t))}},{key:"replyAvatarClick",value:function(e,t,n){"function"===typeof this.props.replyAvatarClick&&this.props.replyAvatarClick(e,t,n)}},{key:"render",value:function(){var e,t,n,r,i,o,s,c,u,l,d,p,f,h,m=this,v=this.props.commentList,b=(null===(e=this.props.user)||void 0===e||null===(t=e.userInfo)||void 0===t?void 0:t.id)&&(null===(n=this.props.user)||void 0===n||null===(r=n.userInfo)||void 0===r?void 0:r.id)===(null===(i=this.props.thread)||void 0===i||null===(o=i.threadData)||void 0===o?void 0:o.userId),y=null===(s=this.props.thread)||void 0===s||null===(c=s.threadData)||void 0===c||null===(u=c.displayTag)||void 0===u?void 0:u.isReward,g=((null===(l=this.props.thread)||void 0===l||null===(d=l.threadData)||void 0===d?void 0:d.content)||{}).indexes,j=((null===(p=this.props.thread)||void 0===p?void 0:p.threadData)||"").isAnonymous,x=Object(Be.a)(g);return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",{className:De,children:v.map((function(e,t){var n,r,i,o;return Object(a.jsx)("div",{className:"".concat(Le," ").concat(t===v.length-1&&Me),children:Object(a.jsx)(Ie.a,{data:e,likeClick:Object(re.a)((function(){return m.likeClick(e)}),500),avatarClick:function(){return m.avatarClick(e)},replyClick:function(){return m.replyClick(e)},deleteClick:function(){return m.deleteClick(e)},editClick:function(){return m.editClick(e)},replyAvatarClick:function(t,n){return m.replyAvatarClick(t,e,n)},replyLikeClick:Object(re.a)((function(t){return m.replyLikeClick(t,e)}),500),replyReplyClick:function(t){return m.replyReplyClick(t,e)},replyDeleteClick:function(t){return m.replyDeleteClick(t,e)},onCommentClick:function(){return m.onCommentClick(e)},onAboptClick:function(){return m.onAboptClick(e)},isShowOne:!0,isShowAdopt:b&&y&&(null===(n=m.props.thread)||void 0===n||null===(r=n.threadData)||void 0===r?void 0:r.userId)!==e.userId,threadId:null===(i=m.props.thread)||void 0===i||null===(o=i.threadData)||void 0===o?void 0:o.userId,isAnonymous:j,disabledReply:!0},e.id)},e.id||t)}))}),Object(a.jsx)(Ue.a,{visible:this.state.showCommentInput,inputText:this.state.inputText,onClose:function(){return m.setState({showCommentInput:!1})},onSubmit:function(e,t){return m.createReply(e,t)},site:this.props.site}),Object(a.jsx)(Fe.a,{visible:this.state.showDeletePopup,onClose:function(){return m.setState({showDeletePopup:!1})},onBtnClick:function(){return m.deleteComment()}}),Object(a.jsx)(Fe.a,{visible:this.state.showReplyDeletePopup,onClose:function(){return m.setState({showReplyDeletePopup:!1})},onBtnClick:function(){return m.replyDeleteComment()}}),(null===x||void 0===x||null===(f=x.REWARD)||void 0===f?void 0:f.money)&&(null===x||void 0===x||null===(h=x.REWARD)||void 0===h?void 0:h.remainMoney)&&Object(a.jsx)(Re.a,{money:Number(x.REWARD.money),remainMoney:Number(x.REWARD.remainMoney),visible:this.state.showAboptPopup,onCancel:function(){return m.onAboptCancel()},onOkClick:function(e){return m.onAboptOk(e)}})]})}}]),n}(x.a.Component))||de)||de)||de,Ye=(n("T63A"),n("tkto"),n("J4zp")),Qe=n.n(Ye),Ge={container:"FwkHZ_RX_KcZTCYxanXLc",isEmpty:"_2K8m6QlF9AV7K8YXWZ2s38",header:"_24MkG9hw_59I2-QX2Hm831",number:"_2T4zsNRk1NCagoz0YYvl2D",sort:"_3BYBfA-bXQihT02PKV7sWi",sortText:"_29L06Gw0RuEKnX8ga178hj",sortIcon:"_1TTxlOeUKQ8Y16gZwTs7Yq",body:"_2NKKLWd2ooOJzx4SewWEyY",commentItems:"-QwKZ7nX-L3WPNhW4oI0A"},Je=n("/c/8"),Ke=n("PuBq"),Ze=n("2w7u");function $e(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g()(e);if(t){var i=g()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return b()(this,n)}}var et={101:"IMAGE",102:"VOICE",103:"VIDEO",104:"GOODS",105:"QA",106:"RED_PACKET",107:"REWARD",108:"VOTE",109:"QUEUE",110:"FILE",111:"QA_IMAGE"},tt=Object(T.inject)("comment")(Xe=Object(T.inject)("user")(Xe=Object(T.inject)("site")(Xe=Object(T.observer)(Xe=function(e){m()(n,e);var t=$e(n);function n(e){var r,i;return d()(this,n),(i=t.call(this,e)).state={showAboptPopup:!1,showCommentInput:!1,showDeletePopup:!1,showReplyDeletePopup:!1,showReportPopup:!1,placeholder:"\u5199\u4e0b\u6211\u7684\u8bc4\u8bba...",commentId:null},i.commentData=null,i.replyData=null,i.operate=new ze({list:i.props.commentList,threadData:null===(r=i.props.thread)||void 0===r?void 0:r.threadData}),i}return f()(n,[{key:"likeClick",value:function(){var e=u()(s.a.mark((function e(t){var n,r,i,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.props.user.isLogin()){e.next=4;break}return N.a.info({content:"\u8bf7\u5148\u767b\u5f55!"}),Object(Y.a)({url:"/user/login"}),e.abrupt("return");case 4:if(t.id){e.next=6;break}return e.abrupt("return");case 6:return n={commentId:t.id,isLiked:!t.isLiked},this.operate.updateList(this.props.commentList),e.next=10,this.operate.updateLiked(n);case 10:r=e.sent,i=r.success,a=r.msg,i||N.a.error({content:a});case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"replyLikeClick",value:function(){var e=u()(s.a.mark((function e(t,n){var r,i,a,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.props.user.isLogin()){e.next=4;break}return N.a.info({content:"\u8bf7\u5148\u767b\u5f55!"}),Object(Y.a)({url:"/user/login"}),e.abrupt("return");case 4:if(t.id){e.next=6;break}return e.abrupt("return");case 6:return r={commentId:n.id,replyId:t.id,isLiked:!t.isLiked},this.operate.updateList(this.props.commentList),e.next=10,this.operate.updateLiked(r);case 10:i=e.sent,a=i.success,o=i.msg,a||N.a.error({content:o});case 15:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"deleteClick",value:function(){var e=u()(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.props.user.isLogin()){e.next=4;break}return N.a.info({content:"\u8bf7\u5148\u767b\u5f55!"}),Object(Y.a)({url:"/user/login"}),e.abrupt("return");case 4:this.commentData=t,this.setState({showDeletePopup:!0});case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"deleteComment",value:function(){var e=u()(s.a.mark((function e(){var t,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.props.user.isLogin()){e.next=4;break}return N.a.info({content:"\u8bf7\u5148\u767b\u5f55!"}),Object(Y.a)({url:"/user/login"}),e.abrupt("return");case 4:if(this.commentData.id){e.next=6;break}return e.abrupt("return");case 6:return this.operate.updateList(this.props.commentList),e.next=9,this.operate.delete({commentId:this.commentData.id});case 9:if(t=e.sent,n=t.success,r=t.msg,this.setState({showDeletePopup:!1}),!n){e.next=17;break}return N.a.success({content:"\u5220\u9664\u6210\u529f"}),"function"===typeof this.props.deleteComment&&this.props.deleteComment(),e.abrupt("return");case 17:N.a.error({content:r});case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"replyDeleteClick",value:function(){var e=u()(s.a.mark((function e(t,n){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.commentData=n,this.replyData=t,this.setState({showReplyDeletePopup:!0});case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"replyDeleteComment",value:function(){var e=u()(s.a.mark((function e(){var t,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.replyData.id){e.next=2;break}return e.abrupt("return");case 2:return this.operate.updateList(this.props.commentList),e.next=5,this.operate.delete({commentId:this.commentData.id,replyId:this.replyData.id});case 5:if(t=e.sent,n=t.success,r=t.msg,this.setState({showReplyDeletePopup:!1}),!n){e.next=12;break}return N.a.success({content:"\u5220\u9664\u6210\u529f"}),e.abrupt("return");case 12:N.a.error({content:r});case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"replyClick",value:function(e){if(!this.props.user.isLogin())return N.a.info({content:"\u8bf7\u5148\u767b\u5f55!"}),void Object(Y.a)({url:"/user/login"});this.props.canPublish("reply")&&(this.commentData=e,this.replyData=null,this.setState({showCommentInput:!0,commentId:e.id}))}},{key:"replyReplyClick",value:function(e,t){if(!this.props.user.isLogin())return N.a.info({content:"\u8bf7\u5148\u767b\u5f55!"}),void Object(Y.a)({url:"/user/login"});this.props.canPublish("reply")&&(this.commentData=null,this.replyData=e,this.replyData.commentId=t.id,this.setState({showCommentInput:!0,commentId:null}))}},{key:"createReply",value:function(){var e=u()(s.a.mark((function e(){var t,n,r,i,a,o,c,u,l,d,p,f,h,m,v,b,y,g,j=arguments;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=j.length>0&&void 0!==j[0]?j[0]:"",i=j.length>1&&void 0!==j[1]?j[1]:[],r.replace(/\s/g,"")||0!==i.length){e.next=6;break}return N.a.info({content:"\u8bf7\u8f93\u5165\u5185\u5bb9"}),e.abrupt("return");case 6:if(a=null===(t=this.props.thread)||void 0===t||null===(n=t.threadData)||void 0===n?void 0:n.threadId){e.next=9;break}return e.abrupt("return");case 9:if(o={id:a,content:r},!(c=this.props.site.webConfig)){e.next=24;break}if(d=null===c||void 0===c||null===(u=c.qcloud)||void 0===u?void 0:u.qcloudCaptcha,p=null===c||void 0===c||null===(l=c.other)||void 0===l?void 0:l.createThreadWithCaptcha,!d||!p){e.next=24;break}return e.next=17,this.props.showCaptcha();case 17:if(f=e.sent,h=f.captchaTicket,m=f.captchaRandStr,h||m){e.next=22;break}return e.abrupt("return",!1);case 22:o.captchaTicket=h,o.captchaRandStr=m;case 24:return this.replyData&&(o.replyId=this.replyData.id,o.isComment=!0,o.commentId=this.replyData.commentId,o.commentPostId=this.replyData.id),this.commentData&&(o.replyId=this.commentData.id,o.isComment=!0,o.commentId=this.commentData.id),null!==i&&void 0!==i&&i.length&&(o.attachments=i.filter((function(e){return"success"===e.status&&e.response})).map((function(e){return{id:e.response.id,type:"attachments"}}))),this.operate.updateList(this.props.commentList),e.next=30,this.operate.createReply(o);case 30:if(v=e.sent,b=v.success,y=v.msg,g=v.isApproved,!b){e.next=38;break}return this.setState({showCommentInput:!1,inputValue:"",commentId:null}),g?N.a.success({content:y}):N.a.warning({content:y}),e.abrupt("return",!0);case 38:N.a.error({content:y});case 39:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onCommentClick",value:function(e){var t,n,r,i;e.id&&null!==(t=this.props.thread)&&void 0!==t&&null!==(n=t.threadData)&&void 0!==n&&n.id&&H.a.push({url:"/thread/comment/".concat(e.id,"?threadId=").concat(null===(r=this.props.thread)||void 0===r||null===(i=r.threadData)||void 0===i?void 0:i.id)})}},{key:"onAboptClick",value:function(e){if(!this.props.user.isLogin())return N.a.info({content:"\u8bf7\u5148\u767b\u5f55!"}),void Object(Y.a)({url:"/user/login"});this.commentData=e,this.setState({showAboptPopup:!0})}},{key:"onAboptOk",value:function(){var e=u()(s.a.mark((function e(t){var n,r,i,a,o,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t>0)){e.next=15;break}return i={postId:this.commentData.id,rewards:t,threadId:null===(n=this.props.thread)||void 0===n||null===(r=n.threadData)||void 0===r?void 0:r.threadId},this.operate.updateList(this.props.commentList),e.next=5,this.operate.reward(i);case 5:if(a=e.sent,o=a.success,c=a.msg,!o){e.next=12;break}return this.setState({showAboptPopup:!1}),N.a.success({content:"\u60ac\u8d4f".concat(t,"\u5143")}),e.abrupt("return",!0);case 12:N.a.error({content:c}),e.next=16;break;case 15:N.a.info({content:"\u60ac\u8d4f\u91d1\u989d\u4e0d\u80fd\u4e3a0"});case 16:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onAboptCancel",value:function(){this.commentData=null,this.setState({showAboptPopup:!1})}},{key:"onUserClick",value:function(e){e&&H.a.push({url:"/user/".concat(e)})}},{key:"reportClick",value:function(e){if(!this.props.user.isLogin())return N.a.info({content:"\u8bf7\u5148\u767b\u5f55!"}),void Object(Y.a)({url:"/user/login"});this.comment=e,this.setState({showReportPopup:!0})}},{key:"onReportOk",value:function(){var e=u()(s.a.mark((function e(t){var n,r,i,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=3;break}return N.a.info({content:"\u8bf7\u9009\u62e9\u6216\u8f93\u5165\u4e3e\u62a5\u7406\u7531"}),e.abrupt("return");case 3:return n={threadId:this.props.thread.threadData.threadId,reason:t,userId:this.props.user.userInfo.id},this.comment?(n.type=2,n.postId=this.comment.id):n.type=1,e.next=7,this.operate.createReports(n);case 7:if(r=e.sent,i=r.success,a=r.msg,!i){e.next=14;break}return N.a.success({content:"\u64cd\u4f5c\u6210\u529f"}),this.setState({showReportPopup:!1}),e.abrupt("return",!0);case 14:N.a.error({content:a});case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onReportCancel",value:function(){this.comment=null,this.setState({showReportPopup:!1})}},{key:"replyAvatarClick",value:function(e,t,n){if(2===n){var r=e.userId;if(!r)return;this.props.router.push("/user/".concat(r))}if(3===n){var i=e.commentUserId;if(!i)return;this.props.router.push("/user/".concat(i))}}},{key:"onFocus",value:function(e){return this.props.user.isLogin()?!!this.props.canPublish("reply")||void 0:(e&&e.stopPropagation(),N.a.info({content:"\u8bf7\u5148\u767b\u5f55!"}),void Object(Y.a)({url:"/user/login"}))}},{key:"render",value:function(){var e,t,n,r,i,o,s,c,u,l,d,p,f,h,m=this,v=this.props.commentList,b=(null===(e=this.props.user)||void 0===e||null===(t=e.userInfo)||void 0===t?void 0:t.id)&&(null===(n=this.props.user)||void 0===n||null===(r=n.userInfo)||void 0===r?void 0:r.id)===(null===(i=this.props.thread)||void 0===i||null===(o=i.threadData)||void 0===o?void 0:o.userId),y=null===(s=this.props.thread)||void 0===s||null===(c=s.threadData)||void 0===c||null===(u=c.displayTag)||void 0===u?void 0:u.isReward,g=((null===(l=this.props.thread)||void 0===l?void 0:l.threadData)||"").isAnonymous,j=((null===(d=this.props.thread)||void 0===d||null===(p=d.threadData)||void 0===p?void 0:p.content)||{}).indexes,x={};return j&&Object.keys(j)&&Object.entries(j).forEach((function(e){var t=Qe()(e,2)[1];if(t){var n=t.tomId,r=t.body;x[et[n]]=r}})),Object(a.jsxs)("div",{className:le()(Ge.container,!(null!==v&&void 0!==v&&v.length)&&Ge.isEmpty),children:[Object(a.jsx)("div",{className:Ge.body,children:v.map((function(e,t){var n,r;return Object(a.jsx)("div",{className:"".concat(Ge.commentItems," ").concat(t===v.length-1&&Ge.isLastOne),children:Object(a.jsx)(Ke.a,{data:e,avatarClick:function(e){return m.onUserClick(e)},replyAvatarClick:function(t,n){return m.replyAvatarClick(t,e,n)},likeClick:function(){return m.likeClick(e)},replyClick:function(){return m.replyClick(e)},deleteClick:function(){return m.deleteClick(e)},replyLikeClick:function(t){return m.replyLikeClick(t,e)},replyReplyClick:function(t){return m.replyReplyClick(t,e)},replyDeleteClick:function(t){return m.replyDeleteClick(t,e)},reportClick:function(){return m.reportClick(e)},onCommentClick:function(){return m.onCommentClick(e)},onSubmit:function(e,t){return m.createReply(e,t)},isShowOne:!0,isShowInput:m.state.commentId===e.id,onAboptClick:function(){return m.onAboptClick(e)},isShowAdopt:b&&y&&(null===(n=m.props.thread)||void 0===n||null===(r=n.threadData)||void 0===r?void 0:r.userId)!==e.userId,threadId:m.props.thread.threadData.userId,isAnonymous:g},e.id)},e.id||t)}))}),Object(a.jsx)(Fe.a,{visible:this.state.showDeletePopup,onClose:function(){return m.setState({showDeletePopup:!1})},onBtnClick:function(){return m.deleteComment()}}),Object(a.jsx)(Fe.a,{visible:this.state.showReplyDeletePopup,onClose:function(){return m.setState({showReplyDeletePopup:!1})},onBtnClick:function(){return m.replyDeleteComment()}}),(null===x||void 0===x||null===(f=x.REWARD)||void 0===f?void 0:f.money)&&(null===x||void 0===x||null===(h=x.REWARD)||void 0===h?void 0:h.remainMoney)&&Object(a.jsx)(Je.a,{money:Number(x.REWARD.money),remainMoney:Number(x.REWARD.remainMoney),visible:this.state.showAboptPopup,onCancel:function(){return m.onAboptCancel()},onOkClick:function(e){return m.onAboptOk(e)}}),Object(a.jsx)(Ze.a,{visible:this.state.showReportPopup,onCancel:function(){return m.onReportCancel()},onOkClick:function(e){return m.onReportOk(e)}})]})}}]),n}(x.a.Component))||Xe)||Xe)||Xe)||Xe;function nt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function rt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nt(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function it(e){return"pc"===e.platform?Object(a.jsx)(tt,rt({},e)):Object(a.jsx)(He,rt({},e))}var at,ot=n("pGE/"),st=n("C3nd");function ct(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g()(e);if(t){var i=g()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return b()(this,n)}}var ut,lt=Object(T.inject)("user")(at=Object(T.inject)("site")(at=Object(T.observer)(at=function(e){m()(n,e);var t=ct(n);function n(e){var r,i;return d()(this,n),(i=t.call(this,e)).onViewMoreClick=function(){ot.a.isFunction(i.props.onViewMoreClick)&&i.props.onViewMoreClick()},i.operate=new ze({list:i.props.commentList,threadData:null===(r=i.props.thread)||void 0===r?void 0:r.threadData}),i}return f()(n,[{key:"onPublishClick",value:function(){var e=u()(s.a.mark((function e(){var t,n,r,i,a,o,c,u,l,d,p,f=arguments;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.length>0&&void 0!==f[0]?f[0]:"",n=f.length>1&&void 0!==f[1]?f[1]:[],this.props.user.isLogin()){e.next=6;break}return N.a.info({content:"\u8bf7\u5148\u767b\u5f55!"}),Object(Y.a)({url:"/user/login"}),e.abrupt("return");case 6:if(t.replace(/\s/g,"")||0!==n.length){e.next=10;break}return N.a.info({content:"\u8bf7\u8f93\u5165\u5185\u5bb9"}),e.abrupt("return");case 10:if(r={val:t,imageList:n},!(i=this.props.site.webConfig)){e.next=25;break}if(c=null===i||void 0===i||null===(a=i.qcloud)||void 0===a?void 0:a.qcloudCaptcha,u=null===i||void 0===i||null===(o=i.other)||void 0===o?void 0:o.createThreadWithCaptcha,!c||!u){e.next=25;break}return e.next=18,this.props.showCaptcha();case 18:if(l=e.sent,d=l.captchaTicket,p=l.captchaRandStr,d||p){e.next=23;break}return e.abrupt("return",!1);case 23:r.captchaTicket=d,r.captchaRandStr=p;case 25:return e.next=27,this.createComment(r);case 27:return e.abrupt("return",e.sent);case 28:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"createComment",value:function(){var e=u()(s.a.mark((function e(t){var n,r,i,a,o,c,u,l,d,p,f,h,m,v,b,y,g;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.val,c=t.imageList,u=t.captchaTicket,l=void 0===u?"":u,d=t.captchaRandStr,p=void 0===d?"":d,f=null===(n=this.props.thread)||void 0===n||null===(r=n.threadData)||void 0===r?void 0:r.id,h={id:f,content:o,sort:this.commentDataSort,isNoMore:null===(i=this.props)||void 0===i||null===(a=i.thread)||void 0===a?void 0:a.isNoMore,attachments:[],captchaTicket:l,captchaRandStr:p},null!==c&&void 0!==c&&c.length&&(h.attachments=c.filter((function(e){return"success"===e.status&&e.response})).map((function(e){return{id:e.response.id,type:"attachments"}}))),this.operate.updateList(this.props.commentList),e.next=7,this.operate.createComment(h);case 7:if(m=e.sent,v=m.success,b=m.msg,y=m.isApproved,g=m.redPacketAmount,this.props.createComment&&this.props.createComment(),!v){e.next=18;break}return y?N.a.success({content:b}):N.a.warning({content:b}),g&&g>0&&this.props.threadStore.setRedPacket(g),this.setState({inputValue:""}),e.abrupt("return",!0);case 18:N.a.error({content:b});case 19:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props,n=t.thread,r=t.userInfo,i=t.canPublish,o=t.commentList,s=t.deleteComment,c=t.isLoading,u=t.requestError,l=t.postCount,d=t.platform;return Object(a.jsxs)(a.Fragment,{children:[o&&Object(a.jsx)(it,{thread:n,canPublish:i,commentList:o,deleteComment:s,platform:d,showCaptcha:this.props.showCaptcha}),c?Object(a.jsx)(fe.a,{type:"init"}):(null===u||void 0===u?void 0:u.isError)&&Object(a.jsx)(he.a,{isError:u.isError}),l>10&&Object(a.jsx)(pe,{className:oe,onClick:this.onViewMoreClick}),Object(a.jsx)(Ae,{userInfo:r,onSubmit:function(t){return e.onPublishClick(t)},platform:d})]})}}]),n}(x.a.Component))||at)||at)||at,dt=Object(st.a)(lt),pt=(n("QcND"),n("SRSl"));function ft(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ht(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ft(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ft(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function mt(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g()(e);if(t){var i=g()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return b()(this,n)}}var vt=Object(T.inject)("site")(ut=Object(T.inject)("index")(ut=Object(T.inject)("user")(ut=Object(T.inject)("thread")(ut=Object(T.inject)("plugin")(ut=Object(T.inject)("card")(ut=Object(T.observer)(ut=function(e){m()(n,e);var t=mt(n);function n(){var e;d()(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).state={isSendingLike:!1,showCommentList:!1},e.onShare=function(t){t&&t.stopPropagation(),N.a.info({content:"\u590d\u5236\u94fe\u63a5\u6210\u529f"}),e.handleShare()},e.handleShare=Object(z.a)((function(){if(!e.props.user.isLogin())return N.a.info({content:"\u8bf7\u5148\u767b\u5f55!"}),void Object(Y.a)({url:"/user/login"});var t=e.props.data||{},n=(t.title,t.threadId),r=void 0===n?"":n,i=t.user;ee()({path:"thread/".concat(r)}),e.props.index.updateThreadShare({threadId:r}).then((function(e){0===e.code&&Object(pt.d)(r,{updateType:"share",updatedInfo:e.data,user:i.userInfo})}))}),500),e.onComment=function(){var t=u()(s.a.mark((function t(n){var r,i,a,o,c,u;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n&&n.stopPropagation(),e.allowEnter()){t.next=3;break}return t.abrupt("return");case 3:if(r=e.props.data||{},i=r.threadId,a=void 0===i?"":i,o=r.likeReward,""===a){t.next=15;break}if(!("h5"===(null===(c=e.props)||void 0===c||null===(u=c.site)||void 0===u?void 0:u.platform)&&o.postCount>0)||e.state.showCommentList){t.next=9;break}return e.props.thread.positionToComment(),e.props.router.push("/thread/".concat(a)),t.abrupt("return");case 9:if(e.setState({showCommentList:!e.state.showCommentList}),e.state.showCommentList){t.next=13;break}return t.next=13,Object(pt.a)(a,e.props.recomputeRowHeights);case 13:t.next=16;break;case 15:console.log("\u5e16\u5b50\u4e0d\u5b58\u5728");case 16:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.onPraise=function(t){t&&t.stopPropagation(),e.updateViewCount(),e.handlePraise()},e.handlePraise=Object(z.a)((function(){if(!e.state.isSendingLike){if(!e.props.user.isLogin())return N.a.info({content:"\u8bf7\u5148\u767b\u5f55!"}),void Object(Y.a)({url:"/user/login"});var t=e.props,n=t.data,r=void 0===n?{}:n,i=t.user,a=t.recomputeRowHeights,o=t.onPraise,s=r.threadId,c=void 0===s?"":s,u=r.isLike,l=r.postId;e.setState({isSendingLike:!0}),e.props.index.updateThreadInfo({pid:l,id:c,data:{attributes:{isLiked:!u}}}).then((function(t){0===t.code&&t.data?(Object(pt.d)(c,{updateType:"like",updatedInfo:t.data,user:i.userInfo,recomputeRowHeights:a}),"function"===typeof o&&o({isLiked:t.data.isLiked})):N.a.info({content:"".concat(null===t||void 0===t?void 0:t.msg)}),e.setState({isSendingLike:!1})}))}}),1e3),e.onPay=function(t){t&&t.stopPropagation(),e.updateViewCount(),e.handlePay()},e.handlePay=Object(z.a)(u()(s.a.mark((function t(){var n,r,i,a,o,c,u;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.props.data,t.next=3,Object(te.a)(r,null===(n=e.props.user)||void 0===n?void 0:n.userInfo);case 3:if(i=t.sent,!i.success||null===r||void 0===r||!r.threadId){t.next=12;break}return t.next=8,e.props.thread.fetchThreadDetail(null===r||void 0===r?void 0:r.threadId);case 8:a=t.sent,o=a.code,c=a.data,0===o&&c&&(Object(pt.c)(null===r||void 0===r?void 0:r.threadId,c),u=e.props.recomputeRowHeights,(void 0===u?z.e:u)(c));case 12:case"end":return t.stop()}}),t)}))),1e3),e.onClickUser=function(t){t&&t.stopPropagation();var n=e.props.data||{},r=n.user,i=void 0===r?{}:r;n.isAnonymous?e.onClick():e.props.router.push("/user/".concat(null===i||void 0===i?void 0:i.userId))},e.onClick=Object(re.b)((function(){if(e.allowEnter()){var t=(e.props.data||{}).threadId,n=void 0===t?"":t;""!==n?(e.props.thread.isPositionToComment=!1,e.props.router.push("/thread/".concat(n))):console.log("\u5e16\u5b50\u4e0d\u5b58\u5728");var r=e.props.onClick;"function"===typeof r&&r(e.props.data)}}),1e3),e.onClickHeaderIcon=function(t){t&&t.stopPropagation();var n=e.props.onClickIcon;(void 0===n?z.e:n)(t)},e.onOpen=function(){var t=(e.props.data||{}).threadId,n=void 0===t?"":t;Object(pt.d)(n,{updateType:"openedMore",openedMore:!0,recomputeRowHeights:e.props.recomputeRowHeights})},e.onClose=function(){var t=(e.props.data||{}).threadId,n=void 0===t?"":t;Object(pt.d)(n,{updateType:"openedMore",openedMore:!1,recomputeRowHeights:e.props.recomputeRowHeights})},e.allowEnter=function(){return!!(e.props.data||{}).ability.canViewPost||(e.props.user.isLogin()?N.a.info({content:"\u6682\u65e0\u6743\u9650\u67e5\u770b\u8be6\u60c5\uff0c\u8bf7\u8054\u7cfb\u7ba1\u7406\u5458"}):(N.a.info({content:"\u8bf7\u5148\u767b\u5f55!"}),Object(Y.a)({url:"/user/login"})),!1)},e.onViewMoreClick=function(){if(e.allowEnter()){var t=(e.props.data||{}).threadId,n=void 0===t?"":t;""!==n?(e.props.thread.positionToComment(),e.props.router.push("/thread/".concat(n))):console.log("\u5e16\u5b50\u4e0d\u5b58\u5728")}},e.deleteComment=function(){var t,n,r=null===(t=e.props.data)||void 0===t||null===(n=t.likeReward)||void 0===n?void 0:n.postCount;if(r>0){var i=(e.props.data||{}).threadId,a=void 0===i?"":i;Object(pt.d)(a,{updateType:"decrement-comment"}),r-1===0&&e.setState({showCommentList:!1})}},e.createComment=function(){var t,n=(e.props.data||{}).threadId,r=void 0===n?"":n;null!==(t=e.props.thread)&&void 0!==t&&t.threadData&&(e.props.thread.threadData.needupdate=!0),Object(pt.d)(r,{updateType:"comment"})},e.updateViewCount=u()(s.a.mark((function t(){var n,r,i,a,o,c,u,l,d,p;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.props,i=r.data,a=r.site,o=(i||{}).threadId,c=void 0===o?"":o,u=(null===a||void 0===a||null===(n=a.webConfig)||void 0===n?void 0:n.setSite)||{},l=u.openViewCount,1!==Number(l)){t.next=6;break}return t.abrupt("return");case 6:return d=Number(c),t.next=9,Object(ie.c)(d);case 9:(p=t.sent)&&Object(pt.d)(d,{updateType:"viewCount",updatedInfo:{viewCount:p}});case 11:case"end":return t.stop()}}),t)}))),e}return f()(n,[{key:"render",value:function(){var e,t=this,n=this.props,r=n.plugin,i=n.index,o=n.thread,s=n.data,c=n.card,u=n.className,l=void 0===u?"":u,d=n.site,p=void 0===d?{}:d,f=n.showBottomStyle,h=void 0===f||f,m=n.collect,v=void 0===m?"":m,b=n.unifyOnClick,y=void 0===b?null:b,g=n.isShowIcon,j=void 0!==g&&g,x=n.user,O=n.onTextItemClick,w=void 0===O?null:O,k=n.extraTag,N=n.extraInfo,T=p.platform,_=void 0===T?"pc":T,P=this.props.thread,S=this.props,E=S.onContentHeightChange,A=void 0===E?z.e:E,I=S.onImageReady,R=void 0===I?z.e:I,D=S.onVideoReady,L=void 0===D?z.e:D;if(!s)return Object(a.jsx)(K.a,{});var M=s||{},B=M.user,U=void 0===B?{}:B,F=M.position,W=void 0===F?{}:F,q=M.likeReward,V=void 0===q?{}:q,X=M.viewCount,H=M.group,Y=(M.createdAt,M.isLike),Q=M.postId,$=M.threadId,ee=M.displayTag,te=M.payType,re=M.isAnonymous,ie=M.diffTime,oe=M.commentList,se=ee||{},ce=se.isEssence,ue=se.isPoster,le=se.isPrice,de=se.isRedPack,pe=se.isReward,fe=Object(z.c)(s.content).redPacketData,he=fe&&0===fe.condition&&fe.remainNumber>0;return Object(a.jsxs)("div",{className:"".concat(Z.a.container," ").concat(l," ").concat(h&&Z.a.containerBottom," ").concat("pc"===_&&Z.a.containerPC),children:[Object(a.jsxs)("div",{className:Z.a.header,onClick:y||this.onClick,children:[Object(a.jsx)(J.a,{name:U.nickname||"",avatar:U.avatar||"",location:W.location,view:"".concat(X),groupName:null===H||void 0===H?void 0:H.groupName,groupLevel:null===H||void 0===H?void 0:H.level,time:ie,isEssence:ce,isPoster:ue,isPay:le,isRed:de,isReward:pe,isAnonymous:re,userId:null===U||void 0===U?void 0:U.userId,platform:_,collect:v,onClick:y||this.onClickUser,unifyOnClick:y,extraTag:k,extraInfo:N}),j&&Object(a.jsx)("div",{className:Z.a.headerIcon,onClick:y||this.onClickHeaderIcon,children:Object(a.jsx)(C.a,{name:"CollectOutlinedBig",size:20})})]}),Object(a.jsx)(ne.a,{site:p,plugin:{pluginComponent:r.pluginComponent,plugin:{setPluginStore:r.setPluginStore,getPluginStore:r.getPluginStore}},user:x,updateThread:o.updateThread.bind(o),updateListThreadIndexes:i.updateListThreadIndexes.bind(i),onContentHeightChange:A,onImageReady:R,onVideoReady:L,data:s,threadId:s.threadId,onClick:y||this.onClick,onPay:y||this.onPay,unifyOnClick:y,platform:_,onOpen:this.onOpen,onClose:this.onClose,updateViewCount:this.updateViewCount,recomputeRowHeights:function(e){t.props.recomputeRowHeights&&"function"===typeof t.props.recomputeRowHeights&&t.props.recomputeRowHeights(e)},onTextItemClick:w}),Object(a.jsx)(G,{data:s,card:c,user:x,userImgs:V.users,wholeNum:V.likePayCount||0,comment:V.postCount||0,sharing:V.shareCount||0,onShare:y||this.onShare,handleShare:y||this.handleShare,onComment:y||this.onComment,onPraise:y||this.onPraise,isLiked:Y,isCommented:this.state.showCommentList,isSendingLike:this.state.isSendingLike,tipData:{postId:Q,threadId:$,platform:_,payType:te},platform:_,updateViewCount:this.updateViewCount,hasCommentHongbao:he}),this.props.enableCommentList&&this.state.showCommentList&&Object(a.jsx)(dt,{thread:{threadData:ht({id:s.threadId},s)},threadStore:P,userInfo:this.props.user.userInfo,canPublish:function(e){return Object(ae.a)(x,p,e,s.threadId)},commentList:oe,deleteComment:this.deleteComment,createComment:this.createComment,isLoading:s.isLoading,requestError:s.requestError,postCount:null===s||void 0===s||null===(e=s.likeReward)||void 0===e?void 0:e.postCount,onViewMoreClick:this.onViewMoreClick,platform:_})]})}}]),n}(x.a.Component))||ut)||ut)||ut)||ut)||ut)||ut)||ut;vt.defaultProps={enableCommentList:!0};t.a=Object(O.withRouter)(vt)},zSZm:function(e,t,n){"use strict";var r=n("67WC"),i=r.aTypedArray,a=r.exportTypedArrayMethod,o=Math.floor;a("reverse",(function(){for(var e,t=this,n=i(t).length,r=o(n/2),a=0;a<r;)e=t[a],t[a++]=t[--n],t[n]=e;return t}))},zyNV:function(e,t){e.exports=function(e){return{isLeading:(12&e[0])>>>2,dependsOn:3&e[0],isDependedOn:(192&e[1])>>>6,hasRedundancy:(48&e[1])>>>4,paddingValue:(14&e[1])>>>1,isNonSyncSample:1&e[1],degradationPriority:e[2]<<8|e[3]}}}}]);