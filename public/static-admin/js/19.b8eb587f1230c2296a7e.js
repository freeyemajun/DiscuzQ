(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{"14Xm":function(e,t,r){e.exports=r("u938")},"1iK8":function(e,t,r){"use strict";r.r(t);var n=r("3cBO"),s=r("NY7+");for(var a in s)["default"].indexOf(a)<0&&function(e){r.d(t,e,(function(){return s[e]}))}(a);var i=r("KHd+"),o=Object(i.a)(s.default,n.a,n.b,!1,null,null,null);t.default=o.exports},"3cBO":function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return s}));var n=function(){var e=this,t=e._self._c;return t("div",{staticClass:"user-details-box"},[t("div",{staticClass:"details-wallet-header"},[t("p",{staticClass:"details-wallet-header__name"},[e._v(e._s(this.userInfo.username)+"（UID："+e._s(this.userInfo.id)+"）")]),e._v(" "),t("i",{staticClass:"details-wallet-header__i"}),e._v(" "),t("span",{staticClass:"details-wallet-header__details"},[e._v("详情")]),e._v(" "),t("span",{on:{click:function(t){return e.$router.push({path:"/admin/wallet",query:e.query})}}},[e._v("钱包")])]),e._v(" "),t("Card",[t("el-upload",{staticClass:"avatar-uploader",attrs:{action:"","http-request":e.uploaderLogo,"show-file-list":!1,"on-success":e.handleAvatarSuccess,"before-upload":e.beforeAvatarUpload},on:{change:e.handleFile}},[e.imageUrl?t("img",{staticClass:"avatar",attrs:{src:e.imageUrl}}):t("i",{staticClass:"el-icon-plus avatar-uploader-icon"})]),e._v(" "),t("el-button",{style:{opacity:e.deleBtn?"1":"0",cursor:e.deleBtn?"pointer":"auto"},attrs:{type:"text"},on:{click:e.deleteImage}},[e._v("删除")])],1),e._v(" "),t("Card",{attrs:{header:"用户名："}},[t("CardRow",[t("el-input",{model:{value:e.userName,callback:function(t){e.userName=t},expression:"userName"}})],1)],1),e._v(" "),t("Card",{attrs:{header:"昵称："}},[t("CardRow",[t("el-input",{model:{value:e.nickName,callback:function(t){e.nickName=t},expression:"nickName"}})],1)],1),e._v(" "),e.noAdmin?t("Card",{attrs:{header:"旧密码："}},[t("CardRow",{attrs:{description:"如果不更改密码此处请留空"}},[t("el-input",{attrs:{clearable:""},model:{value:e.oldPassword,callback:function(t){e.oldPassword=t},expression:"oldPassword"}})],1)],1):e._e(),e._v(" "),t("Card",{attrs:{header:"新密码："}},[t("CardRow",{attrs:{description:"如果不更改密码此处请留空"}},[t("el-input",{attrs:{clearable:""},model:{value:e.newPassword,callback:function(t){e.newPassword=t},expression:"newPassword"}})],1)],1),e._v(" "),e.noAdmin?t("Card",{attrs:{header:"确认新密码："}},[t("CardRow",{attrs:{description:"如果不更改密码此处请留空"}},[t("el-input",{attrs:{clearable:""},model:{value:e.confirmPassword,callback:function(t){e.confirmPassword=t},expression:"confirmPassword"}})],1)],1):e._e(),e._v(" "),t("Card",{attrs:{header:"手机号："}},[t("CardRow",[t("el-input",{model:{value:e.userInfo.originalMobile,callback:function(t){e.$set(e.userInfo,"originalMobile",t)},expression:"userInfo.originalMobile"}})],1)],1),e._v(" "),t("Card",{attrs:{header:"用户角色："}},[t("CardRow",[t("el-select",{attrs:{value:e.userRole,placeholder:"请选择"},on:{change:e.groupSwitch}},e._l(e.options,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1),e._v(" "),t("Card",{attrs:{header:"状态："}},[t("CardRow",[t("el-select",{attrs:{placeholder:"请选择"},on:{change:function(t){return e.userStatusChange(e.userInfo.status)}},model:{value:e.userInfo.status,callback:function(t){e.$set(e.userInfo,"status",t)},expression:"userInfo.status"}},e._l(e.optionsStatus,(function(e){return t("el-option",{key:e.value,attrs:{disabled:"2"===e.value,label:e.label,value:e.value}})})),1)],1)],1),e._v(" "),t("Card",{directives:[{name:"show",rawName:"v-show",value:e.disabledReason,expression:"disabledReason"}],attrs:{header:"禁用原因："}},[t("CardRow",[t("el-input",{attrs:{clearable:""},model:{value:e.reasonsForDisable,callback:function(t){e.reasonsForDisable=t},expression:"reasonsForDisable"}})],1)],1),e._v(" "),t("Card",{attrs:{header:"过期时间："}},[t("div",{staticClass:"block"},[t("el-date-picker",{attrs:{type:"datetime",placeholder:"选择日期时间","value-format":"yyyy-MM-dd HH:mm:ss"},model:{value:e.expired_at,callback:function(t){e.expired_at=t},expression:"expired_at"}})],1)]),e._v(" "),t("Card",{attrs:{header:"注册时间："}},[t("p",[e._v(e._s(e.$dayjs(e.userInfo.createdAt).format("YYYY-MM-DD HH:mm")))])]),e._v(" "),t("Card",{attrs:{header:"注册IP："}},[t("p",[e._v(e._s(e.userInfo.registerIp))])]),e._v(" "),e.userInfo.loginAt?t("Card",{attrs:{header:"最后登录时间："}},[t("p",[e._v(e._s(e.$dayjs(e.userInfo.loginAt).format("YYYY-MM-DD HH:mm")))])]):e._e(),e._v(" "),t("Card",{attrs:{header:"最后登录IP："}},[t("p",[e._v(e._s(e.userInfo.lastLoginIp))])]),e._v(" "),e.userInfo.wxNickname?t("Card",{attrs:{header:"微信昵称："}},[t("p",[e._v(e._s(e.userInfo.wxNickname))])]):e._e(),e._v(" "),e.sex?t("Card",{attrs:{header:"性别："}},[t("p",[e._v(e._s(0===e.sex?"未知":1===e.sex?"男":"女"))])]):e._e(),e._v(" "),t("Card",{directives:[{name:"show",rawName:"v-show",value:e.realname,expression:"realname"}],attrs:{header:"实名认证姓名："}},[t("p",[e._v(e._s(e.userInfo.realname))])]),e._v(" "),t("Card",{directives:[{name:"show",rawName:"v-show",value:e.realname,expression:"realname"}],attrs:{header:"实名认证身份证号："}},[t("p",[e._v(e._s(e.userInfo.identity))])]),e._v(" "),e._l(e.expandUsers,(function(r,n){return t("Card",{key:n,class:4===r.type||5===r.type?"upload-demo-img":"",attrs:{header:r.name+"："}},[0===r.type||1===r.type?t("p",{staticClass:"user-details-box-extend"},[e._v(e._s(r.fieldsExt))]):e._e(),e._v(" "),3===r.type||2===r.type?t("div",[t("span",[e._v(e._s(e.extendUsers(r)))])]):e._e(),e._v(" "),4===r.type?t("div",[t("el-upload",{staticClass:"upload-demo",attrs:{"on-preview":e.handlePreview,"on-remove":e.handleRemove,"file-list":r.fieldsExt,"list-type":"picture"}})],1):e._e(),e._v(" "),5===r.type?t("div",[t("el-upload",{ref:"upload",refInFor:!0,staticClass:"upload-demo",attrs:{"on-preview":e.handlePreview,"on-remove":e.handleRemove,"file-list":r.fieldsExt,"auto-upload":!1}})],1):e._e()])})),e._v(" "),t("Card",{attrs:{header:"邀请注册："}},e._l(e.userInviteList,(function(r,n){return t("div",{key:n,staticClass:"invite-users"},[t("p",{staticClass:"invite-users-subscript"},[e._v(e._s(n+1))]),e._v(" "),t("p",{staticClass:"invite-users-head",on:{click:function(t){return e.jumpUserDetails(r.userId)}}},[t("img",{attrs:{src:r.avatarUrl?r.avatarUrl:"/static-admin/images/noavatar.gif"}})]),e._v(" "),t("p",{staticClass:"invite-users-name",on:{click:function(t){return e.jumpUserDetails(r.userId)}}},[e._v(e._s(r.nickname))]),e._v(" "),t("p",{staticClass:"invite-users-time"},[e._v(e._s(e.$dayjs(r.updatedAt).format("YYYY-MM-DD HH:mm")))])])})),0),e._v(" "),t("Card",{staticClass:"footer-btn"},[t("el-button",{attrs:{type:"primary",size:"medium"},on:{click:e.submission}},[e._v("提交")])],1)],2)},s=[]},"4d7F":function(e,t,r){e.exports={default:r("aW7e"),__esModule:!0}},"8gHz":function(e,t,r){var n=r("5K7Z"),s=r("eaoh"),a=r("UWiX")("species");e.exports=function(e,t){var r,i=n(e).constructor;return void 0===i||null==(r=n(i)[a])?t:s(r)}},D3Ub:function(e,t,r){"use strict";t.__esModule=!0;var n,s=r("4d7F"),a=(n=s)&&n.__esModule?n:{default:n};t.default=function(e){return function(){var t=e.apply(this,arguments);return new a.default((function(e,r){return function n(s,i){try{var o=t[s](i),u=o.value}catch(e){return void r(e)}if(!o.done)return a.default.resolve(u).then((function(e){n("next",e)}),(function(e){n("throw",e)}));e(u)}("next")}))}}},EXMj:function(e,t){e.exports=function(e,t,r,n){if(!(e instanceof t)||void 0!==n&&n in e)throw TypeError(r+": incorrect invocation!");return e}},"JMW+":function(e,t,r){"use strict";var n,s,a,i,o=r("uOPS"),u=r("5T2Y"),c=r("2GTP"),l=r("QMMT"),d=r("Y7ZC"),f=r("93I4"),p=r("eaoh"),h=r("EXMj"),v=r("oioR"),m=r("8gHz"),_=r("QXhf").set,g=r("q6LJ")(),x=r("ZW5q"),w=r("RDmV"),y=r("vBP9"),b=r("zXhZ"),C=u.TypeError,I=u.process,P=I&&I.versions,k=P&&P.v8||"",R=u.Promise,D="process"==l(I),E=function(){},M=s=x.f,U=!!function(){try{var e=R.resolve(1),t=(e.constructor={})[r("UWiX")("species")]=function(e){e(E,E)};return(D||"function"==typeof PromiseRejectionEvent)&&e.then(E)instanceof t&&0!==k.indexOf("6.6")&&-1===y.indexOf("Chrome/66")}catch(e){}}(),N=function(e){var t;return!(!f(e)||"function"!=typeof(t=e.then))&&t},$=function(e,t){if(!e._n){e._n=!0;var r=e._c;g((function(){for(var n=e._v,s=1==e._s,a=0,i=function(t){var r,a,i,o=s?t.ok:t.fail,u=t.resolve,c=t.reject,l=t.domain;try{o?(s||(2==e._h&&T(e),e._h=1),!0===o?r=n:(l&&l.enter(),r=o(n),l&&(l.exit(),i=!0)),r===t.promise?c(C("Promise-chain cycle")):(a=N(r))?a.call(r,u,c):u(r)):c(n)}catch(e){l&&!i&&l.exit(),c(e)}};r.length>a;)i(r[a++]);e._c=[],e._n=!1,t&&!e._h&&j(e)}))}},j=function(e){_.call(u,(function(){var t,r,n,s=e._v,a=F(e);if(a&&(t=w((function(){D?I.emit("unhandledRejection",s,e):(r=u.onunhandledrejection)?r({promise:e,reason:s}):(n=u.console)&&n.error&&n.error("Unhandled promise rejection",s)})),e._h=D||F(e)?2:1),e._a=void 0,a&&t.e)throw t.v}))},F=function(e){return 1!==e._h&&0===(e._a||e._c).length},T=function(e){_.call(u,(function(){var t;D?I.emit("rejectionHandled",e):(t=u.onrejectionhandled)&&t({promise:e,reason:e._v})}))},Y=function(e){var t=this;t._d||(t._d=!0,(t=t._w||t)._v=e,t._s=2,t._a||(t._a=t._c.slice()),$(t,!0))},S=function(e){var t,r=this;if(!r._d){r._d=!0,r=r._w||r;try{if(r===e)throw C("Promise can't be resolved itself");(t=N(e))?g((function(){var n={_w:r,_d:!1};try{t.call(e,c(S,n,1),c(Y,n,1))}catch(e){Y.call(n,e)}})):(r._v=e,r._s=1,$(r,!1))}catch(e){Y.call({_w:r,_d:!1},e)}}};U||(R=function(e){h(this,R,"Promise","_h"),p(e),n.call(this);try{e(c(S,this,1),c(Y,this,1))}catch(e){Y.call(this,e)}},(n=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=r("XJU/")(R.prototype,{then:function(e,t){var r=M(m(this,R));return r.ok="function"!=typeof e||e,r.fail="function"==typeof t&&t,r.domain=D?I.domain:void 0,this._c.push(r),this._a&&this._a.push(r),this._s&&$(this,!1),r.promise},catch:function(e){return this.then(void 0,e)}}),a=function(){var e=new n;this.promise=e,this.resolve=c(S,e,1),this.reject=c(Y,e,1)},x.f=M=function(e){return e===R||e===i?new a(e):s(e)}),d(d.G+d.W+d.F*!U,{Promise:R}),r("RfKB")(R,"Promise"),r("TJWN")("Promise"),i=r("WEpk").Promise,d(d.S+d.F*!U,"Promise",{reject:function(e){var t=M(this);return(0,t.reject)(e),t.promise}}),d(d.S+d.F*(o||!U),"Promise",{resolve:function(e){return b(o&&this===i?R:this,e)}}),d(d.S+d.F*!(U&&r("TuGD")((function(e){R.all(e).catch(E)}))),"Promise",{all:function(e){var t=this,r=M(t),n=r.resolve,s=r.reject,a=w((function(){var r=[],a=0,i=1;v(e,!1,(function(e){var o=a++,u=!1;r.push(void 0),i++,t.resolve(e).then((function(e){u||(u=!0,r[o]=e,--i||n(r))}),s)})),--i||n(r)}));return a.e&&s(a.v),r.promise},race:function(e){var t=this,r=M(t),n=r.reject,s=w((function(){v(e,!1,(function(e){t.resolve(e).then(r.resolve,n)}))}));return s.e&&n(s.v),r.promise}})},"KHd+":function(e,t,r){"use strict";function n(e,t,r,n,s,a,i,o){var u,c="function"==typeof e?e.options:e;if(t&&(c.render=t,c.staticRenderFns=r,c._compiled=!0),n&&(c.functional=!0),a&&(c._scopeId="data-v-"+a),i?(u=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),s&&s.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(i)},c._ssrRegister=u):s&&(u=o?function(){s.call(this,(c.functional?this.parent:this).$root.$options.shadowRoot)}:s),u)if(c.functional){c._injectStyles=u;var l=c.render;c.render=function(e,t){return u.call(t),l(e,t)}}else{var d=c.beforeCreate;c.beforeCreate=d?[].concat(d,u):[u]}return{exports:e,options:c}}r.d(t,"a",(function(){return n}))},MCSJ:function(e,t){e.exports=function(e,t,r){var n=void 0===r;switch(t.length){case 0:return n?e():e.call(r);case 1:return n?e(t[0]):e.call(r,t[0]);case 2:return n?e(t[0],t[1]):e.call(r,t[0],t[1]);case 3:return n?e(t[0],t[1],t[2]):e.call(r,t[0],t[1],t[2]);case 4:return n?e(t[0],t[1],t[2],t[3]):e.call(r,t[0],t[1],t[2],t[3])}return e.apply(r,t)}},"NY7+":function(e,t,r){"use strict";r.r(t);var n=r("VzSK"),s=r.n(n);for(var a in n)["default"].indexOf(a)<0&&function(e){r.d(t,e,(function(){return n[e]}))}(a);t.default=s.a},PBE1:function(e,t,r){"use strict";var n=r("Y7ZC"),s=r("WEpk"),a=r("5T2Y"),i=r("8gHz"),o=r("zXhZ");n(n.P+n.R,"Promise",{finally:function(e){var t=i(this,s.Promise||a.Promise),r="function"==typeof e;return this.then(r?function(r){return o(t,e()).then((function(){return r}))}:e,r?function(r){return o(t,e()).then((function(){throw r}))}:e)}})},"Q/yX":function(e,t,r){"use strict";var n=r("Y7ZC"),s=r("ZW5q"),a=r("RDmV");n(n.S,"Promise",{try:function(e){var t=s.f(this),r=a(e);return(r.e?t.reject:t.resolve)(r.v),t.promise}})},QXhf:function(e,t,r){var n,s,a,i=r("2GTP"),o=r("MCSJ"),u=r("MvwC"),c=r("Hsns"),l=r("5T2Y"),d=l.process,f=l.setImmediate,p=l.clearImmediate,h=l.MessageChannel,v=l.Dispatch,m=0,_={},g=function(){var e=+this;if(_.hasOwnProperty(e)){var t=_[e];delete _[e],t()}},x=function(e){g.call(e.data)};f&&p||(f=function(e){for(var t=[],r=1;arguments.length>r;)t.push(arguments[r++]);return _[++m]=function(){o("function"==typeof e?e:Function(e),t)},n(m),m},p=function(e){delete _[e]},"process"==r("a0xu")(d)?n=function(e){d.nextTick(i(g,e,1))}:v&&v.now?n=function(e){v.now(i(g,e,1))}:h?(a=(s=new h).port2,s.port1.onmessage=x,n=i(a.postMessage,a,1)):l.addEventListener&&"function"==typeof postMessage&&!l.importScripts?(n=function(e){l.postMessage(e+"","*")},l.addEventListener("message",x,!1)):n="onreadystatechange"in c("script")?function(e){u.appendChild(c("script")).onreadystatechange=function(){u.removeChild(this),g.call(e)}}:function(e){setTimeout(i(g,e,1),0)}),e.exports={set:f,clear:p}},RDmV:function(e,t){e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},TJWN:function(e,t,r){"use strict";var n=r("5T2Y"),s=r("WEpk"),a=r("2faE"),i=r("jmDH"),o=r("UWiX")("species");e.exports=function(e){var t="function"==typeof s[e]?s[e]:n[e];i&&t&&!t[o]&&a.f(t,o,{configurable:!0,get:function(){return this}})}},VzSK:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(r("QbLZ"));r("I1+7");var s=a(r("lgPP"));function a(e){return e&&e.__esModule?e:{default:e}}t.default=(0,n.default)({name:"user-details-view"},s.default)},"XJU/":function(e,t,r){var n=r("NegM");e.exports=function(e,t,r){for(var s in t)r&&e[s]?e[s]=t[s]:n(e,s,t[s]);return e}},ZW5q:function(e,t,r){"use strict";var n=r("eaoh");function s(e){var t,r;this.promise=new e((function(e,n){if(void 0!==t||void 0!==r)throw TypeError("Bad Promise constructor");t=e,r=n})),this.resolve=n(t),this.reject=n(r)}e.exports.f=function(e){return new s(e)}},aW7e:function(e,t,r){r("wgeU"),r("FlQf"),r("bBy9"),r("JMW+"),r("PBE1"),r("Q/yX"),e.exports=r("WEpk").Promise},lgPP:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=c(r("gDS+")),s=c(r("14Xm")),a=c(r("D3Ub")),i=c(r("4gYi")),o=c(r("pNQN")),u=c(r("VVfg"));function c(e){return e&&e.__esModule?e:{default:e}}t.default={data:function(){return{fileList:[],options:[],optionsList:[],imageUrl:"",userRole:"",userInfo:{},newPassword:"",wechatNickName:"",sex:"",noAdmin:!1,disabledReason:!1,oldPassword:"",confirmPassword:"",reasonsForDisable:"",realname:"",expired_at:"",userName:"",nickName:"",optionsStatus:[{value:0,label:"正常"},{value:1,label:"禁用"},{value:2,label:"审核"},{value:3,label:"审核拒绝"},{value:10,label:"待填写注册扩展信息"}],value:"",query:{},deleBtn:!1,expandUsers:[],expandDatas:[],exends:[],groupList:[],userGroupId:"",userInviteList:[],pageLimit:10,pageNum:1,total:0}},watch:{$route:{handler:function(){this.query=this.$route.query,this.getUserDetail(),this.getUserList(),this.expandInformation(),this.usersInviteList()}}},created:function(){this.query=this.$route.query,this.getUserDetail(),this.getUserList(),this.expandInformation(),this.usersInviteList()},methods:{getUserDetail:function(){var e=this;return(0,a.default)(s.default.mark((function t(){var r,n;return s.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=u.default.getLItem("tokenId"),t.next=4,e.appFetch({method:"get",url:"user_get_v3",data:{userId:e.query.id}});case 4:(n=t.sent).Code||n.Code&&0!==n.Code?e.$message.error(n.Message):(e.userInfo=n.Data,e.imageUrl=e.userInfo.avatarUrl,e.userName=e.userInfo.username,e.nickName=e.userInfo.nickname,e.expired_at=e.userInfo.expiredAt&&e.$dayjs(e.userInfo.expiredAt).format("YYYY-MM-DD HH:mm:ss"),""!=e.imageUrl&&null!=e.imageUrl&&(e.deleBtn=!0),e.reasonsForDisable=e.userInfo.banReason,e.userRole=n.Data.group.pid,e.userGroupId=n.Data.group.pid,n.isBindWechat&&(e.wechatNickName=n.Data.nickname,e.sex=n.Data.sex),r==e.userInfo.id&&(e.noAdmin=!0),1==e.userInfo.status&&(e.disabledReason=!0),""==e.userInfo.realname?e.realname=!1:e.realname=!0),t.next=10;break;case 8:t.prev=8,t.t0=t.catch(0);case 10:case"end":return t.stop()}}),t,e,[[0,8]])})))()},usersInviteList:function(){var e=this;this.appFetch({url:"users_invite_get_v3",method:"get",data:{userId:this.query.id}}).then((function(t){if(t.errors)e.$message.error(t.errors[0].code);else{if(0!==t.Code)return void e.$message.error(t.Message);e.userInviteList=t.Data.pageData}}))},expandInformation:function(){var e=this;this.appFetch({url:"signinfields_get_v3",method:"get",data:{}}).then((function(t){0===t.Code?(t.Data.forEach((function(t){1==t.status&&e.expandDatas.push(t)})),e.userExpandInformation()):e.$message.error(t.Message)}))},userExpandInformation:function(){var e=this,t=this.query.id;this.appFetch({url:"user_signinfields_get_v3",method:"get",data:{uid:t}}).then((function(t){0===t.Code?t.Data&&t.Data.length>0?t.Data.forEach((function(t,r){t.type>1&&t.fieldsExt?(t.fieldsExt=JSON.parse(t.fieldsExt),e.expandUsers.push(t)):""!==t.fieldsExt&&e.expandUsers.push(t)})):e.expandUsers=[]:e.$message.error(t.Message)}))},extendName:function(e){var t="";return this.expandDatas.forEach((function(r){e===r._data.id&&(t=r._data.name)})),t},handleRemove:function(e,t){},deleteImage:function(){var e=this;0!=this.deleBtn&&(this.imageUrl="",this.appFetch({url:"delete_avatar_post_v3",method:"post",data:{aid:this.query.id}}).then((function(t){0!==t.Code?e.$message.error(t.Message):(e.deleBtn=!1,e.$message.success("删除成功"))})))},handlePreview:function(e){},handleExceed:function(e,t){this.$message.warning("当前限制选择 3 个文件，本次选择了 "+e.length+" 个文件，共选择了 "+(e.length+t.length)+" 个文件")},beforeRemove:function(e,t){return this.MessageBox.confirm("确定移除 "+e.name+"？")},handleAvatarSuccess:function(e,t){},handleFile:function(){},beforeAvatarUpload:function(e){var t="image/jpeg"===e.type,r=e.size/1024/1024<10;return t||this.$message.error("上传头像图片只能是 JPG 格式!"),r||this.$message.error("上传头像图片大小不能超过 10MB!"),t&&r},uploaderLogo:function(e){var t=this,r=new FormData;r.append("aid",this.query.id),r.append("avatar",e.file),this.appFetch({url:"users_avatar_post_v3",method:"post",data:r}).then((function(e){if(e.errors)t.$message.error(e.errors[0].code);else{if(0!==e.Code)return void t.$message.error(e.Message);t.$message.success("上传成功"),t.imageUrl=e.Data.avatarUrl,t.deleBtn=!0}}))},submission:function(){var e=this,t=this.userInfo.originalMobile;if(""==t);else if(!/^((13|14|15|16|17|18|19)[0-9]{1}\d{8})$/.test(t))return this.$toast("您输入的手机号码不合法，请重新输入");this.userExtensionModification(),this.appFetch({url:"users_update_post_v3",method:"post",data:{id:this.query.id,newPassword:this.newPassword,mobile:t,groupId:this.userRole,status:this.userInfo.status,rejectReason:this.reasonsForDisable,expiredAt:this.expired_at,username:this.userName,nickname:this.nickName}}).then((function(t){if(t.errors)e.$message.error(t.errors[0].code);else{if(0!==t.Code)return void e.$message.error(t.Message);e.$message({message:"提交成功",type:"success"}),e.getUserDetail()}}))},getUserList:function(){var e=this;return(0,a.default)(s.default.mark((function t(){var r,n;return s.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.appFetch({method:"get",url:"groups_list_get_v3"});case 3:r=t.sent,n=r.Data,e.groupList=n,n.map((function(t){7!==t.id&&e.options.push({value:t.id,label:t.name})})),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0);case 12:case"end":return t.stop()}}),t,e,[[0,9]])})))()},userStatusChange:function(e){this.disabledReason=1==e,1!=e&&(this.reasonsForDisable="")},extendUsers:function(e){var t="";return e.fieldsExt.options?e.fieldsExt.options.forEach((function(e){e.checked&&(t+=e.value+" ")})):e.fieldsExt.forEach((function(e){e.checked&&(t+=e.value+" ")})),t},userExtensionModification:function(){var e=this;this.exends=[],this.expandUsers.forEach((function(t){var r={type:"user_sign_in",attributes:{aid:t.aid,fieldsDesc:t.fieldsDesc,id:t.id,remark:"",status:t.status,type:t.type,userId:t.userId}};t.type>1&&t.fieldsExt?(r.attributes.fieldsExt=(0,n.default)(t.fieldsExt),e.exends.push(r)):(r.attributes.fieldsExt=t.fieldsExt,e.exends.push(r))}))},modificationUsers:function(e){var t=this,r=this.query.id;this.appFetch({url:"userSigninfields",method:"post",splice:"/"+r,data:{data:e}}).then((function(e){0===e.Code||t.$message.error(e.Message)}))},groupSwitch:function(e){var t=this,r="",n="";if(this.groupList.forEach((function(s){e===s.id&&(r=s.isPaid),t.userGroupId===s.id&&(n=s.isPaid)})),0===n&&0===r&&(this.userRole=e),1===n&&0===r){this.open("移入新用户组后，原用户组的付费信息全部失效。",e)}if(1===n&&1===r){this.open("移入新用户组后，原用户组的付费信息全部失效。",e)}if(0===n&&1===r){this.open("移入新用户组后，用户将享受付费权益。",e)}},open:function(e,t){var r=this;this.$confirm(e,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",lockScroll:!1}).then((function(){r.userRole=t})).catch((function(){r.userRole=r.userRole}))},jumpUserDetails:function(e){this.$router.push({path:"/admin/user-details",query:{id:e}})}},components:{Card:i.default,CardRow:o.default}}},oioR:function(e,t,r){var n=r("2GTP"),s=r("sNwI"),a=r("NwJ3"),i=r("5K7Z"),o=r("tEej"),u=r("fNZA"),c={},l={};(t=e.exports=function(e,t,r,d,f){var p,h,v,m,_=f?function(){return e}:u(e),g=n(r,d,t?2:1),x=0;if("function"!=typeof _)throw TypeError(e+" is not iterable!");if(a(_)){for(p=o(e.length);p>x;x++)if((m=t?g(i(h=e[x])[0],h[1]):g(e[x]))===c||m===l)return m}else for(v=_.call(e);!(h=v.next()).done;)if((m=s(v,g,h.value,t))===c||m===l)return m}).BREAK=c,t.RETURN=l},q6LJ:function(e,t,r){var n=r("5T2Y"),s=r("QXhf").set,a=n.MutationObserver||n.WebKitMutationObserver,i=n.process,o=n.Promise,u="process"==r("a0xu")(i);e.exports=function(){var e,t,r,c=function(){var n,s;for(u&&(n=i.domain)&&n.exit();e;){s=e.fn,e=e.next;try{s()}catch(n){throw e?r():t=void 0,n}}t=void 0,n&&n.enter()};if(u)r=function(){i.nextTick(c)};else if(!a||n.navigator&&n.navigator.standalone)if(o&&o.resolve){var l=o.resolve(void 0);r=function(){l.then(c)}}else r=function(){s.call(n,c)};else{var d=!0,f=document.createTextNode("");new a(c).observe(f,{characterData:!0}),r=function(){f.data=d=!d}}return function(n){var s={fn:n,next:void 0};t&&(t.next=s),e||(e=s,r()),t=s}}},u938:function(e,t,r){var n=function(){return this}()||Function("return this")(),s=n.regeneratorRuntime&&Object.getOwnPropertyNames(n).indexOf("regeneratorRuntime")>=0,a=s&&n.regeneratorRuntime;if(n.regeneratorRuntime=void 0,e.exports=r("ls82"),s)n.regeneratorRuntime=a;else try{delete n.regeneratorRuntime}catch(e){n.regeneratorRuntime=void 0}},vBP9:function(e,t,r){var n=r("5T2Y").navigator;e.exports=n&&n.userAgent||""},zXhZ:function(e,t,r){var n=r("5K7Z"),s=r("93I4"),a=r("ZW5q");e.exports=function(e,t){if(n(e),s(t)&&t.constructor===e)return t;var r=a.f(e);return(0,r.resolve)(t),r.promise}}}]);