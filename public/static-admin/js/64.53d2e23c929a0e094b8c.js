(window.webpackJsonp=window.webpackJsonp||[]).push([[64],{"7XSP":function(e,t,s){"use strict";s.r(t);var a=s("YLNe"),n=s.n(a);for(var i in a)["default"].indexOf(i)<0&&function(e){s.d(t,e,(function(){return a[e]}))}(i);t.default=n.a},GU3S:function(e,t,s){"use strict";s.r(t);var a=s("RHxg"),n=s("7XSP");for(var i in n)["default"].indexOf(i)<0&&function(e){s.d(t,e,(function(){return n[e]}))}(i);var o=s("KHd+"),c=Object(o.a)(n.default,a.a,a.b,!1,null,null,null);t.default=c.exports},RHxg:function(e,t,s){"use strict";s.d(t,"a",(function(){return a})),s.d(t,"b",(function(){return n}));var a=function(){var e=this,t=e._self._c;return t("div",{staticClass:"config-cdn"},[t("Card",{staticClass:"config-cdn-title"},[t("span",{staticClass:"config-cdn-title__left"},[e._v("CDN配置")]),e._v(" "),t("span",[e._v("如需更改更多配置项请进入腾讯云"),t("a",{attrs:{href:"https://console.cloud.tencent.com/cdn",target:"_blank"}},[e._v("CDN控制台")])])]),e._v(" "),t("Card",{staticClass:"config-cdn-domain"},[t("span",{staticClass:"config-cdn-domain__name"},[e._v(" 加速域名 ")]),e._v(" "),t("el-input",{staticClass:"elinput",staticStyle:{height:"36px",width:"200px"},attrs:{size:"small"},model:{value:e.accelerateData,callback:function(t){e.accelerateData=t},expression:"accelerateData"}})],1),e._v(" "),t("Card",{staticClass:"config-cdn-address"},[t("p",{staticClass:"config-cdn-address__text"},[e._v("源站地址")]),e._v(" "),t("div",{staticClass:"config-cdn-address__box"},[t("el-input",{staticClass:"config-cdn-address__input",attrs:{type:"textarea",rows:2,placeholder:"请输入内容"},model:{value:e.originAddress,callback:function(t){e.originAddress=t},expression:"originAddress"}}),e._v(" "),t("div",[t("p",{staticClass:"config-cdn-address__lower"},[e._v("\n          支持填充多个IP源站（一行一个）或一个域名源站\n        ")]),e._v(" "),t("p",{staticClass:"config-cdn-address__lower"},[e._v("\n          支持增加配置端口（0-65535）和权重（1-100）: 源站:端口:权重（端口可缺省：源站:权重）\n        ")]),e._v(" "),t("p",{staticClass:"config-cdn-address__lower"},[e._v("\n          若选择HTTPS回源，端口仅可配置为443或不配置端口\n        ")]),e._v(" "),t("p",{staticClass:"config-cdn-address__lower"},[e._v("\n          最多可填充511个字符\n        ")])])],1)]),e._v(" "),t("Card",{staticClass:"config-cdn-domain"},[t("span",{staticClass:"config-cdn-domain__name"},[e._v(" 回源HOST ")]),e._v(" "),t("el-input",{staticClass:"elinput",staticStyle:{height:"36px",width:"400px"},attrs:{size:"small"},model:{value:e.sourceHost,callback:function(t){e.sourceHost=t},expression:"sourceHost"}})],1),e._v(" "),t("Card",{staticClass:"config-cdn-domain"},[t("span",{staticClass:"config-cdn-domain__name"},[e._v(" 主域名 ")]),e._v(" "),t("el-input",{staticClass:"elinput",staticStyle:{height:"36px",width:"400px"},attrs:{size:"small"},model:{value:e.mainDomain,callback:function(t){e.mainDomain=t},expression:"mainDomain"}})],1),e._v(" "),t("Card",{staticClass:"register-option-btn"},[t("el-button",{attrs:{type:"primary",loading:e.subLoading,size:"medium"},on:{click:e.submitClick}},[e._v("提交")]),e._v(" "),t("el-button",{attrs:{type:"primary",size:"medium",loading:e.purgeCdnLoading},on:{click:e.purgeCdnClick}},[e._v("清除缓存")])],1)],1)},n=[]},YLNe:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i(s("QbLZ"));s("lpfh");var n=i(s("toWc"));function i(e){return e&&e.__esModule?e:{default:e}}t.default=(0,a.default)({name:"tencent-cloud-config-cloud-view"},n.default)},toWc:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i(s("4gYi")),n=i(s("pNQN"));function i(e){return e&&e.__esModule?e:{default:e}}t.default={data:function(){return{accelerateData:"",originAddress:"",sourceHost:"",subLoading:!1,mainDomain:"",purgeCdnLoading:!1}},created:function(){this.tencentCloudList()},methods:{tencentCloudList:function(){var e=this;this.appFetch({url:"forum_get_v3",method:"get",data:{}}).then((function(t){if(t.errors)e.$message.error(t.errors[0].code);else{if(0!==t.Code)return void e.$message.error(t.Message);var s=t.Data;e.accelerateData=s.qcloud.qcloudCdnSpeedDomain,e.mainDomain=s.qcloud.qcloudCdnMainDomain;var a=s.qcloud.qcloudCdnOrigins||[],n="";a.forEach((function(e){n+=e+"\n"})),e.originAddress=n,e.sourceHost=s.qcloud.qcloudCdnServerName}}))},submitClick:function(){var e=this;this.subLoading=!0;var t=[];if(this.originAddress)for(var s=this.originAddress.split(/\n/),a=0;a<s.length;a++)""!==s[a].trim()&&t.push(s[a].trim());this.appFetch({url:"settings_post_v3",method:"post",data:{data:[{key:"qcloud_cdn_speed_domain",value:this.accelerateData,tag:"qcloud"},{key:"qcloud_cdn_origins",value:t,tag:"qcloud"},{key:"qcloud_cdn_server_name",value:this.sourceHost,tag:"qcloud"},{key:"qcloud_cdn_main_domain",value:this.mainDomain,tag:"qcloud"}]}}).then((function(t){if(e.subLoading=!1,t.errors)e.$message.error(t.errors[0].code);else{if(0!==t.Code)return void e.$message.error(t.Message);e.$message({message:"提交成功",type:"success"}),e.tencentCloudList()}})).catch((function(t){e.subLoading=!1,e.$message({showClose:!0,message:t})}))},purgeCdnClick:function(){var e=this;this.purgeCdnLoading=!0,this.appFetch({url:"purge_cdn_get_v3",method:"get",data:{}}).then((function(t){if(e.purgeCdnLoading=!1,t.errors)e.$message.error(t.errors[0].code);else{if(0!==t.Code)return void e.$message.error(t.Message);e.$message({message:"cdn缓存清除完毕",type:"success"})}})).catch((function(t){e.purgeCdnLoading=!1,e.$message({showClose:!0,message:t})}))}},components:{Card:a.default,CardRow:n.default}}}}]);